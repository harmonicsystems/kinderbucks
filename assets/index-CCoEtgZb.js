(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function xx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ef={exports:{}},rl={},tf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Ax(){if(fv)return Re;fv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function R(U,J,xe){this.props=U,this.context=J,this.refs=P,this.updater=xe||S}R.prototype.isReactComponent={},R.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=R.prototype;function F(U,J,xe){this.props=U,this.context=J,this.refs=P,this.updater=xe||S}var M=F.prototype=new $;M.constructor=F,I(M,R.prototype),M.isPureReactComponent=!0;var X=Array.isArray,Z=Object.prototype.hasOwnProperty,oe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(U,J,xe){var Ae,Ve={},De=null,$e=null;if(J!=null)for(Ae in J.ref!==void 0&&($e=J.ref),J.key!==void 0&&(De=""+J.key),J)Z.call(J,Ae)&&!N.hasOwnProperty(Ae)&&(Ve[Ae]=J[Ae]);var Fe=arguments.length-2;if(Fe===1)Ve.children=xe;else if(1<Fe){for(var Ke=Array(Fe),Xt=0;Xt<Fe;Xt++)Ke[Xt]=arguments[Xt+2];Ve.children=Ke}if(U&&U.defaultProps)for(Ae in Fe=U.defaultProps,Fe)Ve[Ae]===void 0&&(Ve[Ae]=Fe[Ae]);return{$$typeof:t,type:U,key:De,ref:$e,props:Ve,_owner:oe.current}}function k(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function b(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return J[xe]})}var z=/\/+/g;function D(U,J){return typeof U=="object"&&U!==null&&U.key!=null?b(""+U.key):J.toString(36)}function Pe(U,J,xe,Ae,Ve){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(De){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case t:case e:$e=!0}}if($e)return $e=U,Ve=Ve($e),U=Ae===""?"."+D($e,0):Ae,X(Ve)?(xe="",U!=null&&(xe=U.replace(z,"$&/")+"/"),Pe(Ve,J,xe,"",function(Xt){return Xt})):Ve!=null&&(L(Ve)&&(Ve=k(Ve,xe+(!Ve.key||$e&&$e.key===Ve.key?"":(""+Ve.key).replace(z,"$&/")+"/")+U)),J.push(Ve)),1;if($e=0,Ae=Ae===""?".":Ae+":",X(U))for(var Fe=0;Fe<U.length;Fe++){De=U[Fe];var Ke=Ae+D(De,Fe);$e+=Pe(De,J,xe,Ke,Ve)}else if(Ke=w(U),typeof Ke=="function")for(U=Ke.call(U),Fe=0;!(De=U.next()).done;)De=De.value,Ke=Ae+D(De,Fe++),$e+=Pe(De,J,xe,Ke,Ve);else if(De==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ue(U,J,xe){if(U==null)return U;var Ae=[],Ve=0;return Pe(U,Ae,"","",function(De){return J.call(xe,De,Ve++)}),Ae}function yt(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Ee={current:null},re={transition:null},fe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ue,forEach:function(U,J,xe){Ue(U,function(){J.apply(this,arguments)},xe)},count:function(U){var J=0;return Ue(U,function(){J++}),J},toArray:function(U){return Ue(U,function(J){return J})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=R,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=F,Re.StrictMode=i,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(U,J,xe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=I({},U.props),Ve=U.key,De=U.ref,$e=U._owner;if(J!=null){if(J.ref!==void 0&&(De=J.ref,$e=oe.current),J.key!==void 0&&(Ve=""+J.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(Ke in J)Z.call(J,Ke)&&!N.hasOwnProperty(Ke)&&(Ae[Ke]=J[Ke]===void 0&&Fe!==void 0?Fe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=xe;else if(1<Ke){Fe=Array(Ke);for(var Xt=0;Xt<Ke;Xt++)Fe[Xt]=arguments[Xt+2];Ae.children=Fe}return{$$typeof:t,type:U.type,key:Ve,ref:De,props:Ae,_owner:$e}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=C,Re.createFactory=function(U){var J=C.bind(null,U);return J.type=U,J},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:f,render:U}},Re.isValidElement=L,Re.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:yt}},Re.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},Re.startTransition=function(U){var J=re.transition;re.transition={};try{U()}finally{re.transition=J}},Re.unstable_act=ae,Re.useCallback=function(U,J){return Ee.current.useCallback(U,J)},Re.useContext=function(U){return Ee.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Ee.current.useDeferredValue(U)},Re.useEffect=function(U,J){return Ee.current.useEffect(U,J)},Re.useId=function(){return Ee.current.useId()},Re.useImperativeHandle=function(U,J,xe){return Ee.current.useImperativeHandle(U,J,xe)},Re.useInsertionEffect=function(U,J){return Ee.current.useInsertionEffect(U,J)},Re.useLayoutEffect=function(U,J){return Ee.current.useLayoutEffect(U,J)},Re.useMemo=function(U,J){return Ee.current.useMemo(U,J)},Re.useReducer=function(U,J,xe){return Ee.current.useReducer(U,J,xe)},Re.useRef=function(U){return Ee.current.useRef(U)},Re.useState=function(U){return Ee.current.useState(U)},Re.useSyncExternalStore=function(U,J,xe){return Ee.current.useSyncExternalStore(U,J,xe)},Re.useTransition=function(){return Ee.current.useTransition()},Re.version="18.3.1",Re}var pv;function Vp(){return pv||(pv=1,tf.exports=Ax()),tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function Cx(){if(mv)return rl;mv=1;var t=Vp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,p){var m,y={},w=null,S=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)i.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(f&&f.defaultProps)for(m in d=f.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:f,key:w,ref:S,props:y,_owner:o.current}}return rl.Fragment=n,rl.jsx=u,rl.jsxs=u,rl}var gv;function Ix(){return gv||(gv=1,ef.exports=Cx()),ef.exports}var x=Ix(),j=Vp();const Rt=xx(j);var gc={},nf={exports:{}},cn={},rf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Rx(){return yv||(yv=1,(function(t){function e(re,fe){var ae=re.length;re.push(fe);e:for(;0<ae;){var U=ae-1>>>1,J=re[U];if(0<o(J,fe))re[U]=fe,re[ae]=J,ae=U;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var fe=re[0],ae=re.pop();if(ae!==fe){re[0]=ae;e:for(var U=0,J=re.length,xe=J>>>1;U<xe;){var Ae=2*(U+1)-1,Ve=re[Ae],De=Ae+1,$e=re[De];if(0>o(Ve,ae))De<J&&0>o($e,Ve)?(re[U]=$e,re[De]=ae,U=De):(re[U]=Ve,re[Ae]=ae,U=Ae);else if(De<J&&0>o($e,ae))re[U]=$e,re[De]=ae,U=De;else break e}}return fe}function o(re,fe){var ae=re.sortIndex-fe.sortIndex;return ae!==0?ae:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],m=1,y=null,w=3,S=!1,I=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(re){for(var fe=n(p);fe!==null;){if(fe.callback===null)i(p);else if(fe.startTime<=re)i(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(p)}}function X(re){if(P=!1,M(re),!I)if(n(d)!==null)I=!0,yt(Z);else{var fe=n(p);fe!==null&&Ee(X,fe.startTime-re)}}function Z(re,fe){I=!1,P&&(P=!1,$(C),C=-1),S=!0;var ae=w;try{for(M(fe),y=n(d);y!==null&&(!(y.expirationTime>fe)||re&&!b());){var U=y.callback;if(typeof U=="function"){y.callback=null,w=y.priorityLevel;var J=U(y.expirationTime<=fe);fe=t.unstable_now(),typeof J=="function"?y.callback=J:y===n(d)&&i(d),M(fe)}else i(d);y=n(d)}if(y!==null)var xe=!0;else{var Ae=n(p);Ae!==null&&Ee(X,Ae.startTime-fe),xe=!1}return xe}finally{y=null,w=ae,S=!1}}var oe=!1,N=null,C=-1,k=5,L=-1;function b(){return!(t.unstable_now()-L<k)}function z(){if(N!==null){var re=t.unstable_now();L=re;var fe=!0;try{fe=N(!0,re)}finally{fe?D():(oe=!1,N=null)}}else oe=!1}var D;if(typeof F=="function")D=function(){F(z)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ue=Pe.port2;Pe.port1.onmessage=z,D=function(){Ue.postMessage(null)}}else D=function(){R(z,0)};function yt(re){N=re,oe||(oe=!0,D())}function Ee(re,fe){C=R(function(){re(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||S||(I=!0,yt(Z))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return re()}finally{w=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=w;w=re;try{return fe()}finally{w=ae}},t.unstable_scheduleCallback=function(re,fe,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,re={id:m++,callback:fe,priorityLevel:re,startTime:ae,expirationTime:J,sortIndex:-1},ae>U?(re.sortIndex=ae,e(p,re),n(d)===null&&re===n(p)&&(P?($(C),C=-1):P=!0,Ee(X,ae-U))):(re.sortIndex=J,e(d,re),I||S||(I=!0,yt(Z))),re},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(re){var fe=w;return function(){var ae=w;w=fe;try{return re.apply(this,arguments)}finally{w=ae}}}})(sf)),sf}var vv;function Px(){return vv||(vv=1,rf.exports=Rx()),rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function kx(){if(_v)return cn;_v=1;var t=Vp(),e=Px();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(r){return d.call(y,r)?!0:d.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function S(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function I(r,s,l,h){if(s===null||typeof s>"u"||S(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(r,s,l,h,g,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new P(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace($,F);R[s]=new P(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace($,F);R[s]=new P(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace($,F);R[s]=new P(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,s,l,h){var g=R.hasOwnProperty(s)?R[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(I(s,l,g,h)&&(l=null),h||g===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,h=g.attributeNamespace,l===null?r.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),oe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),b=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,U;function J(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var xe=!1;function Ae(r,s){if(!r||xe)return"";xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),v=h.stack.split(`
`),T=g.length-1,V=v.length-1;1<=T&&0<=V&&g[T]!==v[V];)V--;for(;1<=T&&0<=V;T--,V--)if(g[T]!==v[V]){if(T!==1||V!==1)do if(T--,V--,0>V||g[T]!==v[V]){var O=`
`+g[T].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=T&&0<=V);break}}}finally{xe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Ve(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case oe:return"Portal";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case Pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case z:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ue:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case yt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xt(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function js(r){r._valueTracker||(r._valueTracker=Xt(r))}function ua(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ti(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Bs(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function tu(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Us(r,s){s=s.checked,s!=null&&M(r,"checked",s,!1)}function Xi(r,s){Us(r,s);var l=Fe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?vt(r,s.type,l):s.hasOwnProperty("defaultValue")&&vt(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ca(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function vt(r,s,l){(s!=="number"||ti(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var dt=Array.isArray;function On(r,s,l,h){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function ha(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function da(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(dt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Fe(l)}}function nu(r,s){var l=Fe(s.value),h=Fe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function ni(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function fa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zs(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?fa(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ri,ru=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,g){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,g)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ri.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ji(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iu=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(r){iu.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ii[s]=ii[r]})});function si(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ii.hasOwnProperty(r)&&ii[r]?(""+s).trim():s+"px"}function $s(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=si(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,g):r[l]=g}}var pa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(r,s){if(s){if(pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Ws(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cr=null,Ir=null,lt=null;function ma(r){if(r=za(r)){if(typeof Cr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Vu(s),Cr(r.stateNode,r.type,s))}}function ai(r){Ir?lt?lt.push(r):lt=[r]:Ir=r}function li(){if(Ir){var r=Ir,s=lt;if(lt=Ir=null,ma(r),s)for(r=0;r<s.length;r++)ma(s[r])}}function su(r,s){return r(s)}function ou(){}var Zn=!1;function au(r,s,l){if(Zn)return r(s,l);Zn=!0;try{return su(r,s,l)}finally{Zn=!1,(Ir!==null||lt!==null)&&(ou(),li())}}function Zi(r,s){var l=r.stateNode;if(l===null)return null;var h=Vu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ui=!1;if(f)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){ui=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{ui=!1}function lu(r,s,l,h,g,v,T,V,O){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var Rr=!1,er=null,Ks=!1,Sn=null,uu={onError:function(r){Rr=!0,er=r}};function cu(r,s,l,h,g,v,T,V,O){Rr=!1,er=null,lu.apply(uu,arguments)}function ga(r,s,l,h,g,v,T,V,O){if(cu.apply(this,arguments),Rr){if(Rr){var G=er;Rr=!1,er=null}else throw Error(n(198));Ks||(Ks=!0,Sn=G)}}function jn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ya(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function hu(r){if(jn(r)!==r)throw Error(n(188))}function du(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return hu(g),r;if(v===h)return hu(g),s;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=g,h=v;else{for(var T=!1,V=g.child;V;){if(V===l){T=!0,l=g,h=v;break}if(V===h){T=!0,h=g,l=v;break}V=V.sibling}if(!T){for(V=v.child;V;){if(V===l){T=!0,l=v,h=g;break}if(V===h){T=!0,h=v,l=g;break}V=V.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function fu(r){return r=du(r),r!==null?es(r):null}function es(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=es(r);if(s!==null)return s;r=r.sibling}return null}var va=e.unstable_scheduleCallback,Gs=e.unstable_cancelCallback,ts=e.unstable_shouldYield,Pr=e.unstable_requestPaint,Xe=e.unstable_now,Vh=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,_a=e.unstable_UserBlockingPriority,ns=e.unstable_NormalPriority,wa=e.unstable_LowPriority,Qs=e.unstable_IdlePriority,rs=null,fn=null;function pu(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:is,tr=Math.log,xn=Math.LN2;function is(r){return r>>>=0,r===0?32:31-(tr(r)/xn|0)|0}var nr=64,hi=4194304;function ze(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function kr(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,g=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var V=T&~g;V!==0?h=ze(V):(v&=T,v!==0&&(h=ze(v)))}else T=l&~g,T!==0?h=ze(T):v!==0&&(h=ze(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,v=s&-s,g>=v||g===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-pn(s),g=1<<l,h|=r[l],s&=~g;return h}function ss(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-pn(v),V=1<<T,O=g[T];O===-1?((V&l)===0||(V&h)!==0)&&(g[T]=ss(V,s)):O<=s&&(r.expiredLanes|=V),v&=~V}}function Ea(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ta(){var r=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),r}function Sa(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function as(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-pn(s),r[s]=l}function Dh(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-pn(l),v=1<<g;s[g]=0,h[g]=-1,r[g]=-1,l&=~v}}function xa(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-pn(l),g=1<<h;g&s|r[h]&s&&(r[h]|=s),l&=~g}}var Me=0;function rr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Aa,Ys,Ca,Ia,Ra,ir=!1,Xs=[],sr=null,or=null,bt=null,ls=new Map,Vr=new Map,mn=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function di(r,s){switch(r){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":ls.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(s.pointerId)}}function Bn(r,s,l,h,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},s!==null&&(s=za(s),s!==null&&Ys(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function gu(r,s,l,h,g){switch(s){case"focusin":return sr=Bn(sr,r,s,l,h,g),!0;case"dragenter":return or=Bn(or,r,s,l,h,g),!0;case"mouseover":return bt=Bn(bt,r,s,l,h,g),!0;case"pointerover":var v=g.pointerId;return ls.set(v,Bn(ls.get(v)||null,r,s,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Vr.set(v,Bn(Vr.get(v)||null,r,s,l,h,g)),!0}return!1}function Js(r){var s=ds(r.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=ya(l),s!==null){r.blockedOn=s,Ra(r.priority,function(){Ca(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ge(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Zs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);oi=h,l.target.dispatchEvent(h),oi=null}else return s=za(l),s!==null&&Ys(s),r.blockedOn=l,!1;s.shift()}return!0}function yu(r,s,l){Ge(r)&&l.delete(s)}function Nh(){ir=!1,sr!==null&&Ge(sr)&&(sr=null),or!==null&&Ge(or)&&(or=null),bt!==null&&Ge(bt)&&(bt=null),ls.forEach(yu),Vr.forEach(yu)}function fi(r,s){r.blockedOn===s&&(r.blockedOn=null,ir||(ir=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nh)))}function pi(r){function s(g){return fi(g,r)}if(0<Xs.length){fi(Xs[0],r);for(var l=1;l<Xs.length;l++){var h=Xs[l];h.blockedOn===r&&(h.blockedOn=null)}}for(sr!==null&&fi(sr,r),or!==null&&fi(or,r),bt!==null&&fi(bt,r),ls.forEach(s),Vr.forEach(s),l=0;l<mn.length;l++)h=mn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<mn.length&&(l=mn[0],l.blockedOn===null);)Js(l),l.blockedOn===null&&mn.shift()}var Dr=X.ReactCurrentBatchConfig,Nr=!0;function ar(r,s,l,h){var g=Me,v=Dr.transition;Dr.transition=null;try{Me=1,Pa(r,s,l,h)}finally{Me=g,Dr.transition=v}}function vu(r,s,l,h){var g=Me,v=Dr.transition;Dr.transition=null;try{Me=4,Pa(r,s,l,h)}finally{Me=g,Dr.transition=v}}function Pa(r,s,l,h){if(Nr){var g=Zs(r,s,l,h);if(g===null)Wh(r,s,h,lr,l),di(r,h);else if(gu(g,r,s,l,h))h.stopPropagation();else if(di(r,h),s&4&&-1<mu.indexOf(r)){for(;g!==null;){var v=za(g);if(v!==null&&Aa(v),v=Zs(r,s,l,h),v===null&&Wh(r,s,h,lr,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Wh(r,s,h,null,l)}}var lr=null;function Zs(r,s,l,h){if(lr=null,r=Hs(h),r=ds(r),r!==null)if(s=jn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ya(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return lr=r,null}function eo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vh()){case qs:return 1;case _a:return 4;case ns:case wa:return 16;case Qs:return 536870912;default:return 16}default:return 16}}var gn=null,to=null,br=null;function _u(){if(br)return br;var r,s=to,l=s.length,h,g="value"in gn?gn.value:gn.textContent,v=g.length;for(r=0;r<l&&s[r]===g[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===g[v-h];h++);return br=g.slice(r,1<h?1-h:void 0)}function us(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ur(){return!0}function ka(){return!1}function zt(r){function s(l,h,g,v,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(l=r[V],this[V]=l?l(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ur:ka,this.isPropagationStopped=ka,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=zt(cr),mi=ae({},cr,{view:0,detail:0}),no=zt(mi),ro,io,yn,hs=ae({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yn&&(yn&&r.type==="mousemove"?(ro=r.screenX-yn.screenX,io=r.screenY-yn.screenY):io=ro=0,yn=r),ro)},movementY:function(r){return"movementY"in r?r.movementY:io}}),Va=zt(hs),wu=ae({},hs,{dataTransfer:0}),Eu=zt(wu),so=ae({},mi,{relatedTarget:0}),Mt=zt(so),Tu=ae({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=zt(Tu),gi=ae({},cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=zt(gi),_=ae({},cr,{data:0}),E=zt(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=q[r])?!!s[r]:!1}function Ce(){return se}var ft=ae({},mi,{key:function(r){if(r.key){var s=A[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=us(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?H[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?us(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?us(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),He=zt(ft),_t=ae({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=zt(_t),Mr=ae({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),hr=zt(Mr),dr=ae({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),oo=zt(dr),Da=ae({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=zt(Da),_S=[9,13,27,32],bh=f&&"CompositionEvent"in window,Na=null;f&&"documentMode"in document&&(Na=document.documentMode);var wS=f&&"TextEvent"in window&&!Na,sg=f&&(!bh||Na&&8<Na&&11>=Na),og=" ",ag=!1;function lg(r,s){switch(r){case"keyup":return _S.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ug(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function ES(r,s){switch(r){case"compositionend":return ug(s);case"keypress":return s.which!==32?null:(ag=!0,og);case"textInput":return r=s.data,r===og&&ag?null:r;default:return null}}function TS(r,s){if(ao)return r==="compositionend"||!bh&&lg(r,s)?(r=_u(),br=to=gn=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sg&&s.locale!=="ko"?null:s.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!SS[r.type]:s==="textarea"}function hg(r,s,l,h){ai(h),s=Ru(s,"onChange"),0<s.length&&(l=new cs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ba=null,Ma=null;function xS(r){Pg(r,0)}function xu(r){var s=fo(r);if(ua(s))return r}function AS(r,s){if(r==="change")return s}var dg=!1;if(f){var Mh;if(f){var Lh="oninput"in document;if(!Lh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Lh=typeof fg.oninput=="function"}Mh=Lh}else Mh=!1;dg=Mh&&(!document.documentMode||9<document.documentMode)}function pg(){ba&&(ba.detachEvent("onpropertychange",mg),Ma=ba=null)}function mg(r){if(r.propertyName==="value"&&xu(Ma)){var s=[];hg(s,Ma,r,Hs(r)),au(xS,s)}}function CS(r,s,l){r==="focusin"?(pg(),ba=s,Ma=l,ba.attachEvent("onpropertychange",mg)):r==="focusout"&&pg()}function IS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu(Ma)}function RS(r,s){if(r==="click")return xu(s)}function PS(r,s){if(r==="input"||r==="change")return xu(s)}function kS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:kS;function La(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!d.call(s,g)||!Un(r[g],s[g]))return!1}return!0}function gg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function yg(r,s){var l=gg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gg(l)}}function vg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function _g(){for(var r=window,s=ti();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ti(r.document)}return s}function Oh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function VS(r){var s=_g(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&vg(l.ownerDocument.documentElement,l)){if(h!==null&&Oh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!r.extend&&v>h&&(g=h,h=v,v=g),g=yg(l,v);var T=yg(l,h);g&&T&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),r.removeAllRanges(),v>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var DS=f&&"documentMode"in document&&11>=document.documentMode,lo=null,Fh=null,Oa=null,jh=!1;function wg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jh||lo==null||lo!==ti(h)||(h=lo,"selectionStart"in h&&Oh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oa&&La(Oa,h)||(Oa=h,h=Ru(Fh,"onSelect"),0<h.length&&(s=new cs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=lo)))}function Au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var uo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Bh={},Eg={};f&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Cu(r){if(Bh[r])return Bh[r];if(!uo[r])return r;var s=uo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Eg)return Bh[r]=s[l];return r}var Tg=Cu("animationend"),Sg=Cu("animationiteration"),xg=Cu("animationstart"),Ag=Cu("transitionend"),Cg=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(r,s){Cg.set(r,s),a(s,[r])}for(var Uh=0;Uh<Ig.length;Uh++){var zh=Ig[Uh],NS=zh.toLowerCase(),bS=zh[0].toUpperCase()+zh.slice(1);yi(NS,"on"+bS)}yi(Tg,"onAnimationEnd"),yi(Sg,"onAnimationIteration"),yi(xg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Ag,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Rg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,ga(h,s,void 0,r),r.currentTarget=null}function Pg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var V=h[T],O=V.instance,G=V.currentTarget;if(V=V.listener,O!==v&&g.isPropagationStopped())break e;Rg(g,V,G),v=O}else for(T=0;T<h.length;T++){if(V=h[T],O=V.instance,G=V.currentTarget,V=V.listener,O!==v&&g.isPropagationStopped())break e;Rg(g,V,G),v=O}}}if(Ks)throw r=Sn,Ks=!1,Sn=null,r}function Je(r,s){var l=s[Yh];l===void 0&&(l=s[Yh]=new Set);var h=r+"__bubble";l.has(h)||(kg(s,r,2,!1),l.add(h))}function $h(r,s,l){var h=0;s&&(h|=4),kg(l,r,h,s)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ja(r){if(!r[Iu]){r[Iu]=!0,i.forEach(function(l){l!=="selectionchange"&&(MS.has(l)||$h(l,!1,r),$h(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Iu]||(s[Iu]=!0,$h("selectionchange",!1,s))}}function kg(r,s,l,h){switch(eo(s)){case 1:var g=ar;break;case 4:g=vu;break;default:g=Pa}l=g.bind(null,s,l,r),g=void 0,!ui||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function Wh(r,s,l,h,g){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var V=h.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;T=T.return}for(;V!==null;){if(T=ds(V),T===null)return;if(O=T.tag,O===5||O===6){h=v=T;continue e}V=V.parentNode}}h=h.return}au(function(){var G=v,te=Hs(l),ne=[];e:{var ee=Cg.get(r);if(ee!==void 0){var ue=cs,pe=r;switch(r){case"keypress":if(us(l)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":pe="focus",ue=Mt;break;case"focusout":pe="blur",ue=Mt;break;case"beforeblur":case"afterblur":ue=Mt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=hr;break;case Tg:case Sg:case xg:ue=Su;break;case Ag:ue=oo;break;case"scroll":ue=no;break;case"wheel":ue=vS;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=vn}var me=(s&4)!==0,pt=!me&&r==="scroll",W=me?ee!==null?ee+"Capture":null:ee;me=[];for(var B=G,K;B!==null;){K=B;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,W!==null&&(ie=Zi(B,W),ie!=null&&me.push(Ba(B,ie,K)))),pt)break;B=B.return}0<me.length&&(ee=new ue(ee,pe,null,l,te),ne.push({event:ee,listeners:me}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==oi&&(pe=l.relatedTarget||l.fromElement)&&(ds(pe)||pe[Lr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(pe=l.relatedTarget||l.toElement,ue=G,pe=pe?ds(pe):null,pe!==null&&(pt=jn(pe),pe!==pt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=G),ue!==pe)){if(me=Va,ie="onMouseLeave",W="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(me=vn,ie="onPointerLeave",W="onPointerEnter",B="pointer"),pt=ue==null?ee:fo(ue),K=pe==null?ee:fo(pe),ee=new me(ie,B+"leave",ue,l,te),ee.target=pt,ee.relatedTarget=K,ie=null,ds(te)===G&&(me=new me(W,B+"enter",pe,l,te),me.target=K,me.relatedTarget=pt,ie=me),pt=ie,ue&&pe)t:{for(me=ue,W=pe,B=0,K=me;K;K=co(K))B++;for(K=0,ie=W;ie;ie=co(ie))K++;for(;0<B-K;)me=co(me),B--;for(;0<K-B;)W=co(W),K--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=co(me),W=co(W)}me=null}else me=null;ue!==null&&Vg(ne,ee,ue,me,!1),pe!==null&&pt!==null&&Vg(ne,pt,pe,me,!0)}}e:{if(ee=G?fo(G):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=AS;else if(cg(ee))if(dg)ge=PS;else{ge=IS;var ve=CS}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=RS);if(ge&&(ge=ge(r,G))){hg(ne,ge,l,te);break e}ve&&ve(r,ee,G),r==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&vt(ee,"number",ee.value)}switch(ve=G?fo(G):window,r){case"focusin":(cg(ve)||ve.contentEditable==="true")&&(lo=ve,Fh=G,Oa=null);break;case"focusout":Oa=Fh=lo=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,wg(ne,l,te);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":wg(ne,l,te)}var _e;if(bh)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ao?lg(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(sg&&l.locale!=="ko"&&(ao||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ao&&(_e=_u()):(gn=te,to="value"in gn?gn.value:gn.textContent,ao=!0)),ve=Ru(G,Te),0<ve.length&&(Te=new E(Te,r,null,l,te),ne.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=ug(l),_e!==null&&(Te.data=_e)))),(_e=wS?ES(r,l):TS(r,l))&&(G=Ru(G,"onBeforeInput"),0<G.length&&(te=new E("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:G}),te.data=_e))}Pg(ne,s)})}function Ba(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Ru(r,s){for(var l=s+"Capture",h=[];r!==null;){var g=r,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Zi(r,l),v!=null&&h.unshift(Ba(r,v,g)),v=Zi(r,s),v!=null&&h.push(Ba(r,v,g))),r=r.return}return h}function co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vg(r,s,l,h,g){for(var v=s._reactName,T=[];l!==null&&l!==h;){var V=l,O=V.alternate,G=V.stateNode;if(O!==null&&O===h)break;V.tag===5&&G!==null&&(V=G,g?(O=Zi(l,v),O!=null&&T.unshift(Ba(l,O,V))):g||(O=Zi(l,v),O!=null&&T.push(Ba(l,O,V)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var LS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Dg(r){return(typeof r=="string"?r:""+r).replace(LS,`
`).replace(OS,"")}function Pu(r,s,l){if(s=Dg(s),Dg(r)!==s&&l)throw Error(n(425))}function ku(){}var Hh=null,Kh=null;function Gh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(r){return Ng.resolve(null).then(r).catch(BS)}:qh;function BS(r){setTimeout(function(){throw r})}function Qh(r,s){var l=s,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){r.removeChild(g),pi(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);pi(s)}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function bg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fr="__reactFiber$"+ho,Ua="__reactProps$"+ho,Lr="__reactContainer$"+ho,Yh="__reactEvents$"+ho,US="__reactListeners$"+ho,zS="__reactHandles$"+ho;function ds(r){var s=r[fr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Lr]||l[fr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=bg(r);r!==null;){if(l=r[fr])return l;r=bg(r)}return s}r=l,l=r.parentNode}return null}function za(r){return r=r[fr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function fo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Vu(r){return r[Ua]||null}var Xh=[],po=-1;function _i(r){return{current:r}}function Ze(r){0>po||(r.current=Xh[po],Xh[po]=null,po--)}function qe(r,s){po++,Xh[po]=r.current,r.current=s}var wi={},$t=_i(wi),sn=_i(!1),fs=wi;function mo(r,s){var l=r.type.contextTypes;if(!l)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=s[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=g),g}function on(r){return r=r.childContextTypes,r!=null}function Du(){Ze(sn),Ze($t)}function Mg(r,s,l){if($t.current!==wi)throw Error(n(168));qe($t,s),qe(sn,l)}function Lg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(n(108,$e(r)||"Unknown",g));return ae({},l,h)}function Nu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,fs=$t.current,qe($t,r),qe(sn,sn.current),!0}function Og(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=Lg(r,s,fs),h.__reactInternalMemoizedMergedChildContext=r,Ze(sn),Ze($t),qe($t,r)):Ze(sn),qe(sn,l)}var Or=null,bu=!1,Jh=!1;function Fg(r){Or===null?Or=[r]:Or.push(r)}function $S(r){bu=!0,Fg(r)}function Ei(){if(!Jh&&Or!==null){Jh=!0;var r=0,s=Me;try{var l=Or;for(Me=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Or=null,bu=!1}catch(g){throw Or!==null&&(Or=Or.slice(r+1)),va(qs,Ei),g}finally{Me=s,Jh=!1}}return null}var go=[],yo=0,Mu=null,Lu=0,An=[],Cn=0,ps=null,Fr=1,jr="";function ms(r,s){go[yo++]=Lu,go[yo++]=Mu,Mu=r,Lu=s}function jg(r,s,l){An[Cn++]=Fr,An[Cn++]=jr,An[Cn++]=ps,ps=r;var h=Fr;r=jr;var g=32-pn(h)-1;h&=~(1<<g),l+=1;var v=32-pn(s)+g;if(30<v){var T=g-g%5;v=(h&(1<<T)-1).toString(32),h>>=T,g-=T,Fr=1<<32-pn(s)+g|l<<g|h,jr=v+r}else Fr=1<<v|l<<g|h,jr=r}function Zh(r){r.return!==null&&(ms(r,1),jg(r,1,0))}function ed(r){for(;r===Mu;)Mu=go[--yo],go[yo]=null,Lu=go[--yo],go[yo]=null;for(;r===ps;)ps=An[--Cn],An[Cn]=null,jr=An[--Cn],An[Cn]=null,Fr=An[--Cn],An[Cn]=null}var _n=null,wn=null,nt=!1,zn=null;function Bg(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ug(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,_n=r,wn=vi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,_n=r,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ps!==null?{id:Fr,overflow:jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,_n=r,wn=null,!0):!1;default:return!1}}function td(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nd(r){if(nt){var s=wn;if(s){var l=s;if(!Ug(r,s)){if(td(r))throw Error(n(418));s=vi(l.nextSibling);var h=_n;s&&Ug(r,s)?Bg(h,l):(r.flags=r.flags&-4097|2,nt=!1,_n=r)}}else{if(td(r))throw Error(n(418));r.flags=r.flags&-4097|2,nt=!1,_n=r}}}function zg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;_n=r}function Ou(r){if(r!==_n)return!1;if(!nt)return zg(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Gh(r.type,r.memoizedProps)),s&&(s=wn)){if(td(r))throw $g(),Error(n(418));for(;s;)Bg(r,s),s=vi(s.nextSibling)}if(zg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){wn=vi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}wn=null}}else wn=_n?vi(r.stateNode.nextSibling):null;return!0}function $g(){for(var r=wn;r;)r=vi(r.nextSibling)}function vo(){wn=_n=null,nt=!1}function rd(r){zn===null?zn=[r]:zn.push(r)}var WS=X.ReactCurrentBatchConfig;function $a(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var g=h,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var V=g.refs;T===null?delete V[v]:V[v]=T},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Fu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Wg(r){var s=r._init;return s(r._payload)}function Hg(r){function s(W,B){if(r){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function l(W,B){if(!r)return null;for(;B!==null;)s(W,B),B=B.sibling;return null}function h(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function g(W,B){return W=Pi(W,B),W.index=0,W.sibling=null,W}function v(W,B,K){return W.index=K,r?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return r&&W.alternate===null&&(W.flags|=2),W}function V(W,B,K,ie){return B===null||B.tag!==6?(B=qd(K,W.mode,ie),B.return=W,B):(B=g(B,K),B.return=W,B)}function O(W,B,K,ie){var ge=K.type;return ge===N?te(W,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===yt&&Wg(ge)===B.type)?(ie=g(B,K.props),ie.ref=$a(W,B,K),ie.return=W,ie):(ie=lc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=$a(W,B,K),ie.return=W,ie)}function G(W,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Qd(K,W.mode,ie),B.return=W,B):(B=g(B,K.children||[]),B.return=W,B)}function te(W,B,K,ie,ge){return B===null||B.tag!==7?(B=Ss(K,W.mode,ie,ge),B.return=W,B):(B=g(B,K),B.return=W,B)}function ne(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=qd(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return K=lc(B.type,B.key,B.props,null,W.mode,K),K.ref=$a(W,null,B),K.return=W,K;case oe:return B=Qd(B,W.mode,K),B.return=W,B;case yt:var ie=B._init;return ne(W,ie(B._payload),K)}if(dt(B)||fe(B))return B=Ss(B,W.mode,K,null),B.return=W,B;Fu(W,B)}return null}function ee(W,B,K,ie){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:V(W,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===ge?O(W,B,K,ie):null;case oe:return K.key===ge?G(W,B,K,ie):null;case yt:return ge=K._init,ee(W,B,ge(K._payload),ie)}if(dt(K)||fe(K))return ge!==null?null:te(W,B,K,ie,null);Fu(W,K)}return null}function ue(W,B,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(K)||null,V(B,W,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Z:return W=W.get(ie.key===null?K:ie.key)||null,O(B,W,ie,ge);case oe:return W=W.get(ie.key===null?K:ie.key)||null,G(B,W,ie,ge);case yt:var ve=ie._init;return ue(W,B,K,ve(ie._payload),ge)}if(dt(ie)||fe(ie))return W=W.get(K)||null,te(B,W,ie,ge,null);Fu(B,ie)}return null}function pe(W,B,K,ie){for(var ge=null,ve=null,_e=B,Te=B=0,Dt=null;_e!==null&&Te<K.length;Te++){_e.index>Te?(Dt=_e,_e=null):Dt=_e.sibling;var Be=ee(W,_e,K[Te],ie);if(Be===null){_e===null&&(_e=Dt);break}r&&_e&&Be.alternate===null&&s(W,_e),B=v(Be,B,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be,_e=Dt}if(Te===K.length)return l(W,_e),nt&&ms(W,Te),ge;if(_e===null){for(;Te<K.length;Te++)_e=ne(W,K[Te],ie),_e!==null&&(B=v(_e,B,Te),ve===null?ge=_e:ve.sibling=_e,ve=_e);return nt&&ms(W,Te),ge}for(_e=h(W,_e);Te<K.length;Te++)Dt=ue(_e,W,Te,K[Te],ie),Dt!==null&&(r&&Dt.alternate!==null&&_e.delete(Dt.key===null?Te:Dt.key),B=v(Dt,B,Te),ve===null?ge=Dt:ve.sibling=Dt,ve=Dt);return r&&_e.forEach(function(ki){return s(W,ki)}),nt&&ms(W,Te),ge}function me(W,B,K,ie){var ge=fe(K);if(typeof ge!="function")throw Error(n(150));if(K=ge.call(K),K==null)throw Error(n(151));for(var ve=ge=null,_e=B,Te=B=0,Dt=null,Be=K.next();_e!==null&&!Be.done;Te++,Be=K.next()){_e.index>Te?(Dt=_e,_e=null):Dt=_e.sibling;var ki=ee(W,_e,Be.value,ie);if(ki===null){_e===null&&(_e=Dt);break}r&&_e&&ki.alternate===null&&s(W,_e),B=v(ki,B,Te),ve===null?ge=ki:ve.sibling=ki,ve=ki,_e=Dt}if(Be.done)return l(W,_e),nt&&ms(W,Te),ge;if(_e===null){for(;!Be.done;Te++,Be=K.next())Be=ne(W,Be.value,ie),Be!==null&&(B=v(Be,B,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be);return nt&&ms(W,Te),ge}for(_e=h(W,_e);!Be.done;Te++,Be=K.next())Be=ue(_e,W,Te,Be.value,ie),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?Te:Be.key),B=v(Be,B,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be);return r&&_e.forEach(function(Sx){return s(W,Sx)}),nt&&ms(W,Te),ge}function pt(W,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var ge=K.key,ve=B;ve!==null;){if(ve.key===ge){if(ge=K.type,ge===N){if(ve.tag===7){l(W,ve.sibling),B=g(ve,K.props.children),B.return=W,W=B;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===yt&&Wg(ge)===ve.type){l(W,ve.sibling),B=g(ve,K.props),B.ref=$a(W,ve,K),B.return=W,W=B;break e}l(W,ve);break}else s(W,ve);ve=ve.sibling}K.type===N?(B=Ss(K.props.children,W.mode,ie,K.key),B.return=W,W=B):(ie=lc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=$a(W,B,K),ie.return=W,W=ie)}return T(W);case oe:e:{for(ve=K.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(W,B.sibling),B=g(B,K.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else s(W,B);B=B.sibling}B=Qd(K,W.mode,ie),B.return=W,W=B}return T(W);case yt:return ve=K._init,pt(W,B,ve(K._payload),ie)}if(dt(K))return pe(W,B,K,ie);if(fe(K))return me(W,B,K,ie);Fu(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(W,B.sibling),B=g(B,K),B.return=W,W=B):(l(W,B),B=qd(K,W.mode,ie),B.return=W,W=B),T(W)):l(W,B)}return pt}var _o=Hg(!0),Kg=Hg(!1),ju=_i(null),Bu=null,wo=null,id=null;function sd(){id=wo=Bu=null}function od(r){var s=ju.current;Ze(ju),r._currentValue=s}function ad(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Eo(r,s){Bu=r,id=wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(an=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(id!==r)if(r={context:r,memoizedValue:s,next:null},wo===null){if(Bu===null)throw Error(n(308));wo=r,Bu.dependencies={lanes:0,firstContext:r}}else wo=wo.next=r;return s}var gs=null;function ld(r){gs===null?gs=[r]:gs.push(r)}function Gg(r,s,l,h){var g=s.interleaved;return g===null?(l.next=l,ld(s)):(l.next=g.next,g.next=l),s.interleaved=l,Br(r,h)}function Br(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ti=!1;function ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ur(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,Br(r,l)}return g=h.interleaved,g===null?(s.next=s,ld(h)):(s.next=g.next,g.next=s),h.interleaved=s,Br(r,l)}function Uu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,xa(r,l)}}function Qg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function zu(r,s,l,h){var g=r.updateQueue;Ti=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var O=V,G=O.next;O.next=null,T===null?v=G:T.next=G,T=O;var te=r.alternate;te!==null&&(te=te.updateQueue,V=te.lastBaseUpdate,V!==T&&(V===null?te.firstBaseUpdate=G:V.next=G,te.lastBaseUpdate=O))}if(v!==null){var ne=g.baseState;T=0,te=G=O=null,V=v;do{var ee=V.lane,ue=V.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var pe=r,me=V;switch(ee=s,ue=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ue,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ue,ne,ee):pe,ee==null)break e;ne=ae({},ne,ee);break e;case 2:Ti=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,ee=g.effects,ee===null?g.effects=[V]:ee.push(V))}else ue={eventTime:ue,lane:ee,tag:V.tag,payload:V.payload,callback:V.callback,next:null},te===null?(G=te=ue,O=ne):te=te.next=ue,T|=ee;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;ee=V,V=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(O=ne),g.baseState=O,g.firstBaseUpdate=G,g.lastBaseUpdate=te,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else v===null&&(g.shared.lanes=0);_s|=T,r.lanes=T,r.memoizedState=ne}}function Yg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Wa={},pr=_i(Wa),Ha=_i(Wa),Ka=_i(Wa);function ys(r){if(r===Wa)throw Error(n(174));return r}function cd(r,s){switch(qe(Ka,s),qe(Ha,r),qe(pr,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:zs(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=zs(s,r)}Ze(pr),qe(pr,s)}function To(){Ze(pr),Ze(Ha),Ze(Ka)}function Xg(r){ys(Ka.current);var s=ys(pr.current),l=zs(s,r.type);s!==l&&(qe(Ha,r),qe(pr,l))}function hd(r){Ha.current===r&&(Ze(pr),Ze(Ha))}var rt=_i(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dd=[];function fd(){for(var r=0;r<dd.length;r++)dd[r]._workInProgressVersionPrimary=null;dd.length=0}var Wu=X.ReactCurrentDispatcher,pd=X.ReactCurrentBatchConfig,vs=0,it=null,At=null,kt=null,Hu=!1,Ga=!1,qa=0,HS=0;function Wt(){throw Error(n(321))}function md(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Un(r[l],s[l]))return!1;return!0}function gd(r,s,l,h,g,v){if(vs=v,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?QS:YS,r=l(h,g),Ga){v=0;do{if(Ga=!1,qa=0,25<=v)throw Error(n(301));v+=1,kt=At=null,s.updateQueue=null,Wu.current=XS,r=l(h,g)}while(Ga)}if(Wu.current=qu,s=At!==null&&At.next!==null,vs=0,kt=At=it=null,Hu=!1,s)throw Error(n(300));return r}function yd(){var r=qa!==0;return qa=0,r}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=r:kt=kt.next=r,kt}function Rn(){if(At===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=kt===null?it.memoizedState:kt.next;if(s!==null)kt=s,At=r;else{if(r===null)throw Error(n(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},kt===null?it.memoizedState=kt=r:kt=kt.next=r}return kt}function Qa(r,s){return typeof s=="function"?s(r):s}function vd(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=At,g=h.baseQueue,v=l.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}h.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,h=h.baseState;var V=T=null,O=null,G=v;do{var te=G.lane;if((vs&te)===te)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var ne={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(V=O=ne,T=h):O=O.next=ne,it.lanes|=te,_s|=te}G=G.next}while(G!==null&&G!==v);O===null?T=h:O.next=V,Un(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){g=r;do v=g.lane,it.lanes|=v,_s|=v,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function _d(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do v=r(v,T.action),T=T.next;while(T!==g);Un(v,s.memoizedState)||(an=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function Jg(){}function Zg(r,s){var l=it,h=Rn(),g=s(),v=!Un(h.memoizedState,g);if(v&&(h.memoizedState=g,an=!0),h=h.queue,wd(ny.bind(null,l,h,r),[r]),h.getSnapshot!==s||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,ty.bind(null,l,h,g,s),void 0,null),Vt===null)throw Error(n(349));(vs&30)!==0||ey(l,s,g)}return g}function ey(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ty(r,s,l,h){s.value=l,s.getSnapshot=h,ry(s)&&iy(r)}function ny(r,s,l){return l(function(){ry(s)&&iy(r)})}function ry(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Un(r,l)}catch{return!0}}function iy(r){var s=Br(r,1);s!==null&&Kn(s,r,1,-1)}function sy(r){var s=mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},s.queue=r,r=r.dispatch=qS.bind(null,it,r),[s.memoizedState,r]}function Ya(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function oy(){return Rn().memoizedState}function Ku(r,s,l,h){var g=mr();it.flags|=r,g.memoizedState=Ya(1|s,l,void 0,h===void 0?null:h)}function Gu(r,s,l,h){var g=Rn();h=h===void 0?null:h;var v=void 0;if(At!==null){var T=At.memoizedState;if(v=T.destroy,h!==null&&md(h,T.deps)){g.memoizedState=Ya(s,l,v,h);return}}it.flags|=r,g.memoizedState=Ya(1|s,l,v,h)}function ay(r,s){return Ku(8390656,8,r,s)}function wd(r,s){return Gu(2048,8,r,s)}function ly(r,s){return Gu(4,2,r,s)}function uy(r,s){return Gu(4,4,r,s)}function cy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hy(r,s,l){return l=l!=null?l.concat([r]):null,Gu(4,4,cy.bind(null,s,r),l)}function Ed(){}function dy(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&md(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function fy(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&md(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function py(r,s,l){return(vs&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=l):(Un(l,s)||(l=Ta(),it.lanes|=l,_s|=l,r.baseState=!0),s)}function KS(r,s){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var h=pd.transition;pd.transition={};try{r(!1),s()}finally{Me=l,pd.transition=h}}function my(){return Rn().memoizedState}function GS(r,s,l){var h=Ii(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},gy(r))yy(s,l);else if(l=Gg(r,s,l,h),l!==null){var g=Zt();Kn(l,r,h,g),vy(l,s,h)}}function qS(r,s,l){var h=Ii(r),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(gy(r))yy(s,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,V=v(T,l);if(g.hasEagerState=!0,g.eagerState=V,Un(V,T)){var O=s.interleaved;O===null?(g.next=g,ld(s)):(g.next=O.next,O.next=g),s.interleaved=g;return}}catch{}finally{}l=Gg(r,s,g,h),l!==null&&(g=Zt(),Kn(l,r,h,g),vy(l,s,h))}}function gy(r){var s=r.alternate;return r===it||s!==null&&s===it}function yy(r,s){Ga=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function vy(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,xa(r,l)}}var qu={readContext:In,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},QS={readContext:In,useCallback:function(r,s){return mr().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:ay,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4194308,4,cy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ku(4,2,r,s)},useMemo:function(r,s){var l=mr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=mr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=GS.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var s=mr();return r={current:r},s.memoizedState=r},useState:sy,useDebugValue:Ed,useDeferredValue:function(r){return mr().memoizedState=r},useTransition:function(){var r=sy(!1),s=r[0];return r=KS.bind(null,r[1]),mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=it,g=mr();if(nt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Vt===null)throw Error(n(349));(vs&30)!==0||ey(h,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,ay(ny.bind(null,h,v,r),[r]),h.flags|=2048,Ya(9,ty.bind(null,h,v,l,s),void 0,null),l},useId:function(){var r=mr(),s=Vt.identifierPrefix;if(nt){var l=jr,h=Fr;l=(h&~(1<<32-pn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=qa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=HS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},YS={readContext:In,useCallback:dy,useContext:In,useEffect:wd,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:vd,useRef:oy,useState:function(){return vd(Qa)},useDebugValue:Ed,useDeferredValue:function(r){var s=Rn();return py(s,At.memoizedState,r)},useTransition:function(){var r=vd(Qa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Jg,useSyncExternalStore:Zg,useId:my,unstable_isNewReconciler:!1},XS={readContext:In,useCallback:dy,useContext:In,useEffect:wd,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:_d,useRef:oy,useState:function(){return _d(Qa)},useDebugValue:Ed,useDeferredValue:function(r){var s=Rn();return At===null?s.memoizedState=r:py(s,At.memoizedState,r)},useTransition:function(){var r=_d(Qa)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Jg,useSyncExternalStore:Zg,useId:my,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Td(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qu={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Zt(),g=Ii(r),v=Ur(h,g);v.payload=s,l!=null&&(v.callback=l),s=Si(r,v,g),s!==null&&(Kn(s,r,g,h),Uu(s,r,g))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Zt(),g=Ii(r),v=Ur(h,g);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Si(r,v,g),s!==null&&(Kn(s,r,g,h),Uu(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Zt(),h=Ii(r),g=Ur(l,h);g.tag=2,s!=null&&(g.callback=s),s=Si(r,g,h),s!==null&&(Kn(s,r,h,l),Uu(s,r,h))}};function _y(r,s,l,h,g,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!La(l,h)||!La(g,v):!0}function wy(r,s,l){var h=!1,g=wi,v=s.contextType;return typeof v=="object"&&v!==null?v=In(v):(g=on(s)?fs:$t.current,h=s.contextTypes,v=(h=h!=null)?mo(r,g):wi),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=v),s}function Ey(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Qu.enqueueReplaceState(s,s.state,null)}function Sd(r,s,l,h){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},ud(r);var v=s.contextType;typeof v=="object"&&v!==null?g.context=In(v):(v=on(s)?fs:$t.current,g.context=mo(r,v)),g.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Td(r,s,v,l),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&Qu.enqueueReplaceState(g,g.state,null),zu(r,l,g,h),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function So(r,s){try{var l="",h=s;do l+=Ve(h),h=h.return;while(h);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:g,digest:null}}function xd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Ad(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var JS=typeof WeakMap=="function"?WeakMap:Map;function Ty(r,s,l){l=Ur(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){nc||(nc=!0,Bd=h),Ad(r,s)},l}function Sy(r,s,l){l=Ur(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;l.payload=function(){return h(g)},l.callback=function(){Ad(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Ad(r,s),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function xy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new JS;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(g.add(l),r=dx.bind(null,r,s,l),s.then(r,r))}function Ay(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Cy(r,s,l,h,g){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ur(-1,1),s.tag=2,Si(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var ZS=X.ReactCurrentOwner,an=!1;function Jt(r,s,l,h){s.child=r===null?Kg(s,null,l,h):_o(s,r.child,l,h)}function Iy(r,s,l,h,g){l=l.render;var v=s.ref;return Eo(s,g),h=gd(r,s,l,h,v,g),l=yd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~g,zr(r,s,g)):(nt&&l&&Zh(s),s.flags|=1,Jt(r,s,h,g),s.child)}function Ry(r,s,l,h,g){if(r===null){var v=l.type;return typeof v=="function"&&!Gd(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Py(r,s,v,h,g)):(r=lc(l.type,null,h,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&g)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(T,h)&&r.ref===s.ref)return zr(r,s,g)}return s.flags|=1,r=Pi(v,h),r.ref=s.ref,r.return=s,s.child=r}function Py(r,s,l,h,g){if(r!==null){var v=r.memoizedProps;if(La(v,h)&&r.ref===s.ref)if(an=!1,s.pendingProps=h=v,(r.lanes&g)!==0)(r.flags&131072)!==0&&(an=!0);else return s.lanes=r.lanes,zr(r,s,g)}return Cd(r,s,l,h,g)}function ky(r,s,l){var h=s.pendingProps,g=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ao,En),En|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(Ao,En),En|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,qe(Ao,En),En|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,qe(Ao,En),En|=h;return Jt(r,s,g,l),s.child}function Vy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Cd(r,s,l,h,g){var v=on(l)?fs:$t.current;return v=mo(s,v),Eo(s,g),l=gd(r,s,l,h,v,g),h=yd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~g,zr(r,s,g)):(nt&&h&&Zh(s),s.flags|=1,Jt(r,s,l,g),s.child)}function Dy(r,s,l,h,g){if(on(l)){var v=!0;Nu(s)}else v=!1;if(Eo(s,g),s.stateNode===null)Xu(r,s),wy(s,l,h),Sd(s,l,h,g),h=!0;else if(r===null){var T=s.stateNode,V=s.memoizedProps;T.props=V;var O=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=In(G):(G=on(l)?fs:$t.current,G=mo(s,G));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==h||O!==G)&&Ey(s,T,h,G),Ti=!1;var ee=s.memoizedState;T.state=ee,zu(s,h,T,g),O=s.memoizedState,V!==h||ee!==O||sn.current||Ti?(typeof te=="function"&&(Td(s,l,te,h),O=s.memoizedState),(V=Ti||_y(s,l,V,h,ee,O,G))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),T.props=h,T.state=O,T.context=G,h=V):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,qg(r,s),V=s.memoizedProps,G=s.type===s.elementType?V:$n(s.type,V),T.props=G,ne=s.pendingProps,ee=T.context,O=l.contextType,typeof O=="object"&&O!==null?O=In(O):(O=on(l)?fs:$t.current,O=mo(s,O));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==ne||ee!==O)&&Ey(s,T,h,O),Ti=!1,ee=s.memoizedState,T.state=ee,zu(s,h,T,g);var pe=s.memoizedState;V!==ne||ee!==pe||sn.current||Ti?(typeof ue=="function"&&(Td(s,l,ue,h),pe=s.memoizedState),(G=Ti||_y(s,l,G,h,ee,pe,O)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,O)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),T.props=h,T.state=pe,T.context=O,h=G):(typeof T.componentDidUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return Id(r,s,l,h,v,g)}function Id(r,s,l,h,g,v){Vy(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&Og(s,l,!1),zr(r,s,v);h=s.stateNode,ZS.current=s;var V=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=_o(s,r.child,null,v),s.child=_o(s,null,V,v)):Jt(r,s,V,v),s.memoizedState=h.state,g&&Og(s,l,!0),s.child}function Ny(r){var s=r.stateNode;s.pendingContext?Mg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Mg(r,s.context,!1),cd(r,s.containerInfo)}function by(r,s,l,h,g){return vo(),rd(g),s.flags|=256,Jt(r,s,l,h),s.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function Pd(r){return{baseLanes:r,cachePool:null,transitions:null}}function My(r,s,l){var h=s.pendingProps,g=rt.current,v=!1,T=(s.flags&128)!==0,V;if((V=T)||(V=r!==null&&r.memoizedState===null?!1:(g&2)!==0),V?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),qe(rt,g&1),r===null)return nd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=uc(T,h,0,null),r=Ss(r,h,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Pd(l),s.memoizedState=Rd,r):kd(s,T));if(g=r.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return ex(r,s,T,h,V,g,l);if(v){v=h.fallback,T=s.mode,g=r.child,V=g.sibling;var O={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Pi(g,O),h.subtreeFlags=g.subtreeFlags&14680064),V!==null?v=Pi(V,v):(v=Ss(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=r.child.memoizedState,T=T===null?Pd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,s.memoizedState=Rd,h}return v=r.child,r=v.sibling,h=Pi(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function kd(r,s){return s=uc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Yu(r,s,l,h){return h!==null&&rd(h),_o(s,r.child,null,l),r=kd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ex(r,s,l,h,g,v,T){if(l)return s.flags&256?(s.flags&=-257,h=xd(Error(n(422))),Yu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=h.fallback,g=s.mode,h=uc({mode:"visible",children:h.children},g,0,null),v=Ss(v,g,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&_o(s,r.child,null,T),s.child.memoizedState=Pd(T),s.memoizedState=Rd,v);if((s.mode&1)===0)return Yu(r,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var V=h.dgst;return h=V,v=Error(n(419)),h=xd(v,h,void 0),Yu(r,s,T,h)}if(V=(T&r.childLanes)!==0,an||V){if(h=Vt,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Br(r,g),Kn(h,r,g,-1))}return Kd(),h=xd(Error(n(421))),Yu(r,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=r.child,s=fx.bind(null,r),g._reactRetry=s,null):(r=v.treeContext,wn=vi(g.nextSibling),_n=s,nt=!0,zn=null,r!==null&&(An[Cn++]=Fr,An[Cn++]=jr,An[Cn++]=ps,Fr=r.id,jr=r.overflow,ps=s),s=kd(s,h.children),s.flags|=4096,s)}function Ly(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),ad(r.return,s,l)}function Vd(r,s,l,h,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function Oy(r,s,l){var h=s.pendingProps,g=h.revealOrder,v=h.tail;if(Jt(r,s,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ly(r,l,s);else if(r.tag===19)Ly(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(rt,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Vd(s,!1,g,l,v);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&$u(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Vd(s,!0,l,null,v);break;case"together":Vd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function zr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Pi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Pi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function tx(r,s,l){switch(s.tag){case 3:Ny(s),vo();break;case 5:Xg(s);break;case 1:on(s.type)&&Nu(s);break;case 4:cd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;qe(ju,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?My(r,s,l):(qe(rt,rt.current&1),r=zr(r,s,l),r!==null?r.sibling:null);qe(rt,rt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Oy(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),qe(rt,rt.current),h)break;return null;case 22:case 23:return s.lanes=0,ky(r,s,l)}return zr(r,s,l)}var Fy,Dd,jy,By;Fy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Dd=function(){},jy=function(r,s,l,h){var g=r.memoizedProps;if(g!==h){r=s.stateNode,ys(pr.current);var v=null;switch(l){case"input":g=Bs(r,g),h=Bs(r,h),v=[];break;case"select":g=ae({},g,{value:void 0}),h=ae({},h,{value:void 0}),v=[];break;case"textarea":g=ha(r,g),h=ha(r,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ku)}Fn(l,h);var T;l=null;for(G in g)if(!h.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var V=g[G];for(T in V)V.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in h){var O=h[G];if(V=g!=null?g[G]:void 0,h.hasOwnProperty(G)&&O!==V&&(O!=null||V!=null))if(G==="style")if(V){for(T in V)!V.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in O)O.hasOwnProperty(T)&&V[T]!==O[T]&&(l||(l={}),l[T]=O[T])}else l||(v||(v=[]),v.push(G,l)),l=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,V=V?V.__html:void 0,O!=null&&V!==O&&(v=v||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&Je("scroll",r),v||V===O||(v=[])):(v=v||[]).push(G,O))}l&&(v=v||[]).push("style",l);var G=v;(s.updateQueue=G)&&(s.flags|=4)}},By=function(r,s,l,h){l!==h&&(s.flags|=4)};function Xa(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function nx(r,s,l){var h=s.pendingProps;switch(ed(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return on(s.type)&&Du(),Ht(s),null;case 3:return h=s.stateNode,To(),Ze(sn),Ze($t),fd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ou(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&($d(zn),zn=null))),Dd(r,s),Ht(s),null;case 5:hd(s);var g=ys(Ka.current);if(l=s.type,r!==null&&s.stateNode!=null)jy(r,s,l,h,g),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Ht(s),null}if(r=ys(pr.current),Ou(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[fr]=s,h[Ua]=v,r=(s.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(g=0;g<Fa.length;g++)Je(Fa[g],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":tu(h,v),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Je("invalid",h);break;case"textarea":da(h,v),Je("invalid",h)}Fn(l,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var V=v[T];T==="children"?typeof V=="string"?h.textContent!==V&&(v.suppressHydrationWarning!==!0&&Pu(h.textContent,V,r),g=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&Pu(h.textContent,V,r),g=["children",""+V]):o.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&Je("scroll",h)}switch(l){case"input":js(h),ca(h,v,!0);break;case"textarea":js(h),ni(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=ku)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fa(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[fr]=s,r[Ua]=h,Fy(r,s,!1,!1),s.stateNode=r;e:{switch(T=Ws(l,h),l){case"dialog":Je("cancel",r),Je("close",r),g=h;break;case"iframe":case"object":case"embed":Je("load",r),g=h;break;case"video":case"audio":for(g=0;g<Fa.length;g++)Je(Fa[g],r);g=h;break;case"source":Je("error",r),g=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),g=h;break;case"details":Je("toggle",r),g=h;break;case"input":tu(r,h),g=Bs(r,h),Je("invalid",r);break;case"option":g=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},g=ae({},h,{value:void 0}),Je("invalid",r);break;case"textarea":da(r,h),g=ha(r,h),Je("invalid",r);break;default:g=h}Fn(l,g),V=g;for(v in V)if(V.hasOwnProperty(v)){var O=V[v];v==="style"?$s(r,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ru(r,O)):v==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Ji(r,O):typeof O=="number"&&Ji(r,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Je("scroll",r):O!=null&&M(r,v,O,T))}switch(l){case"input":js(r),ca(r,h,!1);break;case"textarea":js(r),ni(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Fe(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?On(r,!!h.multiple,v,!1):h.defaultValue!=null&&On(r,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=ku)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)By(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=ys(Ka.current),ys(pr.current),Ou(s)){if(h=s.stateNode,l=s.memoizedProps,h[fr]=s,(v=h.nodeValue!==l)&&(r=_n,r!==null))switch(r.tag){case 3:Pu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(h.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[fr]=s,s.stateNode=h}return Ht(s),null;case 13:if(Ze(rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&wn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$g(),vo(),s.flags|=98560,v=!1;else if(v=Ou(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[fr]=s}else vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),v=!1}else zn!==null&&($d(zn),zn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(rt.current&1)!==0?Ct===0&&(Ct=3):Kd())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return To(),Dd(r,s),r===null&&ja(s.stateNode.containerInfo),Ht(s),null;case 10:return od(s.type._context),Ht(s),null;case 17:return on(s.type)&&Du(),Ht(s),null;case 19:if(Ze(rt),v=s.memoizedState,v===null)return Ht(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)Xa(v,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=$u(r),T!==null){for(s.flags|=128,Xa(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,r=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return qe(rt,rt.current&1|2),s.child}r=r.sibling}v.tail!==null&&Xe()>Co&&(s.flags|=128,h=!0,Xa(v,!1),s.lanes=4194304)}else{if(!h)if(r=$u(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Xa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!nt)return Ht(s),null}else 2*Xe()-v.renderingStartTime>Co&&l!==1073741824&&(s.flags|=128,h=!0,Xa(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Xe(),s.sibling=null,l=rt.current,qe(rt,h?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return Hd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(En&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function rx(r,s){switch(ed(s),s.tag){case 1:return on(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return To(),Ze(sn),Ze($t),fd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return hd(s),null;case 13:if(Ze(rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(rt),null;case 4:return To(),null;case 10:return od(s.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Ju=!1,Kt=!1,ix=typeof WeakSet=="function"?WeakSet:Set,de=null;function xo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ut(r,s,h)}else l.current=null}function Nd(r,s,l){try{l()}catch(h){ut(r,s,h)}}var Uy=!1;function sx(r,s){if(Hh=Nr,r=_g(),Oh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,V=-1,O=-1,G=0,te=0,ne=r,ee=null;t:for(;;){for(var ue;ne!==l||g!==0&&ne.nodeType!==3||(V=T+g),ne!==v||h!==0&&ne.nodeType!==3||(O=T+h),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)ee=ne,ne=ue;for(;;){if(ne===r)break t;if(ee===l&&++G===g&&(V=T),ee===v&&++te===h&&(O=T),(ue=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ue}l=V===-1||O===-1?null:{start:V,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kh={focusedElem:r,selectionRange:l},Nr=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,pt=pe.memoizedState,W=s.stateNode,B=W.getSnapshotBeforeUpdate(s.elementType===s.type?me:$n(s.type,me),pt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ut(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Uy,Uy=!1,pe}function Ja(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&r)===r){var v=g.destroy;g.destroy=void 0,v!==void 0&&Nd(s,l,v)}g=g.next}while(g!==h)}}function Zu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function bd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function zy(r){var s=r.alternate;s!==null&&(r.alternate=null,zy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[fr],delete s[Ua],delete s[Yh],delete s[US],delete s[zS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function $y(r){return r.tag===5||r.tag===3||r.tag===4}function Wy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$y(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Md(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ku));else if(h!==4&&(r=r.child,r!==null))for(Md(r,s,l),r=r.sibling;r!==null;)Md(r,s,l),r=r.sibling}function Ld(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Ld(r,s,l),r=r.sibling;r!==null;)Ld(r,s,l),r=r.sibling}var Lt=null,Wn=!1;function xi(r,s,l){for(l=l.child;l!==null;)Hy(r,s,l),l=l.sibling}function Hy(r,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(rs,l)}catch{}switch(l.tag){case 5:Kt||xo(l,s);case 6:var h=Lt,g=Wn;Lt=null,xi(r,s,l),Lt=h,Wn=g,Lt!==null&&(Wn?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Wn?(r=Lt,l=l.stateNode,r.nodeType===8?Qh(r.parentNode,l):r.nodeType===1&&Qh(r,l),pi(r)):Qh(Lt,l.stateNode));break;case 4:h=Lt,g=Wn,Lt=l.stateNode.containerInfo,Wn=!0,xi(r,s,l),Lt=h,Wn=g;break;case 0:case 11:case 14:case 15:if(!Kt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Nd(l,s,T),g=g.next}while(g!==h)}xi(r,s,l);break;case 1:if(!Kt&&(xo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(V){ut(l,s,V)}xi(r,s,l);break;case 21:xi(r,s,l);break;case 22:l.mode&1?(Kt=(h=Kt)||l.memoizedState!==null,xi(r,s,l),Kt=h):xi(r,s,l);break;default:xi(r,s,l)}}function Ky(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new ix),s.forEach(function(h){var g=px.bind(null,r,h);l.has(h)||(l.add(h),h.then(g,g))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var v=r,T=s,V=T;e:for(;V!==null;){switch(V.tag){case 5:Lt=V.stateNode,Wn=!1;break e;case 3:Lt=V.stateNode.containerInfo,Wn=!0;break e;case 4:Lt=V.stateNode.containerInfo,Wn=!0;break e}V=V.return}if(Lt===null)throw Error(n(160));Hy(v,T,g),Lt=null,Wn=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(G){ut(g,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gy(s,r),s=s.sibling}function Gy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),gr(r),h&4){try{Ja(3,r,r.return),Zu(3,r)}catch(me){ut(r,r.return,me)}try{Ja(5,r,r.return)}catch(me){ut(r,r.return,me)}}break;case 1:Hn(s,r),gr(r),h&512&&l!==null&&xo(l,l.return);break;case 5:if(Hn(s,r),gr(r),h&512&&l!==null&&xo(l,l.return),r.flags&32){var g=r.stateNode;try{Ji(g,"")}catch(me){ut(r,r.return,me)}}if(h&4&&(g=r.stateNode,g!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,V=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&Us(g,v),Ws(V,T);var G=Ws(V,v);for(T=0;T<O.length;T+=2){var te=O[T],ne=O[T+1];te==="style"?$s(g,ne):te==="dangerouslySetInnerHTML"?ru(g,ne):te==="children"?Ji(g,ne):M(g,te,ne,G)}switch(V){case"input":Xi(g,v);break;case"textarea":nu(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?On(g,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?On(g,!!v.multiple,v.defaultValue,!0):On(g,!!v.multiple,v.multiple?[]:"",!1))}g[Ua]=v}catch(me){ut(r,r.return,me)}}break;case 6:if(Hn(s,r),gr(r),h&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,v=r.memoizedProps;try{g.nodeValue=v}catch(me){ut(r,r.return,me)}}break;case 3:if(Hn(s,r),gr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(me){ut(r,r.return,me)}break;case 4:Hn(s,r),gr(r);break;case 13:Hn(s,r),gr(r),g=r.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(jd=Xe())),h&4&&Ky(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Kt=(G=Kt)||te,Hn(s,r),Kt=G):Hn(s,r),gr(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(ne=de=te;de!==null;){switch(ee=de,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ja(4,ee,ee.return);break;case 1:xo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ut(h,l,me)}}break;case 5:xo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Yy(ne);continue}}ue!==null?(ue.return=ee,de=ue):Yy(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{g=ne.stateNode,G?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=ne.stateNode,O=ne.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,V.style.display=si("display",T))}catch(me){ut(r,r.return,me)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(me){ut(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Hn(s,r),gr(r),h&4&&Ky(r);break;case 21:break;default:Hn(s,r),gr(r)}}function gr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if($y(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Ji(g,""),h.flags&=-33);var v=Wy(r);Ld(r,v,g);break;case 3:case 4:var T=h.stateNode.containerInfo,V=Wy(r);Md(r,V,T);break;default:throw Error(n(161))}}catch(O){ut(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ox(r,s,l){de=r,qy(r)}function qy(r,s,l){for(var h=(r.mode&1)!==0;de!==null;){var g=de,v=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||Ju;if(!T){var V=g.alternate,O=V!==null&&V.memoizedState!==null||Kt;V=Ju;var G=Kt;if(Ju=T,(Kt=O)&&!G)for(de=g;de!==null;)T=de,O=T.child,T.tag===22&&T.memoizedState!==null?Xy(g):O!==null?(O.return=T,de=O):Xy(g);for(;v!==null;)de=v,qy(v),v=v.sibling;de=g,Ju=V,Kt=G}Qy(r)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,de=v):Qy(r)}}function Qy(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||Zu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Kt)if(l===null)h.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Yg(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Yg(s,T,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&pi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||s.flags&512&&bd(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function Yy(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function Xy(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Zu(4,s)}catch(O){ut(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(O){ut(s,g,O)}}var v=s.return;try{bd(s)}catch(O){ut(s,v,O)}break;case 5:var T=s.return;try{bd(s)}catch(O){ut(s,T,O)}}}catch(O){ut(s,s.return,O)}if(s===r){de=null;break}var V=s.sibling;if(V!==null){V.return=s.return,de=V;break}de=s.return}}var ax=Math.ceil,ec=X.ReactCurrentDispatcher,Od=X.ReactCurrentOwner,Pn=X.ReactCurrentBatchConfig,je=0,Vt=null,wt=null,Ot=0,En=0,Ao=_i(0),Ct=0,Za=null,_s=0,tc=0,Fd=0,el=null,ln=null,jd=0,Co=1/0,$r=null,nc=!1,Bd=null,Ai=null,rc=!1,Ci=null,ic=0,tl=0,Ud=null,sc=-1,oc=0;function Zt(){return(je&6)!==0?Xe():sc!==-1?sc:sc=Xe()}function Ii(r){return(r.mode&1)===0?1:(je&2)!==0&&Ot!==0?Ot&-Ot:WS.transition!==null?(oc===0&&(oc=Ta()),oc):(r=Me,r!==0||(r=window.event,r=r===void 0?16:eo(r.type)),r)}function Kn(r,s,l,h){if(50<tl)throw tl=0,Ud=null,Error(n(185));as(r,l,h),((je&2)===0||r!==Vt)&&(r===Vt&&((je&2)===0&&(tc|=l),Ct===4&&Ri(r,Ot)),un(r,h),l===1&&je===0&&(s.mode&1)===0&&(Co=Xe()+500,bu&&Ei()))}function un(r,s){var l=r.callbackNode;os(r,s);var h=kr(r,r===Vt?Ot:0);if(h===0)l!==null&&Gs(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Gs(l),s===1)r.tag===0?$S(Zy.bind(null,r)):Fg(Zy.bind(null,r)),jS(function(){(je&6)===0&&Ei()}),l=null;else{switch(rr(h)){case 1:l=qs;break;case 4:l=_a;break;case 16:l=ns;break;case 536870912:l=Qs;break;default:l=ns}l=av(l,Jy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Jy(r,s){if(sc=-1,oc=0,(je&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Io()&&r.callbackNode!==l)return null;var h=kr(r,r===Vt?Ot:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=ac(r,h);else{s=h;var g=je;je|=2;var v=tv();(Vt!==r||Ot!==s)&&($r=null,Co=Xe()+500,Es(r,s));do try{cx();break}catch(V){ev(r,V)}while(!0);sd(),ec.current=v,je=g,wt!==null?s=0:(Vt=null,Ot=0,s=Ct)}if(s!==0){if(s===2&&(g=Ea(r),g!==0&&(h=g,s=zd(r,g))),s===1)throw l=Za,Es(r,0),Ri(r,h),un(r,Xe()),l;if(s===6)Ri(r,h);else{if(g=r.current.alternate,(h&30)===0&&!lx(g)&&(s=ac(r,h),s===2&&(v=Ea(r),v!==0&&(h=v,s=zd(r,v))),s===1))throw l=Za,Es(r,0),Ri(r,h),un(r,Xe()),l;switch(r.finishedWork=g,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Ts(r,ln,$r);break;case 3:if(Ri(r,h),(h&130023424)===h&&(s=jd+500-Xe(),10<s)){if(kr(r,0)!==0)break;if(g=r.suspendedLanes,(g&h)!==h){Zt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=qh(Ts.bind(null,r,ln,$r),s);break}Ts(r,ln,$r);break;case 4:if(Ri(r,h),(h&4194240)===h)break;for(s=r.eventTimes,g=-1;0<h;){var T=31-pn(h);v=1<<T,T=s[T],T>g&&(g=T),h&=~v}if(h=g,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ax(h/1960))-h,10<h){r.timeoutHandle=qh(Ts.bind(null,r,ln,$r),h);break}Ts(r,ln,$r);break;case 5:Ts(r,ln,$r);break;default:throw Error(n(329))}}}return un(r,Xe()),r.callbackNode===l?Jy.bind(null,r):null}function zd(r,s){var l=el;return r.current.memoizedState.isDehydrated&&(Es(r,s).flags|=256),r=ac(r,s),r!==2&&(s=ln,ln=l,s!==null&&$d(s)),r}function $d(r){ln===null?ln=r:ln.push.apply(ln,r)}function lx(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!Un(v(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(r,s){for(s&=~Fd,s&=~tc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-pn(s),h=1<<l;r[l]=-1,s&=~h}}function Zy(r){if((je&6)!==0)throw Error(n(327));Io();var s=kr(r,0);if((s&1)===0)return un(r,Xe()),null;var l=ac(r,s);if(r.tag!==0&&l===2){var h=Ea(r);h!==0&&(s=h,l=zd(r,h))}if(l===1)throw l=Za,Es(r,0),Ri(r,s),un(r,Xe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ts(r,ln,$r),un(r,Xe()),null}function Wd(r,s){var l=je;je|=1;try{return r(s)}finally{je=l,je===0&&(Co=Xe()+500,bu&&Ei())}}function ws(r){Ci!==null&&Ci.tag===0&&(je&6)===0&&Io();var s=je;je|=1;var l=Pn.transition,h=Me;try{if(Pn.transition=null,Me=1,r)return r()}finally{Me=h,Pn.transition=l,je=s,(je&6)===0&&Ei()}}function Hd(){En=Ao.current,Ze(Ao)}function Es(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,FS(l)),wt!==null)for(l=wt.return;l!==null;){var h=l;switch(ed(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:To(),Ze(sn),Ze($t),fd();break;case 5:hd(h);break;case 4:To();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:od(h.type._context);break;case 22:case 23:Hd()}l=l.return}if(Vt=r,wt=r=Pi(r.current,null),Ot=En=s,Ct=0,Za=null,Fd=tc=_s=0,ln=el=null,gs!==null){for(s=0;s<gs.length;s++)if(l=gs[s],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=g,h.next=T}l.pending=h}gs=null}return r}function ev(r,s){do{var l=wt;try{if(sd(),Wu.current=qu,Hu){for(var h=it.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Hu=!1}if(vs=0,kt=At=it=null,Ga=!1,qa=0,Od.current=null,l===null||l.return===null){Ct=1,Za=s,wt=null;break}e:{var v=r,T=l.return,V=l,O=s;if(s=Ot,V.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,te=V,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Ay(T);if(ue!==null){ue.flags&=-257,Cy(ue,T,V,v,s),ue.mode&1&&xy(v,G,s),s=ue,O=G;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(O),s.updateQueue=me}else pe.add(O);break e}else{if((s&1)===0){xy(v,G,s),Kd();break e}O=Error(n(426))}}else if(nt&&V.mode&1){var pt=Ay(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Cy(pt,T,V,v,s),rd(So(O,V));break e}}v=O=So(O,V),Ct!==4&&(Ct=2),el===null?el=[v]:el.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var W=Ty(v,O,s);Qg(v,W);break e;case 1:V=O;var B=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ai===null||!Ai.has(K)))){v.flags|=65536,s&=-s,v.lanes|=s;var ie=Sy(v,V,s);Qg(v,ie);break e}}v=v.return}while(v!==null)}rv(l)}catch(ge){s=ge,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function tv(){var r=ec.current;return ec.current=qu,r===null?qu:r}function Kd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Vt===null||(_s&268435455)===0&&(tc&268435455)===0||Ri(Vt,Ot)}function ac(r,s){var l=je;je|=2;var h=tv();(Vt!==r||Ot!==s)&&($r=null,Es(r,s));do try{ux();break}catch(g){ev(r,g)}while(!0);if(sd(),je=l,ec.current=h,wt!==null)throw Error(n(261));return Vt=null,Ot=0,Ct}function ux(){for(;wt!==null;)nv(wt)}function cx(){for(;wt!==null&&!ts();)nv(wt)}function nv(r){var s=ov(r.alternate,r,En);r.memoizedProps=r.pendingProps,s===null?rv(r):wt=s,Od.current=null}function rv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=nx(l,s,En),l!==null){wt=l;return}}else{if(l=rx(l,s),l!==null){l.flags&=32767,wt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,wt=null;return}}if(s=s.sibling,s!==null){wt=s;return}wt=s=r}while(s!==null);Ct===0&&(Ct=5)}function Ts(r,s,l){var h=Me,g=Pn.transition;try{Pn.transition=null,Me=1,hx(r,s,l,h)}finally{Pn.transition=g,Me=h}return null}function hx(r,s,l,h){do Io();while(Ci!==null);if((je&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Dh(r,v),r===Vt&&(wt=Vt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,av(ns,function(){return Io(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Pn.transition,Pn.transition=null;var T=Me;Me=1;var V=je;je|=4,Od.current=null,sx(r,l),Gy(l,r),VS(Kh),Nr=!!Hh,Kh=Hh=null,r.current=l,ox(l),Pr(),je=V,Me=T,Pn.transition=v}else r.current=l;if(rc&&(rc=!1,Ci=r,ic=g),v=r.pendingLanes,v===0&&(Ai=null),pu(l.stateNode),un(r,Xe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)g=s[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(nc)throw nc=!1,r=Bd,Bd=null,r;return(ic&1)!==0&&r.tag!==0&&Io(),v=r.pendingLanes,(v&1)!==0?r===Ud?tl++:(tl=0,Ud=r):tl=0,Ei(),null}function Io(){if(Ci!==null){var r=rr(ic),s=Pn.transition,l=Me;try{if(Pn.transition=null,Me=16>r?16:r,Ci===null)var h=!1;else{if(r=Ci,Ci=null,ic=0,(je&6)!==0)throw Error(n(331));var g=je;for(je|=4,de=r.current;de!==null;){var v=de,T=v.child;if((de.flags&16)!==0){var V=v.deletions;if(V!==null){for(var O=0;O<V.length;O++){var G=V[O];for(de=G;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:Ja(8,te,v)}var ne=te.child;if(ne!==null)ne.return=te,de=ne;else for(;de!==null;){te=de;var ee=te.sibling,ue=te.return;if(zy(te),te===G){de=null;break}if(ee!==null){ee.return=ue,de=ee;break}de=ue}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var pt=me.sibling;me.sibling=null,me=pt}while(me!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,de=T;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ja(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,de=W;break e}de=v.return}}var B=r.current;for(de=B;de!==null;){T=de;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,de=K;else e:for(T=B;de!==null;){if(V=de,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Zu(9,V)}}catch(ge){ut(V,V.return,ge)}if(V===T){de=null;break e}var ie=V.sibling;if(ie!==null){ie.return=V.return,de=ie;break e}de=V.return}}if(je=g,Ei(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(rs,r)}catch{}h=!0}return h}finally{Me=l,Pn.transition=s}}return!1}function iv(r,s,l){s=So(l,s),s=Ty(r,s,1),r=Si(r,s,1),s=Zt(),r!==null&&(as(r,1,s),un(r,s))}function ut(r,s,l){if(r.tag===3)iv(r,r,l);else for(;s!==null;){if(s.tag===3){iv(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){r=So(l,r),r=Sy(s,r,1),s=Si(s,r,1),r=Zt(),s!==null&&(as(s,1,r),un(s,r));break}}s=s.return}}function dx(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&l,Vt===r&&(Ot&l)===l&&(Ct===4||Ct===3&&(Ot&130023424)===Ot&&500>Xe()-jd?Es(r,0):Fd|=l),un(r,s)}function sv(r,s){s===0&&((r.mode&1)===0?s=1:(s=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var l=Zt();r=Br(r,s),r!==null&&(as(r,s,l),un(r,l))}function fx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),sv(r,l)}function px(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),sv(r,l)}var ov;ov=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return an=!1,tx(r,s,l);an=(r.flags&131072)!==0}else an=!1,nt&&(s.flags&1048576)!==0&&jg(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Xu(r,s),r=s.pendingProps;var g=mo(s,$t.current);Eo(s,l),g=gd(null,s,h,r,g,l);var v=yd();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(v=!0,Nu(s)):v=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ud(s),g.updater=Qu,s.stateNode=g,g._reactInternals=s,Sd(s,h,r,l),s=Id(null,s,h,!0,v,l)):(s.tag=0,nt&&v&&Zh(s),Jt(null,s,g,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Xu(r,s),r=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=gx(h),r=$n(h,r),g){case 0:s=Cd(null,s,h,r,l);break e;case 1:s=Dy(null,s,h,r,l);break e;case 11:s=Iy(null,s,h,r,l);break e;case 14:s=Ry(null,s,h,$n(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:$n(h,g),Cd(r,s,h,g,l);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:$n(h,g),Dy(r,s,h,g,l);case 3:e:{if(Ny(s),r===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,g=v.element,qg(r,s),zu(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){g=So(Error(n(423)),s),s=by(r,s,h,l,g);break e}else if(h!==g){g=So(Error(n(424)),s),s=by(r,s,h,l,g);break e}else for(wn=vi(s.stateNode.containerInfo.firstChild),_n=s,nt=!0,zn=null,l=Kg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vo(),h===g){s=zr(r,s,l);break e}Jt(r,s,h,l)}s=s.child}return s;case 5:return Xg(s),r===null&&nd(s),h=s.type,g=s.pendingProps,v=r!==null?r.memoizedProps:null,T=g.children,Gh(h,g)?T=null:v!==null&&Gh(h,v)&&(s.flags|=32),Vy(r,s),Jt(r,s,T,l),s.child;case 6:return r===null&&nd(s),null;case 13:return My(r,s,l);case 4:return cd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=_o(s,null,h,l):Jt(r,s,h,l),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:$n(h,g),Iy(r,s,h,g,l);case 7:return Jt(r,s,s.pendingProps,l),s.child;case 8:return Jt(r,s,s.pendingProps.children,l),s.child;case 12:return Jt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,v=s.memoizedProps,T=g.value,qe(ju,h._currentValue),h._currentValue=T,v!==null)if(Un(v.value,T)){if(v.children===g.children&&!sn.current){s=zr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var V=v.dependencies;if(V!==null){T=v.child;for(var O=V.firstContext;O!==null;){if(O.context===h){if(v.tag===1){O=Ur(-1,l&-l),O.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?O.next=O:(O.next=te.next,te.next=O),G.pending=O}}v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),ad(v.return,l,s),V.lanes|=l;break}O=O.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,V=T.alternate,V!==null&&(V.lanes|=l),ad(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Jt(r,s,g.children,l),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,Eo(s,l),g=In(g),h=h(g),s.flags|=1,Jt(r,s,h,l),s.child;case 14:return h=s.type,g=$n(h,s.pendingProps),g=$n(h.type,g),Ry(r,s,h,g,l);case 15:return Py(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:$n(h,g),Xu(r,s),s.tag=1,on(h)?(r=!0,Nu(s)):r=!1,Eo(s,l),wy(s,h,g),Sd(s,h,g,l),Id(null,s,h,!0,r,l);case 19:return Oy(r,s,l);case 22:return ky(r,s,l)}throw Error(n(156,s.tag))};function av(r,s){return va(r,s)}function mx(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,h){return new mx(r,s,l,h)}function Gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gx(r){if(typeof r=="function")return Gd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===z)return 11;if(r===Ue)return 14}return 2}function Pi(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function lc(r,s,l,h,g,v){var T=2;if(h=r,typeof r=="function")Gd(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case N:return Ss(l.children,g,v,s);case C:T=8,g|=8;break;case k:return r=kn(12,l,s,g|2),r.elementType=k,r.lanes=v,r;case D:return r=kn(13,l,s,g),r.elementType=D,r.lanes=v,r;case Pe:return r=kn(19,l,s,g),r.elementType=Pe,r.lanes=v,r;case Ee:return uc(l,g,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:T=10;break e;case b:T=9;break e;case z:T=11;break e;case Ue:T=14;break e;case yt:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=kn(T,l,s,g),s.elementType=r,s.type=h,s.lanes=v,s}function Ss(r,s,l,h){return r=kn(7,r,h,s),r.lanes=l,r}function uc(r,s,l,h){return r=kn(22,r,h,s),r.elementType=Ee,r.lanes=l,r.stateNode={isHidden:!1},r}function qd(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function Qd(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function yx(r,s,l,h,g){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Yd(r,s,l,h,g,v,T,V,O){return r=new yx(r,s,l,V,O),s===1?(s=1,v===!0&&(s|=8)):s=0,v=kn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(v),r}function vx(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function lv(r){if(!r)return wi;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(on(l))return Lg(r,l,s)}return s}function uv(r,s,l,h,g,v,T,V,O){return r=Yd(l,h,!0,r,g,v,T,V,O),r.context=lv(null),l=r.current,h=Zt(),g=Ii(l),v=Ur(h,g),v.callback=s??null,Si(l,v,g),r.current.lanes=g,as(r,g,h),un(r,h),r}function cc(r,s,l,h){var g=s.current,v=Zt(),T=Ii(g);return l=lv(l),s.context===null?s.context=l:s.pendingContext=l,s=Ur(v,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Si(g,s,T),r!==null&&(Kn(r,g,T,v),Uu(r,g,T)),T}function hc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Xd(r,s){cv(r,s),(r=r.alternate)&&cv(r,s)}function _x(){return null}var hv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Jd(r){this._internalRoot=r}dc.prototype.render=Jd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));cc(r,s,null,null)},dc.prototype.unmount=Jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ws(function(){cc(null,r,null,null)}),s[Lr]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ia();r={blockedOn:null,target:r,priority:s};for(var l=0;l<mn.length&&s!==0&&s<mn[l].priority;l++);mn.splice(l,0,r),l===0&&Js(r)}};function Zd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dv(){}function wx(r,s,l,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var G=hc(T);v.call(G)}}var T=uv(s,h,r,0,null,!1,!1,"",dv);return r._reactRootContainer=T,r[Lr]=T.current,ja(r.nodeType===8?r.parentNode:r),ws(),T}for(;g=r.lastChild;)r.removeChild(g);if(typeof h=="function"){var V=h;h=function(){var G=hc(O);V.call(G)}}var O=Yd(r,0,!1,null,null,!1,!1,"",dv);return r._reactRootContainer=O,r[Lr]=O.current,ja(r.nodeType===8?r.parentNode:r),ws(function(){cc(s,O,l,h)}),O}function pc(r,s,l,h,g){var v=l._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var V=g;g=function(){var O=hc(T);V.call(O)}}cc(s,T,r,g)}else T=wx(l,s,r,g,h);return hc(T)}Aa=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ze(s.pendingLanes);l!==0&&(xa(s,l|1),un(s,Xe()),(je&6)===0&&(Co=Xe()+500,Ei()))}break;case 13:ws(function(){var h=Br(r,1);if(h!==null){var g=Zt();Kn(h,r,1,g)}}),Xd(r,1)}},Ys=function(r){if(r.tag===13){var s=Br(r,134217728);if(s!==null){var l=Zt();Kn(s,r,134217728,l)}Xd(r,134217728)}},Ca=function(r){if(r.tag===13){var s=Ii(r),l=Br(r,s);if(l!==null){var h=Zt();Kn(l,r,s,h)}Xd(r,s)}},Ia=function(){return Me},Ra=function(r,s){var l=Me;try{return Me=r,s()}finally{Me=l}},Cr=function(r,s,l){switch(s){case"input":if(Xi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var g=Vu(h);if(!g)throw Error(n(90));ua(h),Xi(h,g)}}}break;case"textarea":nu(r,l);break;case"select":s=l.value,s!=null&&On(r,!!l.multiple,s,!1)}},su=Wd,ou=ws;var Ex={usingClientEntryPoint:!1,Events:[za,fo,Vu,ai,li,Wd]},nl={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tx={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=fu(r),r===null?null:r.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{rs=mc.inject(Tx),fn=mc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex,cn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(s))throw Error(n(200));return vx(r,s,null,l)},cn.createRoot=function(r,s){if(!Zd(r))throw Error(n(299));var l=!1,h="",g=hv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=Yd(r,1,!1,null,null,l,!1,h,g),r[Lr]=s.current,ja(r.nodeType===8?r.parentNode:r),new Jd(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=fu(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return ws(r)},cn.hydrate=function(r,s,l){if(!fc(s))throw Error(n(200));return pc(null,r,s,!0,l)},cn.hydrateRoot=function(r,s,l){if(!Zd(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,g=!1,v="",T=hv;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=uv(s,null,r,1,l??null,g,!1,v,T),r[Lr]=s.current,ja(r),h)for(r=0;r<h.length;r++)l=h[r],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new dc(s)},cn.render=function(r,s,l){if(!fc(s))throw Error(n(200));return pc(null,r,s,!1,l)},cn.unmountComponentAtNode=function(r){if(!fc(r))throw Error(n(40));return r._reactRootContainer?(ws(function(){pc(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},cn.unstable_batchedUpdates=Wd,cn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!fc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return pc(r,s,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var wv;function Vx(){if(wv)return nf.exports;wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nf.exports=kx(),nf.exports}var Ev;function Dx(){if(Ev)return gc;Ev=1;var t=Vx();return gc.createRoot=t.createRoot,gc.hydrateRoot=t.hydrateRoot,gc}var Nx=Dx();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tv="popstate";function bx(t={}){function e(o,a){let{pathname:u="/",search:f="",hash:d=""}=Ls(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),bf("",{pathname:u,search:f,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=o.location.href,p=d.indexOf("#");f=p===-1?d:d.slice(0,p)}return f+"#"+(typeof a=="string"?a:Tl(a))}function i(o,a){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Lx(e,n,i,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function Sv(t,e){return{usr:t.state,key:t.key,idx:e}}function bf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:n,key:e&&e.key||i||Mx()}}function Tl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Lx(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",d=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function y(){f="POP";let R=m(),$=R==null?null:R-p;p=R,d&&d({action:f,location:P.location,delta:$})}function w(R,$){f="PUSH";let F=bf(P.location,R,$);n&&n(F,R),p=m()+1;let M=Sv(F,p),X=P.createHref(F);try{u.pushState(M,"",X)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(X)}a&&d&&d({action:f,location:P.location,delta:1})}function S(R,$){f="REPLACE";let F=bf(P.location,R,$);n&&n(F,R),p=m();let M=Sv(F,p),X=P.createHref(F);u.replaceState(M,"",X),a&&d&&d({action:f,location:P.location,delta:0})}function I(R){return Ox(R)}let P={get action(){return f},get location(){return t(o,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,y),d=R,()=>{o.removeEventListener(Tv,y),d=null}},createHref(R){return e(o,R)},createURL:I,encodeLocation(R){let $=I(R);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:S,go(R){return u.go(R)}};return P}function Ox(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Tl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function rw(t,e,n="/"){return Fx(t,e,n,!1)}function Fx(t,e,n,i){let o=typeof e=="string"?Ls(e):e,a=Qr(o.pathname||"/",n);if(a==null)return null;let u=iw(t);jx(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=Yx(a);f=qx(u[d],p,i)}return f}function iw(t,e=[],n=[],i="",o=!1){let a=(u,f,d=o,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;ot(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=Hr([i,m.relativePath]),w=n.concat(m);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),iw(u.children,e,w,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:Kx(y,u.index),routesMeta:w})};return t.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,f);else for(let p of sw(u.path))a(u,f,!0,p)}),e}function sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=sw(i.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function jx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Bx=/^:[\w-]+$/,Ux=3,zx=2,$x=1,Wx=10,Hx=-2,xv=t=>t==="*";function Kx(t,e){let n=t.split("/"),i=n.length;return n.some(xv)&&(i+=Hx),e&&(i+=zx),n.filter(o=>!xv(o)).reduce((o,a)=>o+(Bx.test(a)?Ux:a===""?$x:Wx),i)}function Gx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function qx(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],p=f===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),w=d.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=Fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Hr([a,y.pathname]),pathnameBase:eA(Hr([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=Hr([a,y.pathnameBase]))}return u}function Fc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Qx(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},w)=>{if(m==="*"){let I=f[w]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const S=f[w];return y&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function Qx(t,e=!1,n=!0){Mn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Yx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xx=t=>ow.test(t);function Jx(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ls(t):t,a;if(n)if(Xx(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=Av(n.substring(1),"/"):a=Av(n,e)}else a=e;return{pathname:a,search:tA(i),hash:nA(o)}}function Av(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function of(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aw(t){let e=Zx(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function lw(t,e,n,i=!1){let o;typeof t=="string"?o=Ls(t):(o={...t},ot(!o.pathname||!o.pathname.includes("?"),of("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),of("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),of("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}f=y>=0?e[y]:"/"}let d=Jx(o,f),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Hr=t=>t.join("/").replace(/\/\/+/g,"/"),eA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rA=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function sA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cw(t,e){let n=t;if(typeof n!="string"||!ow.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(uw)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),f=Qr(u.pathname,e);u.origin===a.origin&&f!=null?n=f+u.search+u.hash:o=!0}catch{Mn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hw=["POST","PUT","PATCH","DELETE"];new Set(hw);var oA=["GET",...hw];new Set(oA);var Yo=j.createContext(null);Yo.displayName="DataRouter";var ah=j.createContext(null);ah.displayName="DataRouterState";var aA=j.createContext(!1),dw=j.createContext({isTransitioning:!1});dw.displayName="ViewTransition";var lA=j.createContext(new Map);lA.displayName="Fetchers";var uA=j.createContext(null);uA.displayName="Await";var Ln=j.createContext(null);Ln.displayName="Navigation";var jl=j.createContext(null);jl.displayName="Location";var Ar=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Dp=j.createContext(null);Dp.displayName="RouteError";var fw="REACT_ROUTER_ERROR",cA="REDIRECT",hA="ROUTE_ERROR_RESPONSE";function dA(t){if(t.startsWith(`${fw}:${cA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(t){if(t.startsWith(`${fw}:${hA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rA(e.status,e.statusText,e.data)}catch{}}function pA(t,{relative:e}={}){ot(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Ln),{hash:o,pathname:a,search:u}=Ul(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:Hr([n,a])),i.createHref({pathname:f,search:u,hash:o})}function Bl(){return j.useContext(jl)!=null}function Ki(){return ot(Bl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(jl).location}var pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mw(t){j.useContext(Ln).static||j.useLayoutEffect(t)}function mA(){let{isDataRoute:t}=j.useContext(Ar);return t?RA():gA()}function gA(){ot(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Yo),{basename:e,navigator:n}=j.useContext(Ln),{matches:i}=j.useContext(Ar),{pathname:o}=Ki(),a=JSON.stringify(aw(i)),u=j.useRef(!1);return mw(()=>{u.current=!0}),j.useCallback((d,p={})=>{if(Mn(u.current,pw),!u.current)return;if(typeof d=="number"){n.go(d);return}let m=lw(d,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hr([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,o,t])}j.createContext(null);function gw(){let{matches:t}=j.useContext(Ar),e=t[t.length-1];return e?e.params:{}}function Ul(t,{relative:e}={}){let{matches:n}=j.useContext(Ar),{pathname:i}=Ki(),o=JSON.stringify(aw(n));return j.useMemo(()=>lw(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function yA(t,e){return yw(t,e)}function yw(t,e,n,i,o){var F;ot(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Ln),{matches:u}=j.useContext(Ar),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",y=f&&f.route;{let M=y&&y.path||"";_w(p,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=Ki(),S;if(e){let M=typeof e=="string"?Ls(e):e;ot(m==="/"||((F=M.pathname)==null?void 0:F.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=w;let I=S.pathname||"/",P=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=rw(t,{pathname:P});Mn(y||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=TA(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Hr([m,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Hr([m,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,i,o);return e&&$?j.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},$):$}function vA(){let t=IA(),e=iA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,u)}var _A=j.createElement(vA,null),vw=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=fA(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(Ar.Provider,{value:this.props.routeContext},j.createElement(Dp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(wA,{error:t},e):e}};vw.contextType=aA;var af=new WeakMap;function wA({children:t,error:e}){let{basename:n}=j.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=dA(e.digest);if(i){let o=af.get(e);if(o)throw o;let a=cw(i.location,n);if(uw&&!af.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw af.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function EA({routeContext:t,match:e,children:n}){let i=j.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ar.Provider,{value:t},n)}function TA(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let m=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:w,errors:S}=n,I=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||I){f=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=n&&i?(m,y)=>{var w,S;i(m,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:sA(n.matches),errorInfo:y})}:void 0;return a.reduceRight((m,y,w)=>{let S,I=!1,P=null,R=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||_A,f&&(d<0&&w===0?(_w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,R=null):d===w&&(I=!0,R=y.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),F=()=>{let M;return S?M=P:I?M=R:y.route.Component?M=j.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=m,j.createElement(EA,{match:y,routeContext:{outlet:m,matches:$,isDataRoute:n!=null},children:M})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?j.createElement(vw,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:p}):F()},null)}function Np(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(t){let e=j.useContext(Yo);return ot(e,Np(t)),e}function xA(t){let e=j.useContext(ah);return ot(e,Np(t)),e}function AA(t){let e=j.useContext(Ar);return ot(e,Np(t)),e}function bp(t){let e=AA(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CA(){return bp("useRouteId")}function IA(){var i;let t=j.useContext(Dp),e=xA("useRouteError"),n=bp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function RA(){let{router:t}=SA("useNavigate"),e=bp("useNavigate"),n=j.useRef(!1);return mw(()=>{n.current=!0}),j.useCallback(async(o,a={})=>{Mn(n.current,pw),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Cv={};function _w(t,e,n){!e&&!Cv[t]&&(Cv[t]=!0,Mn(!1,n))}j.memo(PA);function PA({routes:t,future:e,state:n,onError:i}){return yw(t,void 0,n,i,e)}function Wr(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){ot(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:f,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[f,o,a,u]);typeof n=="string"&&(n=Ls(n));let{pathname:p="/",search:m="",hash:y="",state:w=null,key:S="default"}=n,I=j.useMemo(()=>{let P=Qr(p,f);return P==null?null:{location:{pathname:P,search:m,hash:y,state:w,key:S},navigationType:i}},[f,p,m,y,w,S,i]);return Mn(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(Ln.Provider,{value:d},j.createElement(jl.Provider,{children:e,value:I}))}function VA({children:t,location:e}){return yA(Mf(t),e)}function Mf(t,e=[]){let n=[];return j.Children.forEach(t,(i,o)=>{if(!j.isValidElement(i))return;let a=[...e,o];if(i.type===j.Fragment){n.push.apply(n,Mf(i.props.children,a));return}ot(i.type===Wr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Mf(i.props.children,a)),n.push(u)}),n}var Cc="get",Ic="application/x-www-form-urlencoded";function lh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function DA(t){return lh(t)&&t.tagName.toLowerCase()==="button"}function NA(t){return lh(t)&&t.tagName.toLowerCase()==="form"}function bA(t){return lh(t)&&t.tagName.toLowerCase()==="input"}function MA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LA(t,e){return t.button===0&&(!e||e==="_self")&&!MA(t)}var yc=null;function OA(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var FA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lf(t){return t!=null&&!FA.has(t)?(Mn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):t}function jA(t,e){let n,i,o,a,u;if(NA(t)){let f=t.getAttribute("action");i=f?Qr(f,e):null,n=t.getAttribute("method")||Cc,o=lf(t.getAttribute("enctype"))||Ic,a=new FormData(t)}else if(DA(t)||bA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?Qr(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Cc,o=lf(t.getAttribute("formenctype"))||lf(f.getAttribute("enctype"))||Ic,a=new FormData(f,t),!OA()){let{name:p,type:m,value:y}=t;if(m==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,y)}}else{if(lh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cc,i=null,o=Ic,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BA(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&Qr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function UA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $A(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await UA(a,n);return u.links?u.links():[]}return[]}));return GA(i.flat(1).filter(zA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iv(t,e,n,i,o,a){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>{var m;return n[p].pathname!==d.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):a==="data"?e.filter((d,p)=>{var y;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WA(t,e,{includeHydrateFallback:n}={}){return HA(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function HA(t){return[...new Set(t)]}function KA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function GA(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(KA(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function ww(){let t=j.useContext(Yo);return Mp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qA(){let t=j.useContext(ah);return Mp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lp=j.createContext(void 0);Lp.displayName="FrameworkContext";function Ew(){let t=j.useContext(Lp);return Mp(t,"You must render this element inside a <HydratedRouter> element"),t}function QA(t,e){let n=j.useContext(Lp),[i,o]=j.useState(!1),[a,u]=j.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,w=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=$=>{$.forEach(F=>{u(F.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),j.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{o(!0)},I=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:il(f,S),onBlur:il(d,I),onMouseEnter:il(p,S),onMouseLeave:il(m,I),onTouchStart:il(y,S)}]:[!1,w,{}]}function il(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YA({page:t,...e}){let{router:n}=ww(),i=j.useMemo(()=>rw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(JA,{page:t,matches:i,...e}):null}function XA(t){let{manifest:e,routeModules:n}=Ew(),[i,o]=j.useState([]);return j.useEffect(()=>{let a=!1;return $A(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function JA({page:t,matches:e,...n}){let i=Ki(),{future:o,manifest:a,routeModules:u}=Ew(),{basename:f}=ww(),{loaderData:d,matches:p}=qA(),m=j.useMemo(()=>Iv(t,e,p,a,i,"data"),[t,e,p,a,i]),y=j.useMemo(()=>Iv(t,e,p,a,i,"assets"),[t,e,p,a,i]),w=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,R=!1;if(e.forEach(F=>{var X;let M=a.routes[F.route.id];!M||!M.hasLoader||(!m.some(Z=>Z.route.id===F.route.id)&&F.route.id in d&&((X=u[F.route.id])!=null&&X.shouldRevalidate)||M.hasClientLoader?R=!0:P.add(F.route.id))}),P.size===0)return[];let $=BA(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return R&&P.size>0&&$.searchParams.set("_routes",e.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[$.pathname+$.search]},[f,o.unstable_trailingSlashAwareDataRequests,d,i,a,m,e,t,u]),S=j.useMemo(()=>WA(y,a),[y,a]),I=XA(y);return j.createElement(j.Fragment,null,w.map(P=>j.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>j.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:R})=>j.createElement("link",{key:P,nonce:n.nonce,...R})))}function ZA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eC&&(window.__reactRouterVersion="7.12.0")}catch{}function tC({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=j.useRef();o.current==null&&(o.current=bx({window:i,v5Compat:!0}));let a=o.current,[u,f]=j.useState({action:a.action,location:a.location}),d=j.useCallback(p=>{n===!1?f(p):j.startTransition(()=>f(p))},[n]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.createElement(kA,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:d,to:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},I){let{basename:P,unstable_useTransitions:R}=j.useContext(Ln),$=typeof p=="string"&&Tw.test(p),F=cw(p,P);p=F.to;let M=pA(p,{relative:o}),[X,Z,oe]=QA(i,S),N=sC(p,{replace:u,state:f,target:d,preventScrollReset:m,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:R});function C(L){e&&e(L),L.defaultPrevented||N(L)}let k=j.createElement("a",{...S,...oe,href:F.absoluteURL||M,onClick:F.isExternal||a?e:C,ref:ZA(I,Z),target:d,"data-discover":!$&&n==="render"?"true":void 0});return X&&!$?j.createElement(j.Fragment,null,k,j.createElement(YA,{page:M})):k});en.displayName="Link";var nC=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:d,...p},m){let y=Ul(u,{relative:p.relative}),w=Ki(),S=j.useContext(ah),{navigator:I,basename:P}=j.useContext(Ln),R=S!=null&&cC(y)&&f===!0,$=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,F=w.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(F=F.toLowerCase(),M=M?M.toLowerCase():null,$=$.toLowerCase()),M&&P&&(M=Qr(M,P)||M);const X=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Z=F===$||!o&&F.startsWith($)&&F.charAt(X)==="/",oe=M!=null&&(M===$||!o&&M.startsWith($)&&M.charAt($.length)==="/"),N={isActive:Z,isPending:oe,isTransitioning:R},C=Z?e:void 0,k;typeof i=="function"?k=i(N):k=[i,Z?"active":null,oe?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return j.createElement(en,{...p,"aria-current":C,className:k,ref:m,style:L,to:u,viewTransition:f},typeof d=="function"?d(N):d)});nC.displayName="NavLink";var rC=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Cc,action:f,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},I)=>{let{unstable_useTransitions:P}=j.useContext(Ln),R=lC(),$=uC(f,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&Tw.test(f),X=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,N=(oe==null?void 0:oe.getAttribute("formmethod"))||u,C=()=>R(oe||Z.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:a,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:w});P&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:I,method:F,action:$,onSubmit:i?d:X,...S,"data-discover":!M&&t==="render"?"true":void 0})});rC.displayName="Form";function iC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(t){let e=j.useContext(Yo);return ot(e,iC(t)),e}function sC(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:d}={}){let p=mA(),m=Ki(),y=Ul(t,{relative:a});return j.useCallback(w=>{if(LA(w,e)){w.preventDefault();let S=n!==void 0?n:Tl(m)===Tl(y),I=()=>p(t,{replace:S,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f});d?j.startTransition(()=>I()):I()}},[m,p,y,n,i,e,t,o,a,u,f,d])}var oC=0,aC=()=>`__${String(++oC)}__`;function lC(){let{router:t}=Sw("useSubmit"),{basename:e}=j.useContext(Ln),n=CA(),i=t.fetch,o=t.navigate;return j.useCallback(async(a,u={})=>{let{action:f,method:d,encType:p,formData:m,body:y}=jA(a,e);if(u.navigate===!1){let w=u.fetcherKey||aC();await i(w,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function uC(t,{relative:e}={}){let{basename:n}=j.useContext(Ln),i=j.useContext(Ar);ot(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ul(t||".",{relative:e})},u=Ki();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let m=f.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hr([n,a.pathname])),Tl(a)}function cC(t,{relative:e}={}){let n=j.useContext(dw);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sw("useViewTransitionState"),o=Ul(t,{relative:e});if(!n.isTransitioning)return!1;let a=Qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fc(o.pathname,u)!=null||Fc(o.pathname,a)!=null}function hC(){return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[x.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),x.jsx("h1",{style:{color:"#1a5f2a",marginBottom:"0.5rem"},children:"Kinderbucks"}),x.jsx("h2",{style:{color:"#5a6c7d",fontWeight:"normal",marginBottom:"2rem"},children:"+ Kinderhooker"}),x.jsxs("p",{style:{fontSize:"1.1rem",marginBottom:"2rem",maxWidth:"500px",color:"#5a6c7d"},children:["Village currency verification & local business loyalty program.",x.jsx("br",{}),"Support local businesses, earn rewards!"]}),x.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[x.jsx("h3",{style:{color:"#1a5f2a",marginBottom:"1rem"},children:" Kinderhooker Loyalty"}),x.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1rem",fontSize:"0.95rem"},children:"Check in at local businesses to earn tiers and unlock Kinderbuck match bonuses!"}),x.jsx(en,{to:"/profile",className:"btn",style:{background:"#1a5f2a",width:"100%",display:"block",textAlign:"center"},children:"View My Profile"})]}),x.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"100%",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[x.jsx("h3",{style:{color:"#2c3e50",marginBottom:"1rem"},children:"Admin"}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[x.jsx(en,{to:"/admin/dashboard",className:"btn btn-secondary",style:{flex:1,textAlign:"center"},children:"Dashboard"}),x.jsx(en,{to:"/admin/businesses",className:"btn btn-secondary",style:{flex:1,textAlign:"center"},children:"Businesses"})]})]}),x.jsx("p",{style:{marginTop:"2rem",opacity:.5,fontSize:"0.85rem"},children:"Scan a Kinderbuck or business QR code to get started"})]})}const xw=j.createContext({});function dC(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Aw=typeof window<"u",fC=Aw?j.useLayoutEffect:j.useEffect,Op=j.createContext(null);function Fp(t,e){t.indexOf(e)===-1&&t.push(e)}function jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Tr=(t,e,n)=>n>e?e:n<t?t:n;let Bp=()=>{};const Yr={},Cw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Iw(t){return typeof t=="object"&&t!==null}const Rw=t=>/^0[^.\s]+$/u.test(t);function Up(t){let e;return()=>(e===void 0&&(e=t()),e)}const bn=t=>t,pC=(t,e)=>n=>e(t(n)),zl=(...t)=>t.reduce(pC),Sl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class zp{constructor(){this.subscriptions=[]}add(e){return Fp(this.subscriptions,e),()=>jp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=t=>t*1e3,Nn=t=>t/1e3;function Pw(t,e){return e?t*(1e3/e):0}const kw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mC=1e-7,gC=12;function yC(t,e,n,i,o){let a,u,f=0;do u=e+(n-e)/2,a=kw(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>mC&&++f<gC);return u}function $l(t,e,n,i){if(t===e&&n===i)return bn;const o=a=>yC(a,0,1,t,n);return a=>a===0||a===1?a:kw(o(a),e,i)}const Vw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Dw=t=>e=>1-t(1-e),Nw=$l(.33,1.53,.69,.99),$p=Dw(Nw),bw=Vw($p),Mw=t=>(t*=2)<1?.5*$p(t):.5*(2-Math.pow(2,-10*(t-1))),Wp=t=>1-Math.sin(Math.acos(t)),Lw=Dw(Wp),Ow=Vw(Wp),vC=$l(.42,0,1,1),_C=$l(0,0,.58,1),Fw=$l(.42,0,.58,1),wC=t=>Array.isArray(t)&&typeof t[0]!="number",jw=t=>Array.isArray(t)&&typeof t[0]=="number",EC={linear:bn,easeIn:vC,easeInOut:Fw,easeOut:_C,circIn:Wp,circInOut:Ow,circOut:Lw,backIn:$p,backInOut:bw,backOut:Nw,anticipate:Mw},TC=t=>typeof t=="string",Rv=t=>{if(jw(t)){Bp(t.length===4);const[e,n,i,o]=t;return $l(e,n,i,o)}else if(TC(t))return EC[t];return t},vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SC(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(m){u.has(m)&&(p.schedule(m),t()),m(f)}const p={schedule:(m,y=!1,w=!1)=>{const I=w&&o?n:i;return y&&u.add(m),I.has(m)||I.add(m),m},cancel:m=>{i.delete(m),u.delete(m)},process:m=>{if(f=m,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const xC=40;function Bw(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=vc.reduce((M,X)=>(M[X]=SC(a),M),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:m,update:y,preRender:w,render:S,postRender:I}=u,P=()=>{const M=Yr.useManualTiming?o.timestamp:performance.now();n=!1,Yr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(M-o.timestamp,xC),1)),o.timestamp=M,o.isProcessing=!0,f.process(o),d.process(o),p.process(o),m.process(o),y.process(o),w.process(o),S.process(o),I.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(P))},R=()=>{n=!0,i=!0,o.isProcessing||t(P)};return{schedule:vc.reduce((M,X)=>{const Z=u[X];return M[X]=(oe,N=!1,C=!1)=>(n||R(),Z.schedule(oe,N,C)),M},{}),cancel:M=>{for(let X=0;X<vc.length;X++)u[vc[X]].cancel(M)},state:o,steps:u}}const{schedule:tt,cancel:Fi,state:Ft,steps:uf}=Bw(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0);let Rc;function AC(){Rc=void 0}const tn={now:()=>(Rc===void 0&&tn.set(Ft.isProcessing||Yr.useManualTiming?Ft.timestamp:performance.now()),Rc),set:t=>{Rc=t,queueMicrotask(AC)}},Uw=t=>e=>typeof e=="string"&&e.startsWith(t),zw=Uw("--"),CC=Uw("var(--"),Hp=t=>CC(t)?IC.test(t.split("/*")[0].trim()):!1,IC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Pv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xl={...Xo,transform:t=>Tr(0,1,t)},_c={...Xo,default:1},fl=t=>Math.round(t*1e5)/1e5,Kp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RC(t){return t==null}const PC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gp=(t,e)=>n=>!!(typeof n=="string"&&PC.test(n)&&n.startsWith(t)||e&&!RC(n)&&Object.prototype.hasOwnProperty.call(n,e)),$w=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,f]=i.match(Kp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},kC=t=>Tr(0,255,t),cf={...Xo,transform:t=>Math.round(kC(t))},Is={test:Gp("rgb","red"),parse:$w("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+cf.transform(t)+", "+cf.transform(e)+", "+cf.transform(n)+", "+fl(xl.transform(i))+")"};function VC(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Lf={test:Gp("#"),parse:VC,transform:Is.transform},Wl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vi=Wl("deg"),vr=Wl("%"),he=Wl("px"),DC=Wl("vh"),NC=Wl("vw"),kv={...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)},Do={test:Gp("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+vr.transform(fl(e))+", "+vr.transform(fl(n))+", "+fl(xl.transform(i))+")"},Tt={test:t=>Is.test(t)||Lf.test(t)||Do.test(t),parse:t=>Is.test(t)?Is.parse(t):Do.test(t)?Do.parse(t):Lf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Is.transform(t):Do.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},bC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MC(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Kp))==null?void 0:e.length)||0)+(((n=t.match(bC))==null?void 0:n.length)||0)>0}const Ww="number",Hw="color",LC="var",OC="var(",Vv="${}",FC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Al(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(FC,d=>(Tt.test(d)?(i.color.push(a),o.push(Hw),n.push(Tt.parse(d))):d.startsWith(OC)?(i.var.push(a),o.push(LC),n.push(d)):(i.number.push(a),o.push(Ww),n.push(parseFloat(d))),++a,Vv)).split(Vv);return{values:n,split:f,indexes:i,types:o}}function Kw(t){return Al(t).values}function Gw(t){const{split:e,types:n}=Al(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const f=n[u];f===Ww?a+=fl(o[u]):f===Hw?a+=Tt.transform(o[u]):a+=o[u]}return a}}const jC=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function BC(t){const e=Kw(t);return Gw(t)(e.map(jC))}const ji={test:MC,parse:Kw,createTransformer:Gw,getAnimatableNone:BC};function hf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UC({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;o=hf(d,f,t+1/3),a=hf(d,f,t),u=hf(d,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function jc(t,e){return n=>n>0?e:t}const st=(t,e,n)=>t+(e-t)*n,df=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},zC=[Lf,Is,Do],$C=t=>zC.find(e=>e.test(t));function Dv(t){const e=$C(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=UC(n)),n}const Nv=(t,e)=>{const n=Dv(t),i=Dv(e);if(!n||!i)return jc(t,e);const o={...n};return a=>(o.red=df(n.red,i.red,a),o.green=df(n.green,i.green,a),o.blue=df(n.blue,i.blue,a),o.alpha=st(n.alpha,i.alpha,a),Is.transform(o))},Of=new Set(["none","hidden"]);function WC(t,e){return Of.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HC(t,e){return n=>st(t,e,n)}function qp(t){return typeof t=="number"?HC:typeof t=="string"?Hp(t)?jc:Tt.test(t)?Nv:qC:Array.isArray(t)?qw:typeof t=="object"?Tt.test(t)?Nv:KC:jc}function qw(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>qp(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function KC(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=qp(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function GC(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],f=t.values[u]??0;n[o]=f,i[a]++}return n}const qC=(t,e)=>{const n=ji.createTransformer(e),i=Al(t),o=Al(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Of.has(t)&&!o.values.length||Of.has(e)&&!i.values.length?WC(t,e):zl(qw(GC(i,o),o.values),n):jc(t,e)};function Qw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):qp(t)(t,e)}const QC=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>Fi(e),now:()=>Ft.isProcessing?Ft.timestamp:tn.now()}},Yw=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Bc=2e4;function Qp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Bc;)e+=n,i=t.next(e);return e>=Bc?1/0:e}function YC(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Qp(i),Bc);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Nn(o)}}const XC=5;function Xw(t,e,n){const i=Math.max(e-XC,0);return Pw(n-t(i),e-i)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ff=.001;function JC({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:i=ht.mass}){let o,a,u=1-e;u=Tr(ht.minDamping,ht.maxDamping,u),t=Tr(ht.minDuration,ht.maxDuration,Nn(t)),u<1?(o=p=>{const m=p*u,y=m*t,w=m-n,S=Ff(p,u),I=Math.exp(-y);return ff-w/S*I},a=p=>{const y=p*u*t,w=y*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,I=Math.exp(-y),P=Ff(Math.pow(p,2),u);return(-o(p)+ff>0?-1:1)*((w-S)*I)/P}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-ff+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const f=5/t,d=eI(o,a,f);if(t=Kr(t),isNaN(d))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const ZC=12;function eI(t,e,n){let i=n;for(let o=1;o<ZC;o++)i=i-t(i)/e(i);return i}function Ff(t,e){return t*Math.sqrt(1-e*e)}const tI=["duration","bounce"],nI=["stiffness","damping","mass"];function bv(t,e){return e.some(n=>t[n]!==void 0)}function rI(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!bv(t,nI)&&bv(t,tI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Tr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ht.mass,stiffness:o,damping:a}}else{const n=JC(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function Uc(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:y,velocity:w,isResolvedFromDuration:S}=rI({...n,velocity:-Nn(n.velocity||0)}),I=w||0,P=p/(2*Math.sqrt(d*m)),R=u-a,$=Nn(Math.sqrt(d/m)),F=Math.abs(R)<5;i||(i=F?ht.restSpeed.granular:ht.restSpeed.default),o||(o=F?ht.restDelta.granular:ht.restDelta.default);let M;if(P<1){const Z=Ff($,P);M=oe=>{const N=Math.exp(-P*$*oe);return u-N*((I+P*$*R)/Z*Math.sin(Z*oe)+R*Math.cos(Z*oe))}}else if(P===1)M=Z=>u-Math.exp(-$*Z)*(R+(I+$*R)*Z);else{const Z=$*Math.sqrt(P*P-1);M=oe=>{const N=Math.exp(-P*$*oe),C=Math.min(Z*oe,300);return u-N*((I+P*$*R)*Math.sinh(C)+Z*R*Math.cosh(C))/Z}}const X={calculatedDuration:S&&y||null,next:Z=>{const oe=M(Z);if(S)f.done=Z>=y;else{let N=Z===0?I:0;P<1&&(N=Z===0?Kr(I):Xw(M,Z,oe));const C=Math.abs(N)<=i,k=Math.abs(u-oe)<=o;f.done=C&&k}return f.value=f.done?u:oe,f},toString:()=>{const Z=Math.min(Qp(X),Bc),oe=Yw(N=>X.next(Z*N).value,Z,30);return Z+"ms "+oe},toTransition:()=>{}};return X}Uc.applyToOptions=t=>{const e=YC(t,100,Uc);return t.ease=e.ease,t.duration=Kr(e.duration),t.type="keyframes",t};function jf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:d,restDelta:p=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},S=C=>f!==void 0&&C<f||d!==void 0&&C>d,I=C=>f===void 0?d:d===void 0||Math.abs(f-C)<Math.abs(d-C)?f:d;let P=n*e;const R=y+P,$=u===void 0?R:u(R);$!==R&&(P=$-y);const F=C=>-P*Math.exp(-C/i),M=C=>$+F(C),X=C=>{const k=F(C),L=M(C);w.done=Math.abs(k)<=p,w.value=w.done?$:L};let Z,oe;const N=C=>{S(w.value)&&(Z=C,oe=Uc({keyframes:[w.value,I(w.value)],velocity:Xw(M,C,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return N(0),{calculatedDuration:null,next:C=>{let k=!1;return!oe&&Z===void 0&&(k=!0,X(C),N(C)),Z!==void 0&&C>=Z?oe.next(C-Z):(!k&&X(C),w)}}}function iI(t,e,n){const i=[],o=n||Yr.mix||Qw,a=t.length-1;for(let u=0;u<a;u++){let f=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||bn:e;f=zl(d,f)}i.push(f)}return i}function sI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(Bp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=iI(e,i,o),d=f.length,p=m=>{if(u&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=Sl(t[y],t[y+1],m);return f[y](w)};return n?m=>p(Tr(t[0],t[a-1],m)):p}function oI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Sl(0,e,i);t.push(st(n,1,o))}}function aI(t){const e=[0];return oI(e,t.length-1),e}function lI(t,e){return t.map(n=>n*e)}function uI(t,e){return t.map(()=>e||Fw).splice(0,t.length-1)}function pl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=wC(i)?i.map(Rv):Rv(i),a={done:!1,value:e[0]},u=lI(n&&n.length===e.length?n:aI(e),t),f=sI(u,e,{ease:Array.isArray(o)?o:uI(e,o)});return{calculatedDuration:t,next:d=>(a.value=f(d),a.done=d>=t,a)}}const cI=t=>t!==null;function Yp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(cI),f=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const hI={decay:jf,inertia:jf,tween:pl,keyframes:pl,spring:Uc};function Jw(t){typeof t.type=="string"&&(t.type=hI[t.type])}class Xp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dI=t=>t/100;class Jp extends Xp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Jw(e);const{type:n=pl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const d=n||pl;d!==pl&&typeof f[0]!="number"&&(this.mixKeyframes=zl(dI,Qw(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Qp(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:w,repeatDelay:S,type:I,onUpdate:P,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,X=i;if(y){const C=Math.min(this.currentTime,o)/f;let k=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&k--,k=Math.min(k,y+1),!!(k%2)&&(w==="reverse"?(L=1-L,S&&(L-=S/f)):w==="mirror"&&(X=u)),M=Tr(0,1,L)*f}const Z=F?{done:!1,value:m[0]}:X.next(M);a&&(Z.value=a(Z.value));let{done:oe}=Z;!F&&d!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return N&&I!==jf&&(Z.value=Yp(m,this.options,R,this.speed)),P&&P(Z.value),N&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return Nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nn(e)}get time(){return Nn(this.currentTime)}set time(e){var n;e=Kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=QC,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Rs=t=>t*180/Math.PI,Bf=t=>{const e=Rs(Math.atan2(t[1],t[0]));return Uf(e)},pI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bf,rotateZ:Bf,skewX:t=>Rs(Math.atan(t[1])),skewY:t=>Rs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Uf=t=>(t=t%360,t<0&&(t+=360),t),Mv=Bf,Lv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ov=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lv,scaleY:Ov,scale:t=>(Lv(t)+Ov(t))/2,rotateX:t=>Uf(Rs(Math.atan2(t[6],t[5]))),rotateY:t=>Uf(Rs(Math.atan2(-t[2],t[0]))),rotateZ:Mv,rotate:Mv,skewX:t=>Rs(Math.atan(t[4])),skewY:t=>Rs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zf(t){return t.includes("scale")?1:0}function $f(t,e){if(!t||t==="none")return zf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=mI,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=pI,o=f}if(!o)return zf(e);const a=i[e],u=o[1].split(",").map(yI);return typeof a=="function"?a(u):u[a]}const gI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $f(n,e)};function yI(t){return parseFloat(t.trim())}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Jo),Fv=t=>t===Xo||t===he,vI=new Set(["x","y","z"]),_I=Jo.filter(t=>!vI.has(t));function wI(t){const e=[];return _I.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Di={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$f(e,"x"),y:(t,{transform:e})=>$f(e,"y")};Di.translateX=Di.x;Di.translateY=Di.y;const ks=new Set;let Wf=!1,Hf=!1,Kf=!1;function Zw(){if(Hf){const t=Array.from(ks).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=wI(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var f;(f=i.getValue(a))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hf=!1,Wf=!1,ks.forEach(t=>t.complete(Kf)),ks.clear()}function eE(){ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hf=!0)})}function EI(){Kf=!0,eE(),Zw(),Kf=!1}class Zp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ks.add(this),Wf||(Wf=!0,tt.read(eE),tt.resolveKeyframes(Zw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}fI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ks.delete(this)}cancel(){this.state==="scheduled"&&(ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TI=t=>t.startsWith("--");function SI(t,e,n){TI(e)?t.style.setProperty(e,n):t.style[e]=n}const xI=Up(()=>window.ScrollTimeline!==void 0),AI={};function CI(t,e){const n=Up(t);return()=>AI[e]??n()}const tE=CI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),al=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,jv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function nE(t,e){if(t)return typeof t=="function"?tE()?Yw(t,e):"ease-out":jw(t)?al(t):Array.isArray(t)?t.map(n=>nE(n,e)||jv.easeOut):jv[t]}function II(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:d}={},p=void 0){const m={[e]:n};d&&(m.offset=d);const y=nE(f,o);Array.isArray(y)&&(m.easing=y);const w={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function rE(t){return typeof t=="function"&&"applyToOptions"in t}function RI({type:t,...e}){return rE(t)&&tE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PI extends Xp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Bp(typeof e.type!="string");const p=RI(e);this.animation=II(n,i,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Yp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(m):SI(n,i,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nn(e)}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xI()?(this.animation.timeline=e,bn):n(this)}}const iE={anticipate:Mw,backInOut:bw,circInOut:Ow};function kI(t){return t in iE}function VI(t){typeof t.ease=="string"&&kI(t.ease)&&(t.ease=iE[t.ease])}const pf=10;class DI extends PI{constructor(e){VI(e),Jw(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Jp({...u,autoplay:!1}),d=Math.max(pf,tn.now()-this.startTime),p=Tr(0,pf,d-pf);n.setWithVelocity(f.sample(Math.max(0,d-p)).value,f.sample(d).value,p),f.stop()}}const Bv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ji.test(t)||t==="0")&&!t.startsWith("url("));function NI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bI(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Bv(o,e),f=Bv(a,e);return!u||!f?!1:NI(t)||(n==="spring"||rE(n))&&i}function Gf(t){t.duration=0,t.type="keyframes"}const MI=new Set(["opacity","clipPath","filter","transform"]),LI=Up(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OI(t){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return LI()&&n&&MI.has(n)&&(n!=="transform"||!p)&&!d&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const FI=40;class jI extends Xp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:d,motionValue:p,element:m,...y}){var I;super(),this.stop=()=>{var P,R;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=tn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:d,motionValue:p,element:m,...y},S=(m==null?void 0:m.KeyframeResolver)||Zp;this.keyframeResolver=new S(f,(P,R,$)=>this.onKeyframesResolved(P,R,w,!$),d,p,m),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,i,o){var R,$;this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:d,isHandoff:p,onUpdate:m}=i;this.resolvedAt=tn.now(),bI(e,a,u,f)||((Yr.instantAnimations||!d)&&(m==null||m(Yp(e,i,n))),e[0]=e[e.length-1],Gf(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>FI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&OI(w),I=($=(R=w.motionValue)==null?void 0:R.owner)==null?void 0:$.current,P=S?new DI({...w,element:I}):new Jp(w);P.finished.then(()=>{this.notifyFinished()}).catch(bn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),EI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function sE(t,e,n,i=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:f-a*i}const BI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UI(t){const e=BI.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function oE(t,e,n=1){const[i,o]=UI(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return Cw(u)?parseFloat(u):u}return Hp(o)?oE(o,e,n+1):o}const zI={type:"spring",stiffness:500,damping:25,restSpeed:10},$I=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WI={type:"keyframes",duration:.8},HI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KI=(t,{keyframes:e})=>e.length>2?WI:Zo.has(t)?t.startsWith("scale")?$I(e[1]):zI:HI,GI=t=>t!==null;function qI(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(GI),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function em(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function QI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const tm=(t,e,n,i={},o,a)=>u=>{const f=em(i,t)||{},d=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Kr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:o};QI(f)||Object.assign(m,KI(t,m)),m.duration&&(m.duration=Kr(m.duration)),m.repeatDelay&&(m.repeatDelay=Kr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Gf(m),m.delay===0&&(y=!0)),(Yr.instantAnimations||Yr.skipAnimations)&&(y=!0,Gf(m),m.delay=0),m.allowFlatten=!f.type&&!f.ease,y&&!a&&e.get()!==void 0){const w=qI(m.keyframes,f);if(w!==void 0){tt.update(()=>{m.onUpdate(w),m.onComplete()});return}}return f.isSync?new Jp(m):new jI(m)};function Uv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function nm(t,e,n,i){if(typeof e=="function"){const[o,a]=Uv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Uv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function Oo(t,e,n){const i=t.getProps();return nm(i,e,n!==void 0?n:i.custom,t)}const aE=new Set(["width","height","top","left","right","bottom",...Jo]),zv=30,YI=t=>!isNaN(parseFloat(t));class XI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zp);const i=this.events[e].add(n);return e==="change"?()=>{i(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return Pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(t,e){return new XI(t,e)}const qf=t=>Array.isArray(t);function JI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zo(n))}function ZI(t){return qf(t)?t[t.length-1]||0:t}function eR(t,e){const n=Oo(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const f=ZI(a[u]);JI(t,u,f)}}const Yt=t=>!!(t&&t.getVelocity);function tR(t){return!!(Yt(t)&&t.add)}function Qf(t,e){const n=t.getValue("willChange");if(tR(n))return n.add(e);if(!n&&Yr.WillChange){const i=new Yr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function rm(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const nR="framerAppearId",lE="data-"+rm(nR);function uE(t){return t.props[lE]}function rR({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function cE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(a=i);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in f){const y=t.getValue(m,t.latestValues[m]??null),w=f[m];if(w===void 0||p&&rR(p,m))continue;const S={delay:n,...em(a||{},m)},I=y.get();if(I!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===I&&!S.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const $=uE(t);if($){const F=window.MotionHandoffAnimation($,m,tt);F!==null&&(S.startTime=F,P=!0)}}Qf(t,m),y.start(tm(m,y,w,t.shouldReduceMotion&&aE.has(m)?{type:!1}:S,t,P));const R=y.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{tt.update(()=>{u&&eR(t,u)})}),d}function Yf(t,e,n={}){var d;const i=Oo(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(cE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=o;return iR(t,e,p,m,y,w,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,m]=f==="beforeChildren"?[a,u]:[u,a];return p().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function iR(t,e,n=0,i=0,o=0,a=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(Yf(d,e,{...u,delay:n+(typeof i=="function"?0:i)+sE(t.variantChildren,d,i,o,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function sR(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Yf(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Yf(t,e,n);else{const o=typeof e=="function"?Oo(t,e,n.custom):e;i=Promise.all(cE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const oR={test:t=>t==="auto",parse:t=>t},hE=t=>e=>e.test(t),dE=[Xo,he,vr,Vi,NC,DC,oR],$v=t=>dE.find(hE(t));function aR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Rw(t):!0}const lR=new Set(["brightness","contrast","saturate","opacity"]);function uR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Kp)||[];if(!i)return t;const o=n.replace(i,"");let a=lR.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const cR=/\b([a-z-]*)\(.*?\)/gu,Xf={...ji,getAnimatableNone:t=>{const e=t.match(cR);return e?e.map(uR).join(" "):t}},Wv={...Xo,transform:Math.round},hR={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:_c,scaleX:_c,scaleY:_c,scaleZ:_c,skew:Vi,skewX:Vi,skewY:Vi,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:xl,originX:kv,originY:kv,originZ:he},im={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,inset:he,insetBlock:he,insetBlockStart:he,insetBlockEnd:he,insetInline:he,insetInlineStart:he,insetInlineEnd:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,paddingBlock:he,paddingBlockStart:he,paddingBlockEnd:he,paddingInline:he,paddingInlineStart:he,paddingInlineEnd:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,marginBlock:he,marginBlockStart:he,marginBlockEnd:he,marginInline:he,marginInlineStart:he,marginInlineEnd:he,backgroundPositionX:he,backgroundPositionY:he,...hR,zIndex:Wv,fillOpacity:xl,strokeOpacity:xl,numOctaves:Wv},dR={...im,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Xf,WebkitFilter:Xf},fE=t=>dR[t];function pE(t,e){let n=fE(t);return n!==Xf&&(n=ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fR=new Set(["auto","none","0"]);function pR(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!fR.has(a)&&Al(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=pE(n,o)}class mR extends Zp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),Hp(y))){const w=oE(y,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!aE.has(i)||e.length!==2)return;const[o,a]=e,u=$v(o),f=$v(a),d=Pv(o),p=Pv(a);if(d!==p&&Di[i]){this.needsMeasurement=!0;return}if(u!==f)if(Fv(u)&&Fv(f))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else Di[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||aR(e[o]))&&i.push(o);i.length&&pR(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Di[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Di[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function gR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const mE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yR(t){return Iw(t)&&"offsetHeight"in t}const{schedule:sm}=Bw(queueMicrotask,!1),qn={x:!1,y:!1};function gE(){return qn.x||qn.y}function vR(t){return t==="x"||t==="y"?qn[t]?null:(qn[t]=!0,()=>{qn[t]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function yE(t,e){const n=gR(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Hv(t){return!(t.pointerType==="touch"||gE())}function _R(t,e,n={}){const[i,o,a]=yE(t,n),u=f=>{if(!Hv(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const m=y=>{Hv(y)&&(p(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const vE=(t,e)=>e?t===e?!0:vE(t,e.parentElement):!1,om=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _E(t){return wR.has(t.tagName)||t.isContentEditable===!0}const Pc=new WeakSet;function Kv(t){return e=>{e.key==="Enter"&&t(e)}}function mf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ER=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Kv(()=>{if(Pc.has(n))return;mf(n,"down");const o=Kv(()=>{mf(n,"up")}),a=()=>mf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Gv(t){return om(t)&&!gE()}function TR(t,e,n={}){const[i,o,a]=yE(t,n),u=f=>{const d=f.currentTarget;if(!Gv(f))return;Pc.add(d);const p=e(d,f),m=(S,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Pc.has(d)&&Pc.delete(d),Gv(S)&&typeof p=="function"&&p(S,{success:I})},y=S=>{m(S,d===window||d===document||n.useGlobalTarget||vE(d,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),yR(f)&&(f.addEventListener("focus",p=>ER(p,o)),!_E(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function wE(t){return Iw(t)&&"ownerSVGElement"in t}function SR(t){return wE(t)&&t.tagName==="svg"}const xR=[...dE,Tt,ji],AR=t=>xR.find(hE(t)),qv=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:qv(),y:qv()}),Qv=()=>({min:0,max:0}),It=()=>({x:Qv(),y:Qv()}),Jf={current:null},EE={current:!1},CR=typeof window<"u";function IR(){if(EE.current=!0,!!CR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jf.current=t.matches;t.addEventListener("change",e),e()}else Jf.current=!1}const RR=new WeakMap;function uh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cl(t){return typeof t=="string"||Array.isArray(t)}const am=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lm=["initial",...am];function ch(t){return uh(t.animate)||lm.some(e=>Cl(t[e]))}function TE(t){return!!(ch(t)||t.variants)}function PR(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Yt(o))t.addValue(i,o);else if(Yt(a))t.addValue(i,zo(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,zo(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Yv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zc={};function SE(t){zc=t}function kR(){return zc}class VR{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=tn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,tt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=ch(n),this.isVariantNode=TE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const S=y[w];d[w]!==void 0&&Yt(S)&&S.set(d[w])}}mount(e){var n;this.current=e,RR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(EE.current||IR(),this.shouldReduceMotion=Jf.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Zo.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&tt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zc){const n=zc[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Yv.length;i++){const o=Yv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=PR(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=zo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Cw(i)||Rw(i))?i=parseFloat(i):!AR(i)&&ji.test(n)&&(i=pE(e,n)),this.setBaseTarget(e,Yt(i)?i.get():i)),Yt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=nm(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Yt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sm.render(this.render)}}class xE extends VR{constructor(){super(...arguments),this.KeyframeResolver=mR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function DR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function gf(t){return t===void 0||t===1}function Zf({scale:t,scaleX:e,scaleY:n}){return!gf(t)||!gf(e)||!gf(n)}function As(t){return Zf(t)||CE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CE(t){return Xv(t.x)||Xv(t.y)}function Xv(t){return t&&t!=="0%"}function $c(t,e,n){const i=t-n,o=e*i;return n+o}function Jv(t,e,n,i,o){return o!==void 0&&(t=$c(t,o,i)),$c(t,n,i)+e}function ep(t,e=0,n=1,i,o){t.min=Jv(t.min,e,n,i,o),t.max=Jv(t.max,e,n,i,o)}function IE(t,{x:e,y:n}){ep(t.x,e.translate,e.scale,e.originPoint),ep(t.y,n.translate,n.scale,n.originPoint)}const Zv=.999999999999,e0=1.0000000000001;function bR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=n[f],u=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Mo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,IE(t,u)),i&&As(a.latestValues)&&Mo(t,a.latestValues))}e.x<e0&&e.x>Zv&&(e.x=1),e.y<e0&&e.y>Zv&&(e.y=1)}function bo(t,e){t.min=t.min+e,t.max=t.max+e}function t0(t,e,n,i,o=.5){const a=st(t.min,t.max,o);ep(t,e,n,a,i)}function Mo(t,e){t0(t.x,e.x,e.scaleX,e.scale,e.originX),t0(t.y,e.y,e.scaleY,e.scale,e.originY)}function RE(t,e){return AE(NR(t.getBoundingClientRect(),e))}function MR(t,e,n){const i=RE(t,n),{scroll:o}=e;return o&&(bo(i.x,o.offset.x),bo(i.y,o.offset.y)),i}const LR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OR=Jo.length;function FR(t,e,n){let i="",o=!0;for(let a=0;a<OR;a++){const u=Jo[a],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=mE(f,im[u]);if(!d){o=!1;const m=LR[u]||u;i+=`${m}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function um(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,f=!1;for(const d in e){const p=e[d];if(Zo.has(d)){u=!0;continue}else if(zw(d)){o[d]=p;continue}else{const m=mE(p,im[d]);d.startsWith("origin")?(f=!0,a[d]=m):i[d]=m}}if(e.transform||(u||n?i.transform=FR(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}function PE(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function n0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=n0(t,e.target.x),i=n0(t,e.target.y);return`${n}% ${i}%`}},jR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=ji.parse(t);if(o.length>5)return i;const a=ji.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const p=st(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}},tp={borderRadius:{...sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:jR};function kE(t,{layout:e,layoutId:n}){return Zo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tp[t]||t==="opacity")}function cm(t,e,n){var u;const i=t.style,o=e==null?void 0:e.style,a={};if(!i)return a;for(const f in i)(Yt(i[f])||o&&Yt(o[f])||kE(f,t)||((u=n==null?void 0:n.getValue(f))==null?void 0:u.liveStyle)!==void 0)&&(a[f]=i[f]);return a}function BR(t){return window.getComputedStyle(t)}class UR extends xE{constructor(){super(...arguments),this.type="html",this.renderInstance=PE}readValueFromInstance(e,n){var i;if(Zo.has(n))return(i=this.projection)!=null&&i.isProjecting?zf(n):gI(e,n);{const o=BR(e),a=(zw(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RE(e,n)}build(e,n,i){um(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return cm(e,n,i)}}const zR={offset:"stroke-dashoffset",array:"stroke-dasharray"},$R={offset:"strokeDashoffset",array:"strokeDasharray"};function WR(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?zR:$R;t[a.offset]=he.transform(-i);const u=he.transform(e),f=he.transform(n);t[a.array]=`${u} ${f}`}const HR=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function VE(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},d,p,m){if(um(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox);for(const S of HR)y[S]!==void 0&&(w[S]=y[S],delete y[S]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&WR(y,o,a,u,!1)}const DE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),NE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KR(t,e,n,i){PE(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(DE.has(o)?o:rm(o),e.attrs[o])}function bE(t,e,n){const i=cm(t,e,n);for(const o in t)if(Yt(t[o])||Yt(e[o])){const a=Jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}class GR extends xE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zo.has(n)){const i=fE(n);return i&&i.default||0}return n=DE.has(n)?n:rm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return bE(e,n,i)}build(e,n,i){VE(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){KR(e,n,i,o)}mount(e){this.isSVGTag=NE(e.tagName),super.mount(e)}}const qR=lm.length;function ME(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ME(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qR;n++){const i=lm[n],o=t.props[i];(Cl(o)||o===!1)&&(e[i]=o)}return e}function LE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const QR=[...am].reverse(),YR=am.length;function XR(t){return e=>Promise.all(e.map(({animation:n,options:i})=>sR(t,n,i)))}function JR(t){let e=XR(t),n=r0(),i=!0;const o=d=>(p,m)=>{var w;const y=Oo(t,m,d==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(y){const{transition:S,transitionEnd:I,...P}=y;p={...p,...P,...I}}return p};function a(d){e=d(t)}function u(d){const{props:p}=t,m=ME(t.parent)||{},y=[],w=new Set;let S={},I=1/0;for(let R=0;R<YR;R++){const $=QR[R],F=n[$],M=p[$]!==void 0?p[$]:m[$],X=Cl(M),Z=$===d?F.isActive:null;Z===!1&&(I=R);let oe=M===m[$]&&M!==p[$]&&X;if(oe&&i&&t.manuallyAnimateOnMount&&(oe=!1),F.protectedKeys={...S},!F.isActive&&Z===null||!M&&!F.prevProp||uh(M)||typeof M=="boolean")continue;const N=ZR(F.prevProp,M);let C=N||$===d&&F.isActive&&!oe&&X||R>I&&X,k=!1;const L=Array.isArray(M)?M:[M];let b=L.reduce(o($),{});Z===!1&&(b={});const{prevResolvedValues:z={}}=F,D={...z,...b},Pe=Ee=>{C=!0,w.has(Ee)&&(k=!0,w.delete(Ee)),F.needsAnimating[Ee]=!0;const re=t.getValue(Ee);re&&(re.liveStyle=!1)};for(const Ee in D){const re=b[Ee],fe=z[Ee];if(S.hasOwnProperty(Ee))continue;let ae=!1;qf(re)&&qf(fe)?ae=!LE(re,fe):ae=re!==fe,ae?re!=null?Pe(Ee):w.add(Ee):re!==void 0&&w.has(Ee)?Pe(Ee):F.protectedKeys[Ee]=!0}F.prevProp=M,F.prevResolvedValues=b,F.isActive&&(S={...S,...b}),i&&t.blockInitialAnimation&&(C=!1);const Ue=oe&&N;C&&(!Ue||k)&&y.push(...L.map(Ee=>{const re={type:$};if(typeof Ee=="string"&&i&&!Ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=Oo(fe,Ee);if(fe.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};re.delay=sE(fe.enteringChildren,t,U)}}return{animation:Ee,options:re}}))}if(w.size){const R={};if(typeof p.initial!="boolean"){const $=Oo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);$&&$.transition&&(R.transition=$.transition)}w.forEach($=>{const F=t.getBaseTarget($),M=t.getValue($);M&&(M.liveStyle=!0),R[$]=F??null}),y.push({animation:R})}let P=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(y):Promise.resolve()}function f(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(d,p)}),n[d].isActive=p;const m=u(d);for(const w in n)n[w].protectedKeys={};return m}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=r0()}}}function ZR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LE(e,t):!1}function xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r0(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}function i0(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){i0(t.x,e.x),i0(t.y,e.y)}function s0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const OE=1e-4,eP=1-OE,tP=1+OE,FE=.01,nP=0-FE,rP=0+FE;function nn(t){return t.max-t.min}function iP(t,e,n){return Math.abs(t-e)<=n}function o0(t,e,n,i=.5){t.origin=i,t.originPoint=st(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eP&&t.scale<=tP||isNaN(t.scale))&&(t.scale=1),(t.translate>=nP&&t.translate<=rP||isNaN(t.translate))&&(t.translate=0)}function ml(t,e,n,i){o0(t.x,e.x,n.x,i?i.originX:void 0),o0(t.y,e.y,n.y,i?i.originY:void 0)}function a0(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function sP(t,e,n){a0(t.x,e.x,n.x),a0(t.y,e.y,n.y)}function l0(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function Wc(t,e,n){l0(t.x,e.x,n.x),l0(t.y,e.y,n.y)}function u0(t,e,n,i,o){return t-=e,t=$c(t,1/n,i),o!==void 0&&(t=$c(t,1/o,i)),t}function oP(t,e=0,n=1,i=.5,o,a=t,u=t){if(vr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=st(a.min,a.max,i);t===a&&(f-=e),t.min=u0(t.min,e,n,f,o),t.max=u0(t.max,e,n,f,o)}function c0(t,e,[n,i,o],a,u){oP(t,e[n],e[i],e[o],e.scale,a,u)}const aP=["x","scaleX","originX"],lP=["y","scaleY","originY"];function h0(t,e,n,i){c0(t.x,e,aP,n?n.x:void 0,i?i.x:void 0),c0(t.y,e,lP,n?n.y:void 0,i?i.y:void 0)}function d0(t){return t.translate===0&&t.scale===1}function jE(t){return d0(t.x)&&d0(t.y)}function f0(t,e){return t.min===e.min&&t.max===e.max}function uP(t,e){return f0(t.x,e.x)&&f0(t.y,e.y)}function p0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BE(t,e){return p0(t.x,e.x)&&p0(t.y,e.y)}function m0(t){return nn(t.x)/nn(t.y)}function g0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vn(t){return[t("x"),t("y")]}function cP(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:w,skewX:S,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),I&&(i+=`skewY(${I}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const UE=["TopLeft","TopRight","BottomLeft","BottomRight"],hP=UE.length,y0=t=>typeof t=="string"?parseFloat(t):t,v0=t=>typeof t=="number"||he.test(t);function dP(t,e,n,i,o,a){o?(t.opacity=st(0,n.opacity??1,fP(i)),t.opacityExit=st(e.opacity??1,0,pP(i))):a&&(t.opacity=st(e.opacity??1,n.opacity??1,i));for(let u=0;u<hP;u++){const f=`border${UE[u]}Radius`;let d=_0(e,f),p=_0(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||v0(d)===v0(p)?(t[f]=Math.max(st(y0(d),y0(p),i),0),(vr.test(p)||vr.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,i))}function _0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fP=zE(0,.5,Lw),pP=zE(.5,.95,bn);function zE(t,e,n){return i=>i<t?0:i>e?1:n(Sl(t,e,i))}function mP(t,e,n){const i=Yt(t)?t:zo(t);return i.start(tm("",i,e,n)),i.animation}function Il(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const gP=(t,e)=>t.depth-e.depth;class yP{constructor(){this.children=[],this.isDirty=!1}add(e){Fp(this.children,e),this.isDirty=!0}remove(e){jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gP),this.isDirty=!1,this.children.forEach(e)}}function vP(t,e){const n=tn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Fi(i),t(a-e))};return tt.setup(i,!0),()=>Fi(i)}function kc(t){return Yt(t)?t.get():t}class _P{constructor(){this.members=[]}add(e){Fp(this.members,e),e.scheduleRender()}remove(e){if(jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yf=["","X","Y","Z"],wP=1e3;let EP=0;function vf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $E(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$E(i)}function WE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=EP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xP),this.nodes.forEach(RP),this.nodes.forEach(PP),this.nodes.forEach(AP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new yP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new zp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wE(u)&&!SR(u),this.instance=u;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let m,y=0;const w=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{y=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,m&&m(),m=vP(w,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(T0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||bP,{onLayoutAnimationStart:P,onLayoutAnimationComplete:R}=p.getProps(),$=!this.targetLayout||!BE(this.targetLayout,S),F=!y&&w;if(this.options.layoutRoot||this.resumeFrom||F||y&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...em(I,"layout"),onPlay:P,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,F)}else y||T0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$E(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IP),this.nodes.forEach(TP),this.nodes.forEach(SP)):this.nodes.forEach(E0),this.clearAllSnapshots();const f=tn.now();Ft.delta=Tr(0,1e3/60,f-Ft.timestamp),Ft.timestamp=f,Ft.isProcessing=!0,uf.update.process(Ft),uf.preRender.process(Ft),uf.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CP),this.sharedNodes.forEach(VP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!jE(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||As(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),MP(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return It();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(LP))){const{scroll:m}=this.root;m&&(bo(f.x,m.offset.x),bo(f.y,m.offset.y))}return f}removeElementScroll(u){var d;const f=It();if(Gn(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Gn(f,u),bo(f.x,y.offset.x),bo(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const d=It();Gn(d,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Mo(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),As(m.latestValues)&&Mo(d,m.latestValues)}return As(this.latestValues)&&Mo(d,this.latestValues),d}removeTransform(u){const f=It();Gn(f,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!As(p.latestValues))continue;Zf(p.latestValues)&&p.updateSnapshot();const m=It(),y=p.measurePageBox();Gn(m,y),h0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return As(this.latestValues)&&h0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=Ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),IE(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zf(this.parent.latestValues)||CE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Wc(this.relativeTargetOrigin,f,d),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Gn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;bR(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=It());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s0(this.prevProjectionDelta.x,this.projectionDelta.x),s0(this.prevProjectionDelta.y,this.projectionDelta.y)),ml(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!g0(this.projectionDelta.x,this.prevProjectionDelta.x)||!g0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(u,f=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},y=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=It(),S=d?d.source:void 0,I=this.layout?this.layout.source:void 0,P=S!==I,R=this.getStack(),$=!R||R.members.length<=1,F=!!(P&&!$&&this.options.crossfade===!0&&!this.path.some(NP));this.animationProgress=0;let M;this.mixTargetDelta=X=>{const Z=X/1e3;S0(y.x,u.x,Z),S0(y.y,u.y,Z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DP(this.relativeTarget,this.relativeTargetOrigin,w,Z),M&&uP(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=It()),Gn(M,this.relativeTarget)),P&&(this.animationValues=m,dP(m,p,this.latestValues,Z,F,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.currentAnimation=mP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:m}=u;if(!(!f||!d||!p)){if(this!==u&&this.layout&&p&&HE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||It();const y=nn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+y;const w=nn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+w}Gn(f,d),Mo(f,m),ml(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new _P),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&vf("z",u,p,this.animationValues);for(let m=0;m<yf.length;m++)vf(`rotate${yf[m]}`,u,p,this.animationValues),vf(`skew${yf[m]}`,u,p,this.animationValues);u.render();for(const m in p)u.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=kc(f==null?void 0:f.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=kc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!As(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=cP(this.projectionDeltaWithTransform,this.treeScale,m);d&&(y=d(m,y)),u.transform=y;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const I in tp){if(m[I]===void 0)continue;const{correct:P,applyTo:R,isCSSVariable:$}=tp[I],F=y==="none"?m[I]:P(m[I],p);if(R){const M=R.length;for(let X=0;X<M;X++)u[R[X]]=F}else $?this.options.visualElement.renderState.vars[I]=F:u[I]=F}this.options.layoutId&&(u.pointerEvents=p===this?kc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(w0),this.root.sharedNodes.clear()}}}function TP(t){t.updateLayout()}function SP(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Vn(y=>{const w=u?e.measuredBox[y]:e.layoutBox[y],S=nn(w);w.min=i[y].min,w.max=w.min+S}):HE(a,e.layoutBox,i)&&Vn(y=>{const w=u?e.measuredBox[y]:e.layoutBox[y],S=nn(i[y]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const f=No();ml(f,i,e.layoutBox);const d=No();u?ml(d,t.applyTransform(o,!0),e.measuredBox):ml(d,i,e.layoutBox);const p=!jE(f);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:S}=y;if(w&&S){const I=It();Wc(I,e.layoutBox,w.layoutBox);const P=It();Wc(P,i,S.layoutBox),BE(I,P)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function xP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CP(t){t.clearSnapshot()}function w0(t){t.clearMeasurements()}function E0(t){t.isLayoutDirty=!1}function IP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RP(t){t.resolveTargetDelta()}function PP(t){t.calcProjection()}function kP(t){t.resetSkewAndRotation()}function VP(t){t.removeLeadSnapshot()}function S0(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function x0(t,e,n,i){t.min=st(e.min,n.min,i),t.max=st(e.max,n.max,i)}function DP(t,e,n,i){x0(t.x,e.x,n.x,i),x0(t.y,e.y,n.y,i)}function NP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bP={duration:.45,ease:[.4,0,.1,1]},A0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C0=A0("applewebkit/")&&!A0("chrome/")?Math.round:bn;function I0(t){t.min=C0(t.min),t.max=C0(t.max)}function MP(t){I0(t.x),I0(t.y)}function HE(t,e,n){return t==="position"||t==="preserve-aspect"&&!iP(m0(e),m0(n),.2)}function LP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const OP=WE({attachResizeListener:(t,e)=>Il(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_f={current:void 0},KE=WE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_f.current){const t=new OP({});t.mount(window),t.setOptions({layoutScroll:!0}),_f.current=t}return _f.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GE=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function FP(t=!0){const e=j.useContext(Op);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=j.useId();j.useEffect(()=>{if(t)return o(a)},[t]);const u=j.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const qE=j.createContext({strict:!1}),R0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let P0=!1;function jP(){if(P0)return;const t={};for(const e in R0)t[e]={isEnabled:n=>R0[e].some(i=>!!n[i])};SE(t),P0=!0}function QE(){return jP(),kR()}function BP(t){const e=QE();for(const n in t)e[n]={...e[n],...t[n]};SE(e)}const UP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UP.has(t)}let YE=t=>!Hc(t);function zP(t){typeof t=="function"&&(YE=e=>e.startsWith("on")?!Hc(e):t(e))}try{zP(require("@emotion/is-prop-valid").default)}catch{}function $P(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(YE(o)||n===!0&&Hc(o)||!e&&!Hc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const hh=j.createContext({});function WP(t,e){if(ch(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Cl(n)?n:void 0,animate:Cl(i)?i:void 0}}return t.inherit!==!1?e:{}}function HP(t){const{initial:e,animate:n}=WP(t,j.useContext(hh));return j.useMemo(()=>({initial:e,animate:n}),[k0(e),k0(n)])}function k0(t){return Array.isArray(t)?t.join(" "):t}const hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XE(t,e,n){for(const i in e)!Yt(e[i])&&!kE(i,n)&&(t[i]=e[i])}function KP({transformTemplate:t},e){return j.useMemo(()=>{const n=hm();return um(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GP(t,e){const n=t.style||{},i={};return XE(i,n,t),Object.assign(i,KP(t,e)),i}function qP(t,e){const n={},i=GP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const JE=()=>({...hm(),attrs:{}});function QP(t,e,n,i){const o=j.useMemo(()=>{const a=JE();return VE(a,e,NE(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};XE(a,t.style,t),o.style={...a,...o.style}}return o}const YP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dm(t){return typeof t!="string"||t.includes("-")?!1:!!(YP.indexOf(t)>-1||/[A-Z]/u.test(t))}function XP(t,e,n,{latestValues:i},o,a=!1,u){const d=(u??dm(t)?QP:qP)(e,i,o,t),p=$P(e,typeof t=="string",a),m=t!==j.Fragment?{...p,...d,ref:n}:{},{children:y}=e,w=j.useMemo(()=>Yt(y)?y.get():y,[y]);return j.createElement(t,{...m,children:w})}function JP({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:ZP(n,i,o,t),renderState:e()}}function ZP(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=kc(a[w]);let{initial:u,animate:f}=t;const d=ch(t),p=TE(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const y=m?f:u;if(y&&typeof y!="boolean"&&!uh(y)){const w=Array.isArray(y)?y:[y];for(let S=0;S<w.length;S++){const I=nm(t,w[S]);if(I){const{transitionEnd:P,transition:R,...$}=I;for(const F in $){let M=$[F];if(Array.isArray(M)){const X=m?M.length-1:0;M=M[X]}M!==null&&(o[F]=M)}for(const F in P)o[F]=P[F]}}}return o}const ZE=t=>(e,n)=>{const i=j.useContext(hh),o=j.useContext(Op),a=()=>JP(t,e,i,o);return n?a():dC(a)},e2=ZE({scrapeMotionValuesFromProps:cm,createRenderState:hm}),t2=ZE({scrapeMotionValuesFromProps:bE,createRenderState:JE}),n2=Symbol.for("motionComponentSymbol");function r2(t,e,n){const i=j.useRef(n);j.useInsertionEffect(()=>{i.current=n});const o=j.useRef(null);return j.useCallback(a=>{var f;a&&((f=t.onMount)==null||f.call(t,a)),e&&(a?e.mount(a):e.unmount());const u=i.current;if(typeof u=="function")if(a){const d=u(a);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(a);else u&&(u.current=a)},[e])}const e1=j.createContext({});function ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function i2(t,e,n,i,o,a){var R,$;const{visualElement:u}=j.useContext(hh),f=j.useContext(qE),d=j.useContext(Op),p=j.useContext(GE).reducedMotion,m=j.useRef(null);i=i||f.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const y=m.current,w=j.useContext(e1);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&s2(m.current,n,o,w);const S=j.useRef(!1);j.useInsertionEffect(()=>{y&&S.current&&y.update(n,d)});const I=n[lE],P=j.useRef(!!I&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,I))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,I)));return fC(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),P.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,I)}),P.current=!1),y.enteringChildren=void 0)}),y}function s2(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:t1(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&ll(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:p})}function t1(t){if(t)return t.options.allowProjection!==!1?t.projection:t1(t.parent)}function wf(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&BP(i);const a=n?n==="svg":dm(t),u=a?t2:e2;function f(p,m){let y;const w={...j.useContext(GE),...p,layoutId:o2(p)},{isStatic:S}=w,I=HP(p),P=u(p,S);if(!S&&Aw){a2();const R=l2(w);y=R.MeasureLayout,I.visualElement=i2(t,P,w,o,R.ProjectionNode,a)}return x.jsxs(hh.Provider,{value:I,children:[y&&I.visualElement?x.jsx(y,{visualElement:I.visualElement,...w}):null,XP(t,p,r2(P,I.visualElement,m),P,S,e,a)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=j.forwardRef(f);return d[n2]=t,d}function o2({layoutId:t}){const e=j.useContext(xw).id;return e&&t!==void 0?e+"-"+t:t}function a2(t,e){j.useContext(qE).strict}function l2(t){const e=QE(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function u2(t,e){if(typeof Proxy>"u")return wf;const n=new Map,i=(a,u)=>wf(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,wf(u,void 0,t,e)),n.get(u))})}const c2=(t,e)=>e.isSVG??dm(t)?new GR(e):new UR(e,{allowProjection:t!==j.Fragment});class h2 extends Gi{constructor(e){super(e),e.animationState||(e.animationState=JR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let d2=0;class f2 extends Gi{constructor(){super(...arguments),this.id=d2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p2={animation:{Feature:h2},exit:{Feature:f2}};function Hl(t){return{point:{x:t.pageX,y:t.pageY}}}const m2=t=>e=>om(e)&&t(e,Hl(e));function gl(t,e,n,i){return Il(t,e,m2(n),i)}const n1=({current:t})=>t?t.ownerDocument.defaultView:null,V0=(t,e)=>Math.abs(t-e);function g2(t,e){const n=V0(t.x,e.x),i=V0(t.y,e.y);return Math.sqrt(n**2+i**2)}const D0=new Set(["auto","scroll"]);class r1{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Tf(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=g2(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:R}=S,{timestamp:$}=Ft;this.history.push({...R,timestamp:$});const{onStart:F,onMove:M}=this.handlers;I||(F&&F(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,S)},this.handlePointerMove=(S,I)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ef(I,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(S,I)=>{this.end();const{onEnd:P,onSessionEnd:R,resumeAnimation:$}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Tf(S.type==="pointercancel"?this.lastMoveEventInfo:Ef(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(S,F),R&&R(S,F)},!om(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=Hl(e),p=Ef(d,this.transformPagePoint),{point:m}=p,{timestamp:y}=Ft;this.history=[{...m,timestamp:y}];const{onSessionStart:w}=n;w&&w(e,Tf(p,this.history)),this.removeListeners=zl(gl(this.contextWindow,"pointermove",this.handlePointerMove),gl(this.contextWindow,"pointerup",this.handlePointerUp),gl(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(D0.has(i.overflowX)||D0.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),tt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fi(this.updatePoint)}}function Ef(t,e){return e?{point:e(t.point)}:t}function N0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tf({point:t},e){return{point:t,delta:N0(t,i1(e)),offset:N0(t,y2(e)),velocity:v2(e,.1)}}function y2(t){return t[0]}function i1(t){return t[t.length-1]}function v2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=i1(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Kr(e)));)n--;if(!i)return{x:0,y:0};const a=Nn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _2(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?st(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?st(n,t,i.max):Math.min(t,n)),t}function b0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function w2(t,{top:e,left:n,bottom:i,right:o}){return{x:b0(t.x,n,o),y:b0(t.y,e,i)}}function M0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function E2(t,e){return{x:M0(t.x,e.x),y:M0(t.y,e.y)}}function T2(t,e){let n=.5;const i=nn(t),o=nn(e);return o>i?n=Sl(e.min,e.max-i,t.min):i>o&&(n=Sl(t.min,t.max-o,e.min)),Tr(0,1,n)}function S2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const np=.35;function x2(t=np){return t===!1?t=0:t===!0&&(t=np),{x:L0(t,"left","right"),y:L0(t,"top","bottom")}}function L0(t,e,n){return{min:O0(t,e),max:O0(t,n)}}function O0(t,e){return typeof t=="number"?t:t[e]||0}const A2=new WeakMap;class C2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{n?(this.stopAnimation(),this.snapToCursor(Hl(y).point)):this.pauseAnimation()},u=(y,w)=>{this.stopAnimation();const{drag:S,dragPropagation:I,onDragStart:P}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vR(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn($=>{let F=this.getAxisMotionValue($).get()||0;if(vr.test(F)){const{projection:M}=this.visualElement;if(M&&M.layout){const X=M.layout.layoutBox[$];X&&(F=nn(X)*(parseFloat(F)/100))}}this.originPoint[$]=F}),P&&tt.postRender(()=>P(y,w)),Qf(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:P,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:$}=w;if(I&&this.currentDirection===null){this.currentDirection=I2($),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,$),this.updateAxis("y",w.point,$),this.visualElement.render(),R&&R(y,w)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new r1(e,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:n1(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&tt.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!wc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=_2(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=w2(i.layoutBox,e):this.constraints=!1,this.elastic=x2(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=S2(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ll(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=MR(i,o.root,this.visualElement.getTransformPagePoint());let u=E2(o.layout.layoutBox,a);if(n){const f=n(DR(u));this.hasMutatedConstraints=!!f,f&&(u=AE(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=Vn(m=>{if(!wc(m,n,this.currentDirection))return;let y=d&&d[m]||{};u&&(y={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,I={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,I)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Qf(this.visualElement,e),i.start(tm(e,i,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:i}=this.getProps();if(!wc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n],d=a.get()||0;a.set(e[n]-st(u,f,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ll(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=T2({min:d,max:d},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!wc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];f.set(st(d,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;A2.set(this.visualElement,this);const e=this.visualElement.current,n=gl(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&!_E(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();ll(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),tt.read(i);const u=Il(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=np,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function wc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function I2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class R2 extends Gi{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new C2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const F0=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class P2 extends Gi{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new r1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:F0(e),onStart:F0(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&tt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=gl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Sf=!1;class k2 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),Sf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Sf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||tt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Sf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s1(t){const[e,n]=FP(),i=j.useContext(xw);return x.jsx(k2,{...t,layoutGroup:i,switchLayoutGroup:j.useContext(e1),isPresent:e,safeToRemove:n})}const V2={pan:{Feature:P2},drag:{Feature:R2,ProjectionNode:KE,MeasureLayout:s1}};function j0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&tt.postRender(()=>a(e,Hl(e)))}class D2 extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=_R(e,(n,i)=>(j0(this.node,i,"Start"),o=>j0(this.node,o,"End"))))}unmount(){}}class N2 extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(Il(this.node.current,"focus",()=>this.onFocus()),Il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&tt.postRender(()=>a(e,Hl(e)))}class b2 extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=TR(e,(n,i)=>(B0(this.node,i,"Start"),(o,{success:a})=>B0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rp=new WeakMap,xf=new WeakMap,M2=t=>{const e=rp.get(t.target);e&&e(t)},L2=t=>{t.forEach(M2)};function O2({root:t,...e}){const n=t||document;xf.has(n)||xf.set(n,{});const i=xf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(L2,{root:t,...e})),i[o]}function F2(t,e,n){const i=O2(e);return rp.set(t,n),i.observe(t),()=>{rp.delete(t),i.unobserve(t)}}const j2={some:0,all:1};class B2 extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:j2[o]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(d)};return F2(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U2(e,n))&&this.startObserver()}unmount(){}}function U2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z2={inView:{Feature:B2},tap:{Feature:b2},focus:{Feature:N2},hover:{Feature:D2}},$2={layout:{ProjectionNode:KE,MeasureLayout:s1}},W2={...p2,...z2,...V2,...$2},Qe=u2(W2,c2),H2=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},K2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],f=t[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,f=u?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,m=a>>2,y=(a&3)<<4|f>>4;let w=(f&15)<<2|p>>6,S=p&63;d||(S=64,u||(w=64)),i.push(n[m],n[y],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||p==null||y==null)throw new G2;const w=a<<2|f>>4;if(i.push(w),p!==64){const S=f<<4&240|p>>2;if(i.push(S),y!==64){const I=p<<6&192|y;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q2=function(t){const e=o1(t);return a1.encodeByteArray(e,!0)},Kc=function(t){return q2(t).replace(/\./g,"")},Q2=function(t){try{return a1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>Y2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q2(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return H2()||X2()||J2()||Z2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ek=t=>{var e,n;return(n=(e=fm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tk=t=>{const e=ek(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},l1=()=>{var t;return(t=fm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kc(JSON.stringify(n)),Kc(JSON.stringify(u)),""].join(".")}const yl={};function sk(){const t={prod:[],emulator:[]};for(const e of Object.keys(yl))yl[e]?t.emulator.push(e):t.prod.push(e);return t}function ok(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let z0=!1;function ak(t,e){if(typeof window>"u"||typeof document>"u"||!pm(window.location.host)||yl[t]===e||yl[t]||z0)return;yl[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=sk().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{z0=!0,u()},w}function m(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=ok(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),P=n("learnmore"),R=document.getElementById(P)||document.createElement("a"),$=n("preprendIcon"),F=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const M=w.element;f(M),m(R,P);const X=p();d(F,$),M.append(F,I,R,X),document.body.appendChild(M)}a?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uk(){var e;const t=(e=fm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hk(){try{return typeof indexedDB=="object"}catch{return!1}}function dk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="FirebaseError";class ea extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=fk,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u1.prototype.create)}}class u1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?pk(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ea(o,f,i)}}function pk(t,e){return t.replace(mk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mk=/\{\$([^}]+)}/g;function Rl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if($0(a)&&$0(u)){if(!Rl(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function $0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Pl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yk(t){return t===Cs?void 0:t}function vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const wk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ek=Oe.INFO,Tk={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Sk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Tk[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c1{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const xk=(t,e)=>e.some(n=>t instanceof n);let W0,H0;function Ak(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,ip=new WeakMap,d1=new WeakMap,Af=new WeakMap,mm=new WeakMap;function Ik(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(bi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function Rk(t){if(ip.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});ip.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pk(t){sp=t(sp)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cf(this),e,...n);return d1.set(i,e.sort?e.sort():[e]),bi(i)}:Ck().includes(t)?function(...e){return t.apply(Cf(this),e),bi(h1.get(this))}:function(...e){return bi(t.apply(Cf(this),e))}}function Vk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Rk(t),xk(t,Ak())?new Proxy(t,sp):t)}function bi(t){if(t instanceof IDBRequest)return Ik(t);if(Af.has(t))return Af.get(t);const e=Vk(t);return e!==t&&(Af.set(t,e),mm.set(e,t)),e}const Cf=t=>mm.get(t);function Dk(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),f=bi(u);return i&&u.addEventListener("upgradeneeded",d=>{i(bi(u.result),d.oldVersion,d.newVersion,bi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Nk=["get","getKey","getAll","getAllKeys","count"],bk=["put","add","delete","clear"],If=new Map;function K0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=bk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Nk.includes(n)))return;const a=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),o&&d.done]))[0]};return If.set(e,a),a}Pk(t=>({...t,get:(e,n,i)=>K0(e,n)||t.get(e,n,i),has:(e,n)=>!!K0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Lk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",G0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new c1("@firebase/app"),Ok="@firebase/app-compat",Fk="@firebase/analytics-compat",jk="@firebase/analytics",Bk="@firebase/app-check-compat",Uk="@firebase/app-check",zk="@firebase/auth",$k="@firebase/auth-compat",Wk="@firebase/database",Hk="@firebase/data-connect",Kk="@firebase/database-compat",Gk="@firebase/functions",qk="@firebase/functions-compat",Qk="@firebase/installations",Yk="@firebase/installations-compat",Xk="@firebase/messaging",Jk="@firebase/messaging-compat",Zk="@firebase/performance",eV="@firebase/performance-compat",tV="@firebase/remote-config",nV="@firebase/remote-config-compat",rV="@firebase/storage",iV="@firebase/storage-compat",sV="@firebase/firestore",oV="@firebase/ai",aV="@firebase/firestore-compat",lV="firebase",uV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",cV={[op]:"fire-core",[Ok]:"fire-core-compat",[jk]:"fire-analytics",[Fk]:"fire-analytics-compat",[Uk]:"fire-app-check",[Bk]:"fire-app-check-compat",[zk]:"fire-auth",[$k]:"fire-auth-compat",[Wk]:"fire-rtdb",[Hk]:"fire-data-connect",[Kk]:"fire-rtdb-compat",[Gk]:"fire-fn",[qk]:"fire-fn-compat",[Qk]:"fire-iid",[Yk]:"fire-iid-compat",[Xk]:"fire-fcm",[Jk]:"fire-fcm-compat",[Zk]:"fire-perf",[eV]:"fire-perf-compat",[tV]:"fire-rc",[nV]:"fire-rc-compat",[rV]:"fire-gcs",[iV]:"fire-gcs-compat",[sV]:"fire-fst",[aV]:"fire-fst-compat",[oV]:"fire-vertex","fire-js":"fire-js",[lV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,hV=new Map,lp=new Map;function q0(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qc(t){const e=t.name;if(lp.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of Gc.values())q0(n,t);for(const n of hV.values())q0(n,t);return!0}function dV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new u1("app","Firebase",pV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=uV;function f1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ap,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(n||(n=l1()),!n)throw Mi.create("no-options");const a=Gc.get(o);if(a){if(Rl(n,a.options)&&Rl(i,a.config))return a;throw Mi.create("duplicate-app",{appName:o})}const u=new _k(o);for(const d of lp.values())u.addComponent(d);const f=new mV(n,i,u);return Gc.set(o,f),f}function yV(t=ap){const e=Gc.get(t);if(!e&&t===ap&&l1())return f1();if(!e)throw Mi.create("no-app",{appName:t});return e}function Fo(t,e,n){let i=cV[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(u.join(" "));return}qc(new Pl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="firebase-heartbeat-database",_V=1,kl="firebase-heartbeat-store";let Rf=null;function p1(){return Rf||(Rf=Dk(vV,_V,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Rf}async function wV(t){try{const n=(await p1()).transaction(kl),i=await n.objectStore(kl).get(m1(t));return await n.done,i}catch(e){if(e instanceof ea)Jr.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function Q0(t,e){try{const i=(await p1()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,m1(t)),await i.done}catch(n){if(n instanceof ea)Jr.warn(n.message);else{const i=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(i.message)}}}function m1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,TV=30;class SV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>TV){const u=CV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y0(),{heartbeatsToSend:i,unsentEntries:o}=xV(this._heartbeatsCache.heartbeats),a=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Jr.warn(n),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function xV(t,e=EV){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),X0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hk()?dk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X0(t){return Kc(JSON.stringify({version:2,heartbeats:t})).length}function CV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){qc(new Pl("platform-logger",e=>new Mk(e),"PRIVATE")),qc(new Pl("heartbeat",e=>new SV(e),"PRIVATE")),Fo(op,G0,t),Fo(op,G0,"esm2020"),Fo("fire-js","")}IV("");var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,g1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function k(){}k.prototype=C.prototype,N.F=C.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(L,b,z){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return C.prototype[b].apply(L,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,k){k||(k=0);const L=Array(16);if(typeof C=="string")for(var b=0;b<16;++b)L[b]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(b=0;b<16;++b)L[b]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=N.g[0],k=N.g[1],b=N.g[2];let z=N.g[3],D;D=C+(z^k&(b^z))+L[0]+3614090360&4294967295,C=k+(D<<7&4294967295|D>>>25),D=z+(b^C&(k^b))+L[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=b+(k^z&(C^k))+L[2]+606105819&4294967295,b=z+(D<<17&4294967295|D>>>15),D=k+(C^b&(z^C))+L[3]+3250441966&4294967295,k=b+(D<<22&4294967295|D>>>10),D=C+(z^k&(b^z))+L[4]+4118548399&4294967295,C=k+(D<<7&4294967295|D>>>25),D=z+(b^C&(k^b))+L[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=b+(k^z&(C^k))+L[6]+2821735955&4294967295,b=z+(D<<17&4294967295|D>>>15),D=k+(C^b&(z^C))+L[7]+4249261313&4294967295,k=b+(D<<22&4294967295|D>>>10),D=C+(z^k&(b^z))+L[8]+1770035416&4294967295,C=k+(D<<7&4294967295|D>>>25),D=z+(b^C&(k^b))+L[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=b+(k^z&(C^k))+L[10]+4294925233&4294967295,b=z+(D<<17&4294967295|D>>>15),D=k+(C^b&(z^C))+L[11]+2304563134&4294967295,k=b+(D<<22&4294967295|D>>>10),D=C+(z^k&(b^z))+L[12]+1804603682&4294967295,C=k+(D<<7&4294967295|D>>>25),D=z+(b^C&(k^b))+L[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=b+(k^z&(C^k))+L[14]+2792965006&4294967295,b=z+(D<<17&4294967295|D>>>15),D=k+(C^b&(z^C))+L[15]+1236535329&4294967295,k=b+(D<<22&4294967295|D>>>10),D=C+(b^z&(k^b))+L[1]+4129170786&4294967295,C=k+(D<<5&4294967295|D>>>27),D=z+(k^b&(C^k))+L[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=b+(C^k&(z^C))+L[11]+643717713&4294967295,b=z+(D<<14&4294967295|D>>>18),D=k+(z^C&(b^z))+L[0]+3921069994&4294967295,k=b+(D<<20&4294967295|D>>>12),D=C+(b^z&(k^b))+L[5]+3593408605&4294967295,C=k+(D<<5&4294967295|D>>>27),D=z+(k^b&(C^k))+L[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=b+(C^k&(z^C))+L[15]+3634488961&4294967295,b=z+(D<<14&4294967295|D>>>18),D=k+(z^C&(b^z))+L[4]+3889429448&4294967295,k=b+(D<<20&4294967295|D>>>12),D=C+(b^z&(k^b))+L[9]+568446438&4294967295,C=k+(D<<5&4294967295|D>>>27),D=z+(k^b&(C^k))+L[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=b+(C^k&(z^C))+L[3]+4107603335&4294967295,b=z+(D<<14&4294967295|D>>>18),D=k+(z^C&(b^z))+L[8]+1163531501&4294967295,k=b+(D<<20&4294967295|D>>>12),D=C+(b^z&(k^b))+L[13]+2850285829&4294967295,C=k+(D<<5&4294967295|D>>>27),D=z+(k^b&(C^k))+L[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=b+(C^k&(z^C))+L[7]+1735328473&4294967295,b=z+(D<<14&4294967295|D>>>18),D=k+(z^C&(b^z))+L[12]+2368359562&4294967295,k=b+(D<<20&4294967295|D>>>12),D=C+(k^b^z)+L[5]+4294588738&4294967295,C=k+(D<<4&4294967295|D>>>28),D=z+(C^k^b)+L[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=b+(z^C^k)+L[11]+1839030562&4294967295,b=z+(D<<16&4294967295|D>>>16),D=k+(b^z^C)+L[14]+4259657740&4294967295,k=b+(D<<23&4294967295|D>>>9),D=C+(k^b^z)+L[1]+2763975236&4294967295,C=k+(D<<4&4294967295|D>>>28),D=z+(C^k^b)+L[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=b+(z^C^k)+L[7]+4139469664&4294967295,b=z+(D<<16&4294967295|D>>>16),D=k+(b^z^C)+L[10]+3200236656&4294967295,k=b+(D<<23&4294967295|D>>>9),D=C+(k^b^z)+L[13]+681279174&4294967295,C=k+(D<<4&4294967295|D>>>28),D=z+(C^k^b)+L[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=b+(z^C^k)+L[3]+3572445317&4294967295,b=z+(D<<16&4294967295|D>>>16),D=k+(b^z^C)+L[6]+76029189&4294967295,k=b+(D<<23&4294967295|D>>>9),D=C+(k^b^z)+L[9]+3654602809&4294967295,C=k+(D<<4&4294967295|D>>>28),D=z+(C^k^b)+L[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=b+(z^C^k)+L[15]+530742520&4294967295,b=z+(D<<16&4294967295|D>>>16),D=k+(b^z^C)+L[2]+3299628645&4294967295,k=b+(D<<23&4294967295|D>>>9),D=C+(b^(k|~z))+L[0]+4096336452&4294967295,C=k+(D<<6&4294967295|D>>>26),D=z+(k^(C|~b))+L[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=b+(C^(z|~k))+L[14]+2878612391&4294967295,b=z+(D<<15&4294967295|D>>>17),D=k+(z^(b|~C))+L[5]+4237533241&4294967295,k=b+(D<<21&4294967295|D>>>11),D=C+(b^(k|~z))+L[12]+1700485571&4294967295,C=k+(D<<6&4294967295|D>>>26),D=z+(k^(C|~b))+L[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=b+(C^(z|~k))+L[10]+4293915773&4294967295,b=z+(D<<15&4294967295|D>>>17),D=k+(z^(b|~C))+L[1]+2240044497&4294967295,k=b+(D<<21&4294967295|D>>>11),D=C+(b^(k|~z))+L[8]+1873313359&4294967295,C=k+(D<<6&4294967295|D>>>26),D=z+(k^(C|~b))+L[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=b+(C^(z|~k))+L[6]+2734768916&4294967295,b=z+(D<<15&4294967295|D>>>17),D=k+(z^(b|~C))+L[13]+1309151649&4294967295,k=b+(D<<21&4294967295|D>>>11),D=C+(b^(k|~z))+L[4]+4149444226&4294967295,C=k+(D<<6&4294967295|D>>>26),D=z+(k^(C|~b))+L[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=b+(C^(z|~k))+L[2]+718787259&4294967295,b=z+(D<<15&4294967295|D>>>17),D=k+(z^(b|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(b+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.v=function(N,C){C===void 0&&(C=N.length);const k=C-this.blockSize,L=this.C;let b=this.h,z=0;for(;z<C;){if(b==0)for(;z<=k;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<C;)if(L[b++]=N.charCodeAt(z++),b==this.blockSize){o(this,L),b=0;break}}else for(;z<C;)if(L[b++]=N[z++],b==this.blockSize){o(this,L),b=0;break}}this.h=b,this.o+=C},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,k=0;k<4;++k)for(let L=0;L<32;L+=8)N[C++]=this.g[k]>>>L&255;return N};function a(N,C){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=C(N)}function u(N,C){this.h=C;const k=[];let L=!0;for(let b=N.length-1;b>=0;b--){const z=N[b]|0;L&&z==C||(k[b]=z,L=!1)}this.g=k}var f={};function d(N){return-128<=N&&N<128?a(N,function(C){return new u([C|0],C<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return R(p(-N));const C=[];let k=1;for(let L=0;N>=k;L++)C[L]=N/k|0,k*=4294967296;return new u(C,0)}function m(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return R(m(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(C,8));let L=y;for(let z=0;z<N.length;z+=8){var b=Math.min(8,N.length-z);const D=parseInt(N.substring(z,z+b),C);b<8?(b=p(Math.pow(C,b)),L=L.j(b).add(p(D))):(L=L.j(k),L=L.add(p(D)))}return L}var y=d(0),w=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-R(this).m();let N=0,C=1;for(let k=0;k<this.g.length;k++){const L=this.i(k);N+=(L>=0?L:4294967296+L)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(P(this))return"-"+R(this).toString(N);const C=p(Math.pow(N,6));var k=this;let L="";for(;;){const b=X(k,C).g;k=$(k,b.j(C));let z=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=b,I(k))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function P(N){return N.h==-1}t.l=function(N){return N=$(this,N),P(N)?-1:I(N)?0:1};function R(N){const C=N.g.length,k=[];for(let L=0;L<C;L++)k[L]=~N.g[L];return new u(k,~N.h).add(w)}t.abs=function(){return P(this)?R(this):this},t.add=function(N){const C=Math.max(this.g.length,N.g.length),k=[];let L=0;for(let b=0;b<=C;b++){let z=L+(this.i(b)&65535)+(N.i(b)&65535),D=(z>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);L=D>>>16,z&=65535,D&=65535,k[b]=D<<16|z}return new u(k,k[k.length-1]&-2147483648?-1:0)};function $(N,C){return N.add(R(C))}t.j=function(N){if(I(this)||I(N))return y;if(P(this))return P(N)?R(this).j(R(N)):R(R(this).j(N));if(P(N))return R(this.j(R(N)));if(this.l(S)<0&&N.l(S)<0)return p(this.m()*N.m());const C=this.g.length+N.g.length,k=[];for(var L=0;L<2*C;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(let b=0;b<N.g.length;b++){const z=this.i(L)>>>16,D=this.i(L)&65535,Pe=N.i(b)>>>16,Ue=N.i(b)&65535;k[2*L+2*b]+=D*Ue,F(k,2*L+2*b),k[2*L+2*b+1]+=z*Ue,F(k,2*L+2*b+1),k[2*L+2*b+1]+=D*Pe,F(k,2*L+2*b+1),k[2*L+2*b+2]+=z*Pe,F(k,2*L+2*b+2)}for(N=0;N<C;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=C;N<2*C;N++)k[N]=0;return new u(k,0)};function F(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function M(N,C){this.g=N,this.h=C}function X(N,C){if(I(C))throw Error("division by zero");if(I(N))return new M(y,y);if(P(N))return C=X(R(N),C),new M(R(C.g),R(C.h));if(P(C))return C=X(N,R(C)),new M(R(C.g),C.h);if(N.g.length>30){if(P(N)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=C;L.l(N)<=0;)k=Z(k),L=Z(L);var b=oe(k,1),z=oe(L,1);for(L=oe(L,2),k=oe(k,2);!I(L);){var D=z.add(L);D.l(N)<=0&&(b=b.add(k),z=D),L=oe(L,1),k=oe(k,1)}return C=$(N,b.j(C)),new M(b,C)}for(b=y;N.l(C)>=0;){for(k=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=p(k),D=z.j(C);P(D)||D.l(N)>0;)k-=L,z=p(k),D=z.j(C);I(z)&&(z=w),b=b.add(z),N=$(N,D)}return new M(b,N)}t.B=function(N){return X(this,N).h},t.and=function(N){const C=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<C;L++)k[L]=this.i(L)&N.i(L);return new u(k,this.h&N.h)},t.or=function(N){const C=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<C;L++)k[L]=this.i(L)|N.i(L);return new u(k,this.h|N.h)},t.xor=function(N){const C=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<C;L++)k[L]=this.i(L)^N.i(L);return new u(k,this.h^N.h)};function Z(N){const C=N.g.length+1,k=[];for(let L=0;L<C;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(k,N.h)}function oe(N,C){const k=C>>5;C%=32;const L=N.g.length-k,b=[];for(let z=0;z<L;z++)b[z]=C>0?N.i(z+k)>>>C|N.i(z+k+1)<<32-C:N.i(z+k);return new u(b,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,g1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,Li=u}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,ul,v1,Dc,up,_1,w1,E1;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in E))break e;E=E[H]}c=c[c.length-1],A=E[c],_=_(A),_!=A&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function d(c,_,E){return c.call.apply(c.bind,arguments)}function p(c,_,E){return p=d,p.apply(null,arguments)}function m(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function y(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,H,q){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return _.prototype[H].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function S(c){const _=c.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=c[A];return E}return[]}function I(c,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=c.length||0;const q=H.length||0;c.length=E+q;for(let se=0;se<q;se++)c[E+se]=H[se]}else c.push(H)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(c){u.setTimeout(()=>{throw c},0)}function $(){var c=N;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,E){const A=M.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var M=new P(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,oe=!1,N=new F,C=()=>{const c=Promise.resolve(void 0);Z=()=>{c.then(k)}};function k(){for(var c;c=$();){try{c.h.call(c.g)}catch(E){R(E)}var _=M;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}oe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Pe(c,_){b.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}y(Pe,b),Pe.prototype.init=function(c,_){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),yt=0;function Ee(c,_,E,A,H){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=H,this.key=++yt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,_,E){for(const A in c)_.call(E,c[A],A,c)}function ae(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function U(c){const _={};for(const E in c)_[E]=c[E];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(c,_){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)c[E]=A[E];for(let q=0;q<J.length;q++)E=J[q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,_,E,A,H){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=De(c,_,A,H);return se>-1?(_=c[se],E||(_.fa=!1)):(_=new Ee(_,this.src,q,!!A,H),_.fa=E,c.push(_)),_};function Ve(c,_){const E=_.type;if(E in c.g){var A=c.g[E],H=Array.prototype.indexOf.call(A,_,void 0),q;(q=H>=0)&&Array.prototype.splice.call(A,H,1),q&&(re(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function De(c,_,E,A){for(let H=0;H<c.length;++H){const q=c[H];if(!q.da&&q.listener==_&&q.capture==!!E&&q.ha==A)return H}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ke(c,_,E,A,H){if(Array.isArray(_)){for(let q=0;q<_.length;q++)Ke(c,_[q],E,A,H);return null}return E=ca(E),c&&c[Ue]?c.J(_,E,f(A)?!!A.capture:!1,H):Xt(c,_,E,!1,A,H)}function Xt(c,_,E,A,H,q){if(!_)throw Error("Invalid event type");const se=f(H)?!!H.capture:!!H;let Ce=Us(c);if(Ce||(c[$e]=Ce=new Ae(c)),E=Ce.add(_,E,A,se,q),E.proxy)return E;if(A=js(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)z||(H=se),H===void 0&&(H=!1),c.addEventListener(_.toString(),A,H);else if(c.attachEvent)c.attachEvent(Bs(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function js(){function c(E){return _.call(c.src,c.listener,E)}const _=tu;return c}function ua(c,_,E,A,H){if(Array.isArray(_))for(var q=0;q<_.length;q++)ua(c,_[q],E,A,H);else A=f(A)?!!A.capture:!!A,E=ca(E),c&&c[Ue]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],E=De(_,E,A,H),E>-1&&(re(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=Us(c))&&(_=c.g[_.toString()],c=-1,_&&(c=De(_,E,A,H)),(E=c>-1?_[c]:null)&&ti(E))}function ti(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ue])Ve(_.i,c);else{var E=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(E,A,c.capture):_.detachEvent?_.detachEvent(Bs(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Us(_))?(Ve(E,c),E.h==0&&(E.src=null,_[$e]=null)):re(c)}}}function Bs(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function tu(c,_){if(c.da)c=!0;else{_=new Pe(_,this);const E=c.listener,A=c.ha||c.src;c.fa&&ti(c),c=E.call(A,_)}return c}function Us(c){return c=c[$e],c instanceof Ae?c:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ca(c){return typeof c=="function"?c:(c[Xi]||(c[Xi]=function(_){return c.handleEvent(_)}),c[Xi])}function vt(){L.call(this),this.i=new Ae(this),this.M=this,this.G=null}y(vt,L),vt.prototype[Ue]=!0,vt.prototype.removeEventListener=function(c,_,E,A){ua(this,c,_,E,A)};function dt(c,_){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new b(_,c);else if(_ instanceof b)_.target=_.target||c;else{var H=_;_=new b(A,c),xe(_,H)}H=!0;let q,se;if(E)for(se=E.length-1;se>=0;se--)q=_.g=E[se],H=On(q,A,!0,_)&&H;if(q=_.g=c,H=On(q,A,!0,_)&&H,H=On(q,A,!1,_)&&H,E)for(se=0;se<E.length;se++)q=_.g=E[se],H=On(q,A,!1,_)&&H}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let A=0;A<E.length;A++)re(E[A]);delete c.g[_],c.h--}}this.G=null},vt.prototype.J=function(c,_,E,A){return this.i.add(String(c),_,!1,E,A)},vt.prototype.K=function(c,_,E,A){return this.i.add(String(c),_,!0,E,A)};function On(c,_,E,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let q=0;q<_.length;++q){const se=_[q];if(se&&!se.da&&se.capture==E){const Ce=se.listener,ft=se.ha||se.src;se.fa&&Ve(c.i,se),H=Ce.call(ft,A)!==!1&&H}}return H&&!A.defaultPrevented}function ha(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function da(c){c.g=ha(()=>{c.g=null,c.i&&(c.i=!1,da(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class nu extends L{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(c){L.call(this),this.h=c,this.g={}}y(ni,L);var fa=[];function zs(c){fe(c.g,function(_,E){this.g.hasOwnProperty(E)&&ti(_)},c),c.g={}}ni.prototype.N=function(){ni.Z.N.call(this),zs(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=u.JSON.stringify,ru=u.JSON.parse,Ji=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function ii(){}function iu(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $s(){b.call(this,"d")}y($s,b);function pa(){b.call(this,"c")}y(pa,b);var Fn={},Ws=null;function oi(){return Ws=Ws||new vt}Fn.Ia="serverreachability";function Hs(c){b.call(this,Fn.Ia,c)}y(Hs,b);function Cr(c){const _=oi();dt(_,new Hs(_))}Fn.STAT_EVENT="statevent";function Ir(c,_){b.call(this,Fn.STAT_EVENT,c),this.stat=_}y(Ir,b);function lt(c){const _=oi();dt(_,new Ir(_,c))}Fn.Ja="timingevent";function ma(c,_){b.call(this,Fn.Ja,c),this.size=_}y(ma,b);function ai(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function su(c,_,E,A,H,q){c.info(function(){if(c.g)if(q){var se="",Ce=q.split("&");for(let He=0;He<Ce.length;He++){var ft=Ce[He].split("=");if(ft.length>1){const _t=ft[0];ft=ft[1];const vn=_t.split("_");se=vn.length>=2&&vn[1]=="type"?se+(_t+"="+ft+"&"):se+(_t+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+E+`
`+se})}function ou(c,_,E,A,H,q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+E+`
`+q+" "+se})}function Zn(c,_,E,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Zi(c,E)+(A?" "+A:"")})}function au(c,_){c.info(function(){return"TIMEOUT: "+_})}li.prototype.info=function(){};function Zi(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return ri(q)}catch{return _}}var ui={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ci={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lu;function Rr(){}y(Rr,ii),Rr.prototype.g=function(){return new XMLHttpRequest},lu=new Rr;function er(c){return encodeURIComponent(String(c))}function Ks(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function Sn(c,_,E,A){this.j=c,this.i=_,this.l=E,this.S=A||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var cu={},ga={};function jn(c,_,E){c.M=1,c.A=kr(xn(_)),c.u=E,c.R=!0,ya(c,null)}function ya(c,_){c.F=Date.now(),es(c),c.B=xn(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ia(E.i,"t",A),c.C=0,E=c.j.L,c.h=new uu,c.g=wu(c.j,E?_:null,!c.u),c.P>0&&(c.O=new nu(p(c.Y,c,c.g),c.P)),_=c.V,E=c.g,A=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(fa[0]=H.toString()),H=fa);for(let q=0;q<H.length;q++){const se=Ke(E,H[q],A||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Cr(),su(c.i,c.v,c.B,c.l,c.S,c.u)}Sn.prototype.ba=function(c){c=c.target;const _=this.O;_&&ar(c)==3?_.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ar(this.g),ft=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||vu(this.g)))){this.K||Ce!=4||ft==7||(ft==8||He<=0?Cr(3):Cr(2)),Gs(this);var _=this.g.ca();this.X=_;var E=hu(this);if(this.o=_==200,ou(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var q=A;break t}}q=null}if(c=q)Zn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,c);else{this.o=!1,this.m=3,lt(12),Pr(this),ts(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=fu(this,E),_t==ga){Ce==4&&(this.m=4,lt(14),c=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==cu){this.m=4,lt(15),Zn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Zn(this.i,this.l,_t,null),Xe(this,_t);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,lt(16),c=!1),this.o=this.o&&c,!c)Zn(this.i,this.l,E,"[Invalid Chunked Response]"),Pr(this),ts(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cs(se),se.P=!0,lt(11))}}else Zn(this.i,this.l,E,null),Xe(this,E);Ce==4&&Pr(this),this.o&&!this.K&&(Ce==4?ro(this.j,this):(this.o=!1,es(this)))}else Pa(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Pr(this),ts(this)}}}catch{}finally{}};function hu(c){if(!du(c))return c.g.la();const _=vu(c.g);if(_==="")return"";let E="";const A=_.length,H=ar(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Pr(c),ts(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,E+=c.h.i.decode(_[q],{stream:!(H&&q==A-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,_){var E=c.C,A=_.indexOf(`
`,E);return A==-1?ga:(E=Number(_.substring(E,A)),isNaN(E)?cu:(A+=1,A+E>_.length?ga:(_=_.slice(A,A+E),c.C=A+E,_)))}Sn.prototype.cancel=function(){this.K=!0,Pr(this)};function es(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(p(c.aa,c),_)}function Gs(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(au(this.i,this.B),this.M!=2&&(Cr(),lt(17)),Pr(this),this.m=2,ts(this)):va(this,this.T-c)};function ts(c){c.j.I==0||c.K||ro(c.j,c)}function Pr(c){Gs(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,zs(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Xe(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||wa(E.h,c))){if(!c.L&&wa(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)no(E),gn(E);else break e;cr(E),lt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ai(p(E.Va,E),6e3));ns(E.h)<=1&&E.ta&&(E.ta=void 0)}else yn(E,11)}else if((c.L||E.g==c)&&no(E),!D(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let He=H[_];const _t=He[0];if(!(_t<=E.K))if(E.K=_t,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const vn=He[3];vn!=null&&(E.ka=vn,E.j.info("VER="+E.ka));const Mr=He[4];Mr!=null&&(E.za=Mr,E.j.info("SVER="+E.za));const hr=He[5];hr!=null&&typeof hr=="number"&&hr>0&&(A=1.5*hr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const dr=c.g;if(dr){const oo=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var q=A.h;q.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qs(q,q.h),q.h=null))}if(A.G){const Da=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(A.wa=Da,ze(A.J,A.G,Da))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=Va(A,A.L?A.ba:null,A.W),se.L){rs(A.h,se);var Ce=se,ft=A.O;ft&&(Ce.H=ft),Ce.D&&(Gs(Ce),es(Ce)),A.g=se}else zt(A);E.i.length>0&&br(E)}else He[0]!="stop"&&He[0]!="close"||yn(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?yn(E,7):eo(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}Cr(4)}catch{}}var Vh=class{constructor(c,_){this.g=c,this.map=_}};function qs(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ns(c){return c.h?1:c.g?c.g.size:0}function wa(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Qs(c,_){c.g?c.g.add(_):c.h=_}function rs(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}qs.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return S(c.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let H,q=null;A>=0?(H=c[E].substring(0,A),q=c[E].substring(A+1)):H=c[E],_(H,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function tr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof tr?(this.l=c.l,is(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.u),this.h=c.h,hi(this,Ra(c.i)),this.m=c.m):c&&(_=String(c).match(pu))?(this.l=!1,is(this,_[1]||"",!0),this.o=ss(_[2]||""),this.g=ss(_[3]||"",!0),nr(this,_[4]),this.h=ss(_[5]||"",!0),hi(this,_[6]||"",!0),this.m=ss(_[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}tr.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(os(_,Ta,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(os(_,Ta,!0),"@"),c.push(er(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(os(E,E.charAt(0)=="/"?as:Sa,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",os(E,xa)),c.join("")},tr.prototype.resolve=function(c){const _=xn(this);let E=!!c.j;E?is(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var A=c.h;if(E)nr(_,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const q=[];for(let se=0;se<H.length;){const Ce=H[se++];Ce=="."?A&&se==H.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&se==H.length&&q.push("")):(q.push(Ce),A=!0)}A=q.join("/")}else A=H}return E?_.h=A:E=c.i.toString()!=="",E?hi(_,Ra(c.i)):E=!!c.m,E&&(_.m=c.m),_};function xn(c){return new tr(c)}function is(c,_,E){c.j=E?ss(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function hi(c,_,E){_ instanceof Me?(c.i=_,Xs(c.i,c.l)):(E||(_=os(_,Dh)),c.i=new Me(_,c.l))}function ze(c,_,E){c.i.set(_,E)}function kr(c){return ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ss(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function os(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Ea),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ea(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Sa=/[#\?:]/g,as=/[#\?]/g,Dh=/[#\?@]/g,xa=/#/g;function Me(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Me.prototype,t.add=function(c,_){rr(this),this.i=null,c=ir(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Aa(c,_){rr(c),_=ir(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Ys(c,_){return rr(c),_=ir(c,_),c.g.has(_)}t.forEach=function(c,_){rr(this),this.g.forEach(function(E,A){E.forEach(function(H){c.call(_,H,A,this)},this)},this)};function Ca(c,_){rr(c);let E=[];if(typeof _=="string")Ys(c,_)&&(E=E.concat(c.g.get(ir(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}t.set=function(c,_){return rr(this),this.i=null,c=ir(this,c),Ys(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=Ca(this,c),c.length>0?String(c[0]):_):_};function Ia(c,_,E){Aa(c,_),E.length>0&&(c.i=null,c.g.set(ir(c,_),S(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const H=er(E);E=Ca(this,E);for(let q=0;q<E.length;q++){let se=H;E[q]!==""&&(se+="="+er(E[q])),c.push(se)}}return this.i=c.join("&")};function Ra(c){const _=new Me;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function ir(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Xs(c,_){_&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(Aa(this,A),Ia(this,H,E))},c)),c.j=_}function sr(c,_){const E=new li;if(u.Image){const A=new Image;A.onload=m(bt,E,"TestLoadImage: loaded",!0,_,A),A.onerror=m(bt,E,"TestLoadImage: error",!1,_,A),A.onabort=m(bt,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=m(bt,E,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function or(c,_){const E=new li,A=new AbortController,H=setTimeout(()=>{A.abort(),bt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(H),q.ok?bt(E,"TestPingServer: ok",!0,_):bt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),bt(E,"TestPingServer: error",!1,_)})}function bt(c,_,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function ls(){this.g=new Ji}function Vr(c){this.i=c.Sb||null,this.h=c.ab||!1}y(Vr,ii),Vr.prototype.g=function(){return new mn(this.i,this.h)};function mn(c,_){vt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(mn,vt),t=mn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Bn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?di(this):Bn(this),this.readyState==3&&mu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,di(this))},t.Na=function(c){this.g&&(this.response=c,di(this))},t.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gu(c){let _="";return fe(c,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Js(c,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=gu(E),typeof c=="string"?E!=null&&er(E):ze(c,_,E))}function Ge(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ge,vt);var yu=/^https?$/i,Nh=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){fi(this,q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())E.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),H=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Nh,_,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of E)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){fi(this,q)}};function fi(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,pi(c),Nr(c)}function pi(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),Nr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},t.Xa=function(){Dr(this)};function Dr(c){if(c.h&&typeof a<"u"){if(c.v&&ar(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),ar(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=q===0){let se=String(c.D).match(pu)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),A=!yu.test(se?se.toLowerCase():"")}E=A}if(E)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var H=ar(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",pi(c)}}finally{Nr(c)}}}}function Nr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||dt(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ru(_)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(c){const _={};c=(c.g&&ar(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var E=Ks(c[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=_[H]||[];_[H]=q,q.push(E)}ae(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Zs(c){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=lr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=lr("baseRetryDelayMs",5e3,c),this.Za=lr("retryDelaySeedMs",1e4,c),this.Ta=lr("forwardChannelMaxRetries",2,c),this.va=lr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qs(c&&c.concurrentRequestLimit),this.Ba=new ls,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zs.prototype,t.ka=8,t.I=1,t.connect=function(c,_,E,A){lt(0),this.W=c,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Va(this,null,this.W),br(this)};function eo(c){if(to(c),c.I==3){var _=c.V++,E=xn(c.J);if(ze(E,"SID",c.M),ze(E,"RID",_),ze(E,"TYPE","terminate"),ur(c,E),_=new Sn(c,c.j,_),_.M=2,_.A=kr(xn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=wu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),es(_)}hs(c)}function gn(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function to(c){gn(c),c.v&&(u.clearTimeout(c.v),c.v=null),no(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function br(c){if(!_a(c.h)&&!c.m){c.m=!0;var _=c.Ea;Z||C(),oe||(Z(),oe=!0),N.add(_,c),c.D=0}}function _u(c,_){return ns(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(p(c.Ea,c,_),io(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new Sn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=U(q),xe(q,this.U)):q=this.U),this.u!==null||this.R||(H.J=q,q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ka(this,H,_),E=xn(this.J),ze(E,"RID",c),ze(E,"CVER",22),this.G&&ze(E,"X-HTTP-Session-Id",this.G),ur(this,E),q&&(this.R?_="headers="+er(gu(q))+"&"+_:this.u&&Js(E,this.u,q)),Qs(this.h,H),this.Ra&&ze(E,"TYPE","init"),this.S?(ze(E,"$req",_),ze(E,"SID","null"),H.U=!0,jn(H,E,null)):jn(H,E,_),this.I=2}}else this.I==3&&(c?us(this,c):this.i.length==0||_a(this.h)||us(this))};function us(c,_){var E;_?E=_.l:E=c.V++;const A=xn(c.J);ze(A,"SID",c.M),ze(A,"RID",E),ze(A,"AID",c.K),ur(c,A),c.u&&c.o&&Js(A,c.u,c.o),E=new Sn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=ka(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qs(c.h,E),jn(E,A,_)}function ur(c,_){c.H&&fe(c.H,function(E,A){ze(_,A,E)}),c.l&&fe({},function(E,A){ze(_,A,E)})}function ka(c,_,E){E=Math.min(c.i.length,E);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ce=-1;for(;;){const ft=["count="+E];Ce==-1?E>0?(Ce=H[0].g,ft.push("ofs="+Ce)):Ce=0:ft.push("ofs="+Ce);let He=!0;for(let _t=0;_t<E;_t++){var q=H[_t].g;const vn=H[_t].map;if(q-=Ce,q<0)Ce=Math.max(0,H[_t].g-100),He=!1;else try{q="req"+q+"_"||"";try{var se=vn instanceof Map?vn:Object.entries(vn);for(const[Mr,hr]of se){let dr=hr;f(hr)&&(dr=ri(hr)),ft.push(q+Mr+"="+encodeURIComponent(dr))}}catch(Mr){throw ft.push(q+"type="+encodeURIComponent("_badmap")),Mr}}catch{A&&A(vn)}}if(He){se=ft.join("&");break e}}se=void 0}return c=c.i.splice(0,E),_.G=c,se}function zt(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Z||C(),oe||(Z(),oe=!0),N.add(_,c),c.A=0}}function cr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(p(c.Da,c),io(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,mi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),gn(this),mi(this))};function cs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function mi(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=xn(c.na);ze(_,"RID","rpc"),ze(_,"SID",c.M),ze(_,"AID",c.K),ze(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&ze(_,"TO",c.ia),ze(_,"TYPE","xmlhttp"),ur(c,_),c.u&&c.o&&Js(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=kr(xn(_)),E.u=null,E.R=!0,ya(E,c)}t.Va=function(){this.C!=null&&(this.C=null,gn(this),cr(this),lt(19))};function no(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function ro(c,_){var E=null;if(c.g==_){no(c),cs(c),c.g=null;var A=2}else if(wa(c.h,_))E=_.G,rs(c.h,_),A=1;else return;if(c.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=c.D;A=oi(),dt(A,new ma(A,E)),br(c)}else zt(c);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&_u(c,_)||A==2&&cr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),H){case 1:yn(c,5);break;case 4:yn(c,10);break;case 3:yn(c,6);break;default:yn(c,2)}}}function io(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function yn(c,_){if(c.j.info("Error code "+_),_==2){var E=p(c.bb,c),A=c.Ua;const H=!A;A=new tr(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||is(A,"https"),kr(A),H?sr(A.toString(),E):or(A.toString(),E)}else lt(2);c.I=0,c.l&&c.l.pa(_),hs(c),to(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function hs(c){if(c.I=0,c.ja=[],c.l){const _=fn(c.h);(_.length!=0||c.i.length!=0)&&(I(c.ja,_),I(c.ja,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.oa()}}function Va(c,_,E){var A=E instanceof tr?xn(E):new tr(E);if(A.g!="")_&&(A.g=_+"."+A.g),nr(A,A.u);else{var H=u.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const q=new tr(null);A&&is(q,A),_&&(q.g=_),H&&nr(q,H),E&&(q.h=E),A=q}return E=c.G,_=c.wa,E&&_&&ze(A,E,_),ze(A,"VER",c.ka),ur(c,A),A}function wu(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Ge(new Vr({ab:E})):new Ge(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}t=Eu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function so(){}so.prototype.g=function(c,_){return new Mt(c,_)};function Mt(c,_){vt.call(this),this.g=new Zs(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!D(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new gi(this)}y(Mt,vt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){eo(this.g)},Mt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ri(c),c=E);_.i.push(new Vh(_.Ya++,c)),_.I==3&&br(_)},Mt.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Mt.Z.N.call(this)};function Tu(c){$s.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}y(Tu,$s);function Su(){pa.call(this),this.status=1}y(Su,pa);function gi(c){this.g=c}y(gi,Eu),gi.prototype.ra=function(){dt(this.g,"a")},gi.prototype.qa=function(c){dt(this.g,new Tu(c))},gi.prototype.pa=function(c){dt(this.g,new Su)},gi.prototype.oa=function(){dt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,E1=function(){return new so},w1=function(){return oi()},_1=Fn,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,Dc=ui,ci.COMPLETE="complete",v1=ci,iu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",vt.prototype.listen=vt.prototype.J,ul=iu,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,y1=Ge}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="12.8.0";function RV(t){ta=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new c1("@firebase/firestore");function Ro(){return Ds.logLevel}function ce(t,...e){if(Ds.logLevel<=Oe.DEBUG){const n=e.map(gm);Ds.debug(`Firestore (${ta}): ${t}`,...n)}}function Zr(t,...e){if(Ds.logLevel<=Oe.ERROR){const n=e.map(gm);Ds.error(`Firestore (${ta}): ${t}`,...n)}}function $o(t,...e){if(Ds.logLevel<=Oe.WARN){const n=e.map(gm);Ds.warn(`Firestore (${ta}): ${t}`,...n)}}function gm(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,T1(t,i,n)}function T1(t,e,n){let i=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zr(i),new Error(i)}function We(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||T1(e,o,i)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qt.UNAUTHENTICATED)))}shutdown(){}}class kV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VV{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await o(this.currentUser)}))},f=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new S1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class DV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new DV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=MV(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function cp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Pf(o)===Pf(a)?Ne(o,a):Pf(o)?1:-1}return Ne(t.length,e.length)}const LV=55296,OV=57343;function Pf(t){const e=t.charCodeAt(0);return e>=LV&&e<=OV}function Wo(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class yr{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=yr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const i=yr.isNumericId(e),o=yr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class Ye extends yr{construct(e,n,i){return new Ye(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const FV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends yr{construct(e,n,i){return new Bt(e,n,i)}static isValidIdentifier(e){return FV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new Bt([e_])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jV(t,e,n,i){if(e===!0&&i===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t_(t){if(!ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n_(t){if(ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kl(t,e){if(!A1(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-62135596800,i_=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*i_);return new et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:xt("string",et._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new et(0,0))}static max(){return new Se(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function BV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new et(n+1,0):new et(n,i));return new Bi(o,ye.empty(),e)}function UV(t){return new Bi(t.readTime,t.key,Vl)}class Bi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Bi(Se.min(),ye.empty(),Vl)}static max(){return new Bi(Se.max(),ye.empty(),Vl)}}function zV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==$V)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,i)=>{n(e)}))}static reject(e){return new Y(((n,i)=>{i(e)}))}static waitFor(e){return new Y(((n,i)=>{let o=0,a=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++a,u&&a===o&&n()}),(d=>i(d)))})),u=!0,a===o&&n()}))}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next((o=>o?Y.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new Y(((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next((m=>{u[p]=m,++f,f===a&&i(u)}),(m=>o(m)))}}))}static doWhile(e,n){return new Y(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function HV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ra(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function ph(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function KV(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function GV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s_(e)),e=qV(t.get(n),e);return s_(e)}function qV(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case C1:n+="";break;default:n+=a}}return n}function s_(t){return t+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new jt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Pt(Bt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new R1("Invalid base64 string: "+a):a}})(e);return new Ut(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const QV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=QV.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="server_timestamp",k1="__type__",V1="__previous_value__",D1="__local_write_time__";function _m(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k1])==null?void 0:i.stringValue)===P1}function mh(t){const e=t.mapValue.fields[V1];return _m(e)?mh(e):e}function Dl(t){const e=Ui(t.mapValue.fields[D1].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,i,o,a,u,f,d,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m,this.apiKey=y}}const Yc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Yc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}function XV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",JV="__max__",Sc={mapValue:{}},b1="__vector__",Xc="value";function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:eD(t)?9007199254740991:ZV(t)?10:11:we(28295,{value:t})}function xr(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ui(o.timestampValue),f=Ui(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return zi(o.bytesValue).isEqual(zi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return mt(o.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return mt(o.integerValue)===mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=mt(o.doubleValue),f=mt(a.doubleValue);return u===f?Qc(u)===Qc(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(o_(u)!==o_(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!xr(u[d],f[d])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function bl(t,e){return(t.values||[]).find((n=>xr(n,e)))!==void 0}function Ho(t,e){if(t===e)return 0;const n=$i(t),i=$i(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=mt(a.integerValue||a.doubleValue),d=mt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(Dl(t),Dl(e));case 5:return cp(t.stringValue,e.stringValue);case 6:return(function(a,u){const f=zi(a),d=zi(u);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const m=Ne(f[p],d[p]);if(m!==0)return m}return Ne(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Ne(mt(a.latitude),mt(u.latitude));return f!==0?f:Ne(mt(a.longitude),mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var w,S,I,P;const f=a.fields||{},d=u.fields||{},p=(w=f[Xc])==null?void 0:w.arrayValue,m=(S=d[Xc])==null?void 0:S.arrayValue,y=Ne(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((P=m==null?void 0:m.values)==null?void 0:P.length)||0);return y!==0?y:u_(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Sc.mapValue&&u===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(u===Sc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=u.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const w=cp(d[y],m[y]);if(w!==0)return w;const S=Ho(f[d[y]],p[m[y]]);if(S!==0)return S}return Ne(d.length,m.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Ui(t),i=Ui(e),o=Ne(n.seconds,i.seconds);return o!==0?o:Ne(n.nanos,i.nanos)}function u_(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Ho(n[o],i[o]);if(a)return a}return Ne(n.length,i.length)}function Ko(t){return hp(t)}function hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ui(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return zi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=hp(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${hp(n.fields[u])}`;return o+"}"})(t.mapValue):we(61005,{value:t})}function Nc(t){switch($i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+Nc(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Nc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return qi(i.fields,((a,u)=>{o+=a.length+Nc(u)})),o})(t.mapValue);default:throw we(13486,{value:t})}}function c_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dp(t){return!!t&&"integerValue"in t}function wm(t){return!!t&&"arrayValue"in t}function h_(t){return!!t&&"nullValue"in t}function d_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bc(t){return!!t&&"mapValue"in t}function ZV(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[N1])==null?void 0:i.stringValue)===b1}function vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qi(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=vl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return{...t}}function eD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Bt.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=vl(u):o.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){qi(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new dn(vl(this.value))}}function M1(t){const e=[];return qi(t.fields,((n,i)=>{const o=new Bt([n]);if(bc(i)){const a=M1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,i,o,a,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,n,i,o){return new Qt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Qt(e,2,n,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function f_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),n.key):i=Ho(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function p_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function tD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{}class St extends L1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rD(e,n,i):n==="array-contains"?new oD(e,i):n==="in"?new aD(e,i):n==="not-in"?new lD(e,i):n==="array-contains-any"?new uD(e,i):new St(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new iD(e,i):new sD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends L1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return O1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O1(t){return t.op==="and"}function F1(t){return nD(t)&&O1(t)}function nD(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function fp(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(F1(t))return t.filters.map((e=>fp(e))).join(",");{const e=t.filters.map((n=>fp(n))).join(",");return`${t.op}(${e})`}}function j1(t,e){return t instanceof St?(function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)})(t,e):t instanceof Xn?(function(i,o){return o instanceof Xn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,f)=>a&&j1(u,o.filters[f])),!0):!1})(t,e):void we(19439)}function B1(t){return t instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(t):t instanceof Xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(B1).join(" ,")+"}"})(t):"Filter"}class rD extends St{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class iD extends St{constructor(e,n){super(e,"in",n),this.keys=U1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sD extends St{constructor(e,n){super(e,"not-in",n),this.keys=U1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function U1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class oD extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wm(n)&&bl(n.arrayValue,this.value)}}class aD extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class lD extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bl(this.value.arrayValue,n)}}class uD extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>bl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function m_(t,e=null,n=[],i=[],o=null,a=null,u=null){return new cD(t,e,n,i,o,a,u)}function Em(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>fp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ko(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ko(i))).join(",")),e.Te=n}return e.Te}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p_(t.startAt,e.startAt)&&p_(t.endAt,e.endAt)}function pp(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n=null,i=[],o=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hD(t,e,n,i,o,a,u,f){return new ia(t,e,n,i,o,a,u,f)}function Sm(t){return new ia(t)}function g_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dD(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function z1(t){return t.collectionGroup!==null}function _l(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Pt(Bt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ml(a,i))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Ml(Bt.keyField(),i))}return e.Ie}function _r(t){const e=Ie(t);return e.Ee||(e.Ee=fD(e,_l(t))),e.Ee}function fD(t,e){if(t.limitType==="F")return m_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ml(o.field,a)}));const n=t.endAt?new Jc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Jc(t.startAt.position,t.startAt.inclusive):null;return m_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function mp(t,e){const n=t.filters.concat([e]);return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pD(t,e){const n=t.explicitOrderBy.concat([e]);return new ia(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Zc(t,e,n){return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return Tm(_r(t),_r(e))&&t.limitType===e.limitType}function $1(t){return`${Em(_r(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>B1(o))).join(", ")}]`),ph(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Ko(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Ko(o))).join(",")),`Target(${i})`})(_r(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ye.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of _l(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,d){const p=f_(u,f,d);return u.inclusive?p<=0:p<0})(i.startAt,_l(i),o)||i.endAt&&!(function(u,f,d){const p=f_(u,f,d);return u.inclusive?p>=0:p>0})(i.endAt,_l(i),o))})(t,e)}function mD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W1(t){return(e,n)=>{let i=!1;for(const o of _l(t)){const a=gD(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function gD(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,u,f){const d=u.data.field(a),p=f.data.field(a);return d!==null&&p!==null?Ho(d,p):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new at(ye.comparator);function ei(){return yD}const H1=new at(ye.comparator);function cl(...t){let e=H1;for(const n of t)e=e.insert(n.key,n);return e}function K1(t){let e=H1;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ps(){return wl()}function G1(){return wl()}function wl(){return new Os((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vD=new at(ye.comparator),_D=new Pt(ye.comparator);function be(...t){let e=_D;for(const n of t)e=e.add(n);return e}const wD=new Pt(Ne);function ED(){return wD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function q1(t){return{integerValue:""+t}}function Q1(t,e){return KV(e)?q1(e):xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function TD(t,e,n){return t instanceof Ll?(function(o,a){const u={fields:{[k1]:{stringValue:P1},[D1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&_m(a)&&(a=mh(a)),a&&(u.fields[V1]=a),{mapValue:u}})(n,e):t instanceof Go?X1(t,e):t instanceof Ol?J1(t,e):(function(o,a){const u=Y1(o,a),f=y_(u)+y_(o.Ae);return dp(u)&&dp(o.Ae)?q1(f):xm(o.serializer,f)})(t,e)}function SD(t,e,n){return t instanceof Go?X1(t,e):t instanceof Ol?J1(t,e):n}function Y1(t,e){return t instanceof Fl?(function(i){return dp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Ll extends vh{}class Go extends vh{constructor(e){super(),this.elements=e}}function X1(t,e){const n=Z1(e);for(const i of t.elements)n.some((o=>xr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Ol extends vh{constructor(e){super(),this.elements=e}}function J1(t,e){let n=Z1(e);for(const i of t.elements)n=n.filter((o=>!xr(o,i)));return{arrayValue:{values:n}}}class Fl extends vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y_(t){return mt(t.integerValue||t.doubleValue)}function Z1(t){return wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.field=e,this.transform=n}}function xD(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Go&&o instanceof Go||i instanceof Ol&&o instanceof Ol?Wo(i.elements,o.elements,xr):i instanceof Fl&&o instanceof Fl?xr(i.Ae,o.Ae):i instanceof Ll&&o instanceof Ll})(t.transform,e.transform)}class AD{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function eT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nT(t.key,Qn.none()):new Gl(t.key,t.data,Qn.none());{const n=t.data,i=dn.empty();let o=new Pt(Bt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Qi(t.key,i,new Tn(o.toArray()),Qn.none())}}function CD(t,e,n){t instanceof Gl?(function(o,a,u){const f=o.value.clone(),d=__(o.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qi?(function(o,a,u){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=__(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(tT(o)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function El(t,e,n,i){return t instanceof Gl?(function(a,u,f,d){if(!Mc(a.precondition,u))return f;const p=a.value.clone(),m=w_(a.fieldTransforms,d,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Qi?(function(a,u,f,d){if(!Mc(a.precondition,u))return f;const p=w_(a.fieldTransforms,d,u),m=u.data;return m.setAll(tT(a)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,i):(function(a,u,f){return Mc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function ID(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=Y1(i.transform,o||null);a!=null&&(n===null&&(n=dn.empty()),n.set(i.field,a))}return n||null}function v_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,((a,u)=>xD(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends _h{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qi extends _h{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function __(t,e,n){const i=new Map;We(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,SD(u,f,n[o]))}return i}function w_(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,TD(a,u,e))}return i}class nT extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RD extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&CD(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=El(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=El(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=G1();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(o.key)?null:f;const d=eT(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((n,i)=>v_(n,i)))&&Wo(this.baseMutations,e.baseMutations,((n,i)=>v_(n,i)))}}class Cm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return vD})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Cm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Le;function DD(t){switch(t){case Q.OK:return we(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function rT(t){if(t===void 0)return Zr("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Et.OK:return Q.OK;case Et.CANCELLED:return Q.CANCELLED;case Et.UNKNOWN:return Q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Q.INTERNAL;case Et.UNAVAILABLE:return Q.UNAVAILABLE;case Et.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Et.NOT_FOUND:return Q.NOT_FOUND;case Et.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Et.ABORTED:return Q.ABORTED;case Et.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Et.DATA_LOSS:return Q.DATA_LOSS;default:return we(39323,{code:t})}}(Le=Et||(Et={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Li([4294967295,4294967295],0);function E_(t){const e=ND().encode(t),n=new g1;return n.update(e),new Uint8Array(n.digest())}function T_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Li([n,i],0),new Li([o,a],0)]}class Im{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hl(`Invalid padding: ${n}`);if(i<0)throw new hl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Li.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Li.fromNumber(i)));return o.compare(bD)===1&&(o=new Li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E_(e),[i,o]=T_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Im(a,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=E_(e),[i,o]=T_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wh(Se.min(),o,new at(Ne),ei(),be())}}class ql{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ql(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class iT{constructor(e,n){this.targetId=e,this.Ce=n}}class sT{constructor(e,n,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class S_{constructor(){this.ve=0,this.Fe=x_(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),i=be();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:a})}})),new ql(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=x_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ei(),this.He=xc(),this.Je=xc(),this.Ze=new at(Ne)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(pp(a))if(i===0){const u=new ye(a.path);this.et(n,u,Qt.newNoDocument(u,Se.min()))}else We(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,f;try{u=zi(i).toUint8Array()}catch(d){if(d instanceof R1)return $o("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Im(u,o,a)}catch(d){return $o(d instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&pp(f.target)){const d=new ye(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Qt.newNoDocument(d,e))}a.Be&&(n.set(u,a.ke()),a.Ke())}}));let i=be();this.Je.forEach(((a,u)=>{let f=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new wh(e,n,this.Ze,this.je,i);return this.je=ei(),this.He=xc(),this.Je=xc(),this.Ze=new at(Ne),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new S_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ne),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ne),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xc(){return new at(ye.comparator)}function x_(){return new at(ye.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},OD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FD={and:"AND",or:"OR"};class jD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BD(t,e){return eh(t,e.toTimestamp())}function wr(t){return We(!!t,49232),Se.fromTimestamp((function(n){const i=Ui(n);return new et(i.seconds,i.nanos)})(t))}function Rm(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=(function(o){return new Ye(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aT(t){const e=Ye.fromString(t);return We(dT(e),10190,{key:e.toString()}),e}function vp(t,e){return Rm(t.databaseId,e.path)}function kf(t,e){const n=aT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(uT(n))}function lT(t,e){return Rm(t.databaseId,e)}function UD(t){const e=aT(t);return e.length===4?Ye.emptyPath():uT(e)}function _p(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uT(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A_(t,e,n){return{name:vp(t,e),fields:n.value.mapValue.fields}}function zD(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(We(m===void 0||typeof m=="string",58123),Ut.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ut.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const m=p.code===void 0?Q.UNKNOWN:rT(p.code);return new le(m,p.message||"")})(u);n=new sT(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=kf(t,i.document.name),a=wr(i.document.updateTime),u=i.document.createTime?wr(i.document.createTime):Se.min(),f=new dn({mapValue:{fields:i.document.fields}}),d=Qt.newFoundDocument(o,a,u,f),p=i.targetIds||[],m=i.removedTargetIds||[];n=new Lc(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=kf(t,i.document),a=i.readTime?wr(i.readTime):Se.min(),u=Qt.newNoDocument(o,a),f=i.removedTargetIds||[];n=new Lc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=kf(t,i.document),a=i.removedTargetIds||[];n=new Lc([],a,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new VD(o,a),f=i.targetId;n=new iT(f,u)}}return n}function $D(t,e){let n;if(e instanceof Gl)n={update:A_(t,e.key,e.value)};else if(e instanceof nT)n={delete:vp(t,e.key)};else if(e instanceof Qi)n={update:A_(t,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof RD))return we(16599,{dt:e.type});n={verify:vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const f=u.transform;if(f instanceof Ll)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Go)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fl)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:BD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)})(t,e.precondition)),n}function WD(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?wr(o.updateTime):wr(a);return u.isEqual(Se.min())&&(u=wr(a)),new AD(u,o.transformResults||[])})(n,e)))):[]}function HD(t,e){return{documents:[lT(t,e.path)]}}function KD(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=lT(t,o);const a=(function(p){if(p.length!==0)return hT(Xn.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((m=>(function(w){return{field:ko(w.field),direction:QD(w.dir)}})(m)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=gp(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function GD(t){let e=UD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){We(i===1,65062);const m=n.from[0];m.allDescendants?o=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(y){const w=cT(y);return w instanceof Xn&&F1(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((w=>(function(I){return new Ml(Vo(I.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(y){let w;return w=typeof y=="object"?y.value:y,ph(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(y){const w=!!y.before,S=y.values||[];return new Jc(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const w=!y.before,S=y.values||[];return new Jc(S,w)})(n.endAt)),hD(e,o,u,a,f,"F",d,p)}function qD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Vo(n.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vo(n.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vo(n.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return St.create(Vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xn.create(n.compositeFilter.filters.map((i=>cT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function QD(t){return LD[t]}function YD(t){return OD[t]}function XD(t){return FD[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Vo(t){return Bt.fromServerFormat(t.fieldPath)}function hT(t){return t instanceof St?(function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(h_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(h_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:YD(n.op),value:n.value}}})(t):t instanceof Xn?(function(n){const i=n.getFilters().map((o=>hT(o)));return i.length===1?i[0]:{compositeFilter:{op:XD(n.op),filters:i}}})(t):we(54877,{filter:t})}function JD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function dT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function fT(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,o,a=Se.min(),u=Se.min(),f=Ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.yt=e}}function eN(t){const e=GD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Sn=new nN}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Bi.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class nN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Pt(Ye.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Pt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(pT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new qo(0)}static ar(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",rN=1048576;function R_([t,e],[n,i]){const o=Ne(t,n);return o===0?Ne(e,i):o}class iN{constructor(e){this.Pr=e,this.buffer=new Pt(R_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();R_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ra(n)?ce(I_,"Ignoring IndexedDB error during garbage collection: ",n):await na(n)}await this.Ar(3e5)}))}}class oN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(fh.ce);const i=new iN(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(C_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,a,u,f,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(i=y,f=Date.now(),this.removeTargets(e,i,n)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((y=>(p=Date.now(),Ro()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y}))))}}function aN(t,e){return new oN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.changes=new Os((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&El(i.mutation,o,Tn.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,be()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=be()){const o=Ps();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=cl();return a.forEach(((f,d)=>{u=u.insert(f,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Ps();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,be())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let a=ei();const u=wl(),f=(function(){return wl()})();return n.forEach(((d,p)=>{const m=i.get(p.key);o.has(p.key)&&(m===void 0||m.mutation instanceof Qi)?a=a.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),El(m.mutation,p,m.mutation.getFieldMask(),et.now())):u.set(p.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,m)=>u.set(p,m))),n.forEach(((p,m)=>f.set(p,new uN(m,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=wl();let o=new at(((u,f)=>u-f)),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let m=i.get(d)||Tn.empty();m=f.applyToLocalView(p,m),i.set(d,m);const y=(o.get(f.batchId)||be()).add(d);o=o.insert(f.batchId,y)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,m=d.value,y=G1();m.forEach((w=>{if(!a.has(w)){const S=eT(n.get(w),i.get(w));S!==null&&y.set(w,S),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return Y.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return dD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Y.resolve(Ps());let f=Vl,d=a;return u.next((p=>Y.forEach(p,((m,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{d=d.insert(m,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,be()))).next((m=>({batchId:f,changes:K1(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=cl();return this.indexManager.getCollectionParents(e,a).next((f=>Y.forEach(f,(d=>{const p=(function(y,w){return new ia(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((m=>{m.forEach(((y,w)=>{u=u.insert(y,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((d,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,Qt.newInvalidDocument(m)))}));let f=cl();return u.forEach(((d,p)=>{const m=a.get(d);m!==void 0&&El(m.mutation,p,Tn.empty(),et.now()),yh(n,p)&&(f=f.insert(d,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:eN(o.bundledQuery),readTime:wr(o.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.overlays=new at(ye.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ps();return Y.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.bt(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const o=Ps(),a=n.length+1,u=new ye(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new at(((p,m)=>p-m));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=a.get(p.largestBatchId);m===null&&(m=Ps(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const f=Ps(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>f.set(p,m))),!(f.size()>=o)););return Y.resolve(f)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new kD(n,i));let a=this.Lr.get(n);a===void 0&&(a=be(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.kr=new Pt(Nt.Kr),this.qr=new Pt(Nt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Nt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Nt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new Ye([])),i=new Nt(n,e),o=new Nt(n,e+1),a=[];return this.qr.forEachInRange([i,o],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Ye([])),i=new Nt(n,e),o=new Nt(n,e+1);let a=be();return this.qr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Nt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Nt.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PD(a,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Jr=this.Jr.add(new Nt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?vm:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Nt(n,0),o=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,o],(u=>{const f=this.Zr(u.Hr);a.push(f)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pt(Ne);return n.forEach((o=>{const a=new Nt(o,0),u=new Nt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(f=>{i=i.add(f.Hr)}))})),Y.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ye.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new ye(a),0);let f=new Pt(Ne);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(f=f.add(d.Hr)),!0)}),u),Y.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Y.forEach(n.mutations,(o=>{const a=new Nt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Nt(n,0),o=this.Jr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.ti=e,this.docs=(function(){return new at(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let i=ei();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=ei();const u=n.path,f=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||zV(UV(m),i)<=0||(o.has(m.key)||yh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,i,o){we(9500)}ni(e,n){return Y.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new gN(this)}getSize(e){return Y.resolve(this.size)}}class gN extends lN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.persistence=e,this.ri=new Os((n=>Em(n)),Tm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Pm,this.targetCount=0,this.oi=qo._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Y.waitFor(a).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new fN,this.referenceDelegate=e(this),this.li=new yN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(o){return new mN(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new ZD(n),this.Pi=new hN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new pN(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new vN(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,n){return Y.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class vN extends WV{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Ri=new Pm,this.Ai=null}static Vi(e){return new km(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((a=>{a||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class th{constructor(e,n){this.persistence=e,this.fi=new Os((i=>GV(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=aN(this,n)}static Vi(e,n){return new th(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return Y.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((a=>a?Y.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(i++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nc(e.data.value)),n}wr(e,n,i){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=be(),o=be();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Vm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ck()?8:HV(lk())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.gs(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new _N;return this.ys(e,n,u).next((f=>{if(a.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>a.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Ro()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ro()<=Oe.DEBUG&&ce("QueryEngine","Query:",Po(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Ro()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):Y.resolve())}gs(e,n){if(g_(n))return Y.resolve(null);let i=_r(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zc(n,null,"F"),i=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=be(...a);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.bs(n,f);return this.Ss(n,p,u,d.readTime)?this.gs(e,Zc(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,i,o){return g_(n)||o.isEqual(Se.min())?Y.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(n,a);return this.Ss(n,u,i,o)?Y.resolve(null):(Ro()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(n)),this.Ds(e,u,n,BV(o,Vl)).next((f=>f)))}))}bs(e,n){let i=new Pt(W1(e));return n.forEach(((o,a)=>{yh(e,a)&&(i=i.add(a))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,n,i){return Ro()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Po(n)),this.fs.getDocumentsMatchingQuery(e,n,Bi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",EN=3e8;class TN{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new at(Ne),this.Fs=new Os((a=>Em(a)),Tm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SN(t,e,n,i){return new TN(t,e,n,i)}async function gT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],f=[];let d=be();for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){f.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function xN(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,d,p,m){const y=p.batch,w=y.keys();let S=Y.resolve();return w.forEach((I=>{S=S.next((()=>m.getEntry(d,I))).next((P=>{const R=p.docVersions.get(I);We(R!==null,48541),P.version.compareTo(R)<0&&(y.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),m.addEntry(P)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(d,y)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let d=be();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function yT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function AN(t,e){const n=Ie(t),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const f=[];e.targetChanges.forEach(((m,y)=>{const w=o.get(y);if(!w)return;f.push(n.li.removeMatchingKeys(a,m.removedDocuments,y).next((()=>n.li.addMatchingKeys(a,m.addedDocuments,y))));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Ut.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),o=o.insert(y,S),(function(P,R,$){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=EN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,S,m)&&f.push(n.li.updateTargetData(a,S))}));let d=ei(),p=be();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),f.push(CN(a,u,e.documentUpdates).next((m=>{d=m.Bs,p=m.Ls}))),!i.isEqual(Se.min())){const m=n.li.getLastRemoteSnapshotVersion(a).next((y=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));f.push(m)}return Y.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(n.vs=o,a)))}function CN(t,e,n){let i=be(),o=be();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=ei();return n.forEach(((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ce(Dm,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:o}}))}function IN(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=vm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function RN(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((a=>a?(o=a,Y.resolve(o)):n.li.allocateTargetId(i).next((u=>(o=new Ni(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function wp(t,e,n){const i=Ie(t),o=i.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ra(u))throw u;ce(Dm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function P_(t,e,n){const i=Ie(t);let o=Se.min(),a=be();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,m){const y=Ie(d),w=y.Fs.get(m);return w!==void 0?Y.resolve(y.vs.get(w)):y.li.getTargetData(p,m)})(i,u,_r(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((d=>{a=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:be()))).next((f=>(PN(i,mD(e),f),{documents:f,ks:a})))))}function PN(t,e,n){let i=t.Ms.get(e)||Se.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Ms.set(e,i)}class k_{constructor(){this.activeTargetIds=ED()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kN{constructor(){this.vo=new k_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new k_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class D_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Ep(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class NN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Yc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,a){const u=Ep(),f=this.Qo(e,n.toUriEncodedString());ce(Vf,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,o,a);const{host:p}=new URL(f),m=pm(p);return this.zo(e,f,d,i,m).then((y=>(ce(Vf,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw $o(Vf,`RPC '${e}' ${u} failed with error: `,y,"url: ",f,"request:",i),y}))}jo(e,n,i,o,a,u){return this.Wo(e,n,i,o,a)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}Qo(e,n){const i=DN[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection",ol=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class jo extends NN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!jo.c_){const e=w1();ol(e,_1.STAT_EVENT,(n=>{n.stat===up.PROXY?ce(Gt,"STAT_EVENT: detected buffering proxy"):n.stat===up.NOPROXY&&ce(Gt,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(e,n,i,o,a){const u=Ep();return new Promise(((f,d)=>{const p=new y1;p.setWithCredentials(!0),p.listenOnce(v1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Dc.NO_ERROR:const y=p.getResponseJson();ce(Gt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),f(y);break;case Dc.TIMEOUT:ce(Gt,`RPC '${e}' ${u} timed out`),d(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const w=p.getStatus();if(ce(Gt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const P=(function($){const F=$.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(F)>=0?F:Q.UNKNOWN})(I.status);d(new le(P,I.message))}else d(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(Q.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Gt,`RPC '${e}' ${u} completed.`)}}));const m=JSON.stringify(o);ce(Gt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",m,i,15)}))}T_(e,n,i){const o=Ep(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const p=a.join("");ce(Gt,`Creating RPC '${e}' stream ${o}: ${p}`,f);const m=u.createWebChannel(p,f);this.I_(m);let y=!1,w=!1;const S=new bN({Ho:I=>{w?ce(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(y||(ce(Gt,`Opening RPC '${e}' stream ${o} transport.`),m.open(),y=!0),ce(Gt,`RPC '${e}' stream ${o} sending:`,I),m.send(I))},Jo:()=>m.close()});return ol(m,ul.EventType.OPEN,(()=>{w||(ce(Gt,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),ol(m,ul.EventType.CLOSE,(()=>{w||(w=!0,ce(Gt,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(m))})),ol(m,ul.EventType.ERROR,(I=>{w||(w=!0,$o(Gt,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),S.o_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),ol(m,ul.EventType.MESSAGE,(I=>{var P;if(!w){const R=I.data[0];We(!!R,16349);const $=R,F=($==null?void 0:$.error)||((P=$[0])==null?void 0:P.error);if(F){ce(Gt,`RPC '${e}' stream ${o} received error:`,F);const M=F.status;let X=(function(N){const C=Et[N];if(C!==void 0)return rT(C)})(M),Z=F.message;X===void 0&&(X=Q.INTERNAL,Z="Unknown error status: "+M+" with message "+F.message),w=!0,S.o_(new le(X,Z)),m.close()}else ce(Gt,`RPC '${e}' stream ${o} received:`,R),S.__(R)}})),jo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return E1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){return new jo(t)}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new jD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo.c_=!1;class vT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class _T{constructor(e,n,i,o,a,u,f,d){this.Ci=e,this.b_=i,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LN extends _T{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zD(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?wr(u.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=_p(this.serializer),n.addTarget=(function(a,u){let f;const d=u.target;if(f=pp(d)?{documents:HD(a,d)}:{query:KD(a,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=oT(a,u.resumeToken);const p=gp(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=eh(a,u.snapshotVersion.toTimestamp());const p=gp(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=qD(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.K_(n)}}class ON extends _T{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WD(e.writeResults,e.commitTime),i=wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=_p(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>$D(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{}class jN extends FN{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,yp(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}jo(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,yp(n,i),o,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Q.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function BN(t,e,n,i){return new jN(t,e,n,i)}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class zN{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Fs(this)&&(ce(Ns,"Restarting streams for network reachability change."),await(async function(d){const p=Ie(d);p.Ea.add(4),await Ql(p),p.Va.set("Unknown"),p.Ea.delete(4),await Th(p)})(this))}))})),this.Va=new UN(i,o)}}async function Th(t){if(Fs(t))for(const e of t.Ra)await e(!0)}async function Ql(t){for(const e of t.Ra)await e(!1)}function wT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lm(n)?Mm(n):sa(n).O_()&&bm(n,e))}function Nm(t,e){const n=Ie(t),i=sa(n);n.Ia.delete(e),i.O_()&&ET(n,e),n.Ia.size===0&&(i.O_()?i.L_():Fs(n)&&n.Va.set("Unknown"))}function bm(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).Z_(e)}function ET(t,e){t.da.$e(e),sa(t).X_(e)}function Mm(t){t.da=new MD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.Va.ua()}function Lm(t){return Fs(t)&&!sa(t).x_()&&t.Ia.size>0}function Fs(t){return Ie(t).Ea.size===0}function TT(t){t.da=void 0}async function $N(t){t.Va.set("Online")}async function WN(t){t.Ia.forEach(((e,n)=>{bm(t,e)}))}async function HN(t,e){TT(t),Lm(t)?(t.Va.ha(e),Mm(t)):t.Va.set("Unknown")}async function KN(t,e,n){if(t.Va.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.da.removeTarget(f))})(t,e)}catch(i){ce(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nh(t,i)}else if(e instanceof Lc?t.da.Xe(e):e instanceof iT?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const i=await yT(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const f=a.da.Tt(u);return f.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(d.resumeToken,u))}})),f.targetMismatches.forEach(((d,p)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(Ut.EMPTY_BYTE_STRING,m.snapshotVersion)),ET(a,d);const y=new Ni(m.target,d,p,m.sequenceNumber);bm(a,y)})),a.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){ce(Ns,"Failed to raise snapshot:",i),await nh(t,i)}}async function nh(t,e,n){if(!ra(e))throw e;t.Ea.add(1),await Ql(t),t.Va.set("Offline"),n||(n=()=>yT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Ns,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Th(t)}))}function ST(t,e){return e().catch((n=>nh(t,n,e)))}async function Sh(t){const e=Ie(t),n=Wi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vm;for(;GN(e);)try{const o=await IN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,qN(e,o)}catch(o){await nh(e,o)}xT(e)&&AT(e)}function GN(t){return Fs(t)&&t.Ta.length<10}function qN(t,e){t.Ta.push(e);const n=Wi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function xT(t){return Fs(t)&&!Wi(t).x_()&&t.Ta.length>0}function AT(t){Wi(t).start()}async function QN(t){Wi(t).ra()}async function YN(t){const e=Wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function XN(t,e,n){const i=t.Ta.shift(),o=Cm.from(i,e,n);await ST(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Sh(t)}async function JN(t,e){e&&Wi(t).Y_&&await(async function(i,o){if((function(u){return DD(u)&&u!==Q.ABORTED})(o.code)){const a=i.Ta.shift();Wi(i).B_(),await ST(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Sh(i)}})(t,e),xT(t)&&AT(t)}async function b_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(Ns,"RemoteStore received new credentials");const i=Fs(n);n.Ea.add(3),await Ql(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Th(n)}async function ZN(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Th(n)):e||(n.Ea.add(2),await Ql(n),n.Va.set("Unknown"))}function sa(t){return t.ma||(t.ma=(function(n,i,o){const a=Ie(n);return a.sa(),new LN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:$N.bind(null,t),Yo:WN.bind(null,t),t_:HN.bind(null,t),J_:KN.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Lm(t)?Mm(t):t.Va.set("Unknown")):(await t.ma.stop(),TT(t))}))),t.ma}function Wi(t){return t.fa||(t.fa=(function(n,i,o){const a=Ie(n);return a.sa(),new ON(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QN.bind(null,t),t_:JN.bind(null,t),ta:YN.bind(null,t),na:XN.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Sh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Ns,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,f=new Om(e,n,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),ra(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=cl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new at(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Qo{constructor(e,n,i,o,a,u,f,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Qo(e,n,Bo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tb{constructor(){this.queries=L_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ie(n),a=o.queries;o.queries=L_(),a.forEach(((u,f)=>{for(const d of f.ba)d.onError(i)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function L_(){return new Os((t=>$1(t)),gh)}async function CT(t,e){const n=Ie(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Sa()&&e.Da()&&(i=2):(a=new eb,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=Fm(u,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&jm(n)}async function IT(t,e){const n=Ie(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nb(t,e){const n=Ie(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const f of u.ba)f.Fa(o)&&(i=!0);u.wa=o}}i&&jm(n)}function rb(t,e,n){const i=Ie(t),o=i.queries.get(e);if(o)for(const a of o.ba)a.onError(n);i.queries.delete(e)}function jm(t){t.Ca.forEach((e=>{e.next()}))}var Tp,O_;(O_=Tp||(Tp={})).Ma="default",O_.Cache="cache";class RT{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class ib{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=be(),this.mutatedKeys=be(),this.eu=W1(e),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new M_,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((m,y)=>{const w=o.get(m),S=yh(this.query,y)?y:null,I=!!w&&this.mutatedKeys.has(w.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;w&&S?w.data.isEqual(S.data)?I!==P&&(i.track({type:3,doc:S}),R=!0):this.su(w,S)||(i.track({type:2,doc:S}),R=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(f=!0)):!w&&S?(i.track({type:0,doc:S}),R=!0):w&&!S&&(i.track({type:1,doc:w}),R=!0,(d||p)&&(f=!0)),R&&(S?(u=u.add(S),a=P?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:u,iu:i,Ss:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((m,y)=>(function(S,I){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:R})}};return P(S)-P(I)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],d=this.Ya.size===0&&this.current&&!o?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new Qo(this.query,e.tu,a,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new kT(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new PT(i))})),n}cu(e){this.Za=e.ks,this.Ya=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bm="SyncEngine";class sb{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class ob{constructor(e){this.key=e,this.hu=!1}}class ab{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Os((f=>$1(f)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new at(ye.comparator),this.Au=new Map,this.Vu=new Pm,this.du={},this.mu=new Map,this.fu=qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lb(t,e,n=!0){const i=LT(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await VT(i,e,n,!0),o}async function ub(t,e){const n=LT(t);await VT(n,e,!0,!1)}async function VT(t,e,n,i){const o=await RN(t.localStore,_r(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await cb(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&wT(t.remoteStore,o),f}async function cb(t,e,n,i,o){t.pu=(y,w,S)=>(async function(P,R,$,F){let M=R.view.ru($);M.Ss&&(M=await P_(P.localStore,R.query,!1).then((({documents:N})=>R.view.ru(N,M))));const X=F&&F.targetChanges.get(R.targetId),Z=F&&F.targetMismatches.get(R.targetId)!=null,oe=R.view.applyChanges(M,P.isPrimaryClient,X,Z);return j_(P,R.targetId,oe.au),oe.snapshot})(t,y,w,S);const a=await P_(t.localStore,e,!0),u=new ib(e,a.ks),f=u.ru(a.documents),d=ql.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(f,t.isPrimaryClient,d);j_(t,n,p.au);const m=new sb(e,n,u);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function hb(t,e,n){const i=Ie(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!gh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Nm(i.remoteStore,o.targetId),Sp(i,o.targetId)})).catch(na)):(Sp(i,o.targetId),await wp(i.localStore,o.targetId,!0))}async function db(t,e){const n=Ie(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Nm(n.remoteStore,i.targetId))}async function fb(t,e,n){const i=wb(t);try{const o=await(function(u,f){const d=Ie(u),p=et.now(),m=f.reduce(((S,I)=>S.add(I.key)),be());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=ei(),P=be();return d.xs.getEntries(S,m).next((R=>{I=R,I.forEach((($,F)=>{F.isValidDocument()||(P=P.add($))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,I))).next((R=>{y=R;const $=[];for(const F of f){const M=ID(F,y.get(F.key).overlayedDocument);M!=null&&$.push(new Qi(F.key,M,M1(M.value.mapValue),Qn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,$,f)})).next((R=>{w=R;const $=R.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(S,R.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:K1(y)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,d){let p=u.du[u.currentUser.toKey()];p||(p=new at(Ne)),p=p.insert(f,d),u.du[u.currentUser.toKey()]=p})(i,o.batchId,n),await Yl(i,o.changes),await Sh(i.remoteStore)}catch(o){const a=Fm(o,"Failed to persist write");n.reject(a)}}async function DT(t,e){const n=Ie(t);try{const i=await AN(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?We(u.hu,14607):o.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await Yl(n,i,e)}catch(i){await na(i)}}function F_(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const d=Ie(u);d.onlineState=f;let p=!1;d.queries.forEach(((m,y)=>{for(const w of y.ba)w.va(f)&&(p=!0)})),p&&jm(d)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pb(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new at(ye.comparator);u=u.insert(a,Qt.newNoDocument(a,Se.min()));const f=be().add(a),d=new wh(Se.min(),new Map,new at(Ne),u,f);await DT(i,d),i.Ru=i.Ru.remove(a),i.Au.delete(e),Um(i)}else await wp(i.localStore,e,!1).then((()=>Sp(i,e,n))).catch(na)}async function mb(t,e){const n=Ie(t),i=e.batch.batchId;try{const o=await xN(n.localStore,e);bT(n,i,null),NT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Yl(n,o)}catch(o){await na(o)}}async function gb(t,e,n){const i=Ie(t);try{const o=await(function(u,f){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,f).next((y=>(We(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(i.localStore,e);bT(i,e,n),NT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Yl(i,o)}catch(o){await na(o)}}function NT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bT(t,e,n){const i=Ie(t);let o=i.du[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||MT(t,i)}))}function MT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Nm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Um(t))}function j_(t,e,n){for(const i of n)i instanceof PT?(t.Vu.addReference(i.key,e),yb(t,i)):i instanceof kT?(ce(Bm,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||MT(t,i.key)):we(19791,{wu:i})}function yb(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ce(Bm,"New document in limbo: "+n),t.Eu.add(i),Um(t))}function Um(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Ye.fromString(e)),i=t.fu.next();t.Au.set(i,new ob(n)),t.Ru=t.Ru.insert(n,i),wT(t.remoteStore,new Ni(_r(Sm(n.path)),i,"TargetPurposeLimboResolution",fh.ce))}}async function Yl(t,e,n){const i=Ie(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,d)=>{u.push(i.pu(d,e,n).then((p=>{var m;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){o.push(p);const y=Vm.Es(d.targetId,p);a.push(y)}})))})),await Promise.all(u),i.Pu.J_(o),await(async function(d,p){const m=Ie(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Y.forEach(p,(w=>Y.forEach(w.Ts,(S=>m.persistence.referenceDelegate.addReference(y,w.targetId,S))).next((()=>Y.forEach(w.Is,(S=>m.persistence.referenceDelegate.removeReference(y,w.targetId,S)))))))))}catch(y){if(!ra(y))throw y;ce(Dm,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const S=m.vs.get(w),I=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(I);m.vs=m.vs.insert(w,P)}}})(i.localStore,a))}async function vb(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(Bm,"User change. New user:",e.toKey());const i=await gT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((d=>{d.reject(new le(Q.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yl(n,i.Ns)}}function _b(t,e){const n=Ie(t),i=n.Au.get(e);if(i&&i.hu)return be().add(i.key);{let o=be();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function LT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pb.bind(null,e),e.Pu.J_=nb.bind(null,e.eventManager),e.Pu.yu=rb.bind(null,e.eventManager),e}function wb(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gb.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SN(this.persistence,new wN,e.initialUser,this.serializer)}Cu(e){return new mT(km.Vi,this.serializer)}Du(e){return new kN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Eb extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new mT((i=>th.Vi(i,n)),this.serializer)}}class xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vb.bind(null,this.syncEngine),await ZN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tb})()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),i=MN(e.databaseInfo);return BN(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,f){return new zN(i,o,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>F_(this.syncEngine,n,0)),(function(){return D_.v()?new D_:new VN})())}createSyncEngine(e,n){return(function(o,a,u,f,d,p,m){const y=new ab(o,a,u,f,d,p);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Ie(o);ce(Ns,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class Tb{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ce(Hi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ce(Hi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Fm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await gT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function B_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sb(t);ce(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>b_(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>b_(e.remoteStore,o))),t._onlineComponents=e}async function Sb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Hi,"Using user provided OfflineComponentProvider");try{await Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await Nf(t,new rh)}}else ce(Hi,"Using default OfflineComponentProvider"),await Nf(t,new Eb(void 0));return t._offlineComponents}async function FT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Hi,"Using user provided OnlineComponentProvider"),await B_(t,t._uninitializedComponentsProvider._online)):(ce(Hi,"Using default OnlineComponentProvider"),await B_(t,new xp))),t._onlineComponents}function xb(t){return FT(t).then((e=>e.syncEngine))}async function jT(t){const e=await FT(t),n=e.eventManager;return n.onListen=lb.bind(null,e.syncEngine),n.onUnlisten=hb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ub.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=db.bind(null,e.syncEngine),n}function Ab(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,d,p){const m=new OT({next:w=>{m.Nu(),u.enqueueAndForget((()=>IT(a,y)));const S=w.docs.has(f);!S&&w.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&d&&d.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new RT(Sm(f.path),m,{includeMetadataChanges:!0,Ka:!0});return CT(a,y)})(await jT(t),t.asyncQueue,e,n,i))),i.promise}function Cb(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,d,p){const m=new OT({next:w=>{m.Nu(),u.enqueueAndForget((()=>IT(a,y))),w.fromCache&&d.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new RT(f,m,{includeMetadataChanges:!0,Ka:!0});return CT(a,y)})(await jT(t),t.asyncQueue,e,n,i))),i.promise}function Ib(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget((async()=>fb(await xb(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ComponentProvider",U_=new Map;function Pb(t,e,n,i,o){return new YV(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,BT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firestore.googleapis.com",z_=!0;class $_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rN)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new PV;switch(i.type){case"firstParty":return new NV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=U_.get(n);i&&(ce(Rb,"Removing Datastore"),U_.delete(n),i.terminate())})(this),Promise.resolve()}}function kb(t,e,n,i={}){var p;t=Sr(t,xh);const o=pm(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(rk(`https://${f}`),ak("Firestore",!0)),a.host!==UT&&a.host!==f&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:f,ssl:o,emulatorOptions:i};if(!Rl(d,u)&&(t._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=qt.MOCK_USER;else{m=ik(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new qt(w)}t._authCredentials=new kV(new S1(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class gt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Kl(n,gt._jsonSchema))return new gt(e,i||null,new ye(Ye.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:xt("string",gt._jsonSchemaVersion),referencePath:xt("string")};class Oi extends Yi{constructor(e,n,i){super(e,n,Sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ye(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Xl(t,e,...n){if(t=Xr(t),x1("collection","path",e),t instanceof xh){const i=Ye.fromString(e,...n);return n_(i),new Oi(t,null,i)}{if(!(t instanceof gt||t instanceof Oi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ye.fromString(e,...n));return n_(i),new Oi(t.firestore,null,i)}}function Jn(t,e,...n){if(t=Xr(t),arguments.length===1&&(e=ym.newId()),x1("doc","path",e),t instanceof xh){const i=Ye.fromString(e,...n);return t_(i),new gt(t,null,new ye(i))}{if(!(t instanceof gt||t instanceof Oi))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ye.fromString(e,...n));return t_(i),new gt(t.firestore,t instanceof Oi?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vT(this,"async_queue_retry"),this._c=()=>{const i=Df();i&&ce(W_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ra(e))throw e;ce(W_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",K_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Om.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:K_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class oa extends xh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function Vb(t,e){const n=typeof t=="object"?t:yV(),i=typeof t=="string"?t:Yc,o=dV(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=tk("firestore");a&&kb(o,...a)}return o}function zm(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Db(t),t._firestoreClient}function Db(t){var i,o,a,u;const e=t._freezeSettings(),n=Pb(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(o=t._app)==null?void 0:o.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Tb(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Ut.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:xt("string",Dn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:xt("string",Er._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yn(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:xt("string",Yn._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=/^__.*__$/;class bb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class zT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:t})}}class Ah{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ah({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ih(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($T(this.dataSource)&&Nb.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Mb{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eh(e)}createContext(e,n,i,o=!1){return new Ah({dataSource:e,methodName:n,targetDoc:i,path:Bt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new Mb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WT(t,e,n,i,o,a={}){const u=t.createContext(a.merge||a.mergeFields?2:0,e,n,o);Gm("Data must be an object, but it was:",u,i);const f=HT(i,u);let d,p;if(a.merge)d=new Tn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const w=bs(e,y,n);if(!u.contains(w))throw new le(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);qT(m,w)||m.push(w)}d=new Tn(m),p=u.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=u.fieldTransforms;return new bb(new dn(f),d,p)}class Ih extends aa{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function Lb(t,e,n){return new Ah({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wm extends aa{_toFieldTransform(e){return new Am(e.path,new Ll)}isEqual(e){return e instanceof Wm}}class Hm extends aa{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=Lb(this,e,!0),i=this.Ac.map((a=>la(a,n))),o=new Go(i);return new Am(e.path,o)}isEqual(e){return e instanceof Hm&&Rl(this.Ac,e.Ac)}}class Km extends aa{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Fl(e.serializer,Q1(e.serializer,this.Vc));return new Am(e.path,n)}isEqual(e){return e instanceof Km&&this.Vc===e.Vc}}function Ob(t,e,n,i){const o=t.createContext(1,e,n);Gm("Data must be an object, but it was:",o,i);const a=[],u=dn.empty();qi(i,((d,p)=>{const m=GT(e,d,n);p=Xr(p);const y=o.childContextForFieldPath(m);if(p instanceof Ih)a.push(m);else{const w=la(p,y);w!=null&&(a.push(m),u.set(m,w))}}));const f=new Tn(a);return new zT(u,f,o.fieldTransforms)}function Fb(t,e,n,i,o,a){const u=t.createContext(1,e,n),f=[bs(e,i,n)],d=[o];if(a.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)f.push(bs(e,a[w])),d.push(a[w+1]);const p=[],m=dn.empty();for(let w=f.length-1;w>=0;--w)if(!qT(p,f[w])){const S=f[w];let I=d[w];I=Xr(I);const P=u.childContextForFieldPath(S);if(I instanceof Ih)p.push(S);else{const R=la(I,P);R!=null&&(p.push(S),m.set(S,R))}}const y=new Tn(p);return new zT(m,y,u.fieldTransforms)}function jb(t,e,n,i=!1){return la(n,t.createContext(i?4:3,e))}function la(t,e){if(KT(t=Xr(t)))return Gm("Unsupported field value:",e,t),HT(t,e);if(t instanceof aa)return(function(i,o){if(!$T(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const f of i){let d=la(f,o.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Xr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Q1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=et.fromDate(i);return{timestampValue:eh(o.serializer,a)}}if(i instanceof et){const a=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eh(o.serializer,a)}}if(i instanceof Er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dn)return{bytesValue:oT(o.serializer,i._byteString)};if(i instanceof gt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yn)return(function(u,f){const d=u instanceof Yn?u.toArray():u;return{mapValue:{fields:{[N1]:{stringValue:b1},[Xc]:{arrayValue:{values:d.map((m=>{if(typeof m!="number")throw f.createError("VectorValues must only contain numeric values.");return xm(f.serializer,m)}))}}}}}})(i,o);if(fT(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${dh(i)}`)})(t,e)}function HT(t,e){const n={};return I1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,((i,o)=>{const a=la(o,e.childContextForField(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function KT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Er||t instanceof Dn||t instanceof gt||t instanceof aa||t instanceof Yn||fT(t))}function Gm(t,e,n){if(!KT(n)||!A1(n)){const i=dh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function bs(t,e,n){if((e=Xr(e))instanceof $m)return e._internalPath;if(typeof e=="string")return GT(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bb=new RegExp("[~\\*/\\[\\]]");function GT(t,e,n){if(e.search(Bb)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new le(Q.INVALID_ARGUMENT,f+t+d)}function qT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qi(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[Xc].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>mt(u.doubleValue)));return new Yn(n)}convertGeoPoint(e){return new Er(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ye.fromString(e);We(dT(i),9688,{name:e});const o=new Nl(i.get(1),i.get(3)),a=new ye(i.popFirst(5));return o.isEqual(n)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function qr(){return new Wm("serverTimestamp")}function zb(...t){return new Hm("arrayUnion",t)}function qm(t){return new Km("increment",t)}const G_="@firebase/firestore",q_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(bs("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $b extends YT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class Ym extends Qm{}function Xm(t,e,...n){let i=[];e instanceof Qm&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((d=>d instanceof Jm)).length,f=a.filter((d=>d instanceof Rh)).length;if(u>1||u>0&&f>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Rh extends Ym{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rh(e,n,i)}_apply(e){const n=this._parse(e);return XT(e._query,n),new Yi(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=Ch(e.firestore);return(function(a,u,f,d,p,m,y){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){X_(y,m);const I=[];for(const P of y)I.push(Y_(d,a,P));w={arrayValue:{values:I}}}else w=Y_(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||X_(y,m),w=jb(f,u,y,m==="in"||m==="not-in");return St.create(p,m,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Q_(t,e,n){const i=e,o=bs("where",t);return Rh._create(o,i,n)}class Jm extends Qm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const f=a.getFlattenedFilters();for(const d of f)XT(u,d),u=mp(u,d)})(e._query,n),new Yi(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zm extends Ym{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zm(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(a,u)})(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,pD(e._query,n))}}function eg(t,e="asc"){const n=e,i=bs("orderBy",t);return Zm._create(i,n)}class tg extends Ym{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new tg(e,n,i)}_apply(e){return new Yi(e.firestore,e.converter,Zc(e._query,this._limit,this._limitType))}}function Hb(t){return tg._create("limit",t,"F")}function Y_(t,e,n){if(typeof(n=Xr(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ye.fromString(n));if(!ye.isDocumentKey(i))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return c_(t,new ye(i))}if(n instanceof gt)return c_(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function X_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XT(t,e){const n=(function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function JT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vs extends YT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(bs("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:xt("string",Vs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Oc extends Vs{data(e={}){return super.data(e)}}class Uo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new dl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Oc(this._firestore,this._userDataWriter,i.key,i,new dl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const d=new Oc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new dl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const d=new Oc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new dl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,m=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),m=u.indexOf(f.doc.key)),{type:Kb(f.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:xt("string",Uo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){t=Sr(t,gt);const e=Sr(t.firestore,oa),n=zm(e);return Ab(n,t._key).then((i=>Gb(e,t,i)))}function ng(t){t=Sr(t,Yi);const e=Sr(t.firestore,oa),n=zm(e),i=new QT(e);return Wb(t._query),Cb(n,t._query).then((o=>new Uo(e,i,t,o)))}function rg(t,e,n){t=Sr(t,gt);const i=Sr(t.firestore,oa),o=JT(t.converter,e),a=Ch(i);return ig(i,[WT(a,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Qn.none())])}function Jl(t,e,n,...i){t=Sr(t,gt);const o=Sr(t.firestore,oa),a=Ch(o);let u;return u=typeof(e=Xr(e))=="string"||e instanceof $m?Fb(a,"updateDoc",t._key,e,n,i):Ob(a,"updateDoc",t._key,e),ig(o,[u.toMutation(t._key,Qn.exists(!0))])}function ZT(t,e){const n=Sr(t.firestore,oa),i=Jn(t),o=JT(t.converter,e),a=Ch(t.firestore);return ig(n,[WT(a,"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Qn.exists(!1))]).then((()=>i))}function ig(t,e){const n=zm(t);return Ib(n,e)}function Gb(t,e,n){const i=n.docs.get(e._key),o=new QT(t);return new Vs(t,o,e._key,i,new dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){RV(gV),qc(new Pl("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new oa(new VV(i.getProvider("auth-internal")),new bV(u,i.getProvider("app-check-internal")),XV(u,o),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),Fo(G_,q_,e),Fo(G_,q_,"esm2020")})();var qb="firebase",Qb="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(qb,Qb,"app");const Yb={apiKey:"AIzaSyCf4uRHqqZtYR3ZvlbHF9w59qGuEjlXcW4",authDomain:"kinderbucks-e3e8c.firebaseapp.com",projectId:"kinderbucks-e3e8c",storageBucket:"kinderbucks-e3e8c.firebasestorage.app",messagingSenderId:"18326874439",appId:"1:18326874439:web:ad902e6a1c794b2b3c4462",measurementId:"G-3JMD9HSMC3"},Xb=f1(Yb),rn=Vb(Xb),Zl="kinderbucks",Jb="scans";async function Zb(t){const e=Jn(rn,Zl,t),n=await Ph(e);return n.exists()?{serial:n.id,...n.data()}:null}async function Ap(){const t=Xm(Xl(rn,Zl),eg("serial"));return(await ng(t)).docs.map(n=>({serial:n.id,...n.data()}))}async function eM(t,e){const n=t.map(i=>rg(Jn(rn,Zl,i),{serial:i,denomination:e,status:"draft",scanCount:0,createdAt:qr()}));await Promise.all(n)}async function tM(t,e,n=null){const i=Jn(rn,Zl,t),o={status:e,issuedAt:qr(),...n&&{issuedTo:n}};await Jl(i,o)}async function nM(t){const e=Jn(rn,Zl,t);await Jl(e,{scanCount:qm(1),lastScanned:qr(),status:"active"}),await ZT(Xl(rn,Jb),{serial:t,scannedAt:qr(),userAgent:navigator.userAgent||null})}function eS(){const[t,e]=j.useState([]);return j.useEffect(()=>{const n=["#2d5a27","#c9a227","#4a7c43","#d4af37","#5c4033"],i=Array.from({length:50},(o,a)=>({id:a,x:Math.random()*100,color:n[Math.floor(Math.random()*n.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:8+Math.random()*8}));e(i)},[]),x.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden",zIndex:100},children:t.map(n=>x.jsx(Qe.div,{initial:{y:-20,x:`${n.x}vw`,opacity:1,rotate:0},animate:{y:"110vh",rotate:360*(Math.random()>.5?1:-1),opacity:[1,1,0]},transition:{duration:n.duration,delay:n.delay,ease:"linear"},style:{position:"absolute",width:n.size,height:n.size,background:n.color,borderRadius:Math.random()>.5?"50%":"2px"}},n.id))})}const J_={1:{bg:"#d4edda",text:"#155724"},5:{bg:"#cce5ff",text:"#004085"},10:{bg:"#e2d5e7",text:"#4a235a"},20:{bg:"#fff3cd",text:"#856404"}};function rM({kinderbuck:t}){const e=J_[t.denomination]||J_[5];return x.jsxs(Qe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"card",style:{textAlign:"center",maxWidth:"400px",background:e.bg},children:[x.jsxs(Qe.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[x.jsxs("h1",{style:{color:e.text,fontSize:"3rem",marginBottom:"0.5rem"},children:["$",t.denomination]}),x.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.5rem",color:e.text},children:t.serial})]}),x.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{marginTop:"1.5rem"},children:x.jsx("div",{style:{display:"inline-block",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.7)",borderRadius:"20px",color:"var(--kb-green)",fontWeight:"bold"},children:"VERIFIED AUTHENTIC"})}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{marginTop:"1.5rem",fontSize:"0.9rem",opacity:.8},children:[x.jsxs("p",{children:["Status: ",x.jsx("strong",{children:t.status})]}),t.issuedAt&&x.jsxs("p",{children:["Issued: ",new Date(t.issuedAt.seconds*1e3).toLocaleDateString()]}),x.jsxs("p",{children:["Scans: ",t.scanCount||1]})]}),x.jsx(Qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,type:"spring"},style:{marginTop:"1.5rem"},children:x.jsx("iframe",{src:"https://giphy.com/embed/B1txHfofr9y08bDB8b",width:"200",height:"200",frameBorder:"0",style:{borderRadius:"12px",pointerEvents:"none"},allowFullScreen:!0})})]})}function iM(){const{serial:t}=gw(),[e,n]=j.useState(null),[i,o]=j.useState(!0),[a,u]=j.useState(null);return j.useEffect(()=>{async function f(){try{const d=await Zb(t);d?(n(d),await nM(t)):u("not_found")}catch(d){console.error("Verification error:",d),u("error")}finally{o(!1)}}f()},[t]),i?x.jsxs("div",{className:"page page-center",children:[x.jsx(Qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:"$"}),x.jsxs("p",{style:{marginTop:"1rem"},children:["Verifying ",t,"..."]})]}):a==="not_found"?x.jsxs("div",{className:"page page-center",children:[x.jsx("h1",{style:{color:"#c0392b"},children:"Not Found"}),x.jsxs("p",{children:["Serial ",x.jsx("strong",{children:t})," is not a valid Kinderbuck."]})]}):a?x.jsxs("div",{className:"page page-center",children:[x.jsx("h1",{style:{color:"#c0392b"},children:"Error"}),x.jsx("p",{children:"Something went wrong verifying this Kinderbuck."})]}):x.jsxs("div",{className:"page page-center",children:[x.jsx(eS,{}),x.jsx(rM,{kinderbuck:e})]})}const eu="businesses";async function sM(t){const e=Jn(rn,eu,t),n=await Ph(e);return n.exists()?{code:n.id,...n.data()}:null}async function tS(){const t=Xm(Xl(rn,eu),eg("name"));return(await ng(t)).docs.map(n=>({code:n.id,...n.data()}))}async function Z_(t,e,n){await rg(Jn(rn,eu,t),{code:t,name:e,category:n,isActive:!0,checkinCount:0,createdAt:qr()})}async function oM(t){const e=Jn(rn,eu,t);await Jl(e,{checkinCount:qm(1)})}async function aM(t,e){const n=Jn(rn,eu,t);await Jl(n,{isActive:e})}const sh={curious:{name:"Curious",threshold:1,bonus:.1,color:"#888888",bgColor:"#f0f0f0",emoji:""},hooked:{name:"Hooked",threshold:5,bonus:.15,color:"#2e7d32",bgColor:"#e8f5e9",emoji:""},lineAndSinker:{name:"Line & Sinker",threshold:10,bonus:.2,color:"#1565c0",bgColor:"#e3f2fd",emoji:""},patron:{name:"Village Patron",threshold:15,bonus:.25,color:"#c9a227",bgColor:"#fff8e1",emoji:""}};function Cp(t){return t>=15?"patron":t>=10?"lineAndSinker":t>=5?"hooked":t>=1?"curious":null}function lM(t){const e=["curious","hooked","lineAndSinker","patron"],n=e.indexOf(t);return n<e.length-1?e[n+1]:null}function nS(t){const e=Cp(t),n=lM(e);if(!n)return{progress:100,remaining:0,nextTier:null};const i=sh[n],o=e?sh[e].threshold:0,a=(t-o)/(i.threshold-o)*100;return{progress:Math.min(100,Math.max(0,a)),remaining:i.threshold-t,nextTier:i}}const rS="members";function iS(){let t=localStorage.getItem("kinderhooker_visitor_id");return t||(t="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("kinderhooker_visitor_id",t)),t}async function Ip(t){const e=Jn(rn,rS,t),n=await Ph(e);return n.exists()?{visitorId:n.id,...n.data()}:null}async function uM(t,e){const n=Jn(rn,rS,t),i=await Ph(n);if(i.exists()){const o=i.data(),a=o.businessesVisited||[],u=!a.includes(e),f=u?a.length+1:a.length,d=Cp(f),p=d!==o.tier;return await Jl(n,{businessesVisited:zb(e),totalCheckins:qm(1),tier:d,lastCheckin:qr()}),{isNewBusiness:u,tierChanged:p,oldTier:o.tier,newTier:d,businessesVisited:u?[...a,e]:a,totalCheckins:(o.totalCheckins||0)+1}}else{const o=Cp(1);return await rg(n,{visitorId:t,tier:o,businessesVisited:[e],totalCheckins:1,createdAt:qr(),lastCheckin:qr(),email:null}),{isNewBusiness:!0,tierChanged:!0,oldTier:null,newTier:o,businessesVisited:[e],totalCheckins:1}}}const sS="checkins",cM=3600*1e3;async function hM(t,e){var f;const n=new Date(Date.now()-cM),i=Xm(Xl(rn,sS),Q_("visitorId","==",t),Q_("businessCode","==",e),eg("timestamp","desc"),Hb(1)),o=await ng(i);return o.empty?!1:(((f=o.docs[0].data().timestamp)==null?void 0:f.toDate())||new Date(0))>n}async function dM(t,e,n){await ZT(Xl(rn,sS),{visitorId:t,businessCode:e,timestamp:qr(),kinderbucksMatched:!1,boostApplied:0,memberTier:n||"curious"})}function fM(){var $;const{businessCode:t}=gw(),[e,n]=j.useState(null),[i,o]=j.useState(!0),[a,u]=j.useState(null),[f,d]=j.useState(null),[p,m]=j.useState(!1),[y,w]=j.useState(!1);if(j.useEffect(()=>{async function F(){try{const M=await sM(t);if(!M){u("not_found"),o(!1);return}if(!M.isActive){u("inactive"),o(!1);return}n(M);const X=iS();if(await hM(X,t)){m(!0);const k=await Ip(X);k&&d({tierChanged:!1,newTier:k.tier,businessesVisited:k.businessesVisited||[],totalCheckins:k.totalCheckins||0,isNewBusiness:!1}),o(!1);return}const oe=await Ip(X),N=(oe==null?void 0:oe.tier)||null,C=await uM(X,t);await dM(X,t,C.newTier),await oM(t),d(C),C.tierChanged&&C.newTier&&w(!0),o(!1)}catch(M){console.error("Check-in error:",M),u("error"),o(!1)}}F()},[t]),i)return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[x.jsx(Qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:""}),x.jsx("p",{style:{marginTop:"1rem",color:"#5a6c7d"},children:"Checking in..."})]});if(a==="not_found")return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[x.jsx("h1",{style:{color:"#c0392b"},children:"Business Not Found"}),x.jsx("p",{style:{color:"#5a6c7d"},children:"This check-in code doesn't match any participating business."}),x.jsx(en,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a==="inactive")return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[x.jsx("h1",{style:{color:"#e67e22"},children:"Business Not Active"}),x.jsx("p",{style:{color:"#5a6c7d"},children:"This business is not currently participating in Kinderhooker."}),x.jsx(en,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a)return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[x.jsx("h1",{style:{color:"#c0392b"},children:"Something went wrong"}),x.jsx("p",{style:{color:"#5a6c7d"},children:"Please try scanning again."}),x.jsx(en,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});const S=(f==null?void 0:f.newTier)||"curious",I=sh[S],P=(($=f==null?void 0:f.businessesVisited)==null?void 0:$.length)||0,R=nS(P);return x.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:[y&&x.jsx(eS,{}),x.jsxs(Qe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[p?x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),x.jsx("h2",{style:{color:"#5a6c7d",marginBottom:"0.5rem"},children:"Already Checked In!"}),x.jsxs("p",{style:{color:"#888",marginBottom:"1.5rem"},children:["You visited ",x.jsx("strong",{children:e.name})," recently.",x.jsx("br",{}),"Come back in an hour for another check-in!"]})]}):x.jsxs(x.Fragment,{children:[x.jsxs(Qe.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[x.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),x.jsxs("h2",{style:{color:"#1a5f2a",marginBottom:"0.5rem"},children:["Welcome to ",e.name,"!"]}),x.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Check-in recorded!"})]}),(f==null?void 0:f.tierChanged)&&(f==null?void 0:f.newTier)&&x.jsxs(Qe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},style:{background:I.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[x.jsx("div",{style:{fontSize:"1.5rem"},children:I.emoji}),x.jsx("div",{style:{color:I.color,fontWeight:"bold",fontSize:"1.2rem"},children:f.oldTier?"NEW TIER UNLOCKED!":"WELCOME, KINDERHOOKER!"}),x.jsx("div",{style:{color:I.color,fontSize:"1.5rem",fontWeight:"bold"},children:I.name})]})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:I.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[x.jsx("div",{style:{fontSize:"2rem"},children:I.emoji}),x.jsx("div",{style:{color:I.color,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:I.name}),x.jsxs("div",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginTop:"0.5rem"},children:[Math.round(I.bonus*100),"% Kinderbuck Match Bonus"]})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[x.jsxs("p",{style:{color:"#2c3e50",marginBottom:"0.5rem"},children:["You've visited ",x.jsx("strong",{children:P})," business",P!==1?"es":""]}),R.nextTier&&x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"0.5rem"},children:x.jsx(Qe.div,{initial:{width:0},animate:{width:`${R.progress}%`},transition:{delay:.7,duration:.5},style:{background:`linear-gradient(90deg, ${I.color}, ${R.nextTier.color})`,height:"100%",borderRadius:"10px"}})}),x.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.85rem"},children:[R.remaining," more to reach ",x.jsx("strong",{style:{color:R.nextTier.color},children:R.nextTier.name}),"!"]})]}),!R.nextTier&&x.jsx("p",{style:{color:"#c9a227",fontWeight:"bold"},children:" Maximum tier reached! You're a true Village Patron!"})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[x.jsx(en,{to:"/profile",className:"btn",style:{background:"#1a5f2a"},children:"View My Profile"}),x.jsx(en,{to:"/",className:"btn btn-secondary",children:"Home"})]})]})]})}function pM(){var w,S;const[t,e]=j.useState(null),[n,i]=j.useState([]),[o,a]=j.useState(!0);if(j.useEffect(()=>{async function I(){const P=iS(),R=await Ip(P),$=await tS();e(R),i($),a(!1)}I()},[]),o)return x.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:x.jsx(Qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:""})});if(!t)return x.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:x.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[x.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),x.jsx("h1",{style:{color:"#1a5f2a",marginBottom:"1rem"},children:"Kinderhooker"}),x.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Start exploring local businesses to build your profile!"}),x.jsx("p",{style:{color:"#888",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Scan a QR code at any participating business to check in and earn rewards."}),x.jsx(en,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Find Businesses"})]})});const u=t.tier||"curious",f=sh[u],d=((w=t.businessesVisited)==null?void 0:w.length)||0,p=nS(d),m=((S=t.businessesVisited)==null?void 0:S.map(I=>{const P=n.find(R=>R.code===I);return P?P.name:I}))||[],y=n.filter(I=>{var P;return I.isActive&&!((P=t.businessesVisited)!=null&&P.includes(I.code))});return x.jsx("div",{className:"page",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:x.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[x.jsx(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:"2rem"},children:x.jsx("h1",{style:{color:"#1a5f2a",fontSize:"1.5rem",marginBottom:"0.5rem"},children:" KINDERHOOKER PROFILE"})}),x.jsxs(Qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${f.color} 0%, ${f.color}dd 100%)`,borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[x.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:f.emoji}),x.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"0.25rem"},children:f.name}),x.jsxs("div",{style:{opacity:.9,fontSize:"0.9rem"},children:[Math.round(f.bonus*100),"% Kinderbuck Match Bonus"]})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[x.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:["You've supported ",d," local business",d!==1?"es":"","!"]}),p.nextTier&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginBottom:"0.5rem"},children:["Progress to ",x.jsx("strong",{style:{color:p.nextTier.color},children:p.nextTier.name}),":"]}),x.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"24px",overflow:"hidden",marginBottom:"0.5rem"},children:x.jsxs(Qe.div,{initial:{width:0},animate:{width:`${p.progress}%`},transition:{delay:.5,duration:.8},style:{background:`linear-gradient(90deg, ${f.color}, ${p.nextTier.color})`,height:"100%",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:[d,"/",p.nextTier.threshold]})}),x.jsxs("p",{style:{color:"#888",fontSize:"0.85rem",textAlign:"center"},children:[p.remaining," more business",p.remaining!==1?"es":""," to go!"]})]}),!p.nextTier&&x.jsx("p",{style:{color:"#c9a227",fontWeight:"bold",textAlign:"center"},children:" Maximum tier reached! You're a true Village Patron!"})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[x.jsx("h3",{style:{color:"#2c3e50",marginBottom:"1rem"},children:" Businesses Visited"}),m.length>0?x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:m.map((I,P)=>x.jsxs(Qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+P*.05},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#e8f5e9",borderRadius:"8px"},children:[x.jsx("span",{style:{color:"#2e7d32"},children:""}),x.jsx("span",{style:{color:"#2c3e50"},children:I})]},P))}):x.jsx("p",{style:{color:"#888"},children:"No businesses visited yet"})]}),y.length>0&&x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[x.jsx("h3",{style:{color:"#2c3e50",marginBottom:"1rem"},children:" Still to Explore"}),x.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.map((I,P)=>x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#f5f5f5",borderRadius:"8px"},children:[x.jsx("span",{style:{color:"#888"},children:""}),x.jsx("span",{style:{color:"#5a6c7d"},children:I.name})]},I.code))})]}),x.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{textAlign:"center",color:"#888",marginBottom:"1.5rem"},children:["Total check-ins: ",t.totalCheckins||0]}),x.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:x.jsx(en,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Home"})})]})})}function kh(){const t=Ki(),e=[{to:"/admin/dashboard",label:"Dashboard"},{to:"/admin/generate",label:"Generate"},{to:"/admin/issue",label:"Issue"},{to:"/admin/businesses",label:"Businesses"}];return x.jsxs("nav",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd",flexWrap:"wrap",alignItems:"center"},children:[x.jsx(en,{to:"/",style:{fontWeight:"bold",color:"var(--kb-green)",textDecoration:"none"},children:"Kinderbucks"}),x.jsx("span",{style:{opacity:.3},children:"|"}),e.map(n=>x.jsx(en,{to:n.to,style:{color:t.pathname===n.to?"var(--kb-green)":"var(--kb-brown)",textDecoration:t.pathname===n.to?"underline":"none"},children:n.label},n.to))]})}function mM(){const[t,e]=j.useState([]),[n,i]=j.useState(!0),[o,a]=j.useState({status:"all",denomination:"all"});j.useEffect(()=>{async function d(){const p=await Ap();e(p),i(!1)}d()},[]);const u=t.filter(d=>!(o.status!=="all"&&d.status!==o.status||o.denomination!=="all"&&d.denomination!==Number(o.denomination))),f={total:t.length,issued:t.filter(d=>d.status==="issued"||d.status==="active").length,totalValue:t.reduce((d,p)=>d+(p.denomination||0),0)};return x.jsxs("div",{className:"page",children:[x.jsx(kh,{}),x.jsx("h1",{children:"Dashboard"}),x.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"Total Kinderbucks"}),x.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.total})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"In Circulation"}),x.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.issued})]}),x.jsxs("div",{className:"card",children:[x.jsx("h3",{children:"Total Value"}),x.jsxs("p",{style:{fontSize:"2rem",color:"var(--kb-gold)"},children:["$",f.totalValue]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[x.jsxs("select",{value:o.status,onChange:d=>a(p=>({...p,status:d.target.value})),style:{padding:"0.5rem"},children:[x.jsx("option",{value:"all",children:"All Statuses"}),x.jsx("option",{value:"draft",children:"Draft"}),x.jsx("option",{value:"issued",children:"Issued"}),x.jsx("option",{value:"active",children:"Active"}),x.jsx("option",{value:"redeemed",children:"Redeemed"}),x.jsx("option",{value:"retired",children:"Retired"})]}),x.jsxs("select",{value:o.denomination,onChange:d=>a(p=>({...p,denomination:d.target.value})),style:{padding:"0.5rem"},children:[x.jsx("option",{value:"all",children:"All Denominations"}),x.jsx("option",{value:"1",children:"$1"}),x.jsx("option",{value:"5",children:"$5"}),x.jsx("option",{value:"10",children:"$10"}),x.jsx("option",{value:"20",children:"$20"})]})]}),n?x.jsx("p",{children:"Loading..."}):u.length===0?x.jsxs("p",{children:["No Kinderbucks found. ",x.jsx(en,{to:"/admin/generate",children:"Generate some!"})]}):x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{borderBottom:"2px solid var(--kb-green)"},children:[x.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Serial"}),x.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Denomination"}),x.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Status"}),x.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Scans"})]})}),x.jsx("tbody",{children:u.slice(0,50).map(d=>x.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[x.jsx("td",{style:{padding:"0.5rem",fontFamily:"monospace"},children:d.serial}),x.jsxs("td",{style:{padding:"0.5rem"},children:["$",d.denomination]}),x.jsx("td",{style:{padding:"0.5rem"},children:x.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",background:d.status==="active"?"#d4edda":d.status==="draft"?"#f8f9fa":"#fff3cd"},children:d.status})}),x.jsx("td",{style:{padding:"0.5rem"},children:d.scanCount||0})]},d.serial))})]}),u.length>50&&x.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",u.length]})]})]})}var gM=Object.defineProperty,oh=Object.getOwnPropertySymbols,oS=Object.prototype.hasOwnProperty,aS=Object.prototype.propertyIsEnumerable,ew=(t,e,n)=>e in t?gM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rp=(t,e)=>{for(var n in e||(e={}))oS.call(e,n)&&ew(t,n,e[n]);if(oh)for(var n of oh(e))aS.call(e,n)&&ew(t,n,e[n]);return t},Pp=(t,e)=>{var n={};for(var i in t)oS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&oh)for(var i of oh(t))e.indexOf(i)<0&&aS.call(t,i)&&(n[i]=t[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ms;(t=>{const e=class ke{constructor(d,p,m,y){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<ke.MIN_VERSION||d>ke.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let w=[];for(let I=0;I<this.size;I++)w.push(!1);for(let I=0;I<this.size;I++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(m);if(this.drawCodewords(S),y==-1){let I=1e9;for(let P=0;P<8;P++){this.applyMask(P),this.drawFormatBits(P);const R=this.getPenaltyScore();R<I&&(y=P,I=R),this.applyMask(P)}}o(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}static encodeText(d,p){const m=t.QrSegment.makeSegments(d);return ke.encodeSegments(m,p)}static encodeBinary(d,p){const m=t.QrSegment.makeBytes(d);return ke.encodeSegments([m],p)}static encodeSegments(d,p,m=1,y=40,w=-1,S=!0){if(!(ke.MIN_VERSION<=m&&m<=y&&y<=ke.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let I,P;for(I=m;;I++){const M=ke.getNumDataCodewords(I,p)*8,X=u.getTotalBits(d,I);if(X<=M){P=X;break}if(I>=y)throw new RangeError("Data too long")}for(const M of[ke.Ecc.MEDIUM,ke.Ecc.QUARTILE,ke.Ecc.HIGH])S&&P<=ke.getNumDataCodewords(I,M)*8&&(p=M);let R=[];for(const M of d){n(M.mode.modeBits,4,R),n(M.numChars,M.mode.numCharCountBits(I),R);for(const X of M.getData())R.push(X)}o(R.length==P);const $=ke.getNumDataCodewords(I,p)*8;o(R.length<=$),n(0,Math.min(4,$-R.length),R),n(0,(8-R.length%8)%8,R),o(R.length%8==0);for(let M=236;R.length<$;M^=253)n(M,8,R);let F=[];for(;F.length*8<R.length;)F.push(0);return R.forEach((M,X)=>F[X>>>3]|=M<<7-(X&7)),new ke(I,p,F,w)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let m=0;m<p;m++)for(let y=0;y<p;y++)m==0&&y==0||m==0&&y==p-1||m==p-1&&y==0||this.drawAlignmentPattern(d[m],d[y]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let m=p;for(let w=0;w<10;w++)m=m<<1^(m>>>9)*1335;const y=(p<<10|m)^21522;o(y>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(y,w));this.setFunctionModule(8,7,i(y,6)),this.setFunctionModule(8,8,i(y,7)),this.setFunctionModule(7,8,i(y,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(y,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(y,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(y,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let m=0;m<12;m++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;o(p>>>18==0);for(let m=0;m<18;m++){const y=i(p,m),w=this.size-11+m%3,S=Math.floor(m/3);this.setFunctionModule(w,S,y),this.setFunctionModule(S,w,y)}}drawFinderPattern(d,p){for(let m=-4;m<=4;m++)for(let y=-4;y<=4;y++){const w=Math.max(Math.abs(y),Math.abs(m)),S=d+y,I=p+m;0<=S&&S<this.size&&0<=I&&I<this.size&&this.setFunctionModule(S,I,w!=2&&w!=4)}}drawAlignmentPattern(d,p){for(let m=-2;m<=2;m++)for(let y=-2;y<=2;y++)this.setFunctionModule(d+y,p+m,Math.max(Math.abs(y),Math.abs(m))!=1)}setFunctionModule(d,p,m){this.modules[p][d]=m,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,m=this.errorCorrectionLevel;if(d.length!=ke.getNumDataCodewords(p,m))throw new RangeError("Invalid argument");const y=ke.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p],w=ke.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p],S=Math.floor(ke.getNumRawDataModules(p)/8),I=y-S%y,P=Math.floor(S/y);let R=[];const $=ke.reedSolomonComputeDivisor(w);for(let M=0,X=0;M<y;M++){let Z=d.slice(X,X+P-w+(M<I?0:1));X+=Z.length;const oe=ke.reedSolomonComputeRemainder(Z,$);M<I&&Z.push(0),R.push(Z.concat(oe))}let F=[];for(let M=0;M<R[0].length;M++)R.forEach((X,Z)=>{(M!=P-w||Z>=I)&&F.push(X[M])});return o(F.length==S),F}drawCodewords(d){if(d.length!=Math.floor(ke.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let y=0;y<this.size;y++)for(let w=0;w<2;w++){const S=m-w,P=(m+1&2)==0?this.size-1-y:y;!this.isFunction[P][S]&&p<d.length*8&&(this.modules[P][S]=i(d[p>>>3],7-(p&7)),p++)}}o(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let m=0;m<this.size;m++){let y;switch(d){case 0:y=(m+p)%2==0;break;case 1:y=p%2==0;break;case 2:y=m%3==0;break;case 3:y=(m+p)%3==0;break;case 4:y=(Math.floor(m/3)+Math.floor(p/2))%2==0;break;case 5:y=m*p%2+m*p%3==0;break;case 6:y=(m*p%2+m*p%3)%2==0;break;case 7:y=((m+p)%2+m*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][m]&&y&&(this.modules[p][m]=!this.modules[p][m])}}getPenaltyScore(){let d=0;for(let w=0;w<this.size;w++){let S=!1,I=0,P=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[w][R]==S?(I++,I==5?d+=ke.PENALTY_N1:I>5&&d++):(this.finderPenaltyAddHistory(I,P),S||(d+=this.finderPenaltyCountPatterns(P)*ke.PENALTY_N3),S=this.modules[w][R],I=1);d+=this.finderPenaltyTerminateAndCount(S,I,P)*ke.PENALTY_N3}for(let w=0;w<this.size;w++){let S=!1,I=0,P=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[R][w]==S?(I++,I==5?d+=ke.PENALTY_N1:I>5&&d++):(this.finderPenaltyAddHistory(I,P),S||(d+=this.finderPenaltyCountPatterns(P)*ke.PENALTY_N3),S=this.modules[R][w],I=1);d+=this.finderPenaltyTerminateAndCount(S,I,P)*ke.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let S=0;S<this.size-1;S++){const I=this.modules[w][S];I==this.modules[w][S+1]&&I==this.modules[w+1][S]&&I==this.modules[w+1][S+1]&&(d+=ke.PENALTY_N2)}let p=0;for(const w of this.modules)p=w.reduce((S,I)=>S+(I?1:0),p);const m=this.size*this.size,y=Math.ceil(Math.abs(p*20-m*10)/m)-1;return o(0<=y&&y<=9),d+=y*ke.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let m=[6];for(let y=this.size-7;m.length<d;y-=p)m.splice(1,0,y);return m}}static getNumRawDataModules(d){if(d<ke.MIN_VERSION||d>ke.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const m=Math.floor(d/7)+2;p-=(25*m-10)*m-55,d>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(ke.getNumRawDataModules(d)/8)-ke.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*ke.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let y=0;y<d-1;y++)p.push(0);p.push(1);let m=1;for(let y=0;y<d;y++){for(let w=0;w<p.length;w++)p[w]=ke.reedSolomonMultiply(p[w],m),w+1<p.length&&(p[w]^=p[w+1]);m=ke.reedSolomonMultiply(m,2)}return p}static reedSolomonComputeRemainder(d,p){let m=p.map(y=>0);for(const y of d){const w=y^m.shift();m.push(0),p.forEach((S,I)=>m[I]^=ke.reedSolomonMultiply(S,w))}return m}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let m=0;for(let y=7;y>=0;y--)m=m<<1^(m>>>7)*285,m^=(p>>>y&1)*d;return o(m>>>8==0),m}finderPenaltyCountPatterns(d){const p=d[1];o(p<=this.size*3);const m=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(m&&d[0]>=p*4&&d[6]>=p?1:0)+(m&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,m){return d&&(this.finderPenaltyAddHistory(p,m),p=0),p+=this.size,this.finderPenaltyAddHistory(p,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(f,d,p){if(d<0||d>31||f>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)p.push(f>>>m&1)}function i(f,d){return(f>>>d&1)!=0}function o(f){if(!f)throw new Error("Assertion error")}const a=class ct{constructor(d,p,m){if(this.mode=d,this.numChars=p,this.bitData=m,p<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(d){let p=[];for(const m of d)n(m,8,p);return new ct(ct.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!ct.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let m=0;m<d.length;){const y=Math.min(d.length-m,3);n(parseInt(d.substring(m,m+y),10),y*3+1,p),m+=y}return new ct(ct.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!ct.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],m;for(m=0;m+2<=d.length;m+=2){let y=ct.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m))*45;y+=ct.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m+1)),n(y,11,p)}return m<d.length&&n(ct.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m)),6,p),new ct(ct.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:ct.isNumeric(d)?[ct.makeNumeric(d)]:ct.isAlphanumeric(d)?[ct.makeAlphanumeric(d)]:[ct.makeBytes(ct.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,p);else if(d<16384)n(2,2,p),n(d,14,p);else if(d<1e6)n(6,3,p),n(d,21,p);else throw new RangeError("ECI assignment value out of range");return new ct(ct.Mode.ECI,0,p)}static isNumeric(d){return ct.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return ct.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let m=0;for(const y of d){const w=y.mode.numCharCountBits(p);if(y.numChars>=1<<w)return 1/0;m+=4+w+y.bitData.length}return m}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let m=0;m<d.length;m++)d.charAt(m)!="%"?p.push(d.charCodeAt(m)):(p.push(parseInt(d.substring(m+1,m+3),16)),m+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(Ms||(Ms={}));(t=>{(e=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ms||(Ms={}));(t=>{(e=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ms||(Ms={}));var Lo=Ms;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var yM={L:Lo.QrCode.Ecc.LOW,M:Lo.QrCode.Ecc.MEDIUM,Q:Lo.QrCode.Ecc.QUARTILE,H:Lo.QrCode.Ecc.HIGH},lS=128,uS="L",cS="#FFFFFF",hS="#000000",dS=!1,fS=1,vM=4,_M=0,wM=.1;function pS(t,e=0){const n=[];return t.forEach(function(i,o){let a=null;i.forEach(function(u,f){if(!u&&a!==null){n.push(`M${a+e} ${o+e}h${f-a}v1H${a+e}z`),a=null;return}if(f===i.length-1){if(!u)return;a===null?n.push(`M${f+e},${o+e} h1v1H${f+e}z`):n.push(`M${a+e},${o+e} h${f+1-a}v1H${a+e}z`);return}u&&a===null&&(a=f)})}),n.join("")}function mS(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((o,a)=>a<e.x||a>=e.x+e.w?o:!1))}function EM(t,e,n,i){if(i==null)return null;const o=t.length+n*2,a=Math.floor(e*wM),u=o/e,f=(i.width||a)*u,d=(i.height||a)*u,p=i.x==null?t.length/2-f/2:i.x*u,m=i.y==null?t.length/2-d/2:i.y*u,y=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let I=Math.floor(p),P=Math.floor(m),R=Math.ceil(f+p-I),$=Math.ceil(d+m-P);w={x:I,y:P,w:R,h:$}}const S=i.crossOrigin;return{x:p,y:m,h:d,w:f,excavation:w,opacity:y,crossOrigin:S}}function TM(t,e){return e!=null?Math.max(Math.floor(e),0):t?vM:_M}function gS({value:t,level:e,minVersion:n,includeMargin:i,marginSize:o,imageSettings:a,size:u,boostLevel:f}){let d=Rt.useMemo(()=>{const I=(Array.isArray(t)?t:[t]).reduce((P,R)=>(P.push(...Lo.QrSegment.makeSegments(R)),P),[]);return Lo.QrCode.encodeSegments(I,yM[e],n,void 0,void 0,f)},[t,e,n,f]);const{cells:p,margin:m,numCells:y,calculatedImageSettings:w}=Rt.useMemo(()=>{let S=d.getModules();const I=TM(i,o),P=S.length+I*2,R=EM(S,u,I,a);return{cells:S,margin:I,numCells:P,calculatedImageSettings:R}},[d,u,a,i,o]);return{qrcode:d,margin:m,cells:p,numCells:y,calculatedImageSettings:w}}var SM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xM=Rt.forwardRef(function(e,n){const i=e,{value:o,size:a=lS,level:u=uS,bgColor:f=cS,fgColor:d=hS,includeMargin:p=dS,minVersion:m=fS,boostLevel:y,marginSize:w,imageSettings:S}=i,P=Pp(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:R}=P,$=Pp(P,["style"]),F=S==null?void 0:S.src,M=Rt.useRef(null),X=Rt.useRef(null),Z=Rt.useCallback(Pe=>{M.current=Pe,typeof n=="function"?n(Pe):n&&(n.current=Pe)},[n]),[oe,N]=Rt.useState(!1),{margin:C,cells:k,numCells:L,calculatedImageSettings:b}=gS({value:o,level:u,minVersion:m,boostLevel:y,includeMargin:p,marginSize:w,imageSettings:S,size:a});Rt.useEffect(()=>{if(M.current!=null){const Pe=M.current,Ue=Pe.getContext("2d");if(!Ue)return;let yt=k;const Ee=X.current,re=b!=null&&Ee!==null&&Ee.complete&&Ee.naturalHeight!==0&&Ee.naturalWidth!==0;re&&b.excavation!=null&&(yt=mS(k,b.excavation));const fe=window.devicePixelRatio||1;Pe.height=Pe.width=a*fe;const ae=a/L*fe;Ue.scale(ae,ae),Ue.fillStyle=f,Ue.fillRect(0,0,L,L),Ue.fillStyle=d,SM?Ue.fill(new Path2D(pS(yt,C))):k.forEach(function(U,J){U.forEach(function(xe,Ae){xe&&Ue.fillRect(Ae+C,J+C,1,1)})}),b&&(Ue.globalAlpha=b.opacity),re&&Ue.drawImage(Ee,b.x+C,b.y+C,b.w,b.h)}}),Rt.useEffect(()=>{N(!1)},[F]);const z=Rp({height:a,width:a},R);let D=null;return F!=null&&(D=Rt.createElement("img",{src:F,key:F,style:{display:"none"},onLoad:()=>{N(!0)},ref:X,crossOrigin:b==null?void 0:b.crossOrigin})),Rt.createElement(Rt.Fragment,null,Rt.createElement("canvas",Rp({style:z,height:a,width:a,ref:Z,role:"img"},$)),D)});xM.displayName="QRCodeCanvas";var kp=Rt.forwardRef(function(e,n){const i=e,{value:o,size:a=lS,level:u=uS,bgColor:f=cS,fgColor:d=hS,includeMargin:p=dS,minVersion:m=fS,boostLevel:y,title:w,marginSize:S,imageSettings:I}=i,P=Pp(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:R,cells:$,numCells:F,calculatedImageSettings:M}=gS({value:o,level:u,minVersion:m,boostLevel:y,includeMargin:p,marginSize:S,imageSettings:I,size:a});let X=$,Z=null;I!=null&&M!=null&&(M.excavation!=null&&(X=mS($,M.excavation)),Z=Rt.createElement("image",{href:I.src,height:M.h,width:M.w,x:M.x+R,y:M.y+R,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const oe=pS(X,R);return Rt.createElement("svg",Rp({height:a,width:a,viewBox:`0 0 ${F} ${F}`,ref:n,role:"img"},P),!!w&&Rt.createElement("title",null,w),Rt.createElement("path",{fill:f,d:`M0,0 h${F}v${F}H0z`,shapeRendering:"crispEdges"}),Rt.createElement("path",{fill:d,d:oe,shapeRendering:"crispEdges"}),Z)});kp.displayName="QRCodeSVG";const tw={1:{color:"#2d5a27",gradient:["#3d7a37","#2d5a27"],label:"ONE",accent:"#90c695"},5:{color:"#1e3a5f",gradient:["#2e5a8f","#1e3a5f"],label:"FIVE",accent:"#7ba3cc"},10:{color:"#5c2d5c",gradient:["#7c4d7c","#5c2d5c"],label:"TEN",accent:"#b89db8"},20:{color:"#8b6914",gradient:["#c9a227","#8b6914"],label:"TWENTY",accent:"#e8d48a"}};function yS({value:t,size:e=128,denomination:n=5,showFrame:i=!0}){const o=tw[n]||tw[5],a=e+48,u=16;return i?x.jsx("div",{style:{width:a,background:`linear-gradient(135deg, ${o.gradient[0]} 0%, ${o.gradient[1]} 100%)`,borderRadius:u,padding:"3px",display:"inline-block",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:x.jsxs("div",{style:{background:"linear-gradient(135deg, #fefefe 0%, #f5f5f0 100%)",borderRadius:u-2,padding:"8px",position:"relative"},children:[x.jsx("div",{style:{textAlign:"center",marginBottom:"6px",fontFamily:'"Georgia", serif',fontSize:"10px",fontWeight:"bold",color:o.color,letterSpacing:"3px",textTransform:"uppercase"},children:"KINDERBUCKS"}),x.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"8px",border:`2px solid ${o.accent}`,position:"relative"},children:[x.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"2px 0 0 0"}}),x.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 2px 0 0"}}),x.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"0 0 0 2px"}}),x.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 0 2px 0"}}),x.jsx(kp,{value:t,size:e,level:"H",fgColor:o.color,style:{display:"block"},imageSettings:{src:`data:image/svg+xml,${encodeURIComponent(`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${o.color}">
                  <circle cx="12" cy="12" r="11" fill="white" stroke="${o.color}" stroke-width="1.5"/>
                  <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="${o.color}" font-family="Georgia">K</text>
                </svg>
              `)}`,height:e*.2,width:e*.2,excavate:!0}})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px",padding:"0 4px"},children:[x.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]}),x.jsx("span",{style:{fontFamily:'"Georgia", serif',fontSize:"9px",color:o.color,letterSpacing:"1px",opacity:.8},children:o.label}),x.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]})]})]})}):x.jsx(kp,{value:t,size:e,level:"M",fgColor:o.color,style:{display:"block"}})}function AM(){const[t,e]=j.useState({start:1,end:100}),[n,i]=j.useState(5),[o,a]=j.useState([]),[u,f]=j.useState(!1),[d,p]=j.useState(!1),m=()=>{const S=[];for(let I=t.start;I<=t.end;I++)S.push(`KB-${String(I).padStart(4,"0")}`);a(S),p(!1)},y=async()=>{f(!0);try{await eM(o,n),p(!0)}catch(S){console.error("Error saving:",S),alert("Error saving to database")}f(!1)},w="https://harmonicsystems.github.io/kinderbucks/#/scan/";return x.jsxs("div",{className:"page",children:[x.jsx(kh,{}),x.jsx("h1",{children:"Generate QR Codes"}),x.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[x.jsx("h2",{children:"Settings"}),x.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Start Number"}),x.jsx("input",{type:"number",value:t.start,onChange:S=>e(I=>({...I,start:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"End Number"}),x.jsx("input",{type:"number",value:t.end,onChange:S=>e(I=>({...I,end:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Denomination"}),x.jsxs("select",{value:n,onChange:S=>i(Number(S.target.value)),style:{padding:"0.5rem"},children:[x.jsx("option",{value:1,children:"$1"}),x.jsx("option",{value:5,children:"$5"}),x.jsx("option",{value:10,children:"$10"}),x.jsx("option",{value:20,children:"$20"})]})]}),x.jsxs("button",{className:"btn",onClick:m,children:["Generate ",t.end-t.start+1," Codes"]})]})]}),o.length>0&&x.jsxs("div",{className:"card",children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[x.jsxs("h2",{children:["Generated: ",o.length," Kinderbucks ($",n," each)"]}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[!d&&x.jsx("button",{className:"btn",onClick:y,disabled:u,children:u?"Saving...":"Save to Database"}),d&&x.jsx("span",{style:{color:"var(--kb-green)"},children:"Saved!"}),x.jsx("button",{className:"btn btn-secondary",onClick:()=>window.print(),children:"Print"})]})]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:o.slice(0,50).map(S=>x.jsxs("div",{style:{textAlign:"center"},children:[x.jsx(yS,{value:`${w}${S}`,size:120,denomination:n}),x.jsx("p",{style:{fontFamily:"monospace",marginTop:"0.5rem",fontSize:"0.85rem"},children:S})]},S))}),o.length>50&&x.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",o.length,". All will be saved and printable."]})]})]})}function CM(){const[t,e]=j.useState([]),[n,i]=j.useState(!0),[o,a]=j.useState([]),[u,f]=j.useState("");j.useEffect(()=>{async function y(){const w=await Ap();e(w.filter(S=>S.status==="draft"||S.status==="issued")),i(!1)}y()},[]);const d=y=>{a(w=>w.includes(y)?w.filter(S=>S!==y):[...w,y])},p=async()=>{if(o.length!==0)try{for(const w of o)await tM(w,"issued",u);const y=await Ap();e(y.filter(w=>w.status==="draft"||w.status==="issued")),a([]),f(""),alert(`Issued ${o.length} Kinderbucks!`)}catch(y){console.error("Error issuing:",y),alert("Error issuing Kinderbucks")}},m=t.filter(y=>y.status==="draft");return x.jsxs("div",{className:"page",children:[x.jsx(kh,{}),x.jsx("h1",{children:"Issue Kinderbucks"}),x.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[x.jsx("h2",{children:"Issue Selected"}),x.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Issued To (optional)"}),x.jsx("input",{type:"text",value:u,onChange:y=>f(y.target.value),placeholder:"Business or recipient name",style:{padding:"0.5rem",width:"250px"}})]}),x.jsxs("button",{className:"btn",onClick:p,disabled:o.length===0,children:["Issue ",o.length," Selected"]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{children:["Available to Issue (",m.length," draft)"]}),n?x.jsx("p",{children:"Loading..."}):m.length===0?x.jsx("p",{children:"No draft Kinderbucks available. Generate some first!"}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{marginBottom:"1rem"},children:[x.jsx("button",{className:"btn btn-secondary",onClick:()=>a(m.map(y=>y.serial)),style:{marginRight:"0.5rem"},children:"Select All"}),x.jsx("button",{className:"btn btn-secondary",onClick:()=>a([]),children:"Clear"})]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"0.5rem"},children:m.map(y=>x.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:o.includes(y.serial)?"#d4edda":"#f8f9fa",borderRadius:"4px",cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:o.includes(y.serial),onChange:()=>d(y.serial)}),x.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem"},children:y.serial}),x.jsxs("span",{style:{opacity:.7},children:["$",y.denomination]})]},y.serial))})]})]})]})}const IM=[{code:"AVIARY",name:"The Aviary",category:"food"},{code:"MORNINGBIRD",name:"Morningbird Cafe",category:"food"},{code:"SAISONNIER",name:"Saisonnier",category:"food"},{code:"BROADST-BAGEL",name:"Broad Street Bagel Co.",category:"food"},{code:"BROOKLYN-PIZZA",name:"The Brooklyn Pizzeria",category:"food"},{code:"ISOLA",name:"Isola Wine Bar",category:"food"},{code:"HAMRAHS",name:"Hamrah's Lebanese Foods",category:"food"},{code:"OK-PANTRY",name:"OK Pantry",category:"retail"},{code:"BOTTLE-SHOP",name:"Kinderhook Bottle Shop",category:"retail"},{code:"BOOKS",name:"Kinderhook Books",category:"retail"},{code:"SAMASCOTTS",name:"Samascott's Garden Market",category:"retail"},{code:"SCHOOL-GALLERY",name:"The School | Jack Shainman Gallery",category:"arts"},{code:"SEPTEMBER",name:"September Gallery",category:"arts"},{code:"OLD-DUTCH",name:"Old Dutch Inn",category:"services"},{code:"MUSE",name:"Muse Aesthetics",category:"services"},{code:"PILATES",name:"Julia Jayne Pilates",category:"services"},{code:"SIENA",name:"Siena Private Wealth",category:"services"},{code:"COMMUNITY-BANK",name:"Community Bank NA",category:"services"},{code:"HISTORICAL",name:"Columbia County Historical Society",category:"arts"}],nw=[{value:"food",label:"Food & Drink",emoji:""},{value:"retail",label:"Retail",emoji:""},{value:"services",label:"Services",emoji:""},{value:"arts",label:"Arts & Culture",emoji:""}];function RM(){const[t,e]=j.useState([]),[n,i]=j.useState(!0),[o,a]=j.useState({code:"",name:"",category:"food"}),[u,f]=j.useState(!1),[d,p]=j.useState(null),[m,y]=j.useState(!1),w=async()=>{const F=await tS();e(F),i(!1)};j.useEffect(()=>{w()},[]);const S=async F=>{if(F.preventDefault(),!(!o.code||!o.name)){f(!0);try{await Z_(o.code.toUpperCase(),o.name,o.category),a({code:"",name:"",category:"food"}),await w()}catch(M){console.error("Error creating business:",M),alert("Error creating business")}f(!1)}},I=async(F,M)=>{await aM(F,!M),await w()},P=async()=>{if(confirm("This will add all Kinderhook businesses. Continue?")){y(!0);try{for(const F of IM)t.find(X=>X.code===F.code)||await Z_(F.code,F.name,F.category);await w(),alert("Businesses seeded successfully!")}catch(F){console.error("Error seeding:",F),alert("Error seeding businesses")}y(!1)}},R="https://harmonicsystems.github.io/kinderbucks/#/checkin/",$=F=>{const M=nw.find(X=>X.value===F);return M?M.emoji:""};return x.jsxs("div",{className:"page",children:[x.jsx(kh,{}),x.jsx("h1",{children:"Business Directory"}),x.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[x.jsx("h2",{children:"Add Business"}),x.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Code"}),x.jsx("input",{type:"text",value:o.code,onChange:F=>a(M=>({...M,code:F.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"")})),placeholder:"CAFE-01",style:{padding:"0.5rem",width:"120px",fontFamily:"monospace"}})]}),x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Name"}),x.jsx("input",{type:"text",value:o.name,onChange:F=>a(M=>({...M,name:F.target.value})),placeholder:"Village Caf",style:{padding:"0.5rem",width:"200px"}})]}),x.jsxs("div",{children:[x.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Category"}),x.jsx("select",{value:o.category,onChange:F=>a(M=>({...M,category:F.target.value})),style:{padding:"0.5rem"},children:nw.map(F=>x.jsxs("option",{value:F.value,children:[F.emoji," ",F.label]},F.value))})]}),x.jsx("button",{type:"submit",className:"btn",disabled:u||!o.code||!o.name,children:u?"Adding...":"Add Business"}),x.jsx("button",{type:"button",className:"btn btn-secondary",onClick:P,disabled:m,children:m?"Seeding...":"Seed All Kinderhook"})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{children:["Participating Businesses (",t.length,")"]}),n?x.jsx("p",{children:"Loading..."}):t.length===0?x.jsx("p",{children:'No businesses yet. Add one above or click "Seed All Kinderhook"!'}):x.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(F=>x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:F.isActive?"#f8fff8":"#f5f5f5",borderRadius:"8px",border:`1px solid ${F.isActive?"#d4edda":"#ddd"}`,flexWrap:"wrap"},children:[x.jsx("div",{style:{fontSize:"1.5rem"},children:$(F.category)}),x.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[x.jsx("div",{style:{fontWeight:"bold",color:F.isActive?"#2c3e50":"#888"},children:F.name}),x.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:"#888"},children:F.code})]}),x.jsxs("div",{style:{textAlign:"center",minWidth:"80px"},children:[x.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1a5f2a"},children:F.checkinCount||0}),x.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:"check-ins"})]}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[x.jsx("button",{className:"btn btn-secondary",onClick:()=>p(d===F.code?null:F.code),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem"},children:d===F.code?"Hide QR":"Show QR"}),x.jsx("button",{className:"btn",onClick:()=>I(F.code,F.isActive),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem",background:F.isActive?"#e74c3c":"#27ae60"},children:F.isActive?"Deactivate":"Activate"})]}),d===F.code&&x.jsxs("div",{style:{width:"100%",marginTop:"1rem",padding:"1rem",background:"white",borderRadius:"8px",textAlign:"center"},children:[x.jsx(yS,{value:`${R}${F.code}`,size:150,denomination:5,showFrame:!1}),x.jsxs("p",{style:{fontFamily:"monospace",fontSize:"0.75rem",marginTop:"0.5rem",color:"#888",wordBreak:"break-all"},children:[R,F.code]}),x.jsx("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard.writeText(`${R}${F.code}`),alert("URL copied!")},style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Copy URL"})]})]},F.code))})]})]})}function PM(){return x.jsx(tC,{children:x.jsxs(VA,{children:[x.jsx(Wr,{path:"/",element:x.jsx(hC,{})}),x.jsx(Wr,{path:"/scan/:serial",element:x.jsx(iM,{})}),x.jsx(Wr,{path:"/checkin/:businessCode",element:x.jsx(fM,{})}),x.jsx(Wr,{path:"/profile",element:x.jsx(pM,{})}),x.jsx(Wr,{path:"/admin/dashboard",element:x.jsx(mM,{})}),x.jsx(Wr,{path:"/admin/generate",element:x.jsx(AM,{})}),x.jsx(Wr,{path:"/admin/issue",element:x.jsx(CM,{})}),x.jsx(Wr,{path:"/admin/businesses",element:x.jsx(RM,{})})]})})}Nx.createRoot(document.getElementById("root")).render(x.jsx(j.StrictMode,{children:x.jsx(PM,{})}));
