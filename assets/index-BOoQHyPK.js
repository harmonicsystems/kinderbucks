(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function HS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mf={exports:{}},dl={},gf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function KS(){if(Rv)return Re;Rv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function I(U,Z,Ae){this.props=U,this.context=Z,this.refs=R,this.updater=Ae||S}I.prototype.isReactComponent={},I.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=I.prototype;function L(U,Z,Ae){this.props=U,this.context=Z,this.refs=R,this.updater=Ae||S}var P=L.prototype=new z;P.constructor=L,k(P,I.prototype),P.isPureReactComponent=!0;var Q=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function C(U,Z,Ae){var ke,De={},je=null,He=null;if(Z!=null)for(ke in Z.ref!==void 0&&(He=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)J.call(Z,ke)&&!j.hasOwnProperty(ke)&&(De[ke]=Z[ke]);var Be=arguments.length-2;if(Be===1)De.children=Ae;else if(1<Be){for(var Qe=Array(Be),en=0;en<Be;en++)Qe[en]=arguments[en+2];De.children=Qe}if(U&&U.defaultProps)for(ke in Be=U.defaultProps,Be)De[ke]===void 0&&(De[ke]=Be[ke]);return{$$typeof:t,type:U,key:je,ref:He,props:De,_owner:se.current}}function b(U,Z){return{$$typeof:t,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ae){return Z[Ae]})}var $=/\/+/g;function D(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Z.toString(36)}function be(U,Z,Ae,ke,De){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var He=!1;if(U===null)He=!0;else switch(je){case"string":case"number":He=!0;break;case"object":switch(U.$$typeof){case t:case e:He=!0}}if(He)return He=U,De=De(He),U=ke===""?"."+D(He,0):ke,Q(De)?(Ae="",U!=null&&(Ae=U.replace($,"$&/")+"/"),be(De,Z,Ae,"",function(en){return en})):De!=null&&(O(De)&&(De=b(De,Ae+(!De.key||He&&He.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+U)),Z.push(De)),1;if(He=0,ke=ke===""?".":ke+":",Q(U))for(var Be=0;Be<U.length;Be++){je=U[Be];var Qe=ke+D(je,Be);He+=be(je,Z,Ae,Qe,De)}else if(Qe=w(U),typeof Qe=="function")for(U=Qe.call(U),Be=0;!(je=U.next()).done;)je=je.value,Qe=ke+D(je,Be++),He+=be(je,Z,Ae,Qe,De);else if(je==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return He}function $e(U,Z,Ae){if(U==null)return U;var ke=[],De=0;return be(U,ke,"","",function(je){return Z.call(Ae,je,De++)}),ke}function xt(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(Ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ae)},function(Ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ae)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var Ee={current:null},re={transition:null},fe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:$e,forEach:function(U,Z,Ae){$e(U,function(){Z.apply(this,arguments)},Ae)},count:function(U){var Z=0;return $e(U,function(){Z++}),Z},toArray:function(U){return $e(U,function(Z){return Z})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=I,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=L,Re.StrictMode=i,Re.Suspense=h,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(U,Z,Ae){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=k({},U.props),De=U.key,je=U.ref,He=U._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,He=se.current),Z.key!==void 0&&(De=""+Z.key),U.type&&U.type.defaultProps)var Be=U.type.defaultProps;for(Qe in Z)J.call(Z,Qe)&&!j.hasOwnProperty(Qe)&&(ke[Qe]=Z[Qe]===void 0&&Be!==void 0?Be[Qe]:Z[Qe])}var Qe=arguments.length-2;if(Qe===1)ke.children=Ae;else if(1<Qe){Be=Array(Qe);for(var en=0;en<Qe;en++)Be[en]=arguments[en+2];ke.children=Be}return{$$typeof:t,type:U.type,key:De,ref:je,props:ke,_owner:He}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=C,Re.createFactory=function(U){var Z=C.bind(null,U);return Z.type=U,Z},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:f,render:U}},Re.isValidElement=O,Re.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:xt}},Re.memo=function(U,Z){return{$$typeof:p,type:U,compare:Z===void 0?null:Z}},Re.startTransition=function(U){var Z=re.transition;re.transition={};try{U()}finally{re.transition=Z}},Re.unstable_act=ae,Re.useCallback=function(U,Z){return Ee.current.useCallback(U,Z)},Re.useContext=function(U){return Ee.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Ee.current.useDeferredValue(U)},Re.useEffect=function(U,Z){return Ee.current.useEffect(U,Z)},Re.useId=function(){return Ee.current.useId()},Re.useImperativeHandle=function(U,Z,Ae){return Ee.current.useImperativeHandle(U,Z,Ae)},Re.useInsertionEffect=function(U,Z){return Ee.current.useInsertionEffect(U,Z)},Re.useLayoutEffect=function(U,Z){return Ee.current.useLayoutEffect(U,Z)},Re.useMemo=function(U,Z){return Ee.current.useMemo(U,Z)},Re.useReducer=function(U,Z,Ae){return Ee.current.useReducer(U,Z,Ae)},Re.useRef=function(U){return Ee.current.useRef(U)},Re.useState=function(U){return Ee.current.useState(U)},Re.useSyncExternalStore=function(U,Z,Ae){return Ee.current.useSyncExternalStore(U,Z,Ae)},Re.useTransition=function(){return Ee.current.useTransition()},Re.version="18.3.1",Re}var bv;function qp(){return bv||(bv=1,gf.exports=KS()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function qS(){if(Pv)return dl;Pv=1;var t=qp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,p){var g,v={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)i.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(f&&f.defaultProps)for(g in h=f.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:f,key:w,ref:S,props:v,_owner:o.current}}return dl.Fragment=n,dl.jsx=u,dl.jsxs=u,dl}var Vv;function GS(){return Vv||(Vv=1,mf.exports=qS()),mf.exports}var m=GS(),N=qp();const bt=HS(N);var Cc={},yf={exports:{}},hn={},vf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function QS(){return Dv||(Dv=1,(function(t){function e(re,fe){var ae=re.length;re.push(fe);e:for(;0<ae;){var U=ae-1>>>1,Z=re[U];if(0<o(Z,fe))re[U]=fe,re[ae]=Z,ae=U;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var fe=re[0],ae=re.pop();if(ae!==fe){re[0]=ae;e:for(var U=0,Z=re.length,Ae=Z>>>1;U<Ae;){var ke=2*(U+1)-1,De=re[ke],je=ke+1,He=re[je];if(0>o(De,ae))je<Z&&0>o(He,De)?(re[U]=He,re[je]=ae,U=je):(re[U]=De,re[ke]=ae,U=ke);else if(je<Z&&0>o(He,ae))re[U]=He,re[je]=ae,U=je;else break e}}return fe}function o(re,fe){var ae=re.sortIndex-fe.sortIndex;return ae!==0?ae:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],p=[],g=1,v=null,w=3,S=!1,k=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var fe=n(p);fe!==null;){if(fe.callback===null)i(p);else if(fe.startTime<=re)i(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(p)}}function Q(re){if(R=!1,P(re),!k)if(n(h)!==null)k=!0,xt(J);else{var fe=n(p);fe!==null&&Ee(Q,fe.startTime-re)}}function J(re,fe){k=!1,R&&(R=!1,z(C),C=-1),S=!0;var ae=w;try{for(P(fe),v=n(h);v!==null&&(!(v.expirationTime>fe)||re&&!M());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var Z=U(v.expirationTime<=fe);fe=t.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(h)&&i(h),P(fe)}else i(h);v=n(h)}if(v!==null)var Ae=!0;else{var ke=n(p);ke!==null&&Ee(Q,ke.startTime-fe),Ae=!1}return Ae}finally{v=null,w=ae,S=!1}}var se=!1,j=null,C=-1,b=5,O=-1;function M(){return!(t.unstable_now()-O<b)}function $(){if(j!==null){var re=t.unstable_now();O=re;var fe=!0;try{fe=j(!0,re)}finally{fe?D():(se=!1,j=null)}}else se=!1}var D;if(typeof L=="function")D=function(){L($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,$e=be.port2;be.port1.onmessage=$,D=function(){$e.postMessage(null)}}else D=function(){I($,0)};function xt(re){j=re,se||(se=!0,D())}function Ee(re,fe){C=I(function(){re(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,xt(J))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return re()}finally{w=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=w;w=re;try{return fe()}finally{w=ae}},t.unstable_scheduleCallback=function(re,fe,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,re={id:g++,callback:fe,priorityLevel:re,startTime:ae,expirationTime:Z,sortIndex:-1},ae>U?(re.sortIndex=ae,e(p,re),n(h)===null&&re===n(p)&&(R?(z(C),C=-1):R=!0,Ee(Q,ae-U))):(re.sortIndex=Z,e(h,re),k||S||(k=!0,xt(J))),re},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(re){var fe=w;return function(){var ae=w;w=fe;try{return re.apply(this,arguments)}finally{w=ae}}}})(xf)),xf}var jv;function YS(){return jv||(jv=1,vf.exports=QS()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function XS(){if(Nv)return hn;Nv=1;var t=qp(),e=YS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(r){return h.call(v,r)?!0:h.call(g,r)?!1:p.test(r)?v[r]=!0:(g[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(r,s,l,d,y,x,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=x,this.removeEmptyString=T}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new R(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];I[s]=new R(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new R(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new R(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new R(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new R(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new R(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new R(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new R(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function L(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,L);I[s]=new R(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,L);I[s]=new R(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,L);I[s]=new R(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new R(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new R(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,s,l,d){var y=I.hasOwnProperty(s)?I[s]:null;(y!==null?y.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,y,d)&&(l=null),d||y===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):y.mustUseProperty?r[y.propertyName]=l===null?y.type===3?!1:"":l:(s=y.attributeName,d=y.attributeNamespace,l===null?r.removeAttribute(s):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,U;function Z(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var Ae=!1;function ke(r,s){if(!r||Ae)return"";Ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){d=q}r.call(s.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var y=q.stack.split(`
`),x=d.stack.split(`
`),T=y.length-1,V=x.length-1;1<=T&&0<=V&&y[T]!==x[V];)V--;for(;1<=T&&0<=V;T--,V--)if(y[T]!==x[V]){if(T!==1||V!==1)do if(T--,V--,0>V||y[T]!==x[V]){var F=`
`+y[T].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=T&&0<=V);break}}}finally{Ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function De(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case se:return"Portal";case b:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case xt:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}function He(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function en(r){var s=Qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(T){d=""+T,x.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qs(r){r._valueTracker||(r._valueTracker=en(r))}function va(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Qe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gs(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function du(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qs(r,s){s=s.checked,s!=null&&P(r,"checked",s,!1)}function es(r,s){Qs(r,s);var l=Be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?_t(r,s.type,l):s.hasOwnProperty("defaultValue")&&_t(r,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function xa(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function _t(r,s,l){(s!=="number"||si(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pt=Array.isArray;function Fn(r,s,l,d){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function _a(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wa(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(pt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Be(l)}}function fu(r,s){var l=Be(s.value),d=Be(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function oi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ea(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ys(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ea(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ai,pu=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,y){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,y)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ai.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ts(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mu=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(r){mu.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),li[s]=li[r]})});function ui(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||li.hasOwnProperty(r)&&li[r]?(""+s).trim():s+"px"}function Xs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,y=ui(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,y):r[l]=y}}var Ta=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bn(r,s){if(s){if(Ta[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Js(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function Zs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var br=null,Pr=null,ct=null;function Sa(r){if(r=Xa(r)){if(typeof br!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Uu(s),br(r.stateNode,r.type,s))}}function hi(r){Pr?ct?ct.push(r):ct=[r]:Pr=r}function di(){if(Pr){var r=Pr,s=ct;if(ct=Pr=null,Sa(r),s)for(r=0;r<s.length;r++)Sa(s[r])}}function gu(r,s){return r(s)}function yu(){}var nr=!1;function vu(r,s,l){if(nr)return r(s,l);nr=!0;try{return gu(r,s,l)}finally{nr=!1,(Pr!==null||ct!==null)&&(yu(),di())}}function ns(r,s){var l=r.stateNode;if(l===null)return null;var d=Uu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var fi=!1;if(f)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){fi=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{fi=!1}function xu(r,s,l,d,y,x,T,V,F){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(te){this.onError(te)}}var Vr=!1,rr=null,eo=!1,An=null,_u={onError:function(r){Vr=!0,rr=r}};function wu(r,s,l,d,y,x,T,V,F){Vr=!1,rr=null,xu.apply(_u,arguments)}function Aa(r,s,l,d,y,x,T,V,F){if(wu.apply(this,arguments),Vr){if(Vr){var q=rr;Vr=!1,rr=null}else throw Error(n(198));eo||(eo=!0,An=q)}}function zn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ka(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Eu(r){if(zn(r)!==r)throw Error(n(188))}function Tu(r){var s=r.alternate;if(!s){if(s=zn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return Eu(y),r;if(x===d)return Eu(y),s;x=x.sibling}throw Error(n(188))}if(l.return!==d.return)l=y,d=x;else{for(var T=!1,V=y.child;V;){if(V===l){T=!0,l=y,d=x;break}if(V===d){T=!0,d=y,l=x;break}V=V.sibling}if(!T){for(V=x.child;V;){if(V===l){T=!0,l=x,d=y;break}if(V===d){T=!0,d=x,l=y;break}V=V.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Su(r){return r=Tu(r),r!==null?rs(r):null}function rs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rs(r);if(s!==null)return s;r=r.sibling}return null}var Ca=e.unstable_scheduleCallback,to=e.unstable_cancelCallback,is=e.unstable_shouldYield,Dr=e.unstable_requestPaint,Ze=e.unstable_now,Hh=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,Ia=e.unstable_UserBlockingPriority,ss=e.unstable_NormalPriority,Ra=e.unstable_LowPriority,ro=e.unstable_IdlePriority,os=null,mn=null;function Au(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(os,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:as,ir=Math.log,kn=Math.LN2;function as(r){return r>>>=0,r===0?32:31-(ir(r)/kn|0)|0}var sr=64,mi=4194304;function We(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function jr(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,y=r.suspendedLanes,x=r.pingedLanes,T=l&268435455;if(T!==0){var V=T&~y;V!==0?d=We(V):(x&=T,x!==0&&(d=We(x)))}else T=l&~y,T!==0?d=We(T):x!==0&&(d=We(x));if(d===0)return 0;if(s!==0&&s!==d&&(s&y)===0&&(y=d&-d,x=s&-s,y>=x||y===16&&(x&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-gn(s),y=1<<l,d|=r[l],s&=~y;return d}function ls(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function us(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes;0<x;){var T=31-gn(x),V=1<<T,F=y[T];F===-1?((V&l)===0||(V&d)!==0)&&(y[T]=ls(V,s)):F<=s&&(r.expiredLanes|=V),x&=~V}}function ba(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Pa(){var r=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),r}function Va(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function cs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-gn(s),r[s]=l}function Kh(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var y=31-gn(l),x=1<<y;s[y]=0,d[y]=-1,r[y]=-1,l&=~x}}function Da(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-gn(l),y=1<<d;y&s|r[d]&s&&(r[d]|=s),l&=~y}}var Le=0;function or(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ja,io,Na,Ma,La,ar=!1,so=[],lr=null,ur=null,Mt=null,hs=new Map,Nr=new Map,yn=[],ku="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gi(r,s){switch(r){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":hs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(s.pointerId)}}function Un(r,s,l,d,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},s!==null&&(s=Xa(s),s!==null&&io(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function Cu(r,s,l,d,y){switch(s){case"focusin":return lr=Un(lr,r,s,l,d,y),!0;case"dragenter":return ur=Un(ur,r,s,l,d,y),!0;case"mouseover":return Mt=Un(Mt,r,s,l,d,y),!0;case"pointerover":var x=y.pointerId;return hs.set(x,Un(hs.get(x)||null,r,s,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Nr.set(x,Un(Nr.get(x)||null,r,s,l,d,y)),!0}return!1}function oo(r){var s=ms(r.target);if(s!==null){var l=zn(s);if(l!==null){if(s=l.tag,s===13){if(s=ka(l),s!==null){r.blockedOn=s,La(r.priority,function(){Na(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ye(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ao(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ci=d,l.target.dispatchEvent(d),ci=null}else return s=Xa(l),s!==null&&io(s),r.blockedOn=l,!1;s.shift()}return!0}function Iu(r,s,l){Ye(r)&&l.delete(s)}function qh(){ar=!1,lr!==null&&Ye(lr)&&(lr=null),ur!==null&&Ye(ur)&&(ur=null),Mt!==null&&Ye(Mt)&&(Mt=null),hs.forEach(Iu),Nr.forEach(Iu)}function yi(r,s){r.blockedOn===s&&(r.blockedOn=null,ar||(ar=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qh)))}function vi(r){function s(y){return yi(y,r)}if(0<so.length){yi(so[0],r);for(var l=1;l<so.length;l++){var d=so[l];d.blockedOn===r&&(d.blockedOn=null)}}for(lr!==null&&yi(lr,r),ur!==null&&yi(ur,r),Mt!==null&&yi(Mt,r),hs.forEach(s),Nr.forEach(s),l=0;l<yn.length;l++)d=yn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<yn.length&&(l=yn[0],l.blockedOn===null);)oo(l),l.blockedOn===null&&yn.shift()}var Mr=Q.ReactCurrentBatchConfig,Lr=!0;function cr(r,s,l,d){var y=Le,x=Mr.transition;Mr.transition=null;try{Le=1,Oa(r,s,l,d)}finally{Le=y,Mr.transition=x}}function Ru(r,s,l,d){var y=Le,x=Mr.transition;Mr.transition=null;try{Le=4,Oa(r,s,l,d)}finally{Le=y,Mr.transition=x}}function Oa(r,s,l,d){if(Lr){var y=ao(r,s,l,d);if(y===null)id(r,s,d,hr,l),gi(r,d);else if(Cu(y,r,s,l,d))d.stopPropagation();else if(gi(r,d),s&4&&-1<ku.indexOf(r)){for(;y!==null;){var x=Xa(y);if(x!==null&&ja(x),x=ao(r,s,l,d),x===null&&id(r,s,d,hr,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else id(r,s,d,null,l)}}var hr=null;function ao(r,s,l,d){if(hr=null,r=Zs(d),r=ms(r),r!==null)if(s=zn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ka(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return hr=r,null}function lo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hh()){case no:return 1;case Ia:return 4;case ss:case Ra:return 16;case ro:return 536870912;default:return 16}default:return 16}}var vn=null,uo=null,Or=null;function bu(){if(Or)return Or;var r,s=uo,l=s.length,d,y="value"in vn?vn.value:vn.textContent,x=y.length;for(r=0;r<l&&s[r]===y[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===y[x-d];d++);return Or=y.slice(r,1<d?1-d:void 0)}function ds(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function dr(){return!0}function Fa(){return!1}function Ht(r){function s(l,d,y,x,T){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(l=r[V],this[V]=l?l(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?dr:Fa,this.isPropagationStopped=Fa,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Ht(fr),xi=ae({},fr,{view:0,detail:0}),co=Ht(xi),ho,fo,xn,ps=ae({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xn&&(xn&&r.type==="mousemove"?(ho=r.screenX-xn.screenX,fo=r.screenY-xn.screenY):fo=ho=0,xn=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:fo}}),Ba=Ht(ps),Pu=ae({},ps,{dataTransfer:0}),Vu=Ht(Pu),po=ae({},xi,{relatedTarget:0}),Lt=Ht(po),Du=ae({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Ht(Du),_i=ae({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Ht(_i),_=ae({},fr,{data:0}),E=Ht(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=G[r])?!!s[r]:!1}function Ce(){return oe}var mt=ae({},xi,{key:function(r){if(r.key){var s=A[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ds(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?H[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?ds(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ds(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qe=Ht(mt),wt=ae({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=Ht(wt),Fr=ae({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),pr=Ht(Fr),mr=ae({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mo=Ht(mr),za=ae({},ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),FT=Ht(za),BT=[9,13,27,32],Gh=f&&"CompositionEvent"in window,Ua=null;f&&"documentMode"in document&&(Ua=document.documentMode);var zT=f&&"TextEvent"in window&&!Ua,wg=f&&(!Gh||Ua&&8<Ua&&11>=Ua),Eg=" ",Tg=!1;function Sg(r,s){switch(r){case"keyup":return BT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var go=!1;function UT(r,s){switch(r){case"compositionend":return Ag(s);case"keypress":return s.which!==32?null:(Tg=!0,Eg);case"textInput":return r=s.data,r===Eg&&Tg?null:r;default:return null}}function $T(r,s){if(go)return r==="compositionend"||!Gh&&Sg(r,s)?(r=bu(),Or=uo=vn=null,go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wg&&s.locale!=="ko"?null:s.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!WT[r.type]:s==="textarea"}function Cg(r,s,l,d){hi(d),s=Fu(s,"onChange"),0<s.length&&(l=new fs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var $a=null,Wa=null;function HT(r){Hg(r,0)}function Nu(r){var s=wo(r);if(va(s))return r}function KT(r,s){if(r==="change")return s}var Ig=!1;if(f){var Qh;if(f){var Yh="oninput"in document;if(!Yh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Yh=typeof Rg.oninput=="function"}Qh=Yh}else Qh=!1;Ig=Qh&&(!document.documentMode||9<document.documentMode)}function bg(){$a&&($a.detachEvent("onpropertychange",Pg),Wa=$a=null)}function Pg(r){if(r.propertyName==="value"&&Nu(Wa)){var s=[];Cg(s,Wa,r,Zs(r)),vu(HT,s)}}function qT(r,s,l){r==="focusin"?(bg(),$a=s,Wa=l,$a.attachEvent("onpropertychange",Pg)):r==="focusout"&&bg()}function GT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nu(Wa)}function QT(r,s){if(r==="click")return Nu(s)}function YT(r,s){if(r==="input"||r==="change")return Nu(s)}function XT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:XT;function Ha(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!h.call(s,y)||!$n(r[y],s[y]))return!1}return!0}function Vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dg(r,s){var l=Vg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vg(l)}}function jg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?jg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ng(){for(var r=window,s=si();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=si(r.document)}return s}function Xh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function JT(r){var s=Ng(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&jg(l.ownerDocument.documentElement,l)){if(d!==null&&Xh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var y=l.textContent.length,x=Math.min(d.start,y);d=d.end===void 0?x:Math.min(d.end,y),!r.extend&&x>d&&(y=d,d=x,x=y),y=Dg(l,x);var T=Dg(l,d);y&&T&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),r.removeAllRanges(),x>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ZT=f&&"documentMode"in document&&11>=document.documentMode,yo=null,Jh=null,Ka=null,Zh=!1;function Mg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zh||yo==null||yo!==si(d)||(d=yo,"selectionStart"in d&&Xh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ka&&Ha(Ka,d)||(Ka=d,d=Fu(Jh,"onSelect"),0<d.length&&(s=new fs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=yo)))}function Mu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var vo={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},ed={},Lg={};f&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Lu(r){if(ed[r])return ed[r];if(!vo[r])return r;var s=vo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Lg)return ed[r]=s[l];return r}var Og=Lu("animationend"),Fg=Lu("animationiteration"),Bg=Lu("animationstart"),zg=Lu("transitionend"),Ug=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(r,s){Ug.set(r,s),a(s,[r])}for(var td=0;td<$g.length;td++){var nd=$g[td],eS=nd.toLowerCase(),tS=nd[0].toUpperCase()+nd.slice(1);wi(eS,"on"+tS)}wi(Og,"onAnimationEnd"),wi(Fg,"onAnimationIteration"),wi(Bg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(zg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function Wg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Aa(d,s,void 0,r),r.currentTarget=null}function Hg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],y=d.event;d=d.listeners;e:{var x=void 0;if(s)for(var T=d.length-1;0<=T;T--){var V=d[T],F=V.instance,q=V.currentTarget;if(V=V.listener,F!==x&&y.isPropagationStopped())break e;Wg(y,V,q),x=F}else for(T=0;T<d.length;T++){if(V=d[T],F=V.instance,q=V.currentTarget,V=V.listener,F!==x&&y.isPropagationStopped())break e;Wg(y,V,q),x=F}}}if(eo)throw r=An,eo=!1,An=null,r}function et(r,s){var l=s[cd];l===void 0&&(l=s[cd]=new Set);var d=r+"__bubble";l.has(d)||(Kg(s,r,2,!1),l.add(d))}function rd(r,s,l){var d=0;s&&(d|=4),Kg(l,r,d,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Ga(r){if(!r[Ou]){r[Ou]=!0,i.forEach(function(l){l!=="selectionchange"&&(nS.has(l)||rd(l,!1,r),rd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,rd("selectionchange",!1,s))}}function Kg(r,s,l,d){switch(lo(s)){case 1:var y=cr;break;case 4:y=Ru;break;default:y=Oa}l=y.bind(null,s,l,r),y=void 0,!fi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function id(r,s,l,d,y){var x=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var V=d.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;T=T.return}for(;V!==null;){if(T=ms(V),T===null)return;if(F=T.tag,F===5||F===6){d=x=T;continue e}V=V.parentNode}}d=d.return}vu(function(){var q=x,te=Zs(l),ne=[];e:{var ee=Ug.get(r);if(ee!==void 0){var ue=fs,pe=r;switch(r){case"keypress":if(ds(l)===0)break e;case"keydown":case"keyup":ue=qe;break;case"focusin":pe="focus",ue=Lt;break;case"focusout":pe="blur",ue=Lt;break;case"beforeblur":case"afterblur":ue=Lt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=pr;break;case Og:case Fg:case Bg:ue=ju;break;case zg:ue=mo;break;case"scroll":ue=co;break;case"wheel":ue=FT;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=_n}var me=(s&4)!==0,gt=!me&&r==="scroll",W=me?ee!==null?ee+"Capture":null:ee;me=[];for(var B=q,K;B!==null;){K=B;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,W!==null&&(ie=ns(B,W),ie!=null&&me.push(Qa(B,ie,K)))),gt)break;B=B.return}0<me.length&&(ee=new ue(ee,pe,null,l,te),ne.push({event:ee,listeners:me}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==ci&&(pe=l.relatedTarget||l.fromElement)&&(ms(pe)||pe[Br]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(pe=l.relatedTarget||l.toElement,ue=q,pe=pe?ms(pe):null,pe!==null&&(gt=zn(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=q),ue!==pe)){if(me=Ba,ie="onMouseLeave",W="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(me=_n,ie="onPointerLeave",W="onPointerEnter",B="pointer"),gt=ue==null?ee:wo(ue),K=pe==null?ee:wo(pe),ee=new me(ie,B+"leave",ue,l,te),ee.target=gt,ee.relatedTarget=K,ie=null,ms(te)===q&&(me=new me(W,B+"enter",pe,l,te),me.target=K,me.relatedTarget=gt,ie=me),gt=ie,ue&&pe)t:{for(me=ue,W=pe,B=0,K=me;K;K=xo(K))B++;for(K=0,ie=W;ie;ie=xo(ie))K++;for(;0<B-K;)me=xo(me),B--;for(;0<K-B;)W=xo(W),K--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=xo(me),W=xo(W)}me=null}else me=null;ue!==null&&qg(ne,ee,ue,me,!1),pe!==null&&gt!==null&&qg(ne,gt,pe,me,!0)}}e:{if(ee=q?wo(q):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=KT;else if(kg(ee))if(Ig)ge=YT;else{ge=GT;var ve=qT}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=QT);if(ge&&(ge=ge(r,q))){Cg(ne,ge,l,te);break e}ve&&ve(r,ee,q),r==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&_t(ee,"number",ee.value)}switch(ve=q?wo(q):window,r){case"focusin":(kg(ve)||ve.contentEditable==="true")&&(yo=ve,Jh=q,Ka=null);break;case"focusout":Ka=Jh=yo=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Mg(ne,l,te);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Mg(ne,l,te)}var xe;if(Gh)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else go?Sg(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(wg&&l.locale!=="ko"&&(go||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&go&&(xe=bu()):(vn=te,uo="value"in vn?vn.value:vn.textContent,go=!0)),ve=Fu(q,Te),0<ve.length&&(Te=new E(Te,r,null,l,te),ne.push({event:Te,listeners:ve}),xe?Te.data=xe:(xe=Ag(l),xe!==null&&(Te.data=xe)))),(xe=zT?UT(r,l):$T(r,l))&&(q=Fu(q,"onBeforeInput"),0<q.length&&(te=new E("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:q}),te.data=xe))}Hg(ne,s)})}function Qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Fu(r,s){for(var l=s+"Capture",d=[];r!==null;){var y=r,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=ns(r,l),x!=null&&d.unshift(Qa(r,x,y)),x=ns(r,s),x!=null&&d.push(Qa(r,x,y))),r=r.return}return d}function xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qg(r,s,l,d,y){for(var x=s._reactName,T=[];l!==null&&l!==d;){var V=l,F=V.alternate,q=V.stateNode;if(F!==null&&F===d)break;V.tag===5&&q!==null&&(V=q,y?(F=ns(l,x),F!=null&&T.unshift(Qa(l,F,V))):y||(F=ns(l,x),F!=null&&T.push(Qa(l,F,V)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var rS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function Gg(r){return(typeof r=="string"?r:""+r).replace(rS,`
`).replace(iS,"")}function Bu(r,s,l){if(s=Gg(s),Gg(r)!==s&&l)throw Error(n(425))}function zu(){}var sd=null,od=null;function ad(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(r){return Qg.resolve(null).then(r).catch(aS)}:ld;function aS(r){setTimeout(function(){throw r})}function ud(r,s){var l=s,d=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(d===0){r.removeChild(y),vi(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=y}while(l);vi(s)}function Ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Yg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var _o=Math.random().toString(36).slice(2),gr="__reactFiber$"+_o,Ya="__reactProps$"+_o,Br="__reactContainer$"+_o,cd="__reactEvents$"+_o,lS="__reactListeners$"+_o,uS="__reactHandles$"+_o;function ms(r){var s=r[gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Br]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Yg(r);r!==null;){if(l=r[gr])return l;r=Yg(r)}return s}r=l,l=r.parentNode}return null}function Xa(r){return r=r[gr]||r[Br],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Uu(r){return r[Ya]||null}var hd=[],Eo=-1;function Ti(r){return{current:r}}function tt(r){0>Eo||(r.current=hd[Eo],hd[Eo]=null,Eo--)}function Xe(r,s){Eo++,hd[Eo]=r.current,r.current=s}var Si={},Kt=Ti(Si),on=Ti(!1),gs=Si;function To(r,s){var l=r.type.contextTypes;if(!l)return Si;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in l)y[x]=s[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=y),y}function an(r){return r=r.childContextTypes,r!=null}function $u(){tt(on),tt(Kt)}function Xg(r,s,l){if(Kt.current!==Si)throw Error(n(168));Xe(Kt,s),Xe(on,l)}function Jg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var y in d)if(!(y in s))throw Error(n(108,He(r)||"Unknown",y));return ae({},l,d)}function Wu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Si,gs=Kt.current,Xe(Kt,r),Xe(on,on.current),!0}function Zg(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Jg(r,s,gs),d.__reactInternalMemoizedMergedChildContext=r,tt(on),tt(Kt),Xe(Kt,r)):tt(on),Xe(on,l)}var zr=null,Hu=!1,dd=!1;function ey(r){zr===null?zr=[r]:zr.push(r)}function cS(r){Hu=!0,ey(r)}function Ai(){if(!dd&&zr!==null){dd=!0;var r=0,s=Le;try{var l=zr;for(Le=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}zr=null,Hu=!1}catch(y){throw zr!==null&&(zr=zr.slice(r+1)),Ca(no,Ai),y}finally{Le=s,dd=!1}}return null}var So=[],Ao=0,Ku=null,qu=0,Cn=[],In=0,ys=null,Ur=1,$r="";function vs(r,s){So[Ao++]=qu,So[Ao++]=Ku,Ku=r,qu=s}function ty(r,s,l){Cn[In++]=Ur,Cn[In++]=$r,Cn[In++]=ys,ys=r;var d=Ur;r=$r;var y=32-gn(d)-1;d&=~(1<<y),l+=1;var x=32-gn(s)+y;if(30<x){var T=y-y%5;x=(d&(1<<T)-1).toString(32),d>>=T,y-=T,Ur=1<<32-gn(s)+y|l<<y|d,$r=x+r}else Ur=1<<x|l<<y|d,$r=r}function fd(r){r.return!==null&&(vs(r,1),ty(r,1,0))}function pd(r){for(;r===Ku;)Ku=So[--Ao],So[Ao]=null,qu=So[--Ao],So[Ao]=null;for(;r===ys;)ys=Cn[--In],Cn[In]=null,$r=Cn[--In],Cn[In]=null,Ur=Cn[--In],Cn[In]=null}var wn=null,En=null,it=!1,Wn=null;function ny(r,s){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ry(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,wn=r,En=Ei(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,wn=r,En=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:Ur,overflow:$r}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,wn=r,En=null,!0):!1;default:return!1}}function md(r){return(r.mode&1)!==0&&(r.flags&128)===0}function gd(r){if(it){var s=En;if(s){var l=s;if(!ry(r,s)){if(md(r))throw Error(n(418));s=Ei(l.nextSibling);var d=wn;s&&ry(r,s)?ny(d,l):(r.flags=r.flags&-4097|2,it=!1,wn=r)}}else{if(md(r))throw Error(n(418));r.flags=r.flags&-4097|2,it=!1,wn=r}}}function iy(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;wn=r}function Gu(r){if(r!==wn)return!1;if(!it)return iy(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ad(r.type,r.memoizedProps)),s&&(s=En)){if(md(r))throw sy(),Error(n(418));for(;s;)ny(r,s),s=Ei(s.nextSibling)}if(iy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){En=Ei(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}En=null}}else En=wn?Ei(r.stateNode.nextSibling):null;return!0}function sy(){for(var r=En;r;)r=Ei(r.nextSibling)}function ko(){En=wn=null,it=!1}function yd(r){Wn===null?Wn=[r]:Wn.push(r)}var hS=Q.ReactCurrentBatchConfig;function Ja(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var y=d,x=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(T){var V=y.refs;T===null?delete V[x]:V[x]=T},s._stringRef=x,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Qu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function oy(r){var s=r._init;return s(r._payload)}function ay(r){function s(W,B){if(r){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function l(W,B){if(!r)return null;for(;B!==null;)s(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function y(W,B){return W=Di(W,B),W.index=0,W.sibling=null,W}function x(W,B,K){return W.index=K,r?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return r&&W.alternate===null&&(W.flags|=2),W}function V(W,B,K,ie){return B===null||B.tag!==6?(B=uf(K,W.mode,ie),B.return=W,B):(B=y(B,K),B.return=W,B)}function F(W,B,K,ie){var ge=K.type;return ge===j?te(W,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===xt&&oy(ge)===B.type)?(ie=y(B,K.props),ie.ref=Ja(W,B,K),ie.return=W,ie):(ie=xc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=Ja(W,B,K),ie.return=W,ie)}function q(W,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=cf(K,W.mode,ie),B.return=W,B):(B=y(B,K.children||[]),B.return=W,B)}function te(W,B,K,ie,ge){return B===null||B.tag!==7?(B=ks(K,W.mode,ie,ge),B.return=W,B):(B=y(B,K),B.return=W,B)}function ne(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=uf(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case J:return K=xc(B.type,B.key,B.props,null,W.mode,K),K.ref=Ja(W,null,B),K.return=W,K;case se:return B=cf(B,W.mode,K),B.return=W,B;case xt:var ie=B._init;return ne(W,ie(B._payload),K)}if(pt(B)||fe(B))return B=ks(B,W.mode,K,null),B.return=W,B;Qu(W,B)}return null}function ee(W,B,K,ie){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:V(W,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===ge?F(W,B,K,ie):null;case se:return K.key===ge?q(W,B,K,ie):null;case xt:return ge=K._init,ee(W,B,ge(K._payload),ie)}if(pt(K)||fe(K))return ge!==null?null:te(W,B,K,ie,null);Qu(W,K)}return null}function ue(W,B,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(K)||null,V(B,W,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return W=W.get(ie.key===null?K:ie.key)||null,F(B,W,ie,ge);case se:return W=W.get(ie.key===null?K:ie.key)||null,q(B,W,ie,ge);case xt:var ve=ie._init;return ue(W,B,K,ve(ie._payload),ge)}if(pt(ie)||fe(ie))return W=W.get(K)||null,te(B,W,ie,ge,null);Qu(B,ie)}return null}function pe(W,B,K,ie){for(var ge=null,ve=null,xe=B,Te=B=0,jt=null;xe!==null&&Te<K.length;Te++){xe.index>Te?(jt=xe,xe=null):jt=xe.sibling;var Ue=ee(W,xe,K[Te],ie);if(Ue===null){xe===null&&(xe=jt);break}r&&xe&&Ue.alternate===null&&s(W,xe),B=x(Ue,B,Te),ve===null?ge=Ue:ve.sibling=Ue,ve=Ue,xe=jt}if(Te===K.length)return l(W,xe),it&&vs(W,Te),ge;if(xe===null){for(;Te<K.length;Te++)xe=ne(W,K[Te],ie),xe!==null&&(B=x(xe,B,Te),ve===null?ge=xe:ve.sibling=xe,ve=xe);return it&&vs(W,Te),ge}for(xe=d(W,xe);Te<K.length;Te++)jt=ue(xe,W,Te,K[Te],ie),jt!==null&&(r&&jt.alternate!==null&&xe.delete(jt.key===null?Te:jt.key),B=x(jt,B,Te),ve===null?ge=jt:ve.sibling=jt,ve=jt);return r&&xe.forEach(function(ji){return s(W,ji)}),it&&vs(W,Te),ge}function me(W,B,K,ie){var ge=fe(K);if(typeof ge!="function")throw Error(n(150));if(K=ge.call(K),K==null)throw Error(n(151));for(var ve=ge=null,xe=B,Te=B=0,jt=null,Ue=K.next();xe!==null&&!Ue.done;Te++,Ue=K.next()){xe.index>Te?(jt=xe,xe=null):jt=xe.sibling;var ji=ee(W,xe,Ue.value,ie);if(ji===null){xe===null&&(xe=jt);break}r&&xe&&ji.alternate===null&&s(W,xe),B=x(ji,B,Te),ve===null?ge=ji:ve.sibling=ji,ve=ji,xe=jt}if(Ue.done)return l(W,xe),it&&vs(W,Te),ge;if(xe===null){for(;!Ue.done;Te++,Ue=K.next())Ue=ne(W,Ue.value,ie),Ue!==null&&(B=x(Ue,B,Te),ve===null?ge=Ue:ve.sibling=Ue,ve=Ue);return it&&vs(W,Te),ge}for(xe=d(W,xe);!Ue.done;Te++,Ue=K.next())Ue=ue(xe,W,Te,Ue.value,ie),Ue!==null&&(r&&Ue.alternate!==null&&xe.delete(Ue.key===null?Te:Ue.key),B=x(Ue,B,Te),ve===null?ge=Ue:ve.sibling=Ue,ve=Ue);return r&&xe.forEach(function(WS){return s(W,WS)}),it&&vs(W,Te),ge}function gt(W,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var ge=K.key,ve=B;ve!==null;){if(ve.key===ge){if(ge=K.type,ge===j){if(ve.tag===7){l(W,ve.sibling),B=y(ve,K.props.children),B.return=W,W=B;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===xt&&oy(ge)===ve.type){l(W,ve.sibling),B=y(ve,K.props),B.ref=Ja(W,ve,K),B.return=W,W=B;break e}l(W,ve);break}else s(W,ve);ve=ve.sibling}K.type===j?(B=ks(K.props.children,W.mode,ie,K.key),B.return=W,W=B):(ie=xc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=Ja(W,B,K),ie.return=W,W=ie)}return T(W);case se:e:{for(ve=K.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(W,B.sibling),B=y(B,K.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else s(W,B);B=B.sibling}B=cf(K,W.mode,ie),B.return=W,W=B}return T(W);case xt:return ve=K._init,gt(W,B,ve(K._payload),ie)}if(pt(K))return pe(W,B,K,ie);if(fe(K))return me(W,B,K,ie);Qu(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(W,B.sibling),B=y(B,K),B.return=W,W=B):(l(W,B),B=uf(K,W.mode,ie),B.return=W,W=B),T(W)):l(W,B)}return gt}var Co=ay(!0),ly=ay(!1),Yu=Ti(null),Xu=null,Io=null,vd=null;function xd(){vd=Io=Xu=null}function _d(r){var s=Yu.current;tt(Yu),r._currentValue=s}function wd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Ro(r,s){Xu=r,vd=Io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(ln=!0),r.firstContext=null)}function Rn(r){var s=r._currentValue;if(vd!==r)if(r={context:r,memoizedValue:s,next:null},Io===null){if(Xu===null)throw Error(n(308));Io=r,Xu.dependencies={lanes:0,firstContext:r}}else Io=Io.next=r;return s}var xs=null;function Ed(r){xs===null?xs=[r]:xs.push(r)}function uy(r,s,l,d){var y=s.interleaved;return y===null?(l.next=l,Ed(s)):(l.next=y.next,y.next=l),s.interleaved=l,Wr(r,d)}function Wr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ki=!1;function Td(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cy(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ci(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ze&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,Wr(r,l)}return y=d.interleaved,y===null?(s.next=s,Ed(d)):(s.next=y.next,y.next=s),d.interleaved=s,Wr(r,l)}function Ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Da(r,l)}}function hy(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?y=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?y=x=s:x=x.next=s}else y=x=s;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Zu(r,s,l,d){var y=r.updateQueue;ki=!1;var x=y.firstBaseUpdate,T=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var F=V,q=F.next;F.next=null,T===null?x=q:T.next=q,T=F;var te=r.alternate;te!==null&&(te=te.updateQueue,V=te.lastBaseUpdate,V!==T&&(V===null?te.firstBaseUpdate=q:V.next=q,te.lastBaseUpdate=F))}if(x!==null){var ne=y.baseState;T=0,te=q=F=null,V=x;do{var ee=V.lane,ue=V.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var pe=r,me=V;switch(ee=s,ue=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ue,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ue,ne,ee):pe,ee==null)break e;ne=ae({},ne,ee);break e;case 2:ki=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,ee=y.effects,ee===null?y.effects=[V]:ee.push(V))}else ue={eventTime:ue,lane:ee,tag:V.tag,payload:V.payload,callback:V.callback,next:null},te===null?(q=te=ue,F=ne):te=te.next=ue,T|=ee;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ee=V,V=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);if(te===null&&(F=ne),y.baseState=F,y.firstBaseUpdate=q,y.lastBaseUpdate=te,s=y.shared.interleaved,s!==null){y=s;do T|=y.lane,y=y.next;while(y!==s)}else x===null&&(y.shared.lanes=0);Es|=T,r.lanes=T,r.memoizedState=ne}}function dy(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],y=d.callback;if(y!==null){if(d.callback=null,d=l,typeof y!="function")throw Error(n(191,y));y.call(d)}}}var Za={},yr=Ti(Za),el=Ti(Za),tl=Ti(Za);function _s(r){if(r===Za)throw Error(n(174));return r}function Sd(r,s){switch(Xe(tl,s),Xe(el,r),Xe(yr,Za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ys(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ys(s,r)}tt(yr),Xe(yr,s)}function bo(){tt(yr),tt(el),tt(tl)}function fy(r){_s(tl.current);var s=_s(yr.current),l=Ys(s,r.type);s!==l&&(Xe(el,r),Xe(yr,l))}function Ad(r){el.current===r&&(tt(yr),tt(el))}var st=Ti(0);function ec(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kd=[];function Cd(){for(var r=0;r<kd.length;r++)kd[r]._workInProgressVersionPrimary=null;kd.length=0}var tc=Q.ReactCurrentDispatcher,Id=Q.ReactCurrentBatchConfig,ws=0,ot=null,Ct=null,Vt=null,nc=!1,nl=!1,rl=0,dS=0;function qt(){throw Error(n(321))}function Rd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!$n(r[l],s[l]))return!1;return!0}function bd(r,s,l,d,y,x){if(ws=x,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tc.current=r===null||r.memoizedState===null?gS:yS,r=l(d,y),nl){x=0;do{if(nl=!1,rl=0,25<=x)throw Error(n(301));x+=1,Vt=Ct=null,s.updateQueue=null,tc.current=vS,r=l(d,y)}while(nl)}if(tc.current=sc,s=Ct!==null&&Ct.next!==null,ws=0,Vt=Ct=ot=null,nc=!1,s)throw Error(n(300));return r}function Pd(){var r=rl!==0;return rl=0,r}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ot.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function bn(){if(Ct===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var s=Vt===null?ot.memoizedState:Vt.next;if(s!==null)Vt=s,Ct=r;else{if(r===null)throw Error(n(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Vt===null?ot.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function il(r,s){return typeof s=="function"?s(r):s}function Vd(r){var s=bn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Ct,y=d.baseQueue,x=l.pending;if(x!==null){if(y!==null){var T=y.next;y.next=x.next,x.next=T}d.baseQueue=y=x,l.pending=null}if(y!==null){x=y.next,d=d.baseState;var V=T=null,F=null,q=x;do{var te=q.lane;if((ws&te)===te)F!==null&&(F=F.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var ne={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};F===null?(V=F=ne,T=d):F=F.next=ne,ot.lanes|=te,Es|=te}q=q.next}while(q!==null&&q!==x);F===null?T=d:F.next=V,$n(d,s.memoizedState)||(ln=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=F,l.lastRenderedState=d}if(r=l.interleaved,r!==null){y=r;do x=y.lane,ot.lanes|=x,Es|=x,y=y.next;while(y!==r)}else y===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Dd(r){var s=bn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,y=l.pending,x=s.memoizedState;if(y!==null){l.pending=null;var T=y=y.next;do x=r(x,T.action),T=T.next;while(T!==y);$n(x,s.memoizedState)||(ln=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,d]}function py(){}function my(r,s){var l=ot,d=bn(),y=s(),x=!$n(d.memoizedState,y);if(x&&(d.memoizedState=y,ln=!0),d=d.queue,jd(vy.bind(null,l,d,r),[r]),d.getSnapshot!==s||x||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,sl(9,yy.bind(null,l,d,y,s),void 0,null),Dt===null)throw Error(n(349));(ws&30)!==0||gy(l,s,y)}return y}function gy(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function yy(r,s,l,d){s.value=l,s.getSnapshot=d,xy(s)&&_y(r)}function vy(r,s,l){return l(function(){xy(s)&&_y(r)})}function xy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!$n(r,l)}catch{return!0}}function _y(r){var s=Wr(r,1);s!==null&&Gn(s,r,1,-1)}function wy(r){var s=vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},s.queue=r,r=r.dispatch=mS.bind(null,ot,r),[s.memoizedState,r]}function sl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Ey(){return bn().memoizedState}function rc(r,s,l,d){var y=vr();ot.flags|=r,y.memoizedState=sl(1|s,l,void 0,d===void 0?null:d)}function ic(r,s,l,d){var y=bn();d=d===void 0?null:d;var x=void 0;if(Ct!==null){var T=Ct.memoizedState;if(x=T.destroy,d!==null&&Rd(d,T.deps)){y.memoizedState=sl(s,l,x,d);return}}ot.flags|=r,y.memoizedState=sl(1|s,l,x,d)}function Ty(r,s){return rc(8390656,8,r,s)}function jd(r,s){return ic(2048,8,r,s)}function Sy(r,s){return ic(4,2,r,s)}function Ay(r,s){return ic(4,4,r,s)}function ky(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Cy(r,s,l){return l=l!=null?l.concat([r]):null,ic(4,4,ky.bind(null,s,r),l)}function Nd(){}function Iy(r,s){var l=bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Rd(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Ry(r,s){var l=bn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Rd(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function by(r,s,l){return(ws&21)===0?(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=l):($n(l,s)||(l=Pa(),ot.lanes|=l,Es|=l,r.baseState=!0),s)}function fS(r,s){var l=Le;Le=l!==0&&4>l?l:4,r(!0);var d=Id.transition;Id.transition={};try{r(!1),s()}finally{Le=l,Id.transition=d}}function Py(){return bn().memoizedState}function pS(r,s,l){var d=Pi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Vy(r))Dy(s,l);else if(l=uy(r,s,l,d),l!==null){var y=nn();Gn(l,r,d,y),jy(l,s,d)}}function mS(r,s,l){var d=Pi(r),y={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vy(r))Dy(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var T=s.lastRenderedState,V=x(T,l);if(y.hasEagerState=!0,y.eagerState=V,$n(V,T)){var F=s.interleaved;F===null?(y.next=y,Ed(s)):(y.next=F.next,F.next=y),s.interleaved=y;return}}catch{}finally{}l=uy(r,s,y,d),l!==null&&(y=nn(),Gn(l,r,d,y),jy(l,s,d))}}function Vy(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function Dy(r,s){nl=nc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function jy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Da(r,l)}}var sc={readContext:Rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},gS={readContext:Rn,useCallback:function(r,s){return vr().memoizedState=[r,s===void 0?null:s],r},useContext:Rn,useEffect:Ty,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,rc(4194308,4,ky.bind(null,s,r),l)},useLayoutEffect:function(r,s){return rc(4194308,4,r,s)},useInsertionEffect:function(r,s){return rc(4,2,r,s)},useMemo:function(r,s){var l=vr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=vr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=pS.bind(null,ot,r),[d.memoizedState,r]},useRef:function(r){var s=vr();return r={current:r},s.memoizedState=r},useState:wy,useDebugValue:Nd,useDeferredValue:function(r){return vr().memoizedState=r},useTransition:function(){var r=wy(!1),s=r[0];return r=fS.bind(null,r[1]),vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ot,y=vr();if(it){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Dt===null)throw Error(n(349));(ws&30)!==0||gy(d,s,l)}y.memoizedState=l;var x={value:l,getSnapshot:s};return y.queue=x,Ty(vy.bind(null,d,x,r),[r]),d.flags|=2048,sl(9,yy.bind(null,d,x,l,s),void 0,null),l},useId:function(){var r=vr(),s=Dt.identifierPrefix;if(it){var l=$r,d=Ur;l=(d&~(1<<32-gn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=rl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=dS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},yS={readContext:Rn,useCallback:Iy,useContext:Rn,useEffect:jd,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Ry,useReducer:Vd,useRef:Ey,useState:function(){return Vd(il)},useDebugValue:Nd,useDeferredValue:function(r){var s=bn();return by(s,Ct.memoizedState,r)},useTransition:function(){var r=Vd(il)[0],s=bn().memoizedState;return[r,s]},useMutableSource:py,useSyncExternalStore:my,useId:Py,unstable_isNewReconciler:!1},vS={readContext:Rn,useCallback:Iy,useContext:Rn,useEffect:jd,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Ry,useReducer:Dd,useRef:Ey,useState:function(){return Dd(il)},useDebugValue:Nd,useDeferredValue:function(r){var s=bn();return Ct===null?s.memoizedState=r:by(s,Ct.memoizedState,r)},useTransition:function(){var r=Dd(il)[0],s=bn().memoizedState;return[r,s]},useMutableSource:py,useSyncExternalStore:my,useId:Py,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Md(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var oc={isMounted:function(r){return(r=r._reactInternals)?zn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=nn(),y=Pi(r),x=Hr(d,y);x.payload=s,l!=null&&(x.callback=l),s=Ci(r,x,y),s!==null&&(Gn(s,r,y,d),Ju(s,r,y))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=nn(),y=Pi(r),x=Hr(d,y);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ci(r,x,y),s!==null&&(Gn(s,r,y,d),Ju(s,r,y))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=nn(),d=Pi(r),y=Hr(l,d);y.tag=2,s!=null&&(y.callback=s),s=Ci(r,y,d),s!==null&&(Gn(s,r,d,l),Ju(s,r,d))}};function Ny(r,s,l,d,y,x,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,T):s.prototype&&s.prototype.isPureReactComponent?!Ha(l,d)||!Ha(y,x):!0}function My(r,s,l){var d=!1,y=Si,x=s.contextType;return typeof x=="object"&&x!==null?x=Rn(x):(y=an(s)?gs:Kt.current,d=s.contextTypes,x=(d=d!=null)?To(r,y):Si),s=new s(l,x),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=oc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=x),s}function Ly(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&oc.enqueueReplaceState(s,s.state,null)}function Ld(r,s,l,d){var y=r.stateNode;y.props=l,y.state=r.memoizedState,y.refs={},Td(r);var x=s.contextType;typeof x=="object"&&x!==null?y.context=Rn(x):(x=an(s)?gs:Kt.current,y.context=To(r,x)),y.state=r.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Md(r,s,x,l),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&oc.enqueueReplaceState(y,y.state,null),Zu(r,l,y,d),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Po(r,s){try{var l="",d=s;do l+=De(d),d=d.return;while(d);var y=l}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:s,stack:y,digest:null}}function Od(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Fd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var xS=typeof WeakMap=="function"?WeakMap:Map;function Oy(r,s,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){fc||(fc=!0,ef=d),Fd(r,s)},l}function Fy(r,s,l){l=Hr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=s.value;l.payload=function(){return d(y)},l.callback=function(){Fd(r,s)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Fd(r,s),typeof d!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function By(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new xS;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(l)||(y.add(l),r=DS.bind(null,r,s,l),s.then(r,r))}function zy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Uy(r,s,l,d,y){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hr(-1,1),s.tag=2,Ci(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var _S=Q.ReactCurrentOwner,ln=!1;function tn(r,s,l,d){s.child=r===null?ly(s,null,l,d):Co(s,r.child,l,d)}function $y(r,s,l,d,y){l=l.render;var x=s.ref;return Ro(s,y),d=bd(r,s,l,d,x,y),l=Pd(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Kr(r,s,y)):(it&&l&&fd(s),s.flags|=1,tn(r,s,d,y),s.child)}function Wy(r,s,l,d,y){if(r===null){var x=l.type;return typeof x=="function"&&!lf(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,Hy(r,s,x,d,y)):(r=xc(l.type,null,d,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,(r.lanes&y)===0){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(T,d)&&r.ref===s.ref)return Kr(r,s,y)}return s.flags|=1,r=Di(x,d),r.ref=s.ref,r.return=s,s.child=r}function Hy(r,s,l,d,y){if(r!==null){var x=r.memoizedProps;if(Ha(x,d)&&r.ref===s.ref)if(ln=!1,s.pendingProps=d=x,(r.lanes&y)!==0)(r.flags&131072)!==0&&(ln=!0);else return s.lanes=r.lanes,Kr(r,s,y)}return Bd(r,s,l,d,y)}function Ky(r,s,l){var d=s.pendingProps,y=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Do,Tn),Tn|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(Do,Tn),Tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Xe(Do,Tn),Tn|=d}else x!==null?(d=x.baseLanes|l,s.memoizedState=null):d=l,Xe(Do,Tn),Tn|=d;return tn(r,s,y,l),s.child}function qy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Bd(r,s,l,d,y){var x=an(l)?gs:Kt.current;return x=To(s,x),Ro(s,y),l=bd(r,s,l,d,x,y),d=Pd(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Kr(r,s,y)):(it&&d&&fd(s),s.flags|=1,tn(r,s,l,y),s.child)}function Gy(r,s,l,d,y){if(an(l)){var x=!0;Wu(s)}else x=!1;if(Ro(s,y),s.stateNode===null)lc(r,s),My(s,l,d),Ld(s,l,d,y),d=!0;else if(r===null){var T=s.stateNode,V=s.memoizedProps;T.props=V;var F=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=Rn(q):(q=an(l)?gs:Kt.current,q=To(s,q));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==d||F!==q)&&Ly(s,T,d,q),ki=!1;var ee=s.memoizedState;T.state=ee,Zu(s,d,T,y),F=s.memoizedState,V!==d||ee!==F||on.current||ki?(typeof te=="function"&&(Md(s,l,te,d),F=s.memoizedState),(V=ki||Ny(s,l,V,d,ee,F,q))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=F),T.props=d,T.state=F,T.context=q,d=V):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,cy(r,s),V=s.memoizedProps,q=s.type===s.elementType?V:Hn(s.type,V),T.props=q,ne=s.pendingProps,ee=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=Rn(F):(F=an(l)?gs:Kt.current,F=To(s,F));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==ne||ee!==F)&&Ly(s,T,d,F),ki=!1,ee=s.memoizedState,T.state=ee,Zu(s,d,T,y);var pe=s.memoizedState;V!==ne||ee!==pe||on.current||ki?(typeof ue=="function"&&(Md(s,l,ue,d),pe=s.memoizedState),(q=ki||Ny(s,l,q,d,ee,pe,F)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,pe,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,pe,F)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),T.props=d,T.state=pe,T.context=F,d=q):(typeof T.componentDidUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return zd(r,s,l,d,x,y)}function zd(r,s,l,d,y,x){qy(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return y&&Zg(s,l,!1),Kr(r,s,x);d=s.stateNode,_S.current=s;var V=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=Co(s,r.child,null,x),s.child=Co(s,null,V,x)):tn(r,s,V,x),s.memoizedState=d.state,y&&Zg(s,l,!0),s.child}function Qy(r){var s=r.stateNode;s.pendingContext?Xg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Xg(r,s.context,!1),Sd(r,s.containerInfo)}function Yy(r,s,l,d,y){return ko(),yd(y),s.flags|=256,tn(r,s,l,d),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function $d(r){return{baseLanes:r,cachePool:null,transitions:null}}function Xy(r,s,l){var d=s.pendingProps,y=st.current,x=!1,T=(s.flags&128)!==0,V;if((V=T)||(V=r!==null&&r.memoizedState===null?!1:(y&2)!==0),V?(x=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),Xe(st,y&1),r===null)return gd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=d.children,r=d.fallback,x?(d=s.mode,x=s.child,T={mode:"hidden",children:T},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=_c(T,d,0,null),r=ks(r,d,l,null),x.return=s,r.return=s,x.sibling=r,s.child=x,s.child.memoizedState=$d(l),s.memoizedState=Ud,r):Wd(s,T));if(y=r.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return wS(r,s,T,d,V,y,l);if(x){x=d.fallback,T=s.mode,y=r.child,V=y.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&s.child!==y?(d=s.child,d.childLanes=0,d.pendingProps=F,s.deletions=null):(d=Di(y,F),d.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=Di(V,x):(x=ks(x,T,l,null),x.flags|=2),x.return=s,d.return=s,d.sibling=x,s.child=d,d=x,x=s.child,T=r.child.memoizedState,T=T===null?$d(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=r.childLanes&~l,s.memoizedState=Ud,d}return x=r.child,r=x.sibling,d=Di(x,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Wd(r,s){return s=_c({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ac(r,s,l,d){return d!==null&&yd(d),Co(s,r.child,null,l),r=Wd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function wS(r,s,l,d,y,x,T){if(l)return s.flags&256?(s.flags&=-257,d=Od(Error(n(422))),ac(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(x=d.fallback,y=s.mode,d=_c({mode:"visible",children:d.children},y,0,null),x=ks(x,y,T,null),x.flags|=2,d.return=s,x.return=s,d.sibling=x,s.child=d,(s.mode&1)!==0&&Co(s,r.child,null,T),s.child.memoizedState=$d(T),s.memoizedState=Ud,x);if((s.mode&1)===0)return ac(r,s,T,null);if(y.data==="$!"){if(d=y.nextSibling&&y.nextSibling.dataset,d)var V=d.dgst;return d=V,x=Error(n(419)),d=Od(x,d,void 0),ac(r,s,T,d)}if(V=(T&r.childLanes)!==0,ln||V){if(d=Dt,d!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(d.suspendedLanes|T))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Wr(r,y),Gn(d,r,y,-1))}return af(),d=Od(Error(n(421))),ac(r,s,T,d)}return y.data==="$?"?(s.flags|=128,s.child=r.child,s=jS.bind(null,r),y._reactRetry=s,null):(r=x.treeContext,En=Ei(y.nextSibling),wn=s,it=!0,Wn=null,r!==null&&(Cn[In++]=Ur,Cn[In++]=$r,Cn[In++]=ys,Ur=r.id,$r=r.overflow,ys=s),s=Wd(s,d.children),s.flags|=4096,s)}function Jy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),wd(r.return,s,l)}function Hd(r,s,l,d,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=y)}function Zy(r,s,l){var d=s.pendingProps,y=d.revealOrder,x=d.tail;if(tn(r,s,d.children,l),d=st.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Jy(r,l,s);else if(r.tag===19)Jy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Xe(st,d),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&ec(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Hd(s,!1,y,l,x);break;case"backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&ec(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}Hd(s,!0,l,null,x);break;case"together":Hd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Kr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Es|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Di(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Di(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function ES(r,s,l){switch(s.tag){case 3:Qy(s),ko();break;case 5:fy(s);break;case 1:an(s.type)&&Wu(s);break;case 4:Sd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,y=s.memoizedProps.value;Xe(Yu,d._currentValue),d._currentValue=y;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Xe(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Xy(r,s,l):(Xe(st,st.current&1),r=Kr(r,s,l),r!==null?r.sibling:null);Xe(st,st.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Zy(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Xe(st,st.current),d)break;return null;case 22:case 23:return s.lanes=0,Ky(r,s,l)}return Kr(r,s,l)}var ev,Kd,tv,nv;ev=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kd=function(){},tv=function(r,s,l,d){var y=r.memoizedProps;if(y!==d){r=s.stateNode,_s(yr.current);var x=null;switch(l){case"input":y=Gs(r,y),d=Gs(r,d),x=[];break;case"select":y=ae({},y,{value:void 0}),d=ae({},d,{value:void 0}),x=[];break;case"textarea":y=_a(r,y),d=_a(r,d),x=[];break;default:typeof y.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=zu)}Bn(l,d);var T;l=null;for(q in y)if(!d.hasOwnProperty(q)&&y.hasOwnProperty(q)&&y[q]!=null)if(q==="style"){var V=y[q];for(T in V)V.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?x||(x=[]):(x=x||[]).push(q,null));for(q in d){var F=d[q];if(V=y!=null?y[q]:void 0,d.hasOwnProperty(q)&&F!==V&&(F!=null||V!=null))if(q==="style")if(V){for(T in V)!V.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&V[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(x||(x=[]),x.push(q,l)),l=F;else q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(x=x||[]).push(q,F)):q==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(q,""+F):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(F!=null&&q==="onScroll"&&et("scroll",r),x||V===F||(x=[])):(x=x||[]).push(q,F))}l&&(x=x||[]).push("style",l);var q=x;(s.updateQueue=q)&&(s.flags|=4)}},nv=function(r,s,l,d){l!==d&&(s.flags|=4)};function ol(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&14680064,d|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function TS(r,s,l){var d=s.pendingProps;switch(pd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return an(s.type)&&$u(),Gt(s),null;case 3:return d=s.stateNode,bo(),tt(on),tt(Kt),Cd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wn!==null&&(rf(Wn),Wn=null))),Kd(r,s),Gt(s),null;case 5:Ad(s);var y=_s(tl.current);if(l=s.type,r!==null&&s.stateNode!=null)tv(r,s,l,d,y),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Gt(s),null}if(r=_s(yr.current),Gu(s)){d=s.stateNode,l=s.type;var x=s.memoizedProps;switch(d[gr]=s,d[Ya]=x,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(y=0;y<qa.length;y++)et(qa[y],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":du(d,x),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},et("invalid",d);break;case"textarea":wa(d,x),et("invalid",d)}Bn(l,x),y=null;for(var T in x)if(x.hasOwnProperty(T)){var V=x[T];T==="children"?typeof V=="string"?d.textContent!==V&&(x.suppressHydrationWarning!==!0&&Bu(d.textContent,V,r),y=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&Bu(d.textContent,V,r),y=["children",""+V]):o.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&et("scroll",d)}switch(l){case"input":qs(d),xa(d,x,!0);break;case"textarea":qs(d),oi(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=zu)}d=y,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ea(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[gr]=s,r[Ya]=d,ev(r,s,!1,!1),s.stateNode=r;e:{switch(T=Js(l,d),l){case"dialog":et("cancel",r),et("close",r),y=d;break;case"iframe":case"object":case"embed":et("load",r),y=d;break;case"video":case"audio":for(y=0;y<qa.length;y++)et(qa[y],r);y=d;break;case"source":et("error",r),y=d;break;case"img":case"image":case"link":et("error",r),et("load",r),y=d;break;case"details":et("toggle",r),y=d;break;case"input":du(r,d),y=Gs(r,d),et("invalid",r);break;case"option":y=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},y=ae({},d,{value:void 0}),et("invalid",r);break;case"textarea":wa(r,d),y=_a(r,d),et("invalid",r);break;default:y=d}Bn(l,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var F=V[x];x==="style"?Xs(r,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&pu(r,F)):x==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&ts(r,F):typeof F=="number"&&ts(r,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?F!=null&&x==="onScroll"&&et("scroll",r):F!=null&&P(r,x,F,T))}switch(l){case"input":qs(r),xa(r,d,!1);break;case"textarea":qs(r),oi(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Be(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?Fn(r,!!d.multiple,x,!1):d.defaultValue!=null&&Fn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=zu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(r&&s.stateNode!=null)nv(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=_s(tl.current),_s(yr.current),Gu(s)){if(d=s.stateNode,l=s.memoizedProps,d[gr]=s,(x=d.nodeValue!==l)&&(r=wn,r!==null))switch(r.tag){case 3:Bu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Bu(d.nodeValue,l,(r.mode&1)!==0)}x&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[gr]=s,s.stateNode=d}return Gt(s),null;case 13:if(tt(st),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&En!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sy(),ko(),s.flags|=98560,x=!1;else if(x=Gu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[gr]=s}else ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),x=!1}else Wn!==null&&(rf(Wn),Wn=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(st.current&1)!==0?It===0&&(It=3):af())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return bo(),Kd(r,s),r===null&&Ga(s.stateNode.containerInfo),Gt(s),null;case 10:return _d(s.type._context),Gt(s),null;case 17:return an(s.type)&&$u(),Gt(s),null;case 19:if(tt(st),x=s.memoizedState,x===null)return Gt(s),null;if(d=(s.flags&128)!==0,T=x.rendering,T===null)if(d)ol(x,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=ec(r),T!==null){for(s.flags|=128,ol(x,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)x=l,r=d,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,r=T.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Xe(st,st.current&1|2),s.child}r=r.sibling}x.tail!==null&&Ze()>jo&&(s.flags|=128,d=!0,ol(x,!1),s.lanes=4194304)}else{if(!d)if(r=ec(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ol(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!it)return Gt(s),null}else 2*Ze()-x.renderingStartTime>jo&&l!==1073741824&&(s.flags|=128,d=!0,ol(x,!1),s.lanes=4194304);x.isBackwards?(T.sibling=s.child,s.child=T):(l=x.last,l!==null?l.sibling=T:s.child=T,x.last=T)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ze(),s.sibling=null,l=st.current,Xe(st,d?l&1|2:l&1),s):(Gt(s),null);case 22:case 23:return of(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Tn&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function SS(r,s){switch(pd(s),s.tag){case 1:return an(s.type)&&$u(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bo(),tt(on),tt(Kt),Cd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ad(s),null;case 13:if(tt(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ko()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(st),null;case 4:return bo(),null;case 10:return _d(s.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var uc=!1,Qt=!1,AS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Vo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ht(r,s,d)}else l.current=null}function qd(r,s,l){try{l()}catch(d){ht(r,s,d)}}var rv=!1;function kS(r,s){if(sd=Lr,r=Ng(),Xh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,V=-1,F=-1,q=0,te=0,ne=r,ee=null;t:for(;;){for(var ue;ne!==l||y!==0&&ne.nodeType!==3||(V=T+y),ne!==x||d!==0&&ne.nodeType!==3||(F=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)ee=ne,ne=ue;for(;;){if(ne===r)break t;if(ee===l&&++q===y&&(V=T),ee===x&&++te===d&&(F=T),(ue=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ue}l=V===-1||F===-1?null:{start:V,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(od={focusedElem:r,selectionRange:l},Lr=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,gt=pe.memoizedState,W=s.stateNode,B=W.getSnapshotBeforeUpdate(s.elementType===s.type?me:Hn(s.type,me),gt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ht(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=rv,rv=!1,pe}function al(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&r)===r){var x=y.destroy;y.destroy=void 0,x!==void 0&&qd(s,l,x)}y=y.next}while(y!==d)}}function cc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Gd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function iv(r){var s=r.alternate;s!==null&&(r.alternate=null,iv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gr],delete s[Ya],delete s[cd],delete s[lS],delete s[uS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function sv(r){return r.tag===5||r.tag===3||r.tag===4}function ov(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zu));else if(d!==4&&(r=r.child,r!==null))for(Qd(r,s,l),r=r.sibling;r!==null;)Qd(r,s,l),r=r.sibling}function Yd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Yd(r,s,l),r=r.sibling;r!==null;)Yd(r,s,l),r=r.sibling}var Ot=null,Kn=!1;function Ii(r,s,l){for(l=l.child;l!==null;)av(r,s,l),l=l.sibling}function av(r,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 5:Qt||Vo(l,s);case 6:var d=Ot,y=Kn;Ot=null,Ii(r,s,l),Ot=d,Kn=y,Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?ud(r.parentNode,l):r.nodeType===1&&ud(r,l),vi(r)):ud(Ot,l.stateNode));break;case 4:d=Ot,y=Kn,Ot=l.stateNode.containerInfo,Kn=!0,Ii(r,s,l),Ot=d,Kn=y;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){y=d=d.next;do{var x=y,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&qd(l,s,T),y=y.next}while(y!==d)}Ii(r,s,l);break;case 1:if(!Qt&&(Vo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){ht(l,s,V)}Ii(r,s,l);break;case 21:Ii(r,s,l);break;case 22:l.mode&1?(Qt=(d=Qt)||l.memoizedState!==null,Ii(r,s,l),Qt=d):Ii(r,s,l);break;default:Ii(r,s,l)}}function lv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new AS),s.forEach(function(d){var y=NS.bind(null,r,d);l.has(d)||(l.add(d),d.then(y,y))})}}function qn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];try{var x=r,T=s,V=T;e:for(;V!==null;){switch(V.tag){case 5:Ot=V.stateNode,Kn=!1;break e;case 3:Ot=V.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=V.stateNode.containerInfo,Kn=!0;break e}V=V.return}if(Ot===null)throw Error(n(160));av(x,T,y),Ot=null,Kn=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(q){ht(y,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)uv(s,r),s=s.sibling}function uv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qn(s,r),xr(r),d&4){try{al(3,r,r.return),cc(3,r)}catch(me){ht(r,r.return,me)}try{al(5,r,r.return)}catch(me){ht(r,r.return,me)}}break;case 1:qn(s,r),xr(r),d&512&&l!==null&&Vo(l,l.return);break;case 5:if(qn(s,r),xr(r),d&512&&l!==null&&Vo(l,l.return),r.flags&32){var y=r.stateNode;try{ts(y,"")}catch(me){ht(r,r.return,me)}}if(d&4&&(y=r.stateNode,y!=null)){var x=r.memoizedProps,T=l!==null?l.memoizedProps:x,V=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&Qs(y,x),Js(V,T);var q=Js(V,x);for(T=0;T<F.length;T+=2){var te=F[T],ne=F[T+1];te==="style"?Xs(y,ne):te==="dangerouslySetInnerHTML"?pu(y,ne):te==="children"?ts(y,ne):P(y,te,ne,q)}switch(V){case"input":es(y,x);break;case"textarea":fu(y,x);break;case"select":var ee=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Fn(y,!!x.multiple,ue,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Fn(y,!!x.multiple,x.defaultValue,!0):Fn(y,!!x.multiple,x.multiple?[]:"",!1))}y[Ya]=x}catch(me){ht(r,r.return,me)}}break;case 6:if(qn(s,r),xr(r),d&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,x=r.memoizedProps;try{y.nodeValue=x}catch(me){ht(r,r.return,me)}}break;case 3:if(qn(s,r),xr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{vi(s.containerInfo)}catch(me){ht(r,r.return,me)}break;case 4:qn(s,r),xr(r);break;case 13:qn(s,r),xr(r),y=r.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Zd=Ze())),d&4&&lv(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Qt=(q=Qt)||te,qn(s,r),Qt=q):qn(s,r),xr(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(ne=de=te;de!==null;){switch(ee=de,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:al(4,ee,ee.return);break;case 1:Vo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ht(d,l,me)}}break;case 5:Vo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){dv(ne);continue}}ue!==null?(ue.return=ee,de=ue):dv(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{y=ne.stateNode,q?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=ne.stateNode,F=ne.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=ui("display",T))}catch(me){ht(r,r.return,me)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){ht(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:qn(s,r),xr(r),d&4&&lv(r);break;case 21:break;default:qn(s,r),xr(r)}}function xr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(sv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var y=d.stateNode;d.flags&32&&(ts(y,""),d.flags&=-33);var x=ov(r);Yd(r,x,y);break;case 3:case 4:var T=d.stateNode.containerInfo,V=ov(r);Qd(r,V,T);break;default:throw Error(n(161))}}catch(F){ht(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function CS(r,s,l){de=r,cv(r)}function cv(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var y=de,x=y.child;if(y.tag===22&&d){var T=y.memoizedState!==null||uc;if(!T){var V=y.alternate,F=V!==null&&V.memoizedState!==null||Qt;V=uc;var q=Qt;if(uc=T,(Qt=F)&&!q)for(de=y;de!==null;)T=de,F=T.child,T.tag===22&&T.memoizedState!==null?fv(y):F!==null?(F.return=T,de=F):fv(y);for(;x!==null;)de=x,cv(x),x=x.sibling;de=y,uc=V,Qt=q}hv(r)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,de=x):hv(r)}}function hv(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||cc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Qt)if(l===null)d.componentDidMount();else{var y=s.elementType===s.type?l.memoizedProps:Hn(s.type,l.memoizedProps);d.componentDidUpdate(y,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&dy(s,x,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}dy(s,T,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&vi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||s.flags&512&&Gd(s)}catch(ee){ht(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function dv(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function fv(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{cc(4,s)}catch(F){ht(s,l,F)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var y=s.return;try{d.componentDidMount()}catch(F){ht(s,y,F)}}var x=s.return;try{Gd(s)}catch(F){ht(s,x,F)}break;case 5:var T=s.return;try{Gd(s)}catch(F){ht(s,T,F)}}}catch(F){ht(s,s.return,F)}if(s===r){de=null;break}var V=s.sibling;if(V!==null){V.return=s.return,de=V;break}de=s.return}}var IS=Math.ceil,hc=Q.ReactCurrentDispatcher,Xd=Q.ReactCurrentOwner,Pn=Q.ReactCurrentBatchConfig,ze=0,Dt=null,Et=null,Ft=0,Tn=0,Do=Ti(0),It=0,ll=null,Es=0,dc=0,Jd=0,ul=null,un=null,Zd=0,jo=1/0,qr=null,fc=!1,ef=null,Ri=null,pc=!1,bi=null,mc=0,cl=0,tf=null,gc=-1,yc=0;function nn(){return(ze&6)!==0?Ze():gc!==-1?gc:gc=Ze()}function Pi(r){return(r.mode&1)===0?1:(ze&2)!==0&&Ft!==0?Ft&-Ft:hS.transition!==null?(yc===0&&(yc=Pa()),yc):(r=Le,r!==0||(r=window.event,r=r===void 0?16:lo(r.type)),r)}function Gn(r,s,l,d){if(50<cl)throw cl=0,tf=null,Error(n(185));cs(r,l,d),((ze&2)===0||r!==Dt)&&(r===Dt&&((ze&2)===0&&(dc|=l),It===4&&Vi(r,Ft)),cn(r,d),l===1&&ze===0&&(s.mode&1)===0&&(jo=Ze()+500,Hu&&Ai()))}function cn(r,s){var l=r.callbackNode;us(r,s);var d=jr(r,r===Dt?Ft:0);if(d===0)l!==null&&to(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&to(l),s===1)r.tag===0?cS(mv.bind(null,r)):ey(mv.bind(null,r)),oS(function(){(ze&6)===0&&Ai()}),l=null;else{switch(or(d)){case 1:l=no;break;case 4:l=Ia;break;case 16:l=ss;break;case 536870912:l=ro;break;default:l=ss}l=Tv(l,pv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function pv(r,s){if(gc=-1,yc=0,(ze&6)!==0)throw Error(n(327));var l=r.callbackNode;if(No()&&r.callbackNode!==l)return null;var d=jr(r,r===Dt?Ft:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=vc(r,d);else{s=d;var y=ze;ze|=2;var x=yv();(Dt!==r||Ft!==s)&&(qr=null,jo=Ze()+500,Ss(r,s));do try{PS();break}catch(V){gv(r,V)}while(!0);xd(),hc.current=x,ze=y,Et!==null?s=0:(Dt=null,Ft=0,s=It)}if(s!==0){if(s===2&&(y=ba(r),y!==0&&(d=y,s=nf(r,y))),s===1)throw l=ll,Ss(r,0),Vi(r,d),cn(r,Ze()),l;if(s===6)Vi(r,d);else{if(y=r.current.alternate,(d&30)===0&&!RS(y)&&(s=vc(r,d),s===2&&(x=ba(r),x!==0&&(d=x,s=nf(r,x))),s===1))throw l=ll,Ss(r,0),Vi(r,d),cn(r,Ze()),l;switch(r.finishedWork=y,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:As(r,un,qr);break;case 3:if(Vi(r,d),(d&130023424)===d&&(s=Zd+500-Ze(),10<s)){if(jr(r,0)!==0)break;if(y=r.suspendedLanes,(y&d)!==d){nn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=ld(As.bind(null,r,un,qr),s);break}As(r,un,qr);break;case 4:if(Vi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,y=-1;0<d;){var T=31-gn(d);x=1<<T,T=s[T],T>y&&(y=T),d&=~x}if(d=y,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*IS(d/1960))-d,10<d){r.timeoutHandle=ld(As.bind(null,r,un,qr),d);break}As(r,un,qr);break;case 5:As(r,un,qr);break;default:throw Error(n(329))}}}return cn(r,Ze()),r.callbackNode===l?pv.bind(null,r):null}function nf(r,s){var l=ul;return r.current.memoizedState.isDehydrated&&(Ss(r,s).flags|=256),r=vc(r,s),r!==2&&(s=un,un=l,s!==null&&rf(s)),r}function rf(r){un===null?un=r:un.push.apply(un,r)}function RS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!$n(x(),y))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s){for(s&=~Jd,s&=~dc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-gn(s),d=1<<l;r[l]=-1,s&=~d}}function mv(r){if((ze&6)!==0)throw Error(n(327));No();var s=jr(r,0);if((s&1)===0)return cn(r,Ze()),null;var l=vc(r,s);if(r.tag!==0&&l===2){var d=ba(r);d!==0&&(s=d,l=nf(r,d))}if(l===1)throw l=ll,Ss(r,0),Vi(r,s),cn(r,Ze()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,As(r,un,qr),cn(r,Ze()),null}function sf(r,s){var l=ze;ze|=1;try{return r(s)}finally{ze=l,ze===0&&(jo=Ze()+500,Hu&&Ai())}}function Ts(r){bi!==null&&bi.tag===0&&(ze&6)===0&&No();var s=ze;ze|=1;var l=Pn.transition,d=Le;try{if(Pn.transition=null,Le=1,r)return r()}finally{Le=d,Pn.transition=l,ze=s,(ze&6)===0&&Ai()}}function of(){Tn=Do.current,tt(Do)}function Ss(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,sS(l)),Et!==null)for(l=Et.return;l!==null;){var d=l;switch(pd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$u();break;case 3:bo(),tt(on),tt(Kt),Cd();break;case 5:Ad(d);break;case 4:bo();break;case 13:tt(st);break;case 19:tt(st);break;case 10:_d(d.type._context);break;case 22:case 23:of()}l=l.return}if(Dt=r,Et=r=Di(r.current,null),Ft=Tn=s,It=0,ll=null,Jd=dc=Es=0,un=ul=null,xs!==null){for(s=0;s<xs.length;s++)if(l=xs[s],d=l.interleaved,d!==null){l.interleaved=null;var y=d.next,x=l.pending;if(x!==null){var T=x.next;x.next=y,d.next=T}l.pending=d}xs=null}return r}function gv(r,s){do{var l=Et;try{if(xd(),tc.current=sc,nc){for(var d=ot.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}nc=!1}if(ws=0,Vt=Ct=ot=null,nl=!1,rl=0,Xd.current=null,l===null||l.return===null){It=1,ll=s,Et=null;break}e:{var x=r,T=l.return,V=l,F=s;if(s=Ft,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var q=F,te=V,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=zy(T);if(ue!==null){ue.flags&=-257,Uy(ue,T,V,x,s),ue.mode&1&&By(x,q,s),s=ue,F=q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(F),s.updateQueue=me}else pe.add(F);break e}else{if((s&1)===0){By(x,q,s),af();break e}F=Error(n(426))}}else if(it&&V.mode&1){var gt=zy(T);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Uy(gt,T,V,x,s),yd(Po(F,V));break e}}x=F=Po(F,V),It!==4&&(It=2),ul===null?ul=[x]:ul.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var W=Oy(x,F,s);hy(x,W);break e;case 1:V=F;var B=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ri===null||!Ri.has(K)))){x.flags|=65536,s&=-s,x.lanes|=s;var ie=Fy(x,V,s);hy(x,ie);break e}}x=x.return}while(x!==null)}xv(l)}catch(ge){s=ge,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function yv(){var r=hc.current;return hc.current=sc,r===null?sc:r}function af(){(It===0||It===3||It===2)&&(It=4),Dt===null||(Es&268435455)===0&&(dc&268435455)===0||Vi(Dt,Ft)}function vc(r,s){var l=ze;ze|=2;var d=yv();(Dt!==r||Ft!==s)&&(qr=null,Ss(r,s));do try{bS();break}catch(y){gv(r,y)}while(!0);if(xd(),ze=l,hc.current=d,Et!==null)throw Error(n(261));return Dt=null,Ft=0,It}function bS(){for(;Et!==null;)vv(Et)}function PS(){for(;Et!==null&&!is();)vv(Et)}function vv(r){var s=Ev(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,s===null?xv(r):Et=s,Xd.current=null}function xv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=TS(l,s,Tn),l!==null){Et=l;return}}else{if(l=SS(l,s),l!==null){l.flags&=32767,Et=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,Et=null;return}}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);It===0&&(It=5)}function As(r,s,l){var d=Le,y=Pn.transition;try{Pn.transition=null,Le=1,VS(r,s,l,d)}finally{Pn.transition=y,Le=d}return null}function VS(r,s,l,d){do No();while(bi!==null);if((ze&6)!==0)throw Error(n(327));l=r.finishedWork;var y=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(Kh(r,x),r===Dt&&(Et=Dt=null,Ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||pc||(pc=!0,Tv(ss,function(){return No(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Pn.transition,Pn.transition=null;var T=Le;Le=1;var V=ze;ze|=4,Xd.current=null,kS(r,l),uv(l,r),JT(od),Lr=!!sd,od=sd=null,r.current=l,CS(l),Dr(),ze=V,Le=T,Pn.transition=x}else r.current=l;if(pc&&(pc=!1,bi=r,mc=y),x=r.pendingLanes,x===0&&(Ri=null),Au(l.stateNode),cn(r,Ze()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)y=s[l],d(y.value,{componentStack:y.stack,digest:y.digest});if(fc)throw fc=!1,r=ef,ef=null,r;return(mc&1)!==0&&r.tag!==0&&No(),x=r.pendingLanes,(x&1)!==0?r===tf?cl++:(cl=0,tf=r):cl=0,Ai(),null}function No(){if(bi!==null){var r=or(mc),s=Pn.transition,l=Le;try{if(Pn.transition=null,Le=16>r?16:r,bi===null)var d=!1;else{if(r=bi,bi=null,mc=0,(ze&6)!==0)throw Error(n(331));var y=ze;for(ze|=4,de=r.current;de!==null;){var x=de,T=x.child;if((de.flags&16)!==0){var V=x.deletions;if(V!==null){for(var F=0;F<V.length;F++){var q=V[F];for(de=q;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:al(8,te,x)}var ne=te.child;if(ne!==null)ne.return=te,de=ne;else for(;de!==null;){te=de;var ee=te.sibling,ue=te.return;if(iv(te),te===q){de=null;break}if(ee!==null){ee.return=ue,de=ee;break}de=ue}}}var pe=x.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var gt=me.sibling;me.sibling=null,me=gt}while(me!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,de=T;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:al(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,de=W;break e}de=x.return}}var B=r.current;for(de=B;de!==null;){T=de;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,de=K;else e:for(T=B;de!==null;){if(V=de,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:cc(9,V)}}catch(ge){ht(V,V.return,ge)}if(V===T){de=null;break e}var ie=V.sibling;if(ie!==null){ie.return=V.return,de=ie;break e}de=V.return}}if(ze=y,Ai(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(os,r)}catch{}d=!0}return d}finally{Le=l,Pn.transition=s}}return!1}function _v(r,s,l){s=Po(l,s),s=Oy(r,s,1),r=Ci(r,s,1),s=nn(),r!==null&&(cs(r,1,s),cn(r,s))}function ht(r,s,l){if(r.tag===3)_v(r,r,l);else for(;s!==null;){if(s.tag===3){_v(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))){r=Po(l,r),r=Fy(s,r,1),s=Ci(s,r,1),r=nn(),s!==null&&(cs(s,1,r),cn(s,r));break}}s=s.return}}function DS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=nn(),r.pingedLanes|=r.suspendedLanes&l,Dt===r&&(Ft&l)===l&&(It===4||It===3&&(Ft&130023424)===Ft&&500>Ze()-Zd?Ss(r,0):Jd|=l),cn(r,s)}function wv(r,s){s===0&&((r.mode&1)===0?s=1:(s=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var l=nn();r=Wr(r,s),r!==null&&(cs(r,s,l),cn(r,l))}function jS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),wv(r,l)}function NS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),wv(r,l)}var Ev;Ev=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return ln=!1,ES(r,s,l);ln=(r.flags&131072)!==0}else ln=!1,it&&(s.flags&1048576)!==0&&ty(s,qu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;lc(r,s),r=s.pendingProps;var y=To(s,Kt.current);Ro(s,l),y=bd(null,s,d,r,y,l);var x=Pd();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(d)?(x=!0,Wu(s)):x=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Td(s),y.updater=oc,s.stateNode=y,y._reactInternals=s,Ld(s,d,r,l),s=zd(null,s,d,!0,x,l)):(s.tag=0,it&&x&&fd(s),tn(null,s,y,l),s=s.child),s;case 16:d=s.elementType;e:{switch(lc(r,s),r=s.pendingProps,y=d._init,d=y(d._payload),s.type=d,y=s.tag=LS(d),r=Hn(d,r),y){case 0:s=Bd(null,s,d,r,l);break e;case 1:s=Gy(null,s,d,r,l);break e;case 11:s=$y(null,s,d,r,l);break e;case 14:s=Wy(null,s,d,Hn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Hn(d,y),Bd(r,s,d,y,l);case 1:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Hn(d,y),Gy(r,s,d,y,l);case 3:e:{if(Qy(s),r===null)throw Error(n(387));d=s.pendingProps,x=s.memoizedState,y=x.element,cy(r,s),Zu(s,d,null,l);var T=s.memoizedState;if(d=T.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){y=Po(Error(n(423)),s),s=Yy(r,s,d,l,y);break e}else if(d!==y){y=Po(Error(n(424)),s),s=Yy(r,s,d,l,y);break e}else for(En=Ei(s.stateNode.containerInfo.firstChild),wn=s,it=!0,Wn=null,l=ly(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ko(),d===y){s=Kr(r,s,l);break e}tn(r,s,d,l)}s=s.child}return s;case 5:return fy(s),r===null&&gd(s),d=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,T=y.children,ad(d,y)?T=null:x!==null&&ad(d,x)&&(s.flags|=32),qy(r,s),tn(r,s,T,l),s.child;case 6:return r===null&&gd(s),null;case 13:return Xy(r,s,l);case 4:return Sd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Co(s,null,d,l):tn(r,s,d,l),s.child;case 11:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Hn(d,y),$y(r,s,d,y,l);case 7:return tn(r,s,s.pendingProps,l),s.child;case 8:return tn(r,s,s.pendingProps.children,l),s.child;case 12:return tn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,y=s.pendingProps,x=s.memoizedProps,T=y.value,Xe(Yu,d._currentValue),d._currentValue=T,x!==null)if($n(x.value,T)){if(x.children===y.children&&!on.current){s=Kr(r,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var V=x.dependencies;if(V!==null){T=x.child;for(var F=V.firstContext;F!==null;){if(F.context===d){if(x.tag===1){F=Hr(-1,l&-l),F.tag=2;var q=x.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?F.next=F:(F.next=te.next,te.next=F),q.pending=F}}x.lanes|=l,F=x.alternate,F!==null&&(F.lanes|=l),wd(x.return,l,s),V.lanes|=l;break}F=F.next}}else if(x.tag===10)T=x.type===s.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=l,V=T.alternate,V!==null&&(V.lanes|=l),wd(T,l,s),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===s){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}tn(r,s,y.children,l),s=s.child}return s;case 9:return y=s.type,d=s.pendingProps.children,Ro(s,l),y=Rn(y),d=d(y),s.flags|=1,tn(r,s,d,l),s.child;case 14:return d=s.type,y=Hn(d,s.pendingProps),y=Hn(d.type,y),Wy(r,s,d,y,l);case 15:return Hy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Hn(d,y),lc(r,s),s.tag=1,an(d)?(r=!0,Wu(s)):r=!1,Ro(s,l),My(s,d,y),Ld(s,d,y,l),zd(null,s,d,!0,r,l);case 19:return Zy(r,s,l);case 22:return Ky(r,s,l)}throw Error(n(156,s.tag))};function Tv(r,s){return Ca(r,s)}function MS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,l,d){return new MS(r,s,l,d)}function lf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function LS(r){if(typeof r=="function")return lf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===$e)return 14}return 2}function Di(r,s){var l=r.alternate;return l===null?(l=Vn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function xc(r,s,l,d,y,x){var T=2;if(d=r,typeof r=="function")lf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case j:return ks(l.children,y,x,s);case C:T=8,y|=8;break;case b:return r=Vn(12,l,s,y|2),r.elementType=b,r.lanes=x,r;case D:return r=Vn(13,l,s,y),r.elementType=D,r.lanes=x,r;case be:return r=Vn(19,l,s,y),r.elementType=be,r.lanes=x,r;case Ee:return _c(l,y,x,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:T=10;break e;case M:T=9;break e;case $:T=11;break e;case $e:T=14;break e;case xt:T=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Vn(T,l,s,y),s.elementType=r,s.type=d,s.lanes=x,s}function ks(r,s,l,d){return r=Vn(7,r,d,s),r.lanes=l,r}function _c(r,s,l,d){return r=Vn(22,r,d,s),r.elementType=Ee,r.lanes=l,r.stateNode={isHidden:!1},r}function uf(r,s,l){return r=Vn(6,r,null,s),r.lanes=l,r}function cf(r,s,l){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function OS(r,s,l,d,y){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=d,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function hf(r,s,l,d,y,x,T,V,F){return r=new OS(r,s,l,V,F),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Vn(3,null,null,s),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(x),r}function FS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Sv(r){if(!r)return Si;r=r._reactInternals;e:{if(zn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(an(l))return Jg(r,l,s)}return s}function Av(r,s,l,d,y,x,T,V,F){return r=hf(l,d,!0,r,y,x,T,V,F),r.context=Sv(null),l=r.current,d=nn(),y=Pi(l),x=Hr(d,y),x.callback=s??null,Ci(l,x,y),r.current.lanes=y,cs(r,y,d),cn(r,d),r}function wc(r,s,l,d){var y=s.current,x=nn(),T=Pi(y);return l=Sv(l),s.context===null?s.context=l:s.pendingContext=l,s=Hr(x,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ci(y,s,T),r!==null&&(Gn(r,y,T,x),Ju(r,y,T)),T}function Ec(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function kv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function df(r,s){kv(r,s),(r=r.alternate)&&kv(r,s)}function BS(){return null}var Cv=typeof reportError=="function"?reportError:function(r){console.error(r)};function ff(r){this._internalRoot=r}Tc.prototype.render=ff.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));wc(r,s,null,null)},Tc.prototype.unmount=ff.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ts(function(){wc(null,r,null,null)}),s[Br]=null}};function Tc(r){this._internalRoot=r}Tc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ma();r={blockedOn:null,target:r,priority:s};for(var l=0;l<yn.length&&s!==0&&s<yn[l].priority;l++);yn.splice(l,0,r),l===0&&oo(r)}};function pf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function zS(r,s,l,d,y){if(y){if(typeof d=="function"){var x=d;d=function(){var q=Ec(T);x.call(q)}}var T=Av(s,d,r,0,null,!1,!1,"",Iv);return r._reactRootContainer=T,r[Br]=T.current,Ga(r.nodeType===8?r.parentNode:r),Ts(),T}for(;y=r.lastChild;)r.removeChild(y);if(typeof d=="function"){var V=d;d=function(){var q=Ec(F);V.call(q)}}var F=hf(r,0,!1,null,null,!1,!1,"",Iv);return r._reactRootContainer=F,r[Br]=F.current,Ga(r.nodeType===8?r.parentNode:r),Ts(function(){wc(s,F,l,d)}),F}function Ac(r,s,l,d,y){var x=l._reactRootContainer;if(x){var T=x;if(typeof y=="function"){var V=y;y=function(){var F=Ec(T);V.call(F)}}wc(s,T,r,y)}else T=zS(l,s,r,y,d);return Ec(T)}ja=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=We(s.pendingLanes);l!==0&&(Da(s,l|1),cn(s,Ze()),(ze&6)===0&&(jo=Ze()+500,Ai()))}break;case 13:Ts(function(){var d=Wr(r,1);if(d!==null){var y=nn();Gn(d,r,1,y)}}),df(r,1)}},io=function(r){if(r.tag===13){var s=Wr(r,134217728);if(s!==null){var l=nn();Gn(s,r,134217728,l)}df(r,134217728)}},Na=function(r){if(r.tag===13){var s=Pi(r),l=Wr(r,s);if(l!==null){var d=nn();Gn(l,r,s,d)}df(r,s)}},Ma=function(){return Le},La=function(r,s){var l=Le;try{return Le=r,s()}finally{Le=l}},br=function(r,s,l){switch(s){case"input":if(es(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var y=Uu(d);if(!y)throw Error(n(90));va(d),es(d,y)}}}break;case"textarea":fu(r,l);break;case"select":s=l.value,s!=null&&Fn(r,!!l.multiple,s,!1)}},gu=sf,yu=Ts;var US={usingClientEntryPoint:!1,Events:[Xa,wo,Uu,hi,di,sf]},hl={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$S={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Su(r),r===null?null:r.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||BS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{os=kc.inject($S),mn=kc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=US,hn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(s))throw Error(n(200));return FS(r,s,null,l)},hn.createRoot=function(r,s){if(!pf(r))throw Error(n(299));var l=!1,d="",y=Cv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=hf(r,1,!1,null,null,l,!1,d,y),r[Br]=s.current,Ga(r.nodeType===8?r.parentNode:r),new ff(s)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Su(s),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return Ts(r)},hn.hydrate=function(r,s,l){if(!Sc(s))throw Error(n(200));return Ac(null,r,s,!0,l)},hn.hydrateRoot=function(r,s,l){if(!pf(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,y=!1,x="",T=Cv;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Av(s,null,r,1,l??null,y,!1,x,T),r[Br]=s.current,Ga(r),d)for(r=0;r<d.length;r++)l=d[r],y=l._getVersion,y=y(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,y]:s.mutableSourceEagerHydrationData.push(l,y);return new Tc(s)},hn.render=function(r,s,l){if(!Sc(s))throw Error(n(200));return Ac(null,r,s,!1,l)},hn.unmountComponentAtNode=function(r){if(!Sc(r))throw Error(n(40));return r._reactRootContainer?(Ts(function(){Ac(null,null,r,!1,function(){r._reactRootContainer=null,r[Br]=null})}),!0):!1},hn.unstable_batchedUpdates=sf,hn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Sc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ac(r,s,l,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Mv;function JS(){if(Mv)return yf.exports;Mv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yf.exports=XS(),yf.exports}var Lv;function ZS(){if(Lv)return Cc;Lv=1;var t=JS();return Cc.createRoot=t.createRoot,Cc.hydrateRoot=t.hydrateRoot,Cc}var e2=ZS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ov="popstate";function t2(t={}){function e(o,a){let{pathname:u="/",search:f="",hash:h=""}=$s(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Yf("",{pathname:u,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");f=p===-1?h:h.slice(0,p)}return f+"#"+(typeof a=="string"?a:Pl(a))}function i(o,a){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return r2(e,n,i,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n2(){return Math.random().toString(36).substring(2,10)}function Fv(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:n,key:e&&e.key||i||n2()}}function Pl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function r2(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){f="POP";let I=g(),z=I==null?null:I-p;p=I,h&&h({action:f,location:R.location,delta:z})}function w(I,z){f="PUSH";let L=Yf(R.location,I,z);n&&n(L,I),p=g()+1;let P=Fv(L,p),Q=R.createHref(L);try{u.pushState(P,"",Q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(Q)}a&&h&&h({action:f,location:R.location,delta:1})}function S(I,z){f="REPLACE";let L=Yf(R.location,I,z);n&&n(L,I),p=g();let P=Fv(L,p),Q=R.createHref(L);u.replaceState(P,"",Q),a&&h&&h({action:f,location:R.location,delta:0})}function k(I){return i2(I)}let R={get action(){return f},get location(){return t(o,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ov,v),h=I,()=>{o.removeEventListener(Ov,v),h=null}},createHref(I){return e(o,I)},createURL:k,encodeLocation(I){let z=k(I);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(I){return u.go(I)}};return R}function i2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Pl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Ex(t,e,n="/"){return s2(t,e,n,!1)}function s2(t,e,n,i){let o=typeof e=="string"?$s(e):e,a=Xr(o.pathname||"/",n);if(a==null)return null;let u=Tx(t);o2(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=y2(a);f=m2(u[h],p,i)}return f}function Tx(t,e=[],n=[],i="",o=!1){let a=(u,f,h=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;lt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Gr([i,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Tx(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:f2(v,u.index),routesMeta:w})};return t.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,f);else for(let p of Sx(u.path))a(u,f,!0,p)}),e}function Sx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Sx(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function o2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var a2=/^:[\w-]+$/,l2=3,u2=2,c2=1,h2=10,d2=-2,Bv=t=>t==="*";function f2(t,e){let n=t.split("/"),i=n.length;return n.some(Bv)&&(i+=d2),e&&(i+=u2),n.filter(o=>!Bv(o)).reduce((o,a)=>o+(a2.test(a)?l2:a===""?c2:h2),i)}function p2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function m2(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],p=f===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Qc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=Qc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Gr([a,v.pathname]),pathnameBase:w2(Gr([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Gr([a,v.pathnameBase]))}return u}function Qc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=g2(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let k=f[w]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const S=f[w];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function g2(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function y2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var Ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v2=t=>Ax.test(t);function x2(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?$s(t):t,a;if(n)if(v2(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=zv(n.substring(1),"/"):a=zv(n,e)}else a=e;return{pathname:a,search:E2(i),hash:T2(o)}}function zv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _f(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kx(t){let e=_2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Cx(t,e,n,i=!1){let o;typeof t=="string"?o=$s(t):(o={...t},lt(!o.pathname||!o.pathname.includes("?"),_f("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),_f("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),_f("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}f=v>=0?e[v]:"/"}let h=x2(o,f),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),w2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,S2=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function A2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function k2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rx(t,e){let n=t;if(typeof n!="string"||!Ax.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(Ix)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),f=Xr(u.pathname,e);u.origin===a.origin&&f!=null?n=f+u.search+u.hash:o=!0}catch{Ln(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bx=["POST","PUT","PATCH","DELETE"];new Set(bx);var C2=["GET",...bx];new Set(C2);var ia=N.createContext(null);ia.displayName="DataRouter";var yh=N.createContext(null);yh.displayName="DataRouterState";var I2=N.createContext(!1),Px=N.createContext({isTransitioning:!1});Px.displayName="ViewTransition";var R2=N.createContext(new Map);R2.displayName="Fetchers";var b2=N.createContext(null);b2.displayName="Await";var On=N.createContext(null);On.displayName="Navigation";var Xl=N.createContext(null);Xl.displayName="Location";var Rr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Gp=N.createContext(null);Gp.displayName="RouteError";var Vx="REACT_ROUTER_ERROR",P2="REDIRECT",V2="ROUTE_ERROR_RESPONSE";function D2(t){if(t.startsWith(`${Vx}:${P2}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function j2(t){if(t.startsWith(`${Vx}:${V2}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new S2(e.status,e.statusText,e.data)}catch{}}function N2(t,{relative:e}={}){lt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(On),{hash:o,pathname:a,search:u}=Zl(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:Gr([n,a])),i.createHref({pathname:f,search:u,hash:o})}function Jl(){return N.useContext(Xl)!=null}function ri(){return lt(Jl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Xl).location}var Dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jx(t){N.useContext(On).static||N.useLayoutEffect(t)}function M2(){let{isDataRoute:t}=N.useContext(Rr);return t?Q2():L2()}function L2(){lt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(ia),{basename:e,navigator:n}=N.useContext(On),{matches:i}=N.useContext(Rr),{pathname:o}=ri(),a=JSON.stringify(kx(i)),u=N.useRef(!1);return jx(()=>{u.current=!0}),N.useCallback((h,p={})=>{if(Ln(u.current,Dx),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=Cx(h,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Gr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,o,t])}N.createContext(null);function Nx(){let{matches:t}=N.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function Zl(t,{relative:e}={}){let{matches:n}=N.useContext(Rr),{pathname:i}=ri(),o=JSON.stringify(kx(n));return N.useMemo(()=>Cx(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function O2(t,e){return Mx(t,e)}function Mx(t,e,n,i,o){var L;lt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(On),{matches:u}=N.useContext(Rr),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let P=v&&v.path||"";Ox(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=ri(),S;if(e){let P=typeof e=="string"?$s(e):e;lt(g==="/"||((L=P.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=w;let k=S.pathname||"/",R=k;if(g!=="/"){let P=g.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=Ex(t,{pathname:R});Ln(v||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ln(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=$2(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Gr([g,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Gr([g,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,n,i,o);return e&&z?N.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function F2(){let t=G2(),e=A2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,u)}var B2=N.createElement(F2,null),Lx=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=j2(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Rr.Provider,{value:this.props.routeContext},N.createElement(Gp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(z2,{error:t},e):e}};Lx.contextType=I2;var wf=new WeakMap;function z2({children:t,error:e}){let{basename:n}=N.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=D2(e.digest);if(i){let o=wf.get(e);if(o)throw o;let a=Rx(i.location,n);if(Ix&&!wf.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw wf.set(e,u),u}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function U2({routeContext:t,match:e,children:n}){let i=N.useContext(ia);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Rr.Provider,{value:t},n)}function $2(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,h=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:w,errors:S}=n,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||k){f=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let p=n&&i?(g,v)=>{var w,S;i(g,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:k2(n.matches),errorInfo:v})}:void 0;return a.reduceRight((g,v,w)=>{let S,k=!1,R=null,I=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,R=v.route.errorElement||B2,f&&(h<0&&w===0?(Ox("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,I=null):h===w&&(k=!0,I=v.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,w+1)),L=()=>{let P;return S?P=R:k?P=I:v.route.Component?P=N.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=g,N.createElement(U2,{match:v,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:P})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(Lx,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:L(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):L()},null)}function Qp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(t){let e=N.useContext(ia);return lt(e,Qp(t)),e}function H2(t){let e=N.useContext(yh);return lt(e,Qp(t)),e}function K2(t){let e=N.useContext(Rr);return lt(e,Qp(t)),e}function Yp(t){let e=K2(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q2(){return Yp("useRouteId")}function G2(){var i;let t=N.useContext(Gp),e=H2("useRouteError"),n=Yp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Q2(){let{router:t}=W2("useNavigate"),e=Yp("useNavigate"),n=N.useRef(!1);return jx(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{Ln(n.current,Dx),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Uv={};function Ox(t,e,n){!e&&!Uv[t]&&(Uv[t]=!0,Ln(!1,n))}N.memo(Y2);function Y2({routes:t,future:e,state:n,onError:i}){return Mx(t,void 0,n,i,e)}function dn(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){lt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:f,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[f,o,a,u]);typeof n=="string"&&(n=$s(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:S="default"}=n,k=N.useMemo(()=>{let R=Xr(p,f);return R==null?null:{location:{pathname:R,search:g,hash:v,state:w,key:S},navigationType:i}},[f,p,g,v,w,S,i]);return Ln(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:N.createElement(On.Provider,{value:h},N.createElement(Xl.Provider,{children:e,value:k}))}function J2({children:t,location:e}){return O2(Xf(t),e)}function Xf(t,e=[]){let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){n.push.apply(n,Xf(i.props.children,a));return}lt(i.type===dn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Xf(i.props.children,a)),n.push(u)}),n}var Lc="get",Oc="application/x-www-form-urlencoded";function vh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Z2(t){return vh(t)&&t.tagName.toLowerCase()==="button"}function eA(t){return vh(t)&&t.tagName.toLowerCase()==="form"}function tA(t){return vh(t)&&t.tagName.toLowerCase()==="input"}function nA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rA(t,e){return t.button===0&&(!e||e==="_self")&&!nA(t)}var Ic=null;function iA(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var sA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ef(t){return t!=null&&!sA.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):t}function oA(t,e){let n,i,o,a,u;if(eA(t)){let f=t.getAttribute("action");i=f?Xr(f,e):null,n=t.getAttribute("method")||Lc,o=Ef(t.getAttribute("enctype"))||Oc,a=new FormData(t)}else if(Z2(t)||tA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(i=h?Xr(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Lc,o=Ef(t.getAttribute("formenctype"))||Ef(f.getAttribute("enctype"))||Oc,a=new FormData(f,t),!iA()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,v)}}else{if(vh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lc,i=null,o=Oc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aA(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&Xr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function lA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cA(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await lA(a,n);return u.links?u.links():[]}return[]}));return pA(i.flat(1).filter(uA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(t,e,n,i,o,a){let u=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,f=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):a==="data"?e.filter((h,p)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function hA(t,e,{includeHydrateFallback:n}={}){return dA(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function dA(t){return[...new Set(t)]}function fA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function pA(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(fA(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Fx(){let t=N.useContext(ia);return Xp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mA(){let t=N.useContext(yh);return Xp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jp=N.createContext(void 0);Jp.displayName="FrameworkContext";function Bx(){let t=N.useContext(Jp);return Xp(t,"You must render this element inside a <HydratedRouter> element"),t}function gA(t,e){let n=N.useContext(Jp),[i,o]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=z=>{z.forEach(L=>{u(L.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),N.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{o(!0)},k=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:fl(f,S),onBlur:fl(h,k),onMouseEnter:fl(p,S),onMouseLeave:fl(g,k),onTouchStart:fl(v,S)}]:[!1,w,{}]}function fl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yA({page:t,...e}){let{router:n}=Fx(),i=N.useMemo(()=>Ex(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(xA,{page:t,matches:i,...e}):null}function vA(t){let{manifest:e,routeModules:n}=Bx(),[i,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return cA(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function xA({page:t,matches:e,...n}){let i=ri(),{future:o,manifest:a,routeModules:u}=Bx(),{basename:f}=Fx(),{loaderData:h,matches:p}=mA(),g=N.useMemo(()=>$v(t,e,p,a,i,"data"),[t,e,p,a,i]),v=N.useMemo(()=>$v(t,e,p,a,i,"assets"),[t,e,p,a,i]),w=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,I=!1;if(e.forEach(L=>{var Q;let P=a.routes[L.route.id];!P||!P.hasLoader||(!g.some(J=>J.route.id===L.route.id)&&L.route.id in h&&((Q=u[L.route.id])!=null&&Q.shouldRevalidate)||P.hasClientLoader?I=!0:R.add(L.route.id))}),R.size===0)return[];let z=aA(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return I&&R.size>0&&z.searchParams.set("_routes",e.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[z.pathname+z.search]},[f,o.unstable_trailingSlashAwareDataRequests,h,i,a,g,e,t,u]),S=N.useMemo(()=>hA(v,a),[v,a]),k=vA(v);return N.createElement(N.Fragment,null,w.map(R=>N.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>N.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),k.map(({key:R,link:I})=>N.createElement("link",{key:R,nonce:n.nonce,...I})))}function _A(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wA&&(window.__reactRouterVersion="7.12.0")}catch{}function EA({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=N.useRef();o.current==null&&(o.current=t2({window:i,v5Compat:!0}));let a=o.current,[u,f]=N.useState({action:a.action,location:a.location}),h=N.useCallback(p=>{n===!1?f(p):N.startTransition(()=>f(p))},[n]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.createElement(X2,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},k){let{basename:R,unstable_useTransitions:I}=N.useContext(On),z=typeof p=="string"&&zx.test(p),L=Rx(p,R);p=L.to;let P=N2(p,{relative:o}),[Q,J,se]=gA(i,S),j=kA(p,{replace:u,state:f,target:h,preventScrollReset:g,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:I});function C(O){e&&e(O),O.defaultPrevented||j(O)}let b=N.createElement("a",{...S,...se,href:L.absoluteURL||P,onClick:L.isExternal||a?e:C,ref:_A(k,J),target:h,"data-discover":!z&&n==="render"?"true":void 0});return Q&&!z?N.createElement(N.Fragment,null,b,N.createElement(yA,{page:P})):b});_e.displayName="Link";var TA=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...p},g){let v=Zl(u,{relative:p.relative}),w=ri(),S=N.useContext(yh),{navigator:k,basename:R}=N.useContext(On),I=S!=null&&PA(v)&&f===!0,z=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,L=w.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(L=L.toLowerCase(),P=P?P.toLowerCase():null,z=z.toLowerCase()),P&&R&&(P=Xr(P,R)||P);const Q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let J=L===z||!o&&L.startsWith(z)&&L.charAt(Q)==="/",se=P!=null&&(P===z||!o&&P.startsWith(z)&&P.charAt(z.length)==="/"),j={isActive:J,isPending:se,isTransitioning:I},C=J?e:void 0,b;typeof i=="function"?b=i(j):b=[i,J?"active":null,se?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(j):a;return N.createElement(_e,{...p,"aria-current":C,className:b,ref:g,style:O,to:u,viewTransition:f},typeof h=="function"?h(j):h)});TA.displayName="NavLink";var SA=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Lc,action:f,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},k)=>{let{unstable_useTransitions:R}=N.useContext(On),I=RA(),z=bA(f,{relative:p}),L=u.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&zx.test(f),Q=J=>{if(h&&h(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,j=(se==null?void 0:se.getAttribute("formmethod"))||u,C=()=>I(se||J.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});R&&n!==!1?N.startTransition(()=>C()):C()};return N.createElement("form",{ref:k,method:L,action:z,onSubmit:i?h:Q,...S,"data-discover":!P&&t==="render"?"true":void 0})});SA.displayName="Form";function AA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ux(t){let e=N.useContext(ia);return lt(e,AA(t)),e}function kA(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let p=M2(),g=ri(),v=Zl(t,{relative:a});return N.useCallback(w=>{if(rA(w,e)){w.preventDefault();let S=n!==void 0?n:Pl(g)===Pl(v),k=()=>p(t,{replace:S,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f});h?N.startTransition(()=>k()):k()}},[g,p,v,n,i,e,t,o,a,u,f,h])}var CA=0,IA=()=>`__${String(++CA)}__`;function RA(){let{router:t}=Ux("useSubmit"),{basename:e}=N.useContext(On),n=q2(),i=t.fetch,o=t.navigate;return N.useCallback(async(a,u={})=>{let{action:f,method:h,encType:p,formData:g,body:v}=oA(a,e);if(u.navigate===!1){let w=u.fetcherKey||IA();await i(w,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function bA(t,{relative:e}={}){let{basename:n}=N.useContext(On),i=N.useContext(Rr);lt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Zl(t||".",{relative:e})},u=ri();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gr([n,a.pathname])),Pl(a)}function PA(t,{relative:e}={}){let n=N.useContext(Px);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ux("useViewTransitionState"),o=Zl(t,{relative:e});if(!n.isTransitioning)return!1;let a=Xr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Xr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Qc(o.pathname,u)!=null||Qc(o.pathname,a)!=null}const $x=N.createContext({});function VA(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wx=typeof window<"u",DA=Wx?N.useLayoutEffect:N.useEffect,Zp=N.createContext(null);function em(t,e){t.indexOf(e)===-1&&t.push(e)}function tm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kr=(t,e,n)=>n>e?e:n<t?t:n;let nm=()=>{};const Jr={},Hx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Kx(t){return typeof t=="object"&&t!==null}const qx=t=>/^0[^.\s]+$/u.test(t);function rm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mn=t=>t,jA=(t,e)=>n=>e(t(n)),eu=(...t)=>t.reduce(jA),Vl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class im{constructor(){this.subscriptions=[]}add(e){return em(this.subscriptions,e),()=>tm(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,Nn=t=>t/1e3;function Gx(t,e){return e?t*(1e3/e):0}const Qx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NA=1e-7,MA=12;function LA(t,e,n,i,o){let a,u,f=0;do u=e+(n-e)/2,a=Qx(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>NA&&++f<MA);return u}function tu(t,e,n,i){if(t===e&&n===i)return Mn;const o=a=>LA(a,0,1,t,n);return a=>a===0||a===1?a:Qx(o(a),e,i)}const Yx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xx=t=>e=>1-t(1-e),Jx=tu(.33,1.53,.69,.99),sm=Xx(Jx),Zx=Yx(sm),e_=t=>(t*=2)<1?.5*sm(t):.5*(2-Math.pow(2,-10*(t-1))),om=t=>1-Math.sin(Math.acos(t)),t_=Xx(om),n_=Yx(om),OA=tu(.42,0,1,1),FA=tu(0,0,.58,1),r_=tu(.42,0,.58,1),BA=t=>Array.isArray(t)&&typeof t[0]!="number",i_=t=>Array.isArray(t)&&typeof t[0]=="number",zA={linear:Mn,easeIn:OA,easeInOut:r_,easeOut:FA,circIn:om,circInOut:n_,circOut:t_,backIn:sm,backInOut:Zx,backOut:Jx,anticipate:e_},UA=t=>typeof t=="string",Wv=t=>{if(i_(t)){nm(t.length===4);const[e,n,i,o]=t;return tu(e,n,i,o)}else if(UA(t))return zA[t];return t},Rc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $A(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(p.schedule(g),t()),g(f)}const p={schedule:(g,v=!1,w=!1)=>{const k=w&&o?n:i;return v&&u.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(f=g,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const WA=40;function s_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Rc.reduce((P,Q)=>(P[Q]=$A(a),P),{}),{setup:f,read:h,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:S,postRender:k}=u,R=()=>{const P=Jr.useManualTiming?o.timestamp:performance.now();n=!1,Jr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(P-o.timestamp,WA),1)),o.timestamp=P,o.isProcessing=!0,f.process(o),h.process(o),p.process(o),g.process(o),v.process(o),w.process(o),S.process(o),k.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(R))},I=()=>{n=!0,i=!0,o.isProcessing||t(R)};return{schedule:Rc.reduce((P,Q)=>{const J=u[Q];return P[Q]=(se,j=!1,C=!1)=>(n||I(),J.schedule(se,j,C)),P},{}),cancel:P=>{for(let Q=0;Q<Rc.length;Q++)u[Rc[Q]].cancel(P)},state:o,steps:u}}const{schedule:rt,cancel:Ui,state:Bt,steps:Tf}=s_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0);let Fc;function HA(){Fc=void 0}const rn={now:()=>(Fc===void 0&&rn.set(Bt.isProcessing||Jr.useManualTiming?Bt.timestamp:performance.now()),Fc),set:t=>{Fc=t,queueMicrotask(HA)}},o_=t=>e=>typeof e=="string"&&e.startsWith(t),a_=o_("--"),KA=o_("var(--"),am=t=>KA(t)?qA.test(t.split("/*")[0].trim()):!1,qA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Hv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const sa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dl={...sa,transform:t=>kr(0,1,t)},bc={...sa,default:1},El=t=>Math.round(t*1e5)/1e5,lm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GA(t){return t==null}const QA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,um=(t,e)=>n=>!!(typeof n=="string"&&QA.test(n)&&n.startsWith(t)||e&&!GA(n)&&Object.prototype.hasOwnProperty.call(n,e)),l_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,f]=i.match(lm);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},YA=t=>kr(0,255,t),Sf={...sa,transform:t=>Math.round(YA(t))},bs={test:um("rgb","red"),parse:l_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Sf.transform(t)+", "+Sf.transform(e)+", "+Sf.transform(n)+", "+El(Dl.transform(i))+")"};function XA(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Jf={test:um("#"),parse:XA,transform:bs.transform},nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ni=nu("deg"),wr=nu("%"),he=nu("px"),JA=nu("vh"),ZA=nu("vw"),Kv={...wr,parse:t=>wr.parse(t)/100,transform:t=>wr.transform(t*100)},Bo={test:um("hsl","hue"),parse:l_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+wr.transform(El(e))+", "+wr.transform(El(n))+", "+El(Dl.transform(i))+")"},St={test:t=>bs.test(t)||Jf.test(t)||Bo.test(t),parse:t=>bs.test(t)?bs.parse(t):Bo.test(t)?Bo.parse(t):Jf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=St.parse(t);return e.alpha=0,St.transform(e)}},ek=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lm))==null?void 0:e.length)||0)+(((n=t.match(ek))==null?void 0:n.length)||0)>0}const u_="number",c_="color",nk="var",rk="var(",qv="${}",ik=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(ik,h=>(St.test(h)?(i.color.push(a),o.push(c_),n.push(St.parse(h))):h.startsWith(rk)?(i.var.push(a),o.push(nk),n.push(h)):(i.number.push(a),o.push(u_),n.push(parseFloat(h))),++a,qv)).split(qv);return{values:n,split:f,indexes:i,types:o}}function h_(t){return jl(t).values}function d_(t){const{split:e,types:n}=jl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const f=n[u];f===u_?a+=El(o[u]):f===c_?a+=St.transform(o[u]):a+=o[u]}return a}}const sk=t=>typeof t=="number"?0:St.test(t)?St.getAnimatableNone(t):t;function ok(t){const e=h_(t);return d_(t)(e.map(sk))}const $i={test:tk,parse:h_,createTransformer:d_,getAnimatableNone:ok};function Af(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ak({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,h=2*n-f;o=Af(h,f,t+1/3),a=Af(h,f,t),u=Af(h,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Yc(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,kf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},lk=[Jf,bs,Bo],uk=t=>lk.find(e=>e.test(t));function Gv(t){const e=uk(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=ak(n)),n}const Qv=(t,e)=>{const n=Gv(t),i=Gv(e);if(!n||!i)return Yc(t,e);const o={...n};return a=>(o.red=kf(n.red,i.red,a),o.green=kf(n.green,i.green,a),o.blue=kf(n.blue,i.blue,a),o.alpha=at(n.alpha,i.alpha,a),bs.transform(o))},Zf=new Set(["none","hidden"]);function ck(t,e){return Zf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hk(t,e){return n=>at(t,e,n)}function cm(t){return typeof t=="number"?hk:typeof t=="string"?am(t)?Yc:St.test(t)?Qv:pk:Array.isArray(t)?f_:typeof t=="object"?St.test(t)?Qv:dk:Yc}function f_(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>cm(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function dk(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=cm(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function fk(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],f=t.values[u]??0;n[o]=f,i[a]++}return n}const pk=(t,e)=>{const n=$i.createTransformer(e),i=jl(t),o=jl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Zf.has(t)&&!o.values.length||Zf.has(e)&&!i.values.length?ck(t,e):eu(f_(fk(i,o),o.values),n):Yc(t,e)};function p_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):cm(t)(t,e)}const mk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>Ui(e),now:()=>Bt.isProcessing?Bt.timestamp:rn.now()}},m_=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xc=2e4;function hm(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Xc;)e+=n,i=t.next(e);return e>=Xc?1/0:e}function gk(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(hm(i),Xc);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Nn(o)}}const yk=5;function g_(t,e,n){const i=Math.max(e-yk,0);return Gx(n-t(i),e-i)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cf=.001;function vk({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:i=ft.mass}){let o,a,u=1-e;u=kr(ft.minDamping,ft.maxDamping,u),t=kr(ft.minDuration,ft.maxDuration,Nn(t)),u<1?(o=p=>{const g=p*u,v=g*t,w=g-n,S=ep(p,u),k=Math.exp(-v);return Cf-w/S*k},a=p=>{const v=p*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,k=Math.exp(-v),R=ep(Math.pow(p,2),u);return(-o(p)+Cf>0?-1:1)*((w-S)*k)/R}):(o=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-Cf+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const f=5/t,h=_k(o,a,f);if(t=Qr(t),isNaN(h))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const xk=12;function _k(t,e,n){let i=n;for(let o=1;o<xk;o++)i=i-t(i)/e(i);return i}function ep(t,e){return t*Math.sqrt(1-e*e)}const wk=["duration","bounce"],Ek=["stiffness","damping","mass"];function Yv(t,e){return e.some(n=>t[n]!==void 0)}function Tk(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!Yv(t,Ek)&&Yv(t,wk))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*kr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ft.mass,stiffness:o,damping:a}}else{const n=vk(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function Jc(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:S}=Tk({...n,velocity:-Nn(n.velocity||0)}),k=w||0,R=p/(2*Math.sqrt(h*g)),I=u-a,z=Nn(Math.sqrt(h/g)),L=Math.abs(I)<5;i||(i=L?ft.restSpeed.granular:ft.restSpeed.default),o||(o=L?ft.restDelta.granular:ft.restDelta.default);let P;if(R<1){const J=ep(z,R);P=se=>{const j=Math.exp(-R*z*se);return u-j*((k+R*z*I)/J*Math.sin(J*se)+I*Math.cos(J*se))}}else if(R===1)P=J=>u-Math.exp(-z*J)*(I+(k+z*I)*J);else{const J=z*Math.sqrt(R*R-1);P=se=>{const j=Math.exp(-R*z*se),C=Math.min(J*se,300);return u-j*((k+R*z*I)*Math.sinh(C)+J*I*Math.cosh(C))/J}}const Q={calculatedDuration:S&&v||null,next:J=>{const se=P(J);if(S)f.done=J>=v;else{let j=J===0?k:0;R<1&&(j=J===0?Qr(k):g_(P,J,se));const C=Math.abs(j)<=i,b=Math.abs(u-se)<=o;f.done=C&&b}return f.value=f.done?u:se,f},toString:()=>{const J=Math.min(hm(Q),Xc),se=m_(j=>Q.next(J*j).value,J,30);return J+"ms "+se},toTransition:()=>{}};return Q}Jc.applyToOptions=t=>{const e=gk(t,100,Jc);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function tp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},S=C=>f!==void 0&&C<f||h!==void 0&&C>h,k=C=>f===void 0?h:h===void 0||Math.abs(f-C)<Math.abs(h-C)?f:h;let R=n*e;const I=v+R,z=u===void 0?I:u(I);z!==I&&(R=z-v);const L=C=>-R*Math.exp(-C/i),P=C=>z+L(C),Q=C=>{const b=L(C),O=P(C);w.done=Math.abs(b)<=p,w.value=w.done?z:O};let J,se;const j=C=>{S(w.value)&&(J=C,se=Jc({keyframes:[w.value,k(w.value)],velocity:g_(P,C,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return j(0),{calculatedDuration:null,next:C=>{let b=!1;return!se&&J===void 0&&(b=!0,Q(C),j(C)),J!==void 0&&C>=J?se.next(C-J):(!b&&Q(C),w)}}}function Sk(t,e,n){const i=[],o=n||Jr.mix||p_,a=t.length-1;for(let u=0;u<a;u++){let f=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Mn:e;f=eu(h,f)}i.push(f)}return i}function Ak(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(nm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=Sk(e,i,o),h=f.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Vl(t[v],t[v+1],g);return f[v](w)};return n?g=>p(kr(t[0],t[a-1],g)):p}function kk(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Vl(0,e,i);t.push(at(n,1,o))}}function Ck(t){const e=[0];return kk(e,t.length-1),e}function Ik(t,e){return t.map(n=>n*e)}function Rk(t,e){return t.map(()=>e||r_).splice(0,t.length-1)}function Tl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=BA(i)?i.map(Wv):Wv(i),a={done:!1,value:e[0]},u=Ik(n&&n.length===e.length?n:Ck(e),t),f=Ak(u,e,{ease:Array.isArray(o)?o:Rk(e,o)});return{calculatedDuration:t,next:h=>(a.value=f(h),a.done=h>=t,a)}}const bk=t=>t!==null;function dm(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(bk),f=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const Pk={decay:tp,inertia:tp,tween:Tl,keyframes:Tl,spring:Jc};function y_(t){typeof t.type=="string"&&(t.type=Pk[t.type])}class fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Vk=t=>t/100;class pm extends fm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;y_(e);const{type:n=Tl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const h=n||Tl;h!==Tl&&typeof f[0]!="number"&&(this.mixKeyframes=eu(Vk,p_(f[0],f[1])),f=[0,100]);const p=h({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=hm(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:S,type:k,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?z<0:z>o;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,Q=i;if(v){const C=Math.min(this.currentTime,o)/f;let b=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&b--,b=Math.min(b,v+1),!!(b%2)&&(w==="reverse"?(O=1-O,S&&(O-=S/f)):w==="mirror"&&(Q=u)),P=kr(0,1,O)*f}const J=L?{done:!1,value:g[0]}:Q.next(P);a&&(J.value=a(J.value));let{done:se}=J;!L&&h!==null&&(se=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return j&&k!==tp&&(J.value=dm(g,this.options,I,this.speed)),R&&R(J.value),j&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nn(e)}get time(){return Nn(this.currentTime)}set time(e){var n;e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=mk,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Dk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ps=t=>t*180/Math.PI,np=t=>{const e=Ps(Math.atan2(t[1],t[0]));return rp(e)},jk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:np,rotateZ:np,skewX:t=>Ps(Math.atan(t[1])),skewY:t=>Ps(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rp=t=>(t=t%360,t<0&&(t+=360),t),Xv=np,Jv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Nk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jv,scaleY:Zv,scale:t=>(Jv(t)+Zv(t))/2,rotateX:t=>rp(Ps(Math.atan2(t[6],t[5]))),rotateY:t=>rp(Ps(Math.atan2(-t[2],t[0]))),rotateZ:Xv,rotate:Xv,skewX:t=>Ps(Math.atan(t[4])),skewY:t=>Ps(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ip(t){return t.includes("scale")?1:0}function sp(t,e){if(!t||t==="none")return ip(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=Nk,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jk,o=f}if(!o)return ip(e);const a=i[e],u=o[1].split(",").map(Lk);return typeof a=="function"?a(u):u[a]}const Mk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sp(n,e)};function Lk(t){return parseFloat(t.trim())}const oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],aa=new Set(oa),e0=t=>t===sa||t===he,Ok=new Set(["x","y","z"]),Fk=oa.filter(t=>!Ok.has(t));function Bk(t){const e=[];return Fk.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Mi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sp(e,"x"),y:(t,{transform:e})=>sp(e,"y")};Mi.translateX=Mi.x;Mi.translateY=Mi.y;const Ds=new Set;let op=!1,ap=!1,lp=!1;function v_(){if(ap){const t=Array.from(Ds).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=Bk(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var f;(f=i.getValue(a))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ap=!1,op=!1,Ds.forEach(t=>t.complete(lp)),Ds.clear()}function x_(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ap=!0)})}function zk(){lp=!0,x_(),v_(),lp=!1}class mm{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ds.add(this),op||(op=!0,rt.read(x_),rt.resolveKeyframes(v_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}Dk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ds.delete(this)}cancel(){this.state==="scheduled"&&(Ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uk=t=>t.startsWith("--");function $k(t,e,n){Uk(e)?t.style.setProperty(e,n):t.style[e]=n}const Wk=rm(()=>window.ScrollTimeline!==void 0),Hk={};function Kk(t,e){const n=rm(t);return()=>Hk[e]??n()}const __=Kk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,t0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function w_(t,e){if(t)return typeof t=="function"?__()?m_(t,e):"ease-out":i_(t)?gl(t):Array.isArray(t)?t.map(n=>w_(n,e)||t0.easeOut):t0[t]}function qk(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:h}={},p=void 0){const g={[e]:n};h&&(g.offset=h);const v=w_(f,o);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function E_(t){return typeof t=="function"&&"applyToOptions"in t}function Gk({type:t,...e}){return E_(t)&&__()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qk extends fm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,nm(typeof e.type!="string");const p=Gk(e);this.animation=qk(n,i,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=dm(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):$k(n,i,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nn(e)}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Wk()?(this.animation.timeline=e,Mn):n(this)}}const T_={anticipate:e_,backInOut:Zx,circInOut:n_};function Yk(t){return t in T_}function Xk(t){typeof t.ease=="string"&&Yk(t.ease)&&(t.ease=T_[t.ease])}const If=10;class Jk extends Qk{constructor(e){Xk(e),y_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new pm({...u,autoplay:!1}),h=Math.max(If,rn.now()-this.startTime),p=kr(0,If,h-If);n.setWithVelocity(f.sample(Math.max(0,h-p)).value,f.sample(h).value,p),f.stop()}}const n0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($i.test(t)||t==="0")&&!t.startsWith("url("));function Zk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eC(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=n0(o,e),f=n0(a,e);return!u||!f?!1:Zk(t)||(n==="spring"||E_(n))&&i}function up(t){t.duration=0,t.type="keyframes"}const tC=new Set(["opacity","clipPath","filter","transform"]),nC=rm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rC(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return nC()&&n&&tC.has(n)&&(n!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const iC=40;class sC extends fm{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:h,motionValue:p,element:g,...v}){var k;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=rn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:h,motionValue:p,element:g,...v},S=(g==null?void 0:g.KeyframeResolver)||mm;this.keyframeResolver=new S(f,(R,I,z)=>this.onKeyframesResolved(R,I,w,!z),h,p,g),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,n,i,o){var I,z;this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:h,isHandoff:p,onUpdate:g}=i;this.resolvedAt=rn.now(),eC(e,a,u,f)||((Jr.instantAnimations||!h)&&(g==null||g(dm(e,i,n))),e[0]=e[e.length-1],up(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>iC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&rC(w),k=(z=(I=w.motionValue)==null?void 0:I.owner)==null?void 0:z.current,R=S?new Jk({...w,element:k}):new pm(w);R.finished.then(()=>{this.notifyFinished()}).catch(Mn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),zk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function S_(t,e,n,i=0,o=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:f-a*i}const oC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aC(t){const e=oC.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function A_(t,e,n=1){const[i,o]=aC(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return Hx(u)?parseFloat(u):u}return am(o)?A_(o,e,n+1):o}const lC={type:"spring",stiffness:500,damping:25,restSpeed:10},uC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cC={type:"keyframes",duration:.8},hC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dC=(t,{keyframes:e})=>e.length>2?cC:aa.has(t)?t.startsWith("scale")?uC(e[1]):lC:hC,fC=t=>t!==null;function pC(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(fC),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function gm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function mC({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const ym=(t,e,n,i={},o,a)=>u=>{const f=gm(i,t)||{},h=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Qr(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:o};mC(f)||Object.assign(g,dC(t,g)),g.duration&&(g.duration=Qr(g.duration)),g.repeatDelay&&(g.repeatDelay=Qr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(up(g),g.delay===0&&(v=!0)),(Jr.instantAnimations||Jr.skipAnimations)&&(v=!0,up(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!a&&e.get()!==void 0){const w=pC(g.keyframes,f);if(w!==void 0){rt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return f.isSync?new pm(g):new sC(g)};function r0(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function vm(t,e,n,i){if(typeof e=="function"){const[o,a]=r0(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=r0(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function Ho(t,e,n){const i=t.getProps();return vm(i,e,n!==void 0?n:i.custom,t)}const k_=new Set(["width","height","top","left","right","bottom",...oa]),i0=30,gC=t=>!isNaN(parseFloat(t));class yC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=rn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new im);const i=this.events[e].add(n);return e==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i0);return Gx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(t,e){return new yC(t,e)}const cp=t=>Array.isArray(t);function vC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yo(n))}function xC(t){return cp(t)?t[t.length-1]||0:t}function _C(t,e){const n=Ho(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const f=xC(a[u]);vC(t,u,f)}}const Zt=t=>!!(t&&t.getVelocity);function wC(t){return!!(Zt(t)&&t.add)}function hp(t,e){const n=t.getValue("willChange");if(wC(n))return n.add(e);if(!n&&Jr.WillChange){const i=new Jr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function xm(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const EC="framerAppearId",C_="data-"+xm(EC);function I_(t){return t.props[C_]}function TC({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function R_(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(a=i);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const v=t.getValue(g,t.latestValues[g]??null),w=f[g];if(w===void 0||p&&TC(p,g))continue;const S={delay:n,...gm(a||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=I_(t);if(z){const L=window.MotionHandoffAnimation(z,g,rt);L!==null&&(S.startTime=L,R=!0)}}hp(t,g),v.start(ym(g,v,w,t.shouldReduceMotion&&k_.has(g)?{type:!1}:S,t,R));const I=v.animation;I&&h.push(I)}return u&&Promise.all(h).then(()=>{rt.update(()=>{u&&_C(t,u)})}),h}function dp(t,e,n={}){var h;const i=Ho(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(R_(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=o;return SC(t,e,p,g,v,w,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,g]=f==="beforeChildren"?[a,u]:[u,a];return p().then(()=>g())}else return Promise.all([a(),u(n.delay)])}function SC(t,e,n=0,i=0,o=0,a=1,u){const f=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),f.push(dp(h,e,{...u,delay:n+(typeof i=="function"?0:i)+S_(t.variantChildren,h,i,o,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(f)}function AC(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>dp(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=dp(t,e,n);else{const o=typeof e=="function"?Ho(t,e,n.custom):e;i=Promise.all(R_(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const kC={test:t=>t==="auto",parse:t=>t},b_=t=>e=>e.test(t),P_=[sa,he,wr,Ni,ZA,JA,kC],s0=t=>P_.find(b_(t));function CC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qx(t):!0}const IC=new Set(["brightness","contrast","saturate","opacity"]);function RC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(lm)||[];if(!i)return t;const o=n.replace(i,"");let a=IC.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const bC=/\b([a-z-]*)\(.*?\)/gu,fp={...$i,getAnimatableNone:t=>{const e=t.match(bC);return e?e.map(RC).join(" "):t}},o0={...sa,transform:Math.round},PC={rotate:Ni,rotateX:Ni,rotateY:Ni,rotateZ:Ni,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:Ni,skewX:Ni,skewY:Ni,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Dl,originX:Kv,originY:Kv,originZ:he},_m={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,inset:he,insetBlock:he,insetBlockStart:he,insetBlockEnd:he,insetInline:he,insetInlineStart:he,insetInlineEnd:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,paddingBlock:he,paddingBlockStart:he,paddingBlockEnd:he,paddingInline:he,paddingInlineStart:he,paddingInlineEnd:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,marginBlock:he,marginBlockStart:he,marginBlockEnd:he,marginInline:he,marginInlineStart:he,marginInlineEnd:he,backgroundPositionX:he,backgroundPositionY:he,...PC,zIndex:o0,fillOpacity:Dl,strokeOpacity:Dl,numOctaves:o0},VC={..._m,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:fp,WebkitFilter:fp},V_=t=>VC[t];function D_(t,e){let n=V_(t);return n!==fp&&(n=$i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DC=new Set(["auto","none","0"]);function jC(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!DC.has(a)&&jl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=D_(n,o)}class NC extends mm{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),am(v))){const w=A_(v,n.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!k_.has(i)||e.length!==2)return;const[o,a]=e,u=s0(o),f=s0(a),h=Hv(o),p=Hv(a);if(h!==p&&Mi[i]){this.needsMeasurement=!0;return}if(u!==f)if(e0(u)&&e0(f))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Mi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||CC(e[o]))&&i.push(o);i.length&&jC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Mi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function MC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const j_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function LC(t){return Kx(t)&&"offsetHeight"in t}const{schedule:wm}=s_(queueMicrotask,!1),Yn={x:!1,y:!1};function N_(){return Yn.x||Yn.y}function OC(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function M_(t,e){const n=MC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function a0(t){return!(t.pointerType==="touch"||N_())}function FC(t,e,n={}){const[i,o,a]=M_(t,n),u=f=>{if(!a0(f))return;const{target:h}=f,p=e(h,f);if(typeof p!="function"||!h)return;const g=v=>{a0(v)&&(p(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const L_=(t,e)=>e?t===e?!0:L_(t,e.parentElement):!1,Em=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O_(t){return BC.has(t.tagName)||t.isContentEditable===!0}const Bc=new WeakSet;function l0(t){return e=>{e.key==="Enter"&&t(e)}}function Rf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zC=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=l0(()=>{if(Bc.has(n))return;Rf(n,"down");const o=l0(()=>{Rf(n,"up")}),a=()=>Rf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function u0(t){return Em(t)&&!N_()}function UC(t,e,n={}){const[i,o,a]=M_(t,n),u=f=>{const h=f.currentTarget;if(!u0(f))return;Bc.add(h);const p=e(h,f),g=(S,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Bc.has(h)&&Bc.delete(h),u0(S)&&typeof p=="function"&&p(S,{success:k})},v=S=>{g(S,h===window||h===document||n.useGlobalTarget||L_(h,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),LC(f)&&(f.addEventListener("focus",p=>zC(p,o)),!O_(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function F_(t){return Kx(t)&&"ownerSVGElement"in t}function $C(t){return F_(t)&&t.tagName==="svg"}const WC=[...P_,St,$i],HC=t=>WC.find(b_(t)),c0=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:c0(),y:c0()}),h0=()=>({min:0,max:0}),Rt=()=>({x:h0(),y:h0()}),pp={current:null},B_={current:!1},KC=typeof window<"u";function qC(){if(B_.current=!0,!!KC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pp.current=t.matches;t.addEventListener("change",e),e()}else pp.current=!1}const GC=new WeakMap;function xh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nl(t){return typeof t=="string"||Array.isArray(t)}const Tm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sm=["initial",...Tm];function _h(t){return xh(t.animate)||Sm.some(e=>Nl(t[e]))}function z_(t){return!!(_h(t)||t.variants)}function QC(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Zt(o))t.addValue(i,o);else if(Zt(a))t.addValue(i,Yo(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Yo(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const d0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zc={};function U_(t){Zc=t}function YC(){return Zc}class XC{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=rn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,rt.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=_h(n),this.isVariantNode=z_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Zt(S)&&S.set(h[w])}}mount(e){var n;this.current=e,GC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(B_.current||qC(),this.shouldReduceMotion=pp.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=aa.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zc){const n=Zc[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<d0.length;i++){const o=d0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=QC(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Yo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Hx(i)||qx(i))?i=parseFloat(i):!HC(i)&&$i.test(n)&&(i=D_(e,n)),this.setBaseTarget(e,Zt(i)?i.get():i)),Zt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=vm(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Zt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new im),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){wm.render(this.render)}}class $_ extends XC{constructor(){super(...arguments),this.KeyframeResolver=NC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function W_({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function JC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZC(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function bf(t){return t===void 0||t===1}function mp({scale:t,scaleX:e,scaleY:n}){return!bf(t)||!bf(e)||!bf(n)}function Is(t){return mp(t)||H_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function H_(t){return f0(t.x)||f0(t.y)}function f0(t){return t&&t!=="0%"}function eh(t,e,n){const i=t-n,o=e*i;return n+o}function p0(t,e,n,i,o){return o!==void 0&&(t=eh(t,o,i)),eh(t,n,i)+e}function gp(t,e=0,n=1,i,o){t.min=p0(t.min,e,n,i,o),t.max=p0(t.max,e,n,i,o)}function K_(t,{x:e,y:n}){gp(t.x,e.translate,e.scale,e.originPoint),gp(t.y,n.translate,n.scale,n.originPoint)}const m0=.999999999999,g0=1.0000000000001;function eI(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=n[f],u=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$o(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,K_(t,u)),i&&Is(a.latestValues)&&$o(t,a.latestValues))}e.x<g0&&e.x>m0&&(e.x=1),e.y<g0&&e.y>m0&&(e.y=1)}function Uo(t,e){t.min=t.min+e,t.max=t.max+e}function y0(t,e,n,i,o=.5){const a=at(t.min,t.max,o);gp(t,e,n,a,i)}function $o(t,e){y0(t.x,e.x,e.scaleX,e.scale,e.originX),y0(t.y,e.y,e.scaleY,e.scale,e.originY)}function q_(t,e){return W_(ZC(t.getBoundingClientRect(),e))}function tI(t,e,n){const i=q_(t,n),{scroll:o}=e;return o&&(Uo(i.x,o.offset.x),Uo(i.y,o.offset.y)),i}const nI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rI=oa.length;function iI(t,e,n){let i="",o=!0;for(let a=0;a<rI;a++){const u=oa[a],f=t[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const p=j_(f,_m[u]);if(!h){o=!1;const g=nI[u]||u;i+=`${g}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Am(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,f=!1;for(const h in e){const p=e[h];if(aa.has(h)){u=!0;continue}else if(a_(h)){o[h]=p;continue}else{const g=j_(p,_m[h]);h.startsWith("origin")?(f=!0,a[h]=g):i[h]=g}}if(e.transform||(u||n?i.transform=iI(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}function G_(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function v0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=v0(t,e.target.x),i=v0(t,e.target.y);return`${n}% ${i}%`}},sI={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=$i.parse(t);if(o.length>5)return i;const a=$i.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=h;const p=at(f,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}},yp={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:sI};function Q_(t,{layout:e,layoutId:n}){return aa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yp[t]||t==="opacity")}function km(t,e,n){var u;const i=t.style,o=e==null?void 0:e.style,a={};if(!i)return a;for(const f in i)(Zt(i[f])||o&&Zt(o[f])||Q_(f,t)||((u=n==null?void 0:n.getValue(f))==null?void 0:u.liveStyle)!==void 0)&&(a[f]=i[f]);return a}function oI(t){return window.getComputedStyle(t)}class aI extends $_{constructor(){super(...arguments),this.type="html",this.renderInstance=G_}readValueFromInstance(e,n){var i;if(aa.has(n))return(i=this.projection)!=null&&i.isProjecting?ip(n):Mk(e,n);{const o=oI(e),a=(a_(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return q_(e,n)}build(e,n,i){Am(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return km(e,n,i)}}const lI={offset:"stroke-dashoffset",array:"stroke-dasharray"},uI={offset:"strokeDashoffset",array:"strokeDasharray"};function cI(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?lI:uI;t[a.offset]=he.transform(-i);const u=he.transform(e),f=he.transform(n);t[a.array]=`${u} ${f}`}const hI=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Y_(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},h,p,g){if(Am(t,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox);for(const S of hI)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),o!==void 0&&cI(v,o,a,u,!1)}const X_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),J_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dI(t,e,n,i){G_(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(X_.has(o)?o:xm(o),e.attrs[o])}function Z_(t,e,n){const i=km(t,e,n);for(const o in t)if(Zt(t[o])||Zt(e[o])){const a=oa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}class fI extends $_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(aa.has(n)){const i=V_(n);return i&&i.default||0}return n=X_.has(n)?n:xm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Z_(e,n,i)}build(e,n,i){Y_(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){dI(e,n,i,o)}mount(e){this.isSVGTag=J_(e.tagName),super.mount(e)}}const pI=Sm.length;function ew(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ew(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pI;n++){const i=Sm[n],o=t.props[i];(Nl(o)||o===!1)&&(e[i]=o)}return e}function tw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const mI=[...Tm].reverse(),gI=Tm.length;function yI(t){return e=>Promise.all(e.map(({animation:n,options:i})=>AC(t,n,i)))}function vI(t){let e=yI(t),n=x0(),i=!0;const o=h=>(p,g)=>{var w;const v=Ho(t,g,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:S,transitionEnd:k,...R}=v;p={...p,...R,...k}}return p};function a(h){e=h(t)}function u(h){const{props:p}=t,g=ew(t.parent)||{},v=[],w=new Set;let S={},k=1/0;for(let I=0;I<gI;I++){const z=mI[I],L=n[z],P=p[z]!==void 0?p[z]:g[z],Q=Nl(P),J=z===h?L.isActive:null;J===!1&&(k=I);let se=P===g[z]&&P!==p[z]&&Q;if(se&&i&&t.manuallyAnimateOnMount&&(se=!1),L.protectedKeys={...S},!L.isActive&&J===null||!P&&!L.prevProp||xh(P)||typeof P=="boolean")continue;const j=xI(L.prevProp,P);let C=j||z===h&&L.isActive&&!se&&Q||I>k&&Q,b=!1;const O=Array.isArray(P)?P:[P];let M=O.reduce(o(z),{});J===!1&&(M={});const{prevResolvedValues:$={}}=L,D={...$,...M},be=Ee=>{C=!0,w.has(Ee)&&(b=!0,w.delete(Ee)),L.needsAnimating[Ee]=!0;const re=t.getValue(Ee);re&&(re.liveStyle=!1)};for(const Ee in D){const re=M[Ee],fe=$[Ee];if(S.hasOwnProperty(Ee))continue;let ae=!1;cp(re)&&cp(fe)?ae=!tw(re,fe):ae=re!==fe,ae?re!=null?be(Ee):w.add(Ee):re!==void 0&&w.has(Ee)?be(Ee):L.protectedKeys[Ee]=!0}L.prevProp=P,L.prevResolvedValues=M,L.isActive&&(S={...S,...M}),i&&t.blockInitialAnimation&&(C=!1);const $e=se&&j;C&&(!$e||b)&&v.push(...O.map(Ee=>{const re={type:z};if(typeof Ee=="string"&&i&&!$e&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=Ho(fe,Ee);if(fe.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};re.delay=S_(fe.enteringChildren,t,U)}}return{animation:Ee,options:re}}))}if(w.size){const I={};if(typeof p.initial!="boolean"){const z=Ho(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(I.transition=z.transition)}w.forEach(z=>{const L=t.getBaseTarget(z),P=t.getValue(z);P&&(P.liveStyle=!0),I[z]=L??null}),v.push({animation:I})}let R=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(v):Promise.resolve()}function f(h,p){var v;if(n[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(h,p)}),n[h].isActive=p;const g=u(h);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=x0()}}}function xI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tw(e,t):!1}function Cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x0(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}function _0(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){_0(t.x,e.x),_0(t.y,e.y)}function w0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const nw=1e-4,_I=1-nw,wI=1+nw,rw=.01,EI=0-rw,TI=0+rw;function sn(t){return t.max-t.min}function SI(t,e,n){return Math.abs(t-e)<=n}function E0(t,e,n,i=.5){t.origin=i,t.originPoint=at(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_I&&t.scale<=wI||isNaN(t.scale))&&(t.scale=1),(t.translate>=EI&&t.translate<=TI||isNaN(t.translate))&&(t.translate=0)}function Sl(t,e,n,i){E0(t.x,e.x,n.x,i?i.originX:void 0),E0(t.y,e.y,n.y,i?i.originY:void 0)}function T0(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function AI(t,e,n){T0(t.x,e.x,n.x),T0(t.y,e.y,n.y)}function S0(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function th(t,e,n){S0(t.x,e.x,n.x),S0(t.y,e.y,n.y)}function A0(t,e,n,i,o){return t-=e,t=eh(t,1/n,i),o!==void 0&&(t=eh(t,1/o,i)),t}function kI(t,e=0,n=1,i=.5,o,a=t,u=t){if(wr.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=at(a.min,a.max,i);t===a&&(f-=e),t.min=A0(t.min,e,n,f,o),t.max=A0(t.max,e,n,f,o)}function k0(t,e,[n,i,o],a,u){kI(t,e[n],e[i],e[o],e.scale,a,u)}const CI=["x","scaleX","originX"],II=["y","scaleY","originY"];function C0(t,e,n,i){k0(t.x,e,CI,n?n.x:void 0,i?i.x:void 0),k0(t.y,e,II,n?n.y:void 0,i?i.y:void 0)}function I0(t){return t.translate===0&&t.scale===1}function iw(t){return I0(t.x)&&I0(t.y)}function R0(t,e){return t.min===e.min&&t.max===e.max}function RI(t,e){return R0(t.x,e.x)&&R0(t.y,e.y)}function b0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sw(t,e){return b0(t.x,e.x)&&b0(t.y,e.y)}function P0(t){return sn(t.x)/sn(t.y)}function V0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Dn(t){return[t("x"),t("y")]}function bI(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:S,skewY:k}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),k&&(i+=`skewY(${k}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const ow=["TopLeft","TopRight","BottomLeft","BottomRight"],PI=ow.length,D0=t=>typeof t=="string"?parseFloat(t):t,j0=t=>typeof t=="number"||he.test(t);function VI(t,e,n,i,o,a){o?(t.opacity=at(0,n.opacity??1,DI(i)),t.opacityExit=at(e.opacity??1,0,jI(i))):a&&(t.opacity=at(e.opacity??1,n.opacity??1,i));for(let u=0;u<PI;u++){const f=`border${ow[u]}Radius`;let h=N0(e,f),p=N0(n,f);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||j0(h)===j0(p)?(t[f]=Math.max(at(D0(h),D0(p),i),0),(wr.test(p)||wr.test(h))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,i))}function N0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DI=aw(0,.5,t_),jI=aw(.5,.95,Mn);function aw(t,e,n){return i=>i<t?0:i>e?1:n(Vl(t,e,i))}function NI(t,e,n){const i=Zt(t)?t:Yo(t);return i.start(ym("",i,e,n)),i.animation}function Ml(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const MI=(t,e)=>t.depth-e.depth;class LI{constructor(){this.children=[],this.isDirty=!1}add(e){em(this.children,e),this.isDirty=!0}remove(e){tm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MI),this.isDirty=!1,this.children.forEach(e)}}function OI(t,e){const n=rn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Ui(i),t(a-e))};return rt.setup(i,!0),()=>Ui(i)}function zc(t){return Zt(t)?t.get():t}class FI{constructor(){this.members=[]}add(e){em(this.members,e),e.scheduleRender()}remove(e){if(tm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Pf=["","X","Y","Z"],BI=1e3;let zI=0;function Vf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function lw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=I_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&lw(i)}function uw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=zI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WI),this.nodes.forEach(GI),this.nodes.forEach(QI),this.nodes.forEach(HI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new LI)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new im),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=F_(u)&&!$C(u),this.instance=u;const{layoutId:f,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=OI(w,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(O0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||eR,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=p.getProps(),z=!this.targetLayout||!sw(this.targetLayout,S),L=!v&&w;if(this.options.layoutRoot||this.resumeFrom||L||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...gm(k,"layout"),onPlay:R,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(g,L)}else v||O0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qI),this.nodes.forEach(UI),this.nodes.forEach($I)):this.nodes.forEach(L0),this.clearAllSnapshots();const f=rn.now();Bt.delta=kr(0,1e3/60,f-Bt.timestamp),Bt.timestamp=f,Bt.isProcessing=!0,Tf.update.process(Bt),Tf.preRender.process(Bt),Tf.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KI),this.sharedNodes.forEach(XI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!iw(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Is(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),tR(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Rt();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(nR))){const{scroll:g}=this.root;g&&(Uo(f.x,g.offset.x),Uo(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=Rt();if(Qn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Qn(f,u),Uo(f.x,v.offset.x),Uo(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const h=Rt();Qn(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$o(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Is(g.latestValues)&&$o(h,g.latestValues)}return Is(this.latestValues)&&$o(h,this.latestValues),h}removeTransform(u){const f=Rt();Qn(f,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Is(p.latestValues))continue;mp(p.latestValues)&&p.updateSnapshot();const g=Rt(),v=p.measurePageBox();Qn(g,v),C0(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Is(this.latestValues)&&C0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Bt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),K_(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mp(this.parent.latestValues)||H_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),th(this.relativeTargetOrigin,f,h),Qn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Qn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;eI(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w0(this.prevProjectionDelta.x,this.projectionDelta.x),w0(this.prevProjectionDelta.y,this.projectionDelta.y)),Sl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!V0(this.projectionDelta.x,this.prevProjectionDelta.x)||!V0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(u,f=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Rt(),S=h?h.source:void 0,k=this.layout?this.layout.source:void 0,R=S!==k,I=this.getStack(),z=!I||I.members.length<=1,L=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(ZI));this.animationProgress=0;let P;this.mixTargetDelta=Q=>{const J=Q/1e3;F0(v.x,u.x,J),F0(v.y,u.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(th(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JI(this.relativeTarget,this.relativeTargetOrigin,w,J),P&&RI(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Rt()),Qn(P,this.relativeTarget)),R&&(this.animationValues=g,VI(g,p,this.latestValues,J,L,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Uc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=NI(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:p,latestValues:g}=u;if(!(!f||!h||!p)){if(this!==u&&this.layout&&p&&cw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Rt();const v=sn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=sn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}Qn(f,h),$o(f,g),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FI),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const p={};h.z&&Vf("z",u,p,this.animationValues);for(let g=0;g<Pf.length;g++)Vf(`rotate${Pf[g]}`,u,p,this.animationValues),Vf(`skew${Pf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=zc(f==null?void 0:f.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=zc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=bI(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in yp){if(g[k]===void 0)continue;const{correct:R,applyTo:I,isCSSVariable:z}=yp[k],L=v==="none"?g[k]:R(g[k],p);if(I){const P=I.length;for(let Q=0;Q<P;Q++)u[I[Q]]=L}else z?this.options.visualElement.renderState.vars[k]=L:u[k]=L}this.options.layoutId&&(u.pointerEvents=p===this?zc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(M0),this.root.sharedNodes.clear()}}}function UI(t){t.updateLayout()}function $I(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Dn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],S=sn(w);w.min=i[v].min,w.max=w.min+S}):cw(a,e.layoutBox,i)&&Dn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],S=sn(i[v]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const f=zo();Sl(f,i,e.layoutBox);const h=zo();u?Sl(h,t.applyTransform(o,!0),e.measuredBox):Sl(h,i,e.layoutBox);const p=!iw(f);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:S}=v;if(w&&S){const k=Rt();th(k,e.layoutBox,w.layoutBox);const R=Rt();th(R,i,S.layoutBox),sw(k,R)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=k,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function WI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KI(t){t.clearSnapshot()}function M0(t){t.clearMeasurements()}function L0(t){t.isLayoutDirty=!1}function qI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GI(t){t.resolveTargetDelta()}function QI(t){t.calcProjection()}function YI(t){t.resetSkewAndRotation()}function XI(t){t.removeLeadSnapshot()}function F0(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function B0(t,e,n,i){t.min=at(e.min,n.min,i),t.max=at(e.max,n.max,i)}function JI(t,e,n,i){B0(t.x,e.x,n.x,i),B0(t.y,e.y,n.y,i)}function ZI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eR={duration:.45,ease:[.4,0,.1,1]},z0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U0=z0("applewebkit/")&&!z0("chrome/")?Math.round:Mn;function $0(t){t.min=U0(t.min),t.max=U0(t.max)}function tR(t){$0(t.x),$0(t.y)}function cw(t,e,n){return t==="position"||t==="preserve-aspect"&&!SI(P0(e),P0(n),.2)}function nR(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rR=uw({attachResizeListener:(t,e)=>Ml(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Df={current:void 0},hw=uw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Df.current){const t=new rR({});t.mount(window),t.setOptions({layoutScroll:!0}),Df.current=t}return Df.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dw=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iR(t=!0){const e=N.useContext(Zp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=N.useId();N.useEffect(()=>{if(t)return o(a)},[t]);const u=N.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const fw=N.createContext({strict:!1}),W0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let H0=!1;function sR(){if(H0)return;const t={};for(const e in W0)t[e]={isEnabled:n=>W0[e].some(i=>!!n[i])};U_(t),H0=!0}function pw(){return sR(),YC()}function oR(t){const e=pw();for(const n in t)e[n]={...e[n],...t[n]};U_(e)}const aR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aR.has(t)}let mw=t=>!nh(t);function lR(t){typeof t=="function"&&(mw=e=>e.startsWith("on")?!nh(e):t(e))}try{lR(require("@emotion/is-prop-valid").default)}catch{}function uR(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(mw(o)||n===!0&&nh(o)||!e&&!nh(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const wh=N.createContext({});function cR(t,e){if(_h(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Nl(n)?n:void 0,animate:Nl(i)?i:void 0}}return t.inherit!==!1?e:{}}function hR(t){const{initial:e,animate:n}=cR(t,N.useContext(wh));return N.useMemo(()=>({initial:e,animate:n}),[K0(e),K0(n)])}function K0(t){return Array.isArray(t)?t.join(" "):t}const Cm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gw(t,e,n){for(const i in e)!Zt(e[i])&&!Q_(i,n)&&(t[i]=e[i])}function dR({transformTemplate:t},e){return N.useMemo(()=>{const n=Cm();return Am(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fR(t,e){const n=t.style||{},i={};return gw(i,n,t),Object.assign(i,dR(t,e)),i}function pR(t,e){const n={},i=fR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const yw=()=>({...Cm(),attrs:{}});function mR(t,e,n,i){const o=N.useMemo(()=>{const a=yw();return Y_(a,e,J_(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};gw(a,t.style,t),o.style={...a,...o.style}}return o}const gR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Im(t){return typeof t!="string"||t.includes("-")?!1:!!(gR.indexOf(t)>-1||/[A-Z]/u.test(t))}function yR(t,e,n,{latestValues:i},o,a=!1,u){const h=(u??Im(t)?mR:pR)(e,i,o,t),p=uR(e,typeof t=="string",a),g=t!==N.Fragment?{...p,...h,ref:n}:{},{children:v}=e,w=N.useMemo(()=>Zt(v)?v.get():v,[v]);return N.createElement(t,{...g,children:w})}function vR({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:xR(n,i,o,t),renderState:e()}}function xR(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=zc(a[w]);let{initial:u,animate:f}=t;const h=_h(t),p=z_(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?f:u;if(v&&typeof v!="boolean"&&!xh(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const k=vm(t,w[S]);if(k){const{transitionEnd:R,transition:I,...z}=k;for(const L in z){let P=z[L];if(Array.isArray(P)){const Q=g?P.length-1:0;P=P[Q]}P!==null&&(o[L]=P)}for(const L in R)o[L]=R[L]}}}return o}const vw=t=>(e,n)=>{const i=N.useContext(wh),o=N.useContext(Zp),a=()=>vR(t,e,i,o);return n?a():VA(a)},_R=vw({scrapeMotionValuesFromProps:km,createRenderState:Cm}),wR=vw({scrapeMotionValuesFromProps:Z_,createRenderState:yw}),ER=Symbol.for("motionComponentSymbol");function TR(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const o=N.useRef(null);return N.useCallback(a=>{var f;a&&((f=t.onMount)==null||f.call(t,a)),e&&(a?e.mount(a):e.unmount());const u=i.current;if(typeof u=="function")if(a){const h=u(a);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(a);else u&&(u.current=a)},[e])}const xw=N.createContext({});function yl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SR(t,e,n,i,o,a){var I,z;const{visualElement:u}=N.useContext(wh),f=N.useContext(fw),h=N.useContext(Zp),p=N.useContext(dw).reducedMotion,g=N.useRef(null);i=i||f.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const v=g.current,w=N.useContext(xw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&AR(g.current,n,o,w);const S=N.useRef(!1);N.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const k=n[C_],R=N.useRef(!!k&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,k))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,k)));return DA(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),R.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,k)}),R.current=!1),v.enteringChildren=void 0)}),v}function AR(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_w(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&yl(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:p})}function _w(t){if(t)return t.options.allowProjection!==!1?t.projection:_w(t.parent)}function jf(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&oR(i);const a=n?n==="svg":Im(t),u=a?wR:_R;function f(p,g){let v;const w={...N.useContext(dw),...p,layoutId:kR(p)},{isStatic:S}=w,k=hR(p),R=u(p,S);if(!S&&Wx){CR();const I=IR(w);v=I.MeasureLayout,k.visualElement=SR(t,R,w,o,I.ProjectionNode,a)}return m.jsxs(wh.Provider,{value:k,children:[v&&k.visualElement?m.jsx(v,{visualElement:k.visualElement,...w}):null,yR(t,p,TR(R,k.visualElement,g),R,S,e,a)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=N.forwardRef(f);return h[ER]=t,h}function kR({layoutId:t}){const e=N.useContext($x).id;return e&&t!==void 0?e+"-"+t:t}function CR(t,e){N.useContext(fw).strict}function IR(t){const e=pw(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function RR(t,e){if(typeof Proxy>"u")return jf;const n=new Map,i=(a,u)=>jf(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,jf(u,void 0,t,e)),n.get(u))})}const bR=(t,e)=>e.isSVG??Im(t)?new fI(e):new aI(e,{allowProjection:t!==N.Fragment});class PR extends Yi{constructor(e){super(e),e.animationState||(e.animationState=vI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let VR=0;class DR extends Yi{constructor(){super(...arguments),this.id=VR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jR={animation:{Feature:PR},exit:{Feature:DR}};function ru(t){return{point:{x:t.pageX,y:t.pageY}}}const NR=t=>e=>Em(e)&&t(e,ru(e));function Al(t,e,n,i){return Ml(t,e,NR(n),i)}const ww=({current:t})=>t?t.ownerDocument.defaultView:null,q0=(t,e)=>Math.abs(t-e);function MR(t,e){const n=q0(t.x,e.x),i=q0(t.y,e.y);return Math.sqrt(n**2+i**2)}const G0=new Set(["auto","scroll"]);class Ew{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Mf(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,R=MR(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!R)return;const{point:I}=S,{timestamp:z}=Bt;this.history.push({...I,timestamp:z});const{onStart:L,onMove:P}=this.handlers;k||(L&&L(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,S)},this.handlePointerMove=(S,k)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Nf(k,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(S,k)=>{this.end();const{onEnd:R,onSessionEnd:I,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Mf(S.type==="pointercancel"?this.lastMoveEventInfo:Nf(k,this.transformPagePoint),this.history);this.startEvent&&R&&R(S,L),I&&I(S,L)},!Em(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const h=ru(e),p=Nf(h,this.transformPagePoint),{point:g}=p,{timestamp:v}=Bt;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Mf(p,this.history)),this.removeListeners=eu(Al(this.contextWindow,"pointermove",this.handlePointerMove),Al(this.contextWindow,"pointerup",this.handlePointerUp),Al(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(G0.has(i.overflowX)||G0.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ui(this.updatePoint)}}function Nf(t,e){return e?{point:e(t.point)}:t}function Q0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mf({point:t},e){return{point:t,delta:Q0(t,Tw(e)),offset:Q0(t,LR(e)),velocity:OR(e,.1)}}function LR(t){return t[0]}function Tw(t){return t[t.length-1]}function OR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Tw(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Qr(e)));)n--;if(!i)return{x:0,y:0};const a=Nn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?at(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?at(n,t,i.max):Math.min(t,n)),t}function Y0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BR(t,{top:e,left:n,bottom:i,right:o}){return{x:Y0(t.x,n,o),y:Y0(t.y,e,i)}}function X0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function zR(t,e){return{x:X0(t.x,e.x),y:X0(t.y,e.y)}}function UR(t,e){let n=.5;const i=sn(t),o=sn(e);return o>i?n=Vl(e.min,e.max-i,t.min):i>o&&(n=Vl(t.min,t.max-o,e.min)),kr(0,1,n)}function $R(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vp=.35;function WR(t=vp){return t===!1?t=0:t===!0&&(t=vp),{x:J0(t,"left","right"),y:J0(t,"top","bottom")}}function J0(t,e,n){return{min:Z0(t,e),max:Z0(t,n)}}function Z0(t,e){return typeof t=="number"?t:t[e]||0}const HR=new WeakMap;class KR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{n?(this.stopAnimation(),this.snapToCursor(ru(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:k,onDragStart:R}=this.getProps();if(S&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OC(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(z=>{let L=this.getAxisMotionValue(z).get()||0;if(wr.test(L)){const{projection:P}=this.visualElement;if(P&&P.layout){const Q=P.layout.layoutBox[z];Q&&(L=sn(Q)*(parseFloat(L)/100))}}this.originPoint[z]=L}),R&&rt.postRender(()=>R(v,w)),hp(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:k,onDirectionLock:R,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=w;if(k&&this.currentDirection===null){this.currentDirection=qR(z),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),I&&I(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Dn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Ew(e,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:ww(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&rt.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Pc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=FR(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&yl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=BR(i.layoutBox,e):this.constraints=!1,this.elastic=WR(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=$R(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yl(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=tI(i,o.root,this.visualElement.getTransformPagePoint());let u=zR(o.layout.layoutBox,a);if(n){const f=n(JC(u));this.hasMutatedConstraints=!!f,f&&(u=W_(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},p=Dn(g=>{if(!Pc(g,n,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return hp(this.visualElement,e),i.start(ym(e,i,0,n,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:i}=this.getProps();if(!Pc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n],h=a.get()||0;a.set(e[n]-at(u,f,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!yl(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();o[u]=UR({min:h,max:h},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Pc(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];f.set(at(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;HR.set(this.visualElement,this);const e=this.visualElement.current,n=Al(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&!O_(h.target)&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();yl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),rt.read(i);const u=Ml(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=vp,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Pc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class GR extends Yi{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new KR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const e1=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class QR extends Yi{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new Ew(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ww(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:e1(e),onStart:e1(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&rt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Lf=!1;class YR extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),Lf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Lf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||rt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Lf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sw(t){const[e,n]=iR(),i=N.useContext($x);return m.jsx(YR,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(xw),isPresent:e,safeToRemove:n})}const XR={pan:{Feature:QR},drag:{Feature:GR,ProjectionNode:hw,MeasureLayout:Sw}};function t1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&rt.postRender(()=>a(e,ru(e)))}class JR extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=FC(e,(n,i)=>(t1(this.node,i,"Start"),o=>t1(this.node,o,"End"))))}unmount(){}}class ZR extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Ml(this.node.current,"focus",()=>this.onFocus()),Ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&rt.postRender(()=>a(e,ru(e)))}class eb extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=UC(e,(n,i)=>(n1(this.node,i,"Start"),(o,{success:a})=>n1(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xp=new WeakMap,Of=new WeakMap,tb=t=>{const e=xp.get(t.target);e&&e(t)},nb=t=>{t.forEach(tb)};function rb({root:t,...e}){const n=t||document;Of.has(n)||Of.set(n,{});const i=Of.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(nb,{root:t,...e})),i[o]}function ib(t,e,n){const i=rb(e);return xp.set(t,n),i.observe(t),()=>{xp.delete(t),i.unobserve(t)}}const sb={some:0,all:1};class ob extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:sb[o]},f=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(h)};return ib(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ab(e,n))&&this.startObserver()}unmount(){}}function ab({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lb={inView:{Feature:ob},tap:{Feature:eb},focus:{Feature:ZR},hover:{Feature:JR}},ub={layout:{ProjectionNode:hw,MeasureLayout:Sw}},cb={...jR,...lb,...XR,...ub},Ve=RR(cb,bR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),db=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),r1=t=>{const e=db(t);return e.charAt(0).toUpperCase()+e.slice(1)},Aw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),fb=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...f},h)=>N.createElement("svg",{ref:h,...pb,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Aw("lucide",o),...!a&&!fb(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,g])=>N.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=N.forwardRef(({className:i,...o},a)=>N.createElement(mb,{ref:a,iconNode:e,className:Aw(`lucide-${hb(r1(t))}`,`lucide-${t}`,i),...o}));return n.displayName=r1(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],yb=Ge("arrow-right-left",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],la=Ge("award",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],kw=Ge("banknote",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],wb=Ge("briefcase",_b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cw=Ge("chart-column",Eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ll=Ge("check",Tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ab=Ge("clock",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Cb=Ge("coins",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Iw=Ge("compass",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ii=Ge("crown",Rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],i1=Ge("fish",bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Vb=Ge("gift",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jb=Ge("lightbulb",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rw=Ge("loader-circle",Nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ff=Ge("map-pin",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ob=Ge("megaphone",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Bb=Ge("palette",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ub=Ge("qr-code",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wb=Ge("refresh-cw",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Kb=Ge("shopping-bag",Hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gb=Ge("sparkles",qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ns=Ge("star",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Rm=Ge("store",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zn=Ge("target",Xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zb=Ge("trending-up",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tP=Ge("trophy",eP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bw=Ge("users",nP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],iP=Ge("utensils-crossed",rP);function Ms(){const t=ri(),[e,n]=N.useState(!1),i=[{to:"/",label:"Home"},{to:"/about",label:"How It Works"},{to:"/benefits",label:"Benefits"},{to:"/businesses",label:"For Businesses"}],o=a=>t.pathname===a;return m.jsxs("header",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:0,zIndex:100},children:[m.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",height:"70px"},children:[m.jsxs(_e,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[m.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-gold)",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem"},children:"K"}),m.jsxs("div",{children:[m.jsx("div",{style:{fontFamily:"var(--font-display)",fontWeight:"600",color:"var(--kb-navy)",fontSize:"1.1rem",lineHeight:1.1},children:"Kinderbucks"}),m.jsx("div",{style:{fontSize:"0.65rem",color:"var(--kb-gray-500)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Village Currency"})]})]}),m.jsx("nav",{style:{display:"flex",alignItems:"center",gap:"2rem"},className:"desktop-nav",children:i.map(a=>m.jsx(_e,{to:a.to,style:{color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-500)",fontWeight:o(a.to)?"600":"500",fontSize:"0.95rem",transition:"color 0.2s",borderBottom:o(a.to)?"2px solid var(--kb-gold)":"2px solid transparent",paddingBottom:"4px"},children:a.label},a.to))}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},className:"desktop-nav",children:[m.jsx(_e,{to:"/account",className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"My Account"}),m.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Get Kinderbucks"})]}),m.jsx("button",{onClick:()=>n(!e),className:"mobile-menu-btn",style:{display:"none",background:"none",border:"none",padding:"0.5rem",cursor:"pointer"},children:m.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e?m.jsx("path",{d:"M6 6l12 12M6 18L18 6"}):m.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})})]}),e&&m.jsxs("div",{className:"mobile-menu",style:{background:"var(--kb-white)",borderTop:"1px solid var(--kb-gray-200)",padding:"1rem"},children:[i.map(a=>m.jsx(_e,{to:a.to,onClick:()=>n(!1),style:{display:"block",padding:"0.75rem 0",color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-700)",fontWeight:o(a.to)?"600":"400",borderBottom:"1px solid var(--kb-gray-100)"},children:a.label},a.to)),m.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:[m.jsx(_e,{to:"/account",onClick:()=>n(!1),className:"btn btn-secondary",style:{flex:1},children:"My Account"}),m.jsx(_e,{to:"/exchange",onClick:()=>n(!1),className:"btn btn-gold",style:{flex:1},children:"Get Kinderbucks"})]})]}),m.jsx("style",{children:`
        @media (max-width: 768px) {
          .desktop-nav {
            display: none !important;
          }
          .mobile-menu-btn {
            display: block !important;
          }
        }
      `})]})}function Ls(){return m.jsxs("footer",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"3rem 1rem 2rem",marginTop:"auto"},children:[m.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem"},children:[m.jsxs("div",{children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[m.jsx("div",{style:{width:"36px",height:"36px",background:"var(--kb-gold)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-navy)",fontFamily:"var(--font-display)",fontWeight:"700"},children:"K"}),m.jsx("span",{style:{fontFamily:"var(--font-display)",fontWeight:"600",fontSize:"1.1rem"},children:"Kinderbucks"})]}),m.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.6},children:"Village of Kinderhook's local currency program. Supporting local businesses, strengthening community."}),m.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem",marginTop:"1rem"},children:"Est. 2026"})]}),m.jsxs("div",{children:[m.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Quick Links"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx(_e,{to:"/about",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"How It Works"}),m.jsx(_e,{to:"/benefits",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Member Benefits"}),m.jsx(_e,{to:"/exchange",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Get Kinderbucks"}),m.jsx(_e,{to:"/businesses",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"For Businesses"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"For Members"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsx(_e,{to:"/account",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"My Account"}),m.jsx(_e,{to:"/profile",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Kinderhooker Profile"}),m.jsx(_e,{to:"/scan/KB-0001",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Verify Currency"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Contact"}),m.jsxs("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.8},children:["Village of Kinderhook",m.jsx("br",{}),"Columbia County, NY"]})]})]}),m.jsxs("div",{style:{maxWidth:"1200px",margin:"2rem auto 0",paddingTop:"2rem",borderTop:"1px solid var(--kb-navy-light)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[m.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:" 2026 Kinderbucks. A Harmonic Systems project."}),m.jsx("div",{style:{display:"flex",gap:"1.5rem"},children:m.jsx(_e,{to:"/admin/dashboard",style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:"Admin"})})]})]})}function sP(){return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:m.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("div",{style:{display:"inline-block",background:"rgba(201, 162, 39, 0.2)",color:"var(--kb-gold)",padding:"0.5rem 1rem",borderRadius:"100px",fontSize:"0.85rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Village of Kinderhook  Est. 2026"}),m.jsxs("h1",{style:{fontFamily:"var(--font-display)",fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",marginBottom:"1.5rem",lineHeight:1.2},children:["Strengthen Our Village,",m.jsx("br",{}),m.jsx("span",{style:{color:"var(--kb-gold)"},children:"One Kinderbuck at a Time"})]}),m.jsx("p",{style:{fontSize:"1.2rem",color:"var(--kb-gray-300)",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:"A local currency program that keeps money circulating in Kinderhook, rewards loyal customers, and strengthens our community economy."}),m.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[m.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem",fontSize:"1.1rem"},children:"Get Kinderbucks"}),m.jsx(_e,{to:"/about",className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.1rem",borderColor:"var(--kb-white)",color:"var(--kb-white)"},children:"Learn How It Works"})]})]})}),m.jsx("section",{style:{background:"var(--kb-white)",padding:"3rem 1rem",borderBottom:"1px solid var(--kb-gray-200)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem",textAlign:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{className:"stat-value",style:{color:"var(--kb-navy)"},children:"$10,000"}),m.jsx("div",{className:"stat-label",children:"In Circulation"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"stat-value",style:{color:"var(--kb-green)"},children:"19"}),m.jsx("div",{className:"stat-label",children:"Local Businesses"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"stat-value",style:{color:"var(--kb-gold)"},children:"25%"}),m.jsx("div",{className:"stat-label",children:"Max Bonus Rate"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"stat-value",style:{color:"var(--kb-navy)"},children:"100%"}),m.jsx("div",{className:"stat-label",children:"Local Impact"})]})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"How Kinderbucks Works"}),m.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Simple steps to start supporting local"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem"},children:[{step:"1",title:"Exchange",description:"Convert USD to Kinderbucks at participating locations or online. Members get bonus rates!",Icon:yb},{step:"2",title:"Spend Local",description:"Use Kinderbucks at any of our 19+ participating village businesses.",Icon:Rm},{step:"3",title:"Check In",description:"Scan QR codes when you visit to build your Kinderhooker status and unlock rewards.",Icon:Ub},{step:"4",title:"Earn More",description:"Higher tiers mean better exchange rates. Village Patrons get 25% bonus!",Icon:Zb}].map((t,e)=>m.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[m.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:m.jsx(t.Icon,{size:28,color:"var(--kb-gold)",strokeWidth:1.5})}),m.jsxs("div",{style:{color:"var(--kb-gold)",fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.25rem"},children:["STEP ",t.step]}),m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),m.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.95rem"},children:t.description})]},e))})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[m.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Become a Kinderhooker"}),m.jsx("p",{style:{color:"var(--kb-gray-500)",maxWidth:"600px",margin:"0 auto"},children:"Visit local businesses to level up your membership and unlock better exchange rates"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem"},children:[{name:"Curious",businesses:"1+",bonus:"10%",color:"#888888",Icon:Zn},{name:"Hooked",businesses:"5+",bonus:"15%",color:"#2e7d32",Icon:Ns},{name:"Line & Sinker",businesses:"10+",bonus:"20%",color:"#1565c0",Icon:la},{name:"Village Patron",businesses:"15+",bonus:"25%",color:"#c9a227",Icon:ii,featured:!0}].map((t,e)=>m.jsxs(Ve.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center",border:t.featured?"2px solid var(--kb-gold)":void 0,position:"relative",overflow:"hidden"},children:[t.featured&&m.jsx("div",{style:{position:"absolute",top:"10px",right:"-30px",background:"var(--kb-gold)",color:"var(--kb-navy)",padding:"0.25rem 2rem",fontSize:"0.7rem",fontWeight:"600",transform:"rotate(45deg)"},children:"BEST"}),m.jsx("div",{style:{width:"50px",height:"50px",background:`${t.color}15`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem"},children:m.jsx(t.Icon,{size:24,color:t.color,strokeWidth:1.5})}),m.jsx("h3",{style:{color:t.color,marginBottom:"0.5rem"},children:t.name}),m.jsxs("div",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"1rem"},children:[t.businesses," businesses visited"]}),m.jsxs("div",{style:{background:`${t.color}15`,borderRadius:"8px",padding:"1rem"},children:[m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:t.color},children:t.bonus}),m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"Exchange Bonus"})]})]},e))}),m.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:m.jsx(_e,{to:"/profile",className:"btn btn-primary",children:"View My Progress"})})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Participating Businesses"}),m.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Support these local Kinderhook establishments"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:["The Aviary","Morningbird Cafe","Saisonnier","Broad Street Bagel","Brooklyn Pizzeria","Isola Wine Bar","OK Pantry","Kinderhook Books","Samascott's","The School Gallery","Old Dutch Inn","Muse Aesthetics"].map((t,e)=>m.jsx("div",{style:{background:"var(--kb-white)",borderRadius:"8px",padding:"1rem",textAlign:"center",fontSize:"0.9rem",color:"var(--kb-gray-700)",border:"1px solid var(--kb-gray-200)"},children:t},e))}),m.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:m.jsx(_e,{to:"/businesses",className:"btn btn-secondary",children:"View All 19 Businesses "})})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",textAlign:"center"},children:m.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[m.jsx("h2",{style:{marginBottom:"1rem"},children:"Ready to Support Local?"}),m.jsx("p",{style:{opacity:.9,marginBottom:"2rem"},children:"Join the Kinderbucks program today and start earning rewards while strengthening our village economy."}),m.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:m.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Get Your First Kinderbucks"})})]})}),m.jsx(Ls,{})]})}function oP(){return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h1",{style:{marginBottom:"1rem"},children:"How Kinderbucks Works"}),m.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem"},children:"A simple system designed to keep money local and reward community participation"})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"What is Kinderbucks?"}),m.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[m.jsxs("p",{style:{marginBottom:"1rem"},children:[m.jsx("strong",{children:"Kinderbucks"})," is a local currency program for the Village of Kinderhook, NY. It's real money  physical bills with QR codes for verification  that can only be spent at participating local businesses."]}),m.jsx("p",{style:{marginBottom:"1rem"},children:"When you exchange US dollars for Kinderbucks, you're making a commitment to spend locally. In return, you receive bonus value through our OK Membership program, turning $10 into $11, $12, or even $12.50 in local spending power."}),m.jsx("p",{children:"Every Kinderbuck spent stays in the village, circulating between businesses and residents, strengthening our local economy with each transaction."})]})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"The Exchange Process"}),m.jsx("div",{style:{display:"grid",gap:"2rem",maxWidth:"700px",margin:"0 auto"},children:[{step:1,title:"Visit an Exchange Point",description:"Stop by any participating business or our central exchange location with US dollars."},{step:2,title:"Show Your Membership",description:"Scan your profile QR code or provide your phone number to apply your tier bonus."},{step:3,title:"Receive Your Kinderbucks",description:"Get physical Kinderbuck bills in $1, $5, $10, and $20 denominations with your bonus applied."},{step:4,title:"Spend Locally",description:"Use your Kinderbucks at any of our 19+ participating businesses."}].map((t,e)=>m.jsxs(Ve.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:e*.1},viewport:{once:!0},style:{display:"flex",gap:"1.5rem",alignItems:"flex-start"},children:[m.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",color:"var(--kb-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem",flexShrink:0},children:t.step}),m.jsxs("div",{children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),m.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.description})]})]},e))})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Verification & Security"}),m.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[m.jsx("p",{style:{marginBottom:"1rem"},children:"Every Kinderbuck bill has a unique QR code that links to our verification system. When scanned, it confirms:"}),m.jsxs("ul",{style:{marginLeft:"1.5rem",marginBottom:"1.5rem"},children:[m.jsx("li",{style:{marginBottom:"0.5rem"},children:"The bill's authenticity"}),m.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its denomination"}),m.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its current status (active, redeemed, etc.)"}),m.jsx("li",{children:"How many times it's been verified"})]}),m.jsx("p",{children:"This prevents counterfeiting and gives businesses confidence when accepting Kinderbucks."})]}),m.jsxs("div",{className:"card",style:{marginTop:"2rem",textAlign:"center"},children:[m.jsx("p",{style:{marginBottom:"1rem",color:"var(--kb-gray-600)"},children:"Try verifying a Kinderbuck:"}),m.jsx(_e,{to:"/scan/KB-0001",className:"btn btn-primary",children:"Verify KB-0001"})]})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"The Kinderhooker Program"}),m.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[m.jsxs("p",{style:{marginBottom:"1rem"},children:[m.jsx("strong",{children:"OK Membership"})," rewards customers who actively support local businesses. The more businesses you visit, the higher your tier  and the better your exchange rate."]}),m.jsxs("p",{style:{marginBottom:"1rem"},children:['Each participating business has a QR code. Scan it when you visit to record a "check-in." Your tier is based on how many ',m.jsx("em",{children:"unique"})," businesses you've visited, encouraging exploration of the entire village."]}),m.jsx("p",{children:`There's no cost to join. Simply start checking in at businesses, and you'll automatically become a "Kinderhooker" with access to bonus exchange rates.`})]}),m.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[m.jsx(_e,{to:"/benefits",className:"btn btn-primary",children:"View All Benefits"}),m.jsx(_e,{to:"/profile",className:"btn btn-secondary",children:"Check My Status"})]})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem"},children:"Frequently Asked Questions"}),[{q:"Is Kinderbucks real money?",a:"Kinderbucks are a local complementary currency. They have value within our participating business network but cannot be deposited in banks or used outside Kinderhook."},{q:"Can I convert Kinderbucks back to USD?",a:"Kinderbucks are designed to circulate locally. While businesses can redeem them, individual customers are encouraged to spend them at participating businesses."},{q:"What if a business closes?",a:"Kinderbucks remain valid at all other participating businesses. The program maintains reserves to ensure stability."},{q:"How do businesses benefit?",a:"Businesses receive customers committed to spending locally, gain exposure through our directory, and become part of a community-strengthening initiative."},{q:"Is there a fee to exchange?",a:"No fees. You receive full value plus your membership bonus when exchanging USD for Kinderbucks."}].map((t,e)=>m.jsxs("div",{style:{marginBottom:"1.5rem"},children:[m.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.q}),m.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.a})]},e))]})}),m.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-navy)",color:"var(--kb-white)",textAlign:"center"},children:[m.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to get started?"}),m.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Get Your Kinderbucks"})]}),m.jsx(Ls,{})]})}const Os={curious:{name:"Curious",threshold:1,bonus:.1,color:"#888888",bgColor:"#f0f0f0",emoji:""},hooked:{name:"Hooked",threshold:5,bonus:.15,color:"#2e7d32",bgColor:"#e8f5e9",emoji:""},lineAndSinker:{name:"Line & Sinker",threshold:10,bonus:.2,color:"#1565c0",bgColor:"#e3f2fd",emoji:""},patron:{name:"Village Patron",threshold:15,bonus:.25,color:"#c9a227",bgColor:"#fff8e1",emoji:""}};function _p(t){return t>=15?"patron":t>=10?"lineAndSinker":t>=5?"hooked":t>=1?"curious":null}function aP(t){const e=["curious","hooked","lineAndSinker","patron"],n=e.indexOf(t);return n<e.length-1?e[n+1]:null}function bm(t){const e=_p(t),n=aP(e);if(!n)return{progress:100,remaining:0,nextTier:null};const i=Os[n],o=e?Os[e].threshold:0,a=(t-o)/(i.threshold-o)*100;return{progress:Math.min(100,Math.max(0,a)),remaining:i.threshold-t,nextTier:i}}function lP(){const t=[{Icon:Cb,title:"Bonus Exchange Rates",description:"Get up to 25% extra when converting USD to Kinderbucks. A $100 exchange becomes $125 in local spending power.",highlight:"Up to 25% bonus"},{Icon:Rm,title:"Exclusive Local Deals",description:"Participating businesses offer special discounts and promotions exclusively for Kinderhooker members.",highlight:"Member-only offers"},{Icon:Ns,title:"Priority Access",description:"Higher-tier members get early access to limited events, seasonal specials, and new business openings.",highlight:"First in line"},{Icon:Vb,title:"Seasonal Bonuses",description:"Extra rewards during holidays and special village events. Double check-in points, bonus exchanges, and more.",highlight:"Special events"},{Icon:Cw,title:"Impact Tracking",description:"See exactly how your spending supports local businesses and contributes to the village economy.",highlight:"Track your impact"},{Icon:bw,title:"Community Recognition",description:"Village Patrons are recognized in our annual report and invited to exclusive community appreciation events.",highlight:"Be celebrated"}];return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-gold-dark) 0%, var(--kb-gold) 100%)",color:"var(--kb-navy)",padding:"4rem 1rem",textAlign:"center"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("div",{className:"badge badge-navy",style:{marginBottom:"1rem"},children:"OK Membership"}),m.jsx("h1",{style:{marginBottom:"1rem"},children:"Member Benefits & Rewards"}),m.jsx("p",{style:{fontSize:"1.1rem",opacity:.9},children:"The more you support local, the more you earn. It pays to be a Kinderhooker."})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Membership Tiers"}),m.jsx("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:"Visit more businesses to unlock better rewards"}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{minWidth:"700px"},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{width:"25%"},children:"Tier"}),m.jsx("th",{style:{width:"20%"},children:"Requirement"}),m.jsx("th",{style:{width:"20%"},children:"Exchange Bonus"}),m.jsx("th",{style:{width:"35%"},children:"Perks"})]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Zn,{size:18,color:"#888"}),m.jsx("span",{style:{fontWeight:"600",color:"#888"},children:"Curious"})]})}),m.jsx("td",{children:"1+ businesses"}),m.jsx("td",{children:m.jsx("span",{style:{color:"#888",fontWeight:"600"},children:"10%"})}),m.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Basic exchange bonus, check-in tracking"})]}),m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ns,{size:18,color:"#2e7d32"}),m.jsx("span",{style:{fontWeight:"600",color:"#2e7d32"},children:"Hooked"})]})}),m.jsx("td",{children:"5+ businesses"}),m.jsx("td",{children:m.jsx("span",{style:{color:"#2e7d32",fontWeight:"600"},children:"15%"})}),m.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Seasonal bonus events, member deals"})]}),m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(la,{size:18,color:"#1565c0"}),m.jsx("span",{style:{fontWeight:"600",color:"#1565c0"},children:"Line & Sinker"})]})}),m.jsx("td",{children:"10+ businesses"}),m.jsx("td",{children:m.jsx("span",{style:{color:"#1565c0",fontWeight:"600"},children:"20%"})}),m.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Priority access, exclusive events"})]}),m.jsxs("tr",{style:{background:"rgba(201, 162, 39, 0.1)"},children:[m.jsx("td",{children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(ii,{size:18,color:"#c9a227"}),m.jsx("span",{style:{fontWeight:"600",color:"#c9a227"},children:"Village Patron"})]})}),m.jsx("td",{children:"15+ businesses"}),m.jsx("td",{children:m.jsx("span",{style:{color:"#c9a227",fontWeight:"600"},children:"25%"})}),m.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"All perks + community recognition + VIP events"})]})]})]})}),m.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:m.jsx(_e,{to:"/profile",className:"btn btn-primary",children:"Check My Progress"})})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"All Member Benefits"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:t.map((e,n)=>m.jsx(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},viewport:{once:!0},className:"card",children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[m.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:m.jsx(e.Icon,{size:24,color:"var(--kb-gold)",strokeWidth:1.5})}),m.jsxs("div",{children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem",fontSize:"1.1rem"},children:e.title}),m.jsx("span",{className:"badge badge-gold",style:{marginBottom:"0.5rem"},children:e.highlight}),m.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",marginTop:"0.5rem"},children:e.description})]})]})},n))})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"See Your Savings"}),m.jsx("p",{style:{color:"var(--kb-gray-500)",marginBottom:"2rem"},children:"Example: Exchange $100 USD"}),m.jsx("div",{className:"card",style:{padding:"2rem"},children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[{tier:"Curious",bonus:10,color:"#888"},{tier:"Hooked",bonus:15,color:"#2e7d32"},{tier:"Line & Sinker",bonus:20,color:"#1565c0"},{tier:"Village Patron",bonus:25,color:"#c9a227"}].map((e,n)=>m.jsxs("div",{style:{padding:"1rem",borderRadius:"8px",background:`${e.color}10`,border:`1px solid ${e.color}30`},children:[m.jsx("div",{style:{fontSize:"0.85rem",color:e.color,fontWeight:"600"},children:e.tier}),m.jsxs("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:e.color},children:["$",100+e.bonus]}),m.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"in Kinderbucks"})]},n))})}),m.jsx("div",{style:{marginTop:"2rem"},children:m.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Start Exchanging"})})]})}),m.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-green)",color:"var(--kb-white)",textAlign:"center"},children:[m.jsx("h3",{style:{marginBottom:"1rem"},children:"Start earning rewards today"}),m.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Visit a participating business and scan their QR code to begin"}),m.jsx(_e,{to:"/businesses",className:"btn btn-gold",children:"Find Businesses Near You"})]}),m.jsx(Ls,{})]})}const uP=()=>{};var s1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},cP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],f=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,f=u?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=a>>2,v=(a&3)<<4|f>>4;let w=(f&15)<<2|p>>6,S=p&63;h||(S=64,u||(w=64)),i.push(n[g],n[v],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||p==null||v==null)throw new hP;const w=a<<2|f>>4;if(i.push(w),p!==64){const S=f<<4&240|p>>2;if(i.push(S),v!==64){const k=p<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(t){const e=Pw(t);return Vw.encodeByteArray(e,!0)},rh=function(t){return dP(t).replace(/\./g,"")},fP=function(t){try{return Vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=()=>pP().__FIREBASE_DEFAULTS__,gP=()=>{if(typeof process>"u"||typeof s1>"u")return;const t=s1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fP(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return uP()||mP()||gP()||yP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vP=t=>{var e,n;return(n=(e=Pm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xP=t=>{const e=vP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Dw=()=>{var t;return(t=Pm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rh(JSON.stringify(n)),rh(JSON.stringify(u)),""].join(".")}const kl={};function TP(){const t={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?t.emulator.push(e):t.prod.push(e);return t}function SP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let o1=!1;function AP(t,e){if(typeof window>"u"||typeof document>"u"||!Vm(window.location.host)||kl[t]===e||kl[t]||o1)return;kl[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=TP().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{o1=!0,u()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=SP(i),S=n("text"),k=document.getElementById(S)||document.createElement("span"),R=n("learnmore"),I=document.getElementById(R)||document.createElement("a"),z=n("preprendIcon"),L=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const P=w.element;f(P),g(I,R);const Q=p();h(L,z),P.append(L,k,I,Q),document.body.appendChild(P)}a?(k.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CP(){var e;const t=(e=Pm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IP(){return!CP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RP(){try{return typeof indexedDB=="object"}catch{return!1}}function bP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class ua extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=PP,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jw.prototype.create)}}class jw{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?VP(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ua(o,f,i)}}function VP(t,e){return t.replace(DP,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const DP=/\{\$([^}]+)}/g;function Ol(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(a1(a)&&a1(u)){if(!Ol(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function a1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){return t&&t._delegate?t._delegate:t}class Fl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _P;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MP(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(t){return t===Rs?void 0:t}function MP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const OP={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},FP=Fe.INFO,BP={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},zP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=BP[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nw{constructor(e){this.name=e,this._logLevel=FP,this._logHandler=zP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const UP=(t,e)=>e.some(n=>t instanceof n);let l1,u1;function $P(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,wp=new WeakMap,Lw=new WeakMap,Bf=new WeakMap,Dm=new WeakMap;function HP(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Oi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Mw.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function KP(t){if(wp.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});wp.set(t,e)}let Ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qP(t){Ep=t(Ep)}function GP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(zf(this),e,...n);return Lw.set(i,e.sort?e.sort():[e]),Oi(i)}:WP().includes(t)?function(...e){return t.apply(zf(this),e),Oi(Mw.get(this))}:function(...e){return Oi(t.apply(zf(this),e))}}function QP(t){return typeof t=="function"?GP(t):(t instanceof IDBTransaction&&KP(t),UP(t,$P())?new Proxy(t,Ep):t)}function Oi(t){if(t instanceof IDBRequest)return HP(t);if(Bf.has(t))return Bf.get(t);const e=QP(t);return e!==t&&(Bf.set(t,e),Dm.set(e,t)),e}const zf=t=>Dm.get(t);function YP(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),f=Oi(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Oi(u.result),h.oldVersion,h.newVersion,Oi(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const XP=["get","getKey","getAll","getAllKeys","count"],JP=["put","add","delete","clear"],Uf=new Map;function c1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=JP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||XP.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),o&&h.done]))[0]};return Uf.set(e,a),a}qP(t=>({...t,get:(e,n,i)=>c1(e,n)||t.get(e,n,i),has:(e,n)=>!!c1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function eV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",h1="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Nw("@firebase/app"),tV="@firebase/app-compat",nV="@firebase/analytics-compat",rV="@firebase/analytics",iV="@firebase/app-check-compat",sV="@firebase/app-check",oV="@firebase/auth",aV="@firebase/auth-compat",lV="@firebase/database",uV="@firebase/data-connect",cV="@firebase/database-compat",hV="@firebase/functions",dV="@firebase/functions-compat",fV="@firebase/installations",pV="@firebase/installations-compat",mV="@firebase/messaging",gV="@firebase/messaging-compat",yV="@firebase/performance",vV="@firebase/performance-compat",xV="@firebase/remote-config",_V="@firebase/remote-config-compat",wV="@firebase/storage",EV="@firebase/storage-compat",TV="@firebase/firestore",SV="@firebase/ai",AV="@firebase/firestore-compat",kV="firebase",CV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",IV={[Tp]:"fire-core",[tV]:"fire-core-compat",[rV]:"fire-analytics",[nV]:"fire-analytics-compat",[sV]:"fire-app-check",[iV]:"fire-app-check-compat",[oV]:"fire-auth",[aV]:"fire-auth-compat",[lV]:"fire-rtdb",[uV]:"fire-data-connect",[cV]:"fire-rtdb-compat",[hV]:"fire-fn",[dV]:"fire-fn-compat",[fV]:"fire-iid",[pV]:"fire-iid-compat",[mV]:"fire-fcm",[gV]:"fire-fcm-compat",[yV]:"fire-perf",[vV]:"fire-perf-compat",[xV]:"fire-rc",[_V]:"fire-rc-compat",[wV]:"fire-gcs",[EV]:"fire-gcs-compat",[TV]:"fire-fst",[AV]:"fire-fst-compat",[SV]:"fire-vertex","fire-js":"fire-js",[kV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,RV=new Map,Ap=new Map;function d1(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sh(t){const e=t.name;if(Ap.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,t);for(const n of ih.values())d1(n,t);for(const n of RV.values())d1(n,t);return!0}function bV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function PV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new jw("app","Firebase",VV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=CV;function Ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Sp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=Dw()),!n)throw Fi.create("no-options");const a=ih.get(o);if(a){if(Ol(n,a.options)&&Ol(i,a.config))return a;throw Fi.create("duplicate-app",{appName:o})}const u=new LP(o);for(const h of Ap.values())u.addComponent(h);const f=new DV(n,i,u);return ih.set(o,f),f}function NV(t=Sp){const e=ih.get(t);if(!e&&t===Sp&&Dw())return Ow();if(!e)throw Fi.create("no-app",{appName:t});return e}function Ko(t,e,n){let i=IV[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(u.join(" "));return}sh(new Fl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-heartbeat-database",LV=1,Bl="firebase-heartbeat-store";let $f=null;function Fw(){return $f||($f=YP(MV,LV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),$f}async function OV(t){try{const n=(await Fw()).transaction(Bl),i=await n.objectStore(Bl).get(Bw(t));return await n.done,i}catch(e){if(e instanceof ua)ei.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function f1(t,e){try{const i=(await Fw()).transaction(Bl,"readwrite");await i.objectStore(Bl).put(e,Bw(t)),await i.done}catch(n){if(n instanceof ua)ei.warn(n.message);else{const i=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(i.message)}}}function Bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1024,BV=30;class zV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $V(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>BV){const u=WV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p1(),{heartbeatsToSend:i,unsentEntries:o}=UV(this._heartbeatsCache.heartbeats),a=rh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ei.warn(n),""}}}function p1(){return new Date().toISOString().substring(0,10)}function UV(t,e=FV){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),m1(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class $V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RP()?bP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m1(t){return rh(JSON.stringify({version:2,heartbeats:t})).length}function WV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){sh(new Fl("platform-logger",e=>new ZP(e),"PRIVATE")),sh(new Fl("heartbeat",e=>new zV(e),"PRIVATE")),Ko(Tp,h1,t),Ko(Tp,h1,"esm2020"),Ko("fire-js","")}HV("");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,zw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,C){function b(){}b.prototype=C.prototype,j.F=C.prototype,j.prototype=new b,j.prototype.constructor=j,j.D=function(O,M,$){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return C.prototype[M].apply(O,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,C,b){b||(b=0);const O=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)O[M]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(M=0;M<16;++M)O[M]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=j.g[0],b=j.g[1],M=j.g[2];let $=j.g[3],D;D=C+($^b&(M^$))+O[0]+3614090360&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(M^C&(b^M))+O[1]+3905402710&4294967295,$=C+(D<<12&4294967295|D>>>20),D=M+(b^$&(C^b))+O[2]+606105819&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(C^M&($^C))+O[3]+3250441966&4294967295,b=M+(D<<22&4294967295|D>>>10),D=C+($^b&(M^$))+O[4]+4118548399&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(M^C&(b^M))+O[5]+1200080426&4294967295,$=C+(D<<12&4294967295|D>>>20),D=M+(b^$&(C^b))+O[6]+2821735955&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(C^M&($^C))+O[7]+4249261313&4294967295,b=M+(D<<22&4294967295|D>>>10),D=C+($^b&(M^$))+O[8]+1770035416&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(M^C&(b^M))+O[9]+2336552879&4294967295,$=C+(D<<12&4294967295|D>>>20),D=M+(b^$&(C^b))+O[10]+4294925233&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(C^M&($^C))+O[11]+2304563134&4294967295,b=M+(D<<22&4294967295|D>>>10),D=C+($^b&(M^$))+O[12]+1804603682&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(M^C&(b^M))+O[13]+4254626195&4294967295,$=C+(D<<12&4294967295|D>>>20),D=M+(b^$&(C^b))+O[14]+2792965006&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(C^M&($^C))+O[15]+1236535329&4294967295,b=M+(D<<22&4294967295|D>>>10),D=C+(M^$&(b^M))+O[1]+4129170786&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(C^b))+O[6]+3225465664&4294967295,$=C+(D<<9&4294967295|D>>>23),D=M+(C^b&($^C))+O[11]+643717713&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^C&(M^$))+O[0]+3921069994&4294967295,b=M+(D<<20&4294967295|D>>>12),D=C+(M^$&(b^M))+O[5]+3593408605&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(C^b))+O[10]+38016083&4294967295,$=C+(D<<9&4294967295|D>>>23),D=M+(C^b&($^C))+O[15]+3634488961&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^C&(M^$))+O[4]+3889429448&4294967295,b=M+(D<<20&4294967295|D>>>12),D=C+(M^$&(b^M))+O[9]+568446438&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(C^b))+O[14]+3275163606&4294967295,$=C+(D<<9&4294967295|D>>>23),D=M+(C^b&($^C))+O[3]+4107603335&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^C&(M^$))+O[8]+1163531501&4294967295,b=M+(D<<20&4294967295|D>>>12),D=C+(M^$&(b^M))+O[13]+2850285829&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(C^b))+O[2]+4243563512&4294967295,$=C+(D<<9&4294967295|D>>>23),D=M+(C^b&($^C))+O[7]+1735328473&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^C&(M^$))+O[12]+2368359562&4294967295,b=M+(D<<20&4294967295|D>>>12),D=C+(b^M^$)+O[5]+4294588738&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^M)+O[8]+2272392833&4294967295,$=C+(D<<11&4294967295|D>>>21),D=M+($^C^b)+O[11]+1839030562&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^C)+O[14]+4259657740&4294967295,b=M+(D<<23&4294967295|D>>>9),D=C+(b^M^$)+O[1]+2763975236&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^M)+O[4]+1272893353&4294967295,$=C+(D<<11&4294967295|D>>>21),D=M+($^C^b)+O[7]+4139469664&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^C)+O[10]+3200236656&4294967295,b=M+(D<<23&4294967295|D>>>9),D=C+(b^M^$)+O[13]+681279174&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^M)+O[0]+3936430074&4294967295,$=C+(D<<11&4294967295|D>>>21),D=M+($^C^b)+O[3]+3572445317&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^C)+O[6]+76029189&4294967295,b=M+(D<<23&4294967295|D>>>9),D=C+(b^M^$)+O[9]+3654602809&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^M)+O[12]+3873151461&4294967295,$=C+(D<<11&4294967295|D>>>21),D=M+($^C^b)+O[15]+530742520&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^C)+O[2]+3299628645&4294967295,b=M+(D<<23&4294967295|D>>>9),D=C+(M^(b|~$))+O[0]+4096336452&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~M))+O[7]+1126891415&4294967295,$=C+(D<<10&4294967295|D>>>22),D=M+(C^($|~b))+O[14]+2878612391&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~C))+O[5]+4237533241&4294967295,b=M+(D<<21&4294967295|D>>>11),D=C+(M^(b|~$))+O[12]+1700485571&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~M))+O[3]+2399980690&4294967295,$=C+(D<<10&4294967295|D>>>22),D=M+(C^($|~b))+O[10]+4293915773&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~C))+O[1]+2240044497&4294967295,b=M+(D<<21&4294967295|D>>>11),D=C+(M^(b|~$))+O[8]+1873313359&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~M))+O[15]+4264355552&4294967295,$=C+(D<<10&4294967295|D>>>22),D=M+(C^($|~b))+O[6]+2734768916&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~C))+O[13]+1309151649&4294967295,b=M+(D<<21&4294967295|D>>>11),D=C+(M^(b|~$))+O[4]+4149444226&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~M))+O[11]+3174756917&4294967295,$=C+(D<<10&4294967295|D>>>22),D=M+(C^($|~b))+O[2]+718787259&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~C))+O[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+$&4294967295}i.prototype.v=function(j,C){C===void 0&&(C=j.length);const b=C-this.blockSize,O=this.C;let M=this.h,$=0;for(;$<C;){if(M==0)for(;$<=b;)o(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<C;)if(O[M++]=j.charCodeAt($++),M==this.blockSize){o(this,O),M=0;break}}else for(;$<C;)if(O[M++]=j[$++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=C},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;C=this.o*8;for(var b=j.length-8;b<j.length;++b)j[b]=C&255,C/=256;for(this.v(j),j=Array(16),C=0,b=0;b<4;++b)for(let O=0;O<32;O+=8)j[C++]=this.g[b]>>>O&255;return j};function a(j,C){var b=f;return Object.prototype.hasOwnProperty.call(b,j)?b[j]:b[j]=C(j)}function u(j,C){this.h=C;const b=[];let O=!0;for(let M=j.length-1;M>=0;M--){const $=j[M]|0;O&&$==C||(b[M]=$,O=!1)}this.g=b}var f={};function h(j){return-128<=j&&j<128?a(j,function(C){return new u([C|0],C<0?-1:0)}):new u([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return v;if(j<0)return I(p(-j));const C=[];let b=1;for(let O=0;j>=b;O++)C[O]=j/b|0,b*=4294967296;return new u(C,0)}function g(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return I(g(j.substring(1),C));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=p(Math.pow(C,8));let O=v;for(let $=0;$<j.length;$+=8){var M=Math.min(8,j.length-$);const D=parseInt(j.substring($,$+M),C);M<8?(M=p(Math.pow(C,M)),O=O.j(M).add(p(D))):(O=O.j(b),O=O.add(p(D)))}return O}var v=h(0),w=h(1),S=h(16777216);t=u.prototype,t.m=function(){if(R(this))return-I(this).m();let j=0,C=1;for(let b=0;b<this.g.length;b++){const O=this.i(b);j+=(O>=0?O:4294967296+O)*C,C*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(k(this))return"0";if(R(this))return"-"+I(this).toString(j);const C=p(Math.pow(j,6));var b=this;let O="";for(;;){const M=Q(b,C).g;b=z(b,M.j(C));let $=((b.g.length>0?b.g[0]:b.h)>>>0).toString(j);if(b=M,k(b))return $+O;for(;$.length<6;)$="0"+$;O=$+O}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function k(j){if(j.h!=0)return!1;for(let C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function R(j){return j.h==-1}t.l=function(j){return j=z(this,j),R(j)?-1:k(j)?0:1};function I(j){const C=j.g.length,b=[];for(let O=0;O<C;O++)b[O]=~j.g[O];return new u(b,~j.h).add(w)}t.abs=function(){return R(this)?I(this):this},t.add=function(j){const C=Math.max(this.g.length,j.g.length),b=[];let O=0;for(let M=0;M<=C;M++){let $=O+(this.i(M)&65535)+(j.i(M)&65535),D=($>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);O=D>>>16,$&=65535,D&=65535,b[M]=D<<16|$}return new u(b,b[b.length-1]&-2147483648?-1:0)};function z(j,C){return j.add(I(C))}t.j=function(j){if(k(this)||k(j))return v;if(R(this))return R(j)?I(this).j(I(j)):I(I(this).j(j));if(R(j))return I(this.j(I(j)));if(this.l(S)<0&&j.l(S)<0)return p(this.m()*j.m());const C=this.g.length+j.g.length,b=[];for(var O=0;O<2*C;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<j.g.length;M++){const $=this.i(O)>>>16,D=this.i(O)&65535,be=j.i(M)>>>16,$e=j.i(M)&65535;b[2*O+2*M]+=D*$e,L(b,2*O+2*M),b[2*O+2*M+1]+=$*$e,L(b,2*O+2*M+1),b[2*O+2*M+1]+=D*be,L(b,2*O+2*M+1),b[2*O+2*M+2]+=$*be,L(b,2*O+2*M+2)}for(j=0;j<C;j++)b[j]=b[2*j+1]<<16|b[2*j];for(j=C;j<2*C;j++)b[j]=0;return new u(b,0)};function L(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function P(j,C){this.g=j,this.h=C}function Q(j,C){if(k(C))throw Error("division by zero");if(k(j))return new P(v,v);if(R(j))return C=Q(I(j),C),new P(I(C.g),I(C.h));if(R(C))return C=Q(j,I(C)),new P(I(C.g),C.h);if(j.g.length>30){if(R(j)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var b=w,O=C;O.l(j)<=0;)b=J(b),O=J(O);var M=se(b,1),$=se(O,1);for(O=se(O,2),b=se(b,2);!k(O);){var D=$.add(O);D.l(j)<=0&&(M=M.add(b),$=D),O=se(O,1),b=se(b,1)}return C=z(j,M.j(C)),new P(M,C)}for(M=v;j.l(C)>=0;){for(b=Math.max(1,Math.floor(j.m()/C.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),$=p(b),D=$.j(C);R(D)||D.l(j)>0;)b-=O,$=p(b),D=$.j(C);k($)&&($=w),M=M.add($),j=z(j,D)}return new P(M,j)}t.B=function(j){return Q(this,j).h},t.and=function(j){const C=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<C;O++)b[O]=this.i(O)&j.i(O);return new u(b,this.h&j.h)},t.or=function(j){const C=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<C;O++)b[O]=this.i(O)|j.i(O);return new u(b,this.h|j.h)},t.xor=function(j){const C=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<C;O++)b[O]=this.i(O)^j.i(O);return new u(b,this.h^j.h)};function J(j){const C=j.g.length+1,b=[];for(let O=0;O<C;O++)b[O]=j.i(O)<<1|j.i(O-1)>>>31;return new u(b,j.h)}function se(j,C){const b=C>>5;C%=32;const O=j.g.length-b,M=[];for(let $=0;$<O;$++)M[$]=C>0?j.i($+b)>>>C|j.i($+b+1)<<32-C:j.i($+b);return new u(M,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Bi=u}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uw,vl,$w,$c,kp,Ww,Hw,Kw;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in E))break e;E=E[H]}c=c[c.length-1],A=E[c],_=_(A),_!=A&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function h(c,_,E){return c.call.apply(c.bind,arguments)}function p(c,_,E){return p=h,p.apply(null,arguments)}function g(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function v(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,H,G){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return _.prototype[H].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function S(c){const _=c.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=c[A];return E}return[]}function k(c,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=c.length||0;const G=H.length||0;c.length=E+G;for(let oe=0;oe<G;oe++)c[E+oe]=H[oe]}else c.push(H)}}class R{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(c){u.setTimeout(()=>{throw c},0)}function z(){var c=j;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,E){const A=P.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var P=new R(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,se=!1,j=new L,C=()=>{const c=Promise.resolve(void 0);J=()=>{c.then(b)}};function b(){for(var c;c=z();){try{c.h.call(c.g)}catch(E){I(E)}var _=P;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}se=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function be(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}v(be,M),be.prototype.init=function(c,_){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),xt=0;function Ee(c,_,E,A,H){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=H,this.key=++xt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,_,E){for(const A in c)_.call(E,c[A],A,c)}function ae(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function U(c){const _={};for(const E in c)_[E]=c[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(c,_){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)c[E]=A[E];for(let G=0;G<Z.length;G++)E=Z[G],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,_,E,A,H){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=je(c,_,A,H);return oe>-1?(_=c[oe],E||(_.fa=!1)):(_=new Ee(_,this.src,G,!!A,H),_.fa=E,c.push(_)),_};function De(c,_){const E=_.type;if(E in c.g){var A=c.g[E],H=Array.prototype.indexOf.call(A,_,void 0),G;(G=H>=0)&&Array.prototype.splice.call(A,H,1),G&&(re(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function je(c,_,E,A){for(let H=0;H<c.length;++H){const G=c[H];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==A)return H}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Be={};function Qe(c,_,E,A,H){if(Array.isArray(_)){for(let G=0;G<_.length;G++)Qe(c,_[G],E,A,H);return null}return E=xa(E),c&&c[$e]?c.J(_,E,f(A)?!!A.capture:!1,H):en(c,_,E,!1,A,H)}function en(c,_,E,A,H,G){if(!_)throw Error("Invalid event type");const oe=f(H)?!!H.capture:!!H;let Ce=Qs(c);if(Ce||(c[He]=Ce=new ke(c)),E=Ce.add(_,E,A,oe,G),E.proxy)return E;if(A=qs(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)$||(H=oe),H===void 0&&(H=!1),c.addEventListener(_.toString(),A,H);else if(c.attachEvent)c.attachEvent(Gs(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qs(){function c(E){return _.call(c.src,c.listener,E)}const _=du;return c}function va(c,_,E,A,H){if(Array.isArray(_))for(var G=0;G<_.length;G++)va(c,_[G],E,A,H);else A=f(A)?!!A.capture:!!A,E=xa(E),c&&c[$e]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],E=je(_,E,A,H),E>-1&&(re(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=Qs(c))&&(_=c.g[_.toString()],c=-1,_&&(c=je(_,E,A,H)),(E=c>-1?_[c]:null)&&si(E))}function si(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[$e])De(_.i,c);else{var E=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(E,A,c.capture):_.detachEvent?_.detachEvent(Gs(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Qs(_))?(De(E,c),E.h==0&&(E.src=null,_[He]=null)):re(c)}}}function Gs(c){return c in Be?Be[c]:Be[c]="on"+c}function du(c,_){if(c.da)c=!0;else{_=new be(_,this);const E=c.listener,A=c.ha||c.src;c.fa&&si(c),c=E.call(A,_)}return c}function Qs(c){return c=c[He],c instanceof ke?c:null}var es="__closure_events_fn_"+(Math.random()*1e9>>>0);function xa(c){return typeof c=="function"?c:(c[es]||(c[es]=function(_){return c.handleEvent(_)}),c[es])}function _t(){O.call(this),this.i=new ke(this),this.M=this,this.G=null}v(_t,O),_t.prototype[$e]=!0,_t.prototype.removeEventListener=function(c,_,E,A){va(this,c,_,E,A)};function pt(c,_){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var H=_;_=new M(A,c),Ae(_,H)}H=!0;let G,oe;if(E)for(oe=E.length-1;oe>=0;oe--)G=_.g=E[oe],H=Fn(G,A,!0,_)&&H;if(G=_.g=c,H=Fn(G,A,!0,_)&&H,H=Fn(G,A,!1,_)&&H,E)for(oe=0;oe<E.length;oe++)G=_.g=E[oe],H=Fn(G,A,!1,_)&&H}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let A=0;A<E.length;A++)re(E[A]);delete c.g[_],c.h--}}this.G=null},_t.prototype.J=function(c,_,E,A){return this.i.add(String(c),_,!1,E,A)},_t.prototype.K=function(c,_,E,A){return this.i.add(String(c),_,!0,E,A)};function Fn(c,_,E,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let G=0;G<_.length;++G){const oe=_[G];if(oe&&!oe.da&&oe.capture==E){const Ce=oe.listener,mt=oe.ha||oe.src;oe.fa&&De(c.i,oe),H=Ce.call(mt,A)!==!1&&H}}return H&&!A.defaultPrevented}function _a(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function wa(c){c.g=_a(()=>{c.g=null,c.i&&(c.i=!1,wa(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class fu extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){O.call(this),this.h=c,this.g={}}v(oi,O);var Ea=[];function Ys(c){fe(c.g,function(_,E){this.g.hasOwnProperty(E)&&si(_)},c),c.g={}}oi.prototype.N=function(){oi.Z.N.call(this),Ys(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=u.JSON.stringify,pu=u.JSON.parse,ts=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function li(){}function mu(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xs(){M.call(this,"d")}v(Xs,M);function Ta(){M.call(this,"c")}v(Ta,M);var Bn={},Js=null;function ci(){return Js=Js||new _t}Bn.Ia="serverreachability";function Zs(c){M.call(this,Bn.Ia,c)}v(Zs,M);function br(c){const _=ci();pt(_,new Zs(_))}Bn.STAT_EVENT="statevent";function Pr(c,_){M.call(this,Bn.STAT_EVENT,c),this.stat=_}v(Pr,M);function ct(c){const _=ci();pt(_,new Pr(_,c))}Bn.Ja="timingevent";function Sa(c,_){M.call(this,Bn.Ja,c),this.size=_}v(Sa,M);function hi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function gu(c,_,E,A,H,G){c.info(function(){if(c.g)if(G){var oe="",Ce=G.split("&");for(let qe=0;qe<Ce.length;qe++){var mt=Ce[qe].split("=");if(mt.length>1){const wt=mt[0];mt=mt[1];const _n=wt.split("_");oe=_n.length>=2&&_n[1]=="type"?oe+(wt+"="+mt+"&"):oe+(wt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+E+`
`+oe})}function yu(c,_,E,A,H,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+E+`
`+G+" "+oe})}function nr(c,_,E,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+ns(c,E)+(A?" "+A:"")})}function vu(c,_){c.info(function(){return"TIMEOUT: "+_})}di.prototype.info=function(){};function ns(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return ai(G)}catch{return _}}var fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xu;function Vr(){}v(Vr,li),Vr.prototype.g=function(){return new XMLHttpRequest},xu=new Vr;function rr(c){return encodeURIComponent(String(c))}function eo(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function An(c,_,E,A){this.j=c,this.i=_,this.l=E,this.S=A||1,this.V=new oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}var wu={},Aa={};function zn(c,_,E){c.M=1,c.A=jr(kn(_)),c.u=E,c.R=!0,ka(c,null)}function ka(c,_){c.F=Date.now(),rs(c),c.B=kn(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ma(E.i,"t",A),c.C=0,E=c.j.L,c.h=new _u,c.g=Pu(c.j,E?_:null,!c.u),c.P>0&&(c.O=new fu(p(c.Y,c,c.g),c.P)),_=c.V,E=c.g,A=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ea[0]=H.toString()),H=Ea);for(let G=0;G<H.length;G++){const oe=Qe(E,H[G],A||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),br(),gu(c.i,c.v,c.B,c.l,c.S,c.u)}An.prototype.ba=function(c){c=c.target;const _=this.O;_&&cr(c)==3?_.j():this.Y(c)},An.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=cr(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ru(this.g)))){this.K||Ce!=4||mt==7||(mt==8||qe<=0?br(3):br(2)),to(this);var _=this.g.ca();this.X=_;var E=Eu(this);if(this.o=_==200,yu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var G=A;break t}}G=null}if(c=G)nr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,c);else{this.o=!1,this.m=3,ct(12),Dr(this),is(this);break e}}if(this.R){c=!0;let wt;for(;!this.K&&this.C<E.length;)if(wt=Su(this,E),wt==Aa){Ce==4&&(this.m=4,ct(14),c=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==wu){this.m=4,ct(15),nr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else nr(this.i,this.l,wt,null),Ze(this,wt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,ct(16),c=!1),this.o=this.o&&c,!c)nr(this.i,this.l,E,"[Invalid Chunked Response]"),Dr(this),is(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fs(oe),oe.P=!0,ct(11))}}else nr(this.i,this.l,E,null),Ze(this,E);Ce==4&&Dr(this),this.o&&!this.K&&(Ce==4?ho(this.j,this):(this.o=!1,rs(this)))}else Oa(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Dr(this),is(this)}}}catch{}finally{}};function Eu(c){if(!Tu(c))return c.g.la();const _=Ru(c.g);if(_==="")return"";let E="";const A=_.length,H=cr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Dr(c),is(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,E+=c.h.i.decode(_[G],{stream:!(H&&G==A-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,_){var E=c.C,A=_.indexOf(`
`,E);return A==-1?Aa:(E=Number(_.substring(E,A)),isNaN(E)?wu:(A+=1,A+E>_.length?Aa:(_=_.slice(A,A+E),c.C=A+E,_)))}An.prototype.cancel=function(){this.K=!0,Dr(this)};function rs(c){c.T=Date.now()+c.H,Ca(c,c.H)}function Ca(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(p(c.aa,c),_)}function to(c){c.D&&(u.clearTimeout(c.D),c.D=null)}An.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vu(this.i,this.B),this.M!=2&&(br(),ct(17)),Dr(this),this.m=2,is(this)):Ca(this,this.T-c)};function is(c){c.j.I==0||c.K||ho(c.j,c)}function Dr(c){to(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Ys(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ze(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Ra(E.h,c))){if(!c.L&&Ra(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)co(E),vn(E);else break e;fr(E),ct(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(p(E.Va,E),6e3));ss(E.h)<=1&&E.ta&&(E.ta=void 0)}else xn(E,11)}else if((c.L||E.g==c)&&co(E),!D(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let qe=H[_];const wt=qe[0];if(!(wt<=E.K))if(E.K=wt,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const _n=qe[3];_n!=null&&(E.ka=_n,E.j.info("VER="+E.ka));const Fr=qe[4];Fr!=null&&(E.za=Fr,E.j.info("SVER="+E.za));const pr=qe[5];pr!=null&&typeof pr=="number"&&pr>0&&(A=1.5*pr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const mr=c.g;if(mr){const mo=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var G=A.h;G.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ro(G,G.h),G.h=null))}if(A.G){const za=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(A.wa=za,We(A.J,A.G,za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=c;if(A.na=Ba(A,A.L?A.ba:null,A.W),oe.L){os(A.h,oe);var Ce=oe,mt=A.O;mt&&(Ce.H=mt),Ce.D&&(to(Ce),rs(Ce)),A.g=oe}else Ht(A);E.i.length>0&&Or(E)}else qe[0]!="stop"&&qe[0]!="close"||xn(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xn(E,7):lo(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}br(4)}catch{}}var Hh=class{constructor(c,_){this.g=c,this.map=_}};function no(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ss(c){return c.h?1:c.g?c.g.size:0}function Ra(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function ro(c,_){c.g?c.g.add(_):c.h=_}function os(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}no.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return S(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gn(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let H,G=null;A>=0?(H=c[E].substring(0,A),G=c[E].substring(A+1)):H=c[E],_(H,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ir(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof ir?(this.l=c.l,as(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.u),this.h=c.h,mi(this,La(c.i)),this.m=c.m):c&&(_=String(c).match(Au))?(this.l=!1,as(this,_[1]||"",!0),this.o=ls(_[2]||""),this.g=ls(_[3]||"",!0),sr(this,_[4]),this.h=ls(_[5]||"",!0),mi(this,_[6]||"",!0),this.m=ls(_[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}ir.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(us(_,Pa,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(us(_,Pa,!0),"@"),c.push(rr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(us(E,E.charAt(0)=="/"?cs:Va,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",us(E,Da)),c.join("")},ir.prototype.resolve=function(c){const _=kn(this);let E=!!c.j;E?as(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var A=c.h;if(E)sr(_,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const G=[];for(let oe=0;oe<H.length;){const Ce=H[oe++];Ce=="."?A&&oe==H.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==H.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=H}return E?_.h=A:E=c.i.toString()!=="",E?mi(_,La(c.i)):E=!!c.m,E&&(_.m=c.m),_};function kn(c){return new ir(c)}function as(c,_,E){c.j=E?ls(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function mi(c,_,E){_ instanceof Le?(c.i=_,so(c.i,c.l)):(E||(_=us(_,Kh)),c.i=new Le(_,c.l))}function We(c,_,E){c.i.set(_,E)}function jr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ls(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,ba),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ba(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Pa=/[#\/\?@]/g,Va=/[#\?:]/g,cs=/[#\?]/g,Kh=/[#\?@]/g,Da=/#/g;function Le(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function or(c){c.g||(c.g=new Map,c.h=0,c.i&&gn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Le.prototype,t.add=function(c,_){or(this),this.i=null,c=ar(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function ja(c,_){or(c),_=ar(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function io(c,_){return or(c),_=ar(c,_),c.g.has(_)}t.forEach=function(c,_){or(this),this.g.forEach(function(E,A){E.forEach(function(H){c.call(_,H,A,this)},this)},this)};function Na(c,_){or(c);let E=[];if(typeof _=="string")io(c,_)&&(E=E.concat(c.g.get(ar(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}t.set=function(c,_){return or(this),this.i=null,c=ar(this,c),io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=Na(this,c),c.length>0?String(c[0]):_):_};function Ma(c,_,E){ja(c,_),E.length>0&&(c.i=null,c.g.set(ar(c,_),S(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const H=rr(E);E=Na(this,E);for(let G=0;G<E.length;G++){let oe=H;E[G]!==""&&(oe+="="+rr(E[G])),c.push(oe)}}return this.i=c.join("&")};function La(c){const _=new Le;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function ar(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function so(c,_){_&&!c.j&&(or(c),c.i=null,c.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(ja(this,A),Ma(this,H,E))},c)),c.j=_}function lr(c,_){const E=new di;if(u.Image){const A=new Image;A.onload=g(Mt,E,"TestLoadImage: loaded",!0,_,A),A.onerror=g(Mt,E,"TestLoadImage: error",!1,_,A),A.onabort=g(Mt,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=g(Mt,E,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function ur(c,_){const E=new di,A=new AbortController,H=setTimeout(()=>{A.abort(),Mt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(H),G.ok?Mt(E,"TestPingServer: ok",!0,_):Mt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Mt(E,"TestPingServer: error",!1,_)})}function Mt(c,_,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function hs(){this.g=new ts}function Nr(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Nr,li),Nr.prototype.g=function(){return new yn(this.i,this.h)};function yn(c,_){_t.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(yn,_t),t=yn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Un(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ku(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ku(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?gi(this):Un(this),this.readyState==3&&ku(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,gi(this))},t.Na=function(c){this.g&&(this.response=c,gi(this))},t.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Un(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cu(c){let _="";return fe(c,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function oo(c,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Cu(E),typeof c=="string"?E!=null&&rr(E):We(c,_,E))}function Ye(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ye,_t);var Iu=/^https?$/i,qh=["POST","PUT"];t=Ye.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){yi(this,G);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),H=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(qh,_,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of E)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){yi(this,G)}};function yi(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,vi(c),Lr(c)}function vi(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),Lr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},t.Xa=function(){Mr(this)};function Mr(c){if(c.h&&typeof a<"u"){if(c.v&&cr(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),cr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=G===0){let oe=String(c.D).match(Au)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),A=!Iu.test(oe?oe.toLowerCase():"")}E=A}if(E)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var H=cr(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",vi(c)}}finally{Lr(c)}}}}function Lr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||pt(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function cr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return cr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),pu(_)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(c){const _={};c=(c.g&&cr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var E=eo(c[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[H]||[];_[H]=G,G.push(E)}ae(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function ao(c){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hr("baseRetryDelayMs",5e3,c),this.Za=hr("retryDelaySeedMs",1e4,c),this.Ta=hr("forwardChannelMaxRetries",2,c),this.va=hr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new no(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(c,_,E,A){ct(0),this.W=c,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Ba(this,null,this.W),Or(this)};function lo(c){if(uo(c),c.I==3){var _=c.V++,E=kn(c.J);if(We(E,"SID",c.M),We(E,"RID",_),We(E,"TYPE","terminate"),dr(c,E),_=new An(c,c.j,_),_.M=2,_.A=jr(kn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Pu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),rs(_)}ps(c)}function vn(c){c.g&&(fs(c),c.g.cancel(),c.g=null)}function uo(c){vn(c),c.v&&(u.clearTimeout(c.v),c.v=null),co(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Or(c){if(!Ia(c.h)&&!c.m){c.m=!0;var _=c.Ea;J||C(),se||(J(),se=!0),j.add(_,c),c.D=0}}function bu(c,_){return ss(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(p(c.Ea,c,_),fo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new An(this,this.j,c);let G=this.o;if(this.U&&(G?(G=U(G),Ae(G,this.U)):G=this.U),this.u!==null||this.R||(H.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Fa(this,H,_),E=kn(this.J),We(E,"RID",c),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),dr(this,E),G&&(this.R?_="headers="+rr(Cu(G))+"&"+_:this.u&&oo(E,this.u,G)),ro(this.h,H),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",_),We(E,"SID","null"),H.U=!0,zn(H,E,null)):zn(H,E,_),this.I=2}}else this.I==3&&(c?ds(this,c):this.i.length==0||Ia(this.h)||ds(this))};function ds(c,_){var E;_?E=_.l:E=c.V++;const A=kn(c.J);We(A,"SID",c.M),We(A,"RID",E),We(A,"AID",c.K),dr(c,A),c.u&&c.o&&oo(A,c.u,c.o),E=new An(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Fa(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ro(c.h,E),zn(E,A,_)}function dr(c,_){c.H&&fe(c.H,function(E,A){We(_,A,E)}),c.l&&fe({},function(E,A){We(_,A,E)})}function Fa(c,_,E){E=Math.min(c.i.length,E);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ce=-1;for(;;){const mt=["count="+E];Ce==-1?E>0?(Ce=H[0].g,mt.push("ofs="+Ce)):Ce=0:mt.push("ofs="+Ce);let qe=!0;for(let wt=0;wt<E;wt++){var G=H[wt].g;const _n=H[wt].map;if(G-=Ce,G<0)Ce=Math.max(0,H[wt].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var oe=_n instanceof Map?_n:Object.entries(_n);for(const[Fr,pr]of oe){let mr=pr;f(pr)&&(mr=ai(pr)),mt.push(G+Fr+"="+encodeURIComponent(mr))}}catch(Fr){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Fr}}catch{A&&A(_n)}}if(qe){oe=mt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),_.G=c,oe}function Ht(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;J||C(),se||(J(),se=!0),j.add(_,c),c.A=0}}function fr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(p(c.Da,c),fo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,xi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),vn(this),xi(this))};function fs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function xi(c){c.g=new An(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=kn(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),dr(c,_),c.u&&c.o&&oo(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=jr(kn(_)),E.u=null,E.R=!0,ka(E,c)}t.Va=function(){this.C!=null&&(this.C=null,vn(this),fr(this),ct(19))};function co(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function ho(c,_){var E=null;if(c.g==_){co(c),fs(c),c.g=null;var A=2}else if(Ra(c.h,_))E=_.G,os(c.h,_),A=1;else return;if(c.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=c.D;A=ci(),pt(A,new Sa(A,E)),Or(c)}else Ht(c);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&bu(c,_)||A==2&&fr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),H){case 1:xn(c,5);break;case 4:xn(c,10);break;case 3:xn(c,6);break;default:xn(c,2)}}}function fo(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function xn(c,_){if(c.j.info("Error code "+_),_==2){var E=p(c.bb,c),A=c.Ua;const H=!A;A=new ir(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||as(A,"https"),jr(A),H?lr(A.toString(),E):ur(A.toString(),E)}else ct(2);c.I=0,c.l&&c.l.pa(_),ps(c),uo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function ps(c){if(c.I=0,c.ja=[],c.l){const _=mn(c.h);(_.length!=0||c.i.length!=0)&&(k(c.ja,_),k(c.ja,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.oa()}}function Ba(c,_,E){var A=E instanceof ir?kn(E):new ir(E);if(A.g!="")_&&(A.g=_+"."+A.g),sr(A,A.u);else{var H=u.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const G=new ir(null);A&&as(G,A),_&&(G.g=_),H&&sr(G,H),E&&(G.h=E),A=G}return E=c.G,_=c.wa,E&&_&&We(A,E,_),We(A,"VER",c.ka),dr(c,A),A}function Pu(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Ye(new Nr({ab:E})):new Ye(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}t=Vu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function po(){}po.prototype.g=function(c,_){return new Lt(c,_)};function Lt(c,_){_t.call(this),this.g=new ao(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!D(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new _i(this)}v(Lt,_t),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){lo(this.g)},Lt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ai(c),c=E);_.i.push(new Hh(_.Ya++,c)),_.I==3&&Or(_)},Lt.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Lt.Z.N.call(this)};function Du(c){Xs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}v(Du,Xs);function ju(){Ta.call(this),this.status=1}v(ju,Ta);function _i(c){this.g=c}v(_i,Vu),_i.prototype.ra=function(){pt(this.g,"a")},_i.prototype.qa=function(c){pt(this.g,new Du(c))},_i.prototype.pa=function(c){pt(this.g,new ju)},_i.prototype.oa=function(){pt(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Kw=function(){return new po},Hw=function(){return ci()},Ww=Bn,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,$c=fi,pi.COMPLETE="complete",$w=pi,mu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",_t.prototype.listen=_t.prototype.J,vl=mu,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,Uw=Ye}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="12.8.0";function KV(t){ca=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Nw("@firebase/firestore");function Mo(){return Fs.logLevel}function ce(t,...e){if(Fs.logLevel<=Fe.DEBUG){const n=e.map(jm);Fs.debug(`Firestore (${ca}): ${t}`,...n)}}function ti(t,...e){if(Fs.logLevel<=Fe.ERROR){const n=e.map(jm);Fs.error(`Firestore (${ca}): ${t}`,...n)}}function Xo(t,...e){if(Fs.logLevel<=Fe.WARN){const n=e.map(jm);Fs.warn(`Firestore (${ca}): ${t}`,...n)}}function jm(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,qw(t,i,n)}function qw(t,e,n){let i=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ti(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||qw(e,o,i)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class GV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QV{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},f=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new Gw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class YV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new YV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ZV(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function Cp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Wf(o)===Wf(a)?Ne(o,a):Wf(o)?1:-1}return Ne(t.length,e.length)}const eD=55296,tD=57343;function Wf(t){const e=t.charCodeAt(0);return e>=eD&&e<=tD}function Jo(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="__name__";class _r{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=_r.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const i=_r.isNumericId(e),o=_r.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bi.fromString(e.substring(4,e.length-2))}}class Je extends _r{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends _r{construct(e,n,i){return new Ut(e,n,i)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v1}static keyField(){return new Ut([v1])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rD(t,e,n,i){if(e===!0&&i===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x1(t){if(!ye.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _1(t){if(ye.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function iu(t,e){if(!Yw(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=-62135596800,E1=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*E1);return new nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w1)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E1}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:kt("string",nt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new nt(0,0))}static max(){return new Se(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function iD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new Wi(o,ye.empty(),e)}function sD(t){return new Wi(t.readTime,t.key,zl)}class Wi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Wi(Se.min(),ye.empty(),zl)}static max(){return new Wi(Se.max(),ye.empty(),zl)}}function oD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==aD)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,i)=>{n(e)}))}static reject(e){return new X(((n,i)=>{i(e)}))}static waitFor(e){return new X(((n,i)=>{let o=0,a=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++a,u&&a===o&&n()}),(h=>i(h)))})),u=!0,a===o&&n()}))}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next((o=>o?X.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new X(((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((g=>{u[p]=g,++f,f===a&&i(u)}),(g=>o(g)))}}))}static doWhile(e,n){return new X(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function uD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function Sh(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function cD(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="";function hD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=T1(e)),e=dD(t.get(n),e);return T1(e)}function dD(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case Xw:n+="";break;default:n+=a}}return n}function T1(t){return t+Xw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new zt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Pt(Ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Zw("Invalid base64 string: "+a):a}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=fD.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function Lm(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tE])==null?void 0:i.stringValue)===eE}function Ah(t){const e=t.mapValue.fields[nE];return Lm(e)?Ah(e):e}function Ul(t){const e=Hi(t.mapValue.fields[rE].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,i,o,a,u,f,h,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=v}}const ah="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}function mD(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",gD="__max__",jc={mapValue:{}},sE="__vector__",lh="value";function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:vD(t)?9007199254740991:yD(t)?10:11:we(28295,{value:t})}function Ir(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Hi(o.timestampValue),f=Hi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Ki(o.bytesValue).isEqual(Ki(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=yt(o.doubleValue),f=yt(a.doubleValue);return u===f?oh(u)===oh(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(S1(u)!==S1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ir(u[h],f[h])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function Wl(t,e){return(t.values||[]).find((n=>Ir(n,e)))!==void 0}function Zo(t,e){if(t===e)return 0;const n=qi(t),i=qi(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=yt(a.integerValue||a.doubleValue),h=yt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(t,e);case 3:return k1(t.timestampValue,e.timestampValue);case 4:return k1(Ul(t),Ul(e));case 5:return Cp(t.stringValue,e.stringValue);case 6:return(function(a,u){const f=Ki(a),h=Ki(u);return f.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const g=Ne(f[p],h[p]);if(g!==0)return g}return Ne(f.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Ne(yt(a.latitude),yt(u.latitude));return f!==0?f:Ne(yt(a.longitude),yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return C1(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var w,S,k,R;const f=a.fields||{},h=u.fields||{},p=(w=f[lh])==null?void 0:w.arrayValue,g=(S=h[lh])==null?void 0:S.arrayValue,v=Ne(((k=p==null?void 0:p.values)==null?void 0:k.length)||0,((R=g==null?void 0:g.values)==null?void 0:R.length)||0);return v!==0?v:C1(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===jc.mapValue&&u===jc.mapValue)return 0;if(a===jc.mapValue)return 1;if(u===jc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),p=u.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const w=Cp(h[v],g[v]);if(w!==0)return w;const S=Zo(f[h[v]],p[g[v]]);if(S!==0)return S}return Ne(h.length,g.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function k1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Hi(t),i=Hi(e),o=Ne(n.seconds,i.seconds);return o!==0?o:Ne(n.nanos,i.nanos)}function C1(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Zo(n[o],i[o]);if(a)return a}return Ne(n.length,i.length)}function ea(t){return Ip(t)}function Ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Hi(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ki(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Ip(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Ip(n.fields[u])}`;return o+"}"})(t.mapValue):we(61005,{value:t})}function Wc(t){switch(qi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(t);return e?16+Wc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ki(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Wc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Xi(i.fields,((a,u)=>{o+=a.length+Wc(u)})),o})(t.mapValue);default:throw we(13486,{value:t})}}function I1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rp(t){return!!t&&"integerValue"in t}function Om(t){return!!t&&"arrayValue"in t}function R1(t){return!!t&&"nullValue"in t}function b1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function yD(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iE])==null?void 0:i.stringValue)===sE}function Cl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Cl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(t.arrayValue.values[n]);return e}return{...t}}function vD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=Ut.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=Cl(u):o.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Xi(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new pn(Cl(this.value))}}function oE(t){const e=[];return Xi(t.fields,((n,i)=>{const o=new Ut([n]);if(Hc(i)){const a=oE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,i,o,a,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,i,o){return new Jt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function P1(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),n.key):i=Zo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function V1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function xD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class At extends aE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wD(e,n,i):n==="array-contains"?new SD(e,i):n==="in"?new AD(e,i):n==="not-in"?new kD(e,i):n==="array-contains-any"?new CD(e,i):new At(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ED(e,i):new TD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return lE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(t){return t.op==="and"}function uE(t){return _D(t)&&lE(t)}function _D(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function bp(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(uE(t))return t.filters.map((e=>bp(e))).join(",");{const e=t.filters.map((n=>bp(n))).join(",");return`${t.op}(${e})`}}function cE(t,e){return t instanceof At?(function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&Ir(i.value,o.value)})(t,e):t instanceof er?(function(i,o){return o instanceof er&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,f)=>a&&cE(u,o.filters[f])),!0):!1})(t,e):void we(19439)}function hE(t){return t instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`})(t):t instanceof er?(function(n){return n.op.toString()+" {"+n.getFilters().map(hE).join(" ,")+"}"})(t):"Filter"}class wD extends At{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends At{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TD extends At{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class SD extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Om(n)&&Wl(n.arrayValue,this.value)}}class AD extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class kD extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class CD extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Wl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function D1(t,e=null,n=[],i=[],o=null,a=null,u=null){return new ID(t,e,n,i,o,a,u)}function Fm(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>bp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>ea(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>ea(i))).join(",")),e.Te=n}return e.Te}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V1(t.startAt,e.startAt)&&V1(t.endAt,e.endAt)}function Pp(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RD(t,e,n,i,o,a,u,f){return new fa(t,e,n,i,o,a,u,f)}function zm(t){return new fa(t)}function j1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fE(t){return t.collectionGroup!==null}function Il(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Pt(Ut.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Hl(a,i))})),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Hl(Ut.keyField(),i))}return e.Ie}function Er(t){const e=Ie(t);return e.Ee||(e.Ee=PD(e,Il(t))),e.Ee}function PD(t,e){if(t.limitType==="F")return D1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Hl(o.field,a)}));const n=t.endAt?new uh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new uh(t.startAt.position,t.startAt.inclusive):null;return D1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Vp(t,e){const n=t.filters.concat([e]);return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function VD(t,e){const n=t.explicitOrderBy.concat([e]);return new fa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ch(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kh(t,e){return Bm(Er(t),Er(e))&&t.limitType===e.limitType}function pE(t){return`${Fm(Er(t))}|lt:${t.limitType}`}function Lo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>hE(o))).join(", ")}]`),Sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>ea(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>ea(o))).join(",")),`Target(${i})`})(Er(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ye.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of Il(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,h){const p=P1(u,f,h);return u.inclusive?p<=0:p<0})(i.startAt,Il(i),o)||i.endAt&&!(function(u,f,h){const p=P1(u,f,h);return u.inclusive?p>=0:p>0})(i.endAt,Il(i),o))})(t,e)}function DD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mE(t){return(e,n)=>{let i=!1;for(const o of Il(t)){const a=jD(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function jD(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,u,f){const h=u.data.field(a),p=f.data.field(a);return h!==null&&p!==null?Zo(h,p):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return Jw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new ut(ye.comparator);function ni(){return ND}const gE=new ut(ye.comparator);function xl(...t){let e=gE;for(const n of t)e=e.insert(n.key,n);return e}function yE(t){let e=gE;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Vs(){return Rl()}function vE(){return Rl()}function Rl(){return new Ws((t=>t.toString()),((t,e)=>t.isEqual(e)))}const MD=new ut(ye.comparator),LD=new Pt(ye.comparator);function Me(...t){let e=LD;for(const n of t)e=e.add(n);return e}const OD=new Pt(Ne);function FD(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function xE(t){return{integerValue:""+t}}function _E(t,e){return cD(e)?xE(e):Um(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function BD(t,e,n){return t instanceof Kl?(function(o,a){const u={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Lm(a)&&(a=Ah(a)),a&&(u.fields[nE]=a),{mapValue:u}})(n,e):t instanceof ta?EE(t,e):t instanceof ql?TE(t,e):(function(o,a){const u=wE(o,a),f=N1(u)+N1(o.Ae);return Rp(u)&&Rp(o.Ae)?xE(f):Um(o.serializer,f)})(t,e)}function zD(t,e,n){return t instanceof ta?EE(t,e):t instanceof ql?TE(t,e):n}function wE(t,e){return t instanceof Gl?(function(i){return Rp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Kl extends Ih{}class ta extends Ih{constructor(e){super(),this.elements=e}}function EE(t,e){const n=SE(e);for(const i of t.elements)n.some((o=>Ir(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ql extends Ih{constructor(e){super(),this.elements=e}}function TE(t,e){let n=SE(e);for(const i of t.elements)n=n.filter((o=>!Ir(o,i)));return{arrayValue:{values:n}}}class Gl extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N1(t){return yt(t.integerValue||t.doubleValue)}function SE(t){return Om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.field=e,this.transform=n}}function UD(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof ta&&o instanceof ta||i instanceof ql&&o instanceof ql?Jo(i.elements,o.elements,Ir):i instanceof Gl&&o instanceof Gl?Ir(i.Ae,o.Ae):i instanceof Kl&&o instanceof Kl})(t.transform,e.transform)}class $D{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function AE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CE(t.key,Xn.none()):new su(t.key,t.data,Xn.none());{const n=t.data,i=pn.empty();let o=new Pt(Ut.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Ji(t.key,i,new Sn(o.toArray()),Xn.none())}}function WD(t,e,n){t instanceof su?(function(o,a,u){const f=o.value.clone(),h=L1(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ji?(function(o,a,u){if(!Kc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=L1(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(kE(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function bl(t,e,n,i){return t instanceof su?(function(a,u,f,h){if(!Kc(a.precondition,u))return f;const p=a.value.clone(),g=O1(a.fieldTransforms,h,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ji?(function(a,u,f,h){if(!Kc(a.precondition,u))return f;const p=O1(a.fieldTransforms,h,u),g=u.data;return g.setAll(kE(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(a,u,f){return Kc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function HD(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=wE(i.transform,o||null);a!=null&&(n===null&&(n=pn.empty()),n.set(i.field,a))}return n||null}function M1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Jo(i,o,((a,u)=>UD(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends Rh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Rh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function L1(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,zD(u,f,n[o]))}return i}function O1(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,BD(a,u,e))}return i}class CE extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&WD(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=bl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=bl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vE();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(o.key)?null:f;const h=AE(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,i)=>M1(n,i)))&&Jo(this.baseMutations,e.baseMutations,((n,i)=>M1(n,i)))}}class Wm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return MD})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Wm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Oe;function YD(t){switch(t){case Y.OK:return we(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function IE(t){if(t===void 0)return ti("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Tt.OK:return Y.OK;case Tt.CANCELLED:return Y.CANCELLED;case Tt.UNKNOWN:return Y.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Y.INTERNAL;case Tt.UNAVAILABLE:return Y.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Y.NOT_FOUND;case Tt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Tt.ABORTED:return Y.ABORTED;case Tt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Tt.DATA_LOSS:return Y.DATA_LOSS;default:return we(39323,{code:t})}}(Oe=Tt||(Tt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Bi([4294967295,4294967295],0);function F1(t){const e=XD().encode(t),n=new zw;return n.update(e),new Uint8Array(n.digest())}function B1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bi([n,i],0),new Bi([o,a],0)]}class Hm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(i<0)throw new _l(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Bi.fromNumber(i)));return o.compare(JD)===1&&(o=new Bi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F1(e),[i,o]=B1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hm(a,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=F1(e),[i,o]=B1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new bh(Se.min(),o,new ut(Ne),ni(),Me())}}class ou{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ou(i,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class RE{constructor(e,n){this.targetId=e,this.Ce=n}}class bE{constructor(e,n,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class z1{constructor(){this.ve=0,this.Fe=U1(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),i=Me();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:a})}})),new ou(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=U1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ni(),this.He=Nc(),this.Je=Nc(),this.Ze=new ut(Ne)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Pp(a))if(i===0){const u=new ye(a.path);this.et(n,u,Jt.newNoDocument(u,Se.min()))}else Ke(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),h=f?this.ct(f,e,u):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,f;try{u=Ki(i).toUint8Array()}catch(h){if(h instanceof Zw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Hm(u,o,a)}catch(h){return Xo(h instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&Pp(f.target)){const h=new ye(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,Jt.newNoDocument(h,e))}a.Be&&(n.set(u,a.ke()),a.Ke())}}));let i=Me();this.Je.forEach(((a,u)=>{let f=!0;u.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new bh(e,n,this.Ze,this.je,i);return this.je=ni(),this.He=Nc(),this.Je=Nc(),this.Ze=new ut(Ne),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new z1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ne),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ne),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nc(){return new ut(ye.comparator)}function U1(){return new ut(ye.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class r5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i5(t,e){return hh(t,e.toTimestamp())}function Tr(t){return Ke(!!t,49232),Se.fromTimestamp((function(n){const i=Hi(n);return new nt(i.seconds,i.nanos)})(t))}function Km(t,e){return jp(t,e).canonicalString()}function jp(t,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VE(t){const e=Je.fromString(t);return Ke(LE(e),10190,{key:e.toString()}),e}function Np(t,e){return Km(t.databaseId,e.path)}function Hf(t,e){const n=VE(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(jE(n))}function DE(t,e){return Km(t.databaseId,e)}function s5(t){const e=VE(t);return e.length===4?Je.emptyPath():jE(e)}function Mp(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jE(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $1(t,e,n){return{name:Np(t,e),fields:n.value.mapValue.fields}}function o5(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const g=p.code===void 0?Y.UNKNOWN:IE(p.code);return new le(g,p.message||"")})(u);n=new bE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hf(t,i.document.name),a=Tr(i.document.updateTime),u=i.document.createTime?Tr(i.document.createTime):Se.min(),f=new pn({mapValue:{fields:i.document.fields}}),h=Jt.newFoundDocument(o,a,u,f),p=i.targetIds||[],g=i.removedTargetIds||[];n=new qc(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hf(t,i.document),a=i.readTime?Tr(i.readTime):Se.min(),u=Jt.newNoDocument(o,a),f=i.removedTargetIds||[];n=new qc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hf(t,i.document),a=i.removedTargetIds||[];n=new qc([],a,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new QD(o,a),f=i.targetId;n=new RE(f,u)}}return n}function a5(t,e){let n;if(e instanceof su)n={update:$1(t,e.key,e.value)};else if(e instanceof CE)n={delete:Np(t,e.key)};else if(e instanceof Ji)n={update:$1(t,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof KD))return we(16599,{dt:e.type});n={verify:Np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const f=u.transform;if(f instanceof Kl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ta)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Gl)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:i5(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)})(t,e.precondition)),n}function l5(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Tr(o.updateTime):Tr(a);return u.isEqual(Se.min())&&(u=Tr(a)),new $D(u,o.transformResults||[])})(n,e)))):[]}function u5(t,e){return{documents:[DE(t,e.path)]}}function c5(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=DE(t,o);const a=(function(p){if(p.length!==0)return ME(er.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Oo(w.field),direction:f5(w.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Dp(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function h5(t){let e=s5(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const w=NE(v);return w instanceof er&&uE(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(k){return new Hl(Fo(k.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let w;return w=typeof v=="object"?v.value:v,Sh(w)?null:w})(n.limit));let h=null;n.startAt&&(h=(function(v){const w=!!v.before,S=v.values||[];return new uh(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,S=v.values||[];return new uh(S,w)})(n.endAt)),RD(e,o,u,a,f,"F",h,p)}function d5(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Fo(n.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fo(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(n.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return At.create(Fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return er.create(n.compositeFilter.filters.map((i=>NE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function f5(t){return e5[t]}function p5(t){return t5[t]}function m5(t){return n5[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return Ut.fromServerFormat(t.fieldPath)}function ME(t){return t instanceof At?(function(n){if(n.op==="=="){if(b1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(R1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(R1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:p5(n.op),value:n.value}}})(t):t instanceof er?(function(n){const i=n.getFilters().map((o=>ME(o)));return i.length===1?i[0]:{compositeFilter:{op:m5(n.op),filters:i}}})(t):we(54877,{filter:t})}function g5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function OE(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,i,o,a=Se.min(),u=Se.min(),f=$t.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.yt=e}}function v5(t){const e=h5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.Sn=new _5}addToCollectionParentIndex(e,n){return this.Sn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Wi.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class _5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Pt(Je.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Pt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(FE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new na(0)}static ar(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",w5=1048576;function K1([t,e],[n,i]){const o=Ne(t,n);return o===0?Ne(e,i):o}class E5{constructor(e){this.Pr=e,this.buffer=new Pt(K1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();K1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(H1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){da(n)?ce(H1,"Ignoring IndexedDB error during garbage collection: ",n):await ha(n)}await this.Ar(3e5)}))}}class S5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(Th.ce);const i=new E5(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(W1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,a,u,f,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(i=v,f=Date.now(),this.removeTargets(e,i,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),Mo()<=Fe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v}))))}}function A5(t,e){return new S5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&bl(i.mutation,o,Sn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Me()){const o=Vs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=xl();return a.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Vs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Me())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let a=ni();const u=Rl(),f=(function(){return Rl()})();return n.forEach(((h,p)=>{const g=i.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof Ji)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),bl(g.mutation,p,g.mutation.getFieldMask(),nt.now())):u.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,g)=>u.set(p,g))),n.forEach(((p,g)=>f.set(p,new C5(g,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Rl();let o=new ut(((u,f)=>u-f)),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=i.get(h)||Sn.empty();g=f.applyToLocalView(p,g),i.set(h,g);const v=(o.get(f.batchId)||Me()).add(h);o=o.insert(f.batchId,v)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,g=h.value,v=vE();g.forEach((w=>{if(!a.has(w)){const S=AE(n.get(w),i.get(w));S!==null&&v.set(w,S),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return X.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return bD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):X.resolve(Vs());let f=zl,h=a;return u.next((p=>X.forEach(p,((g,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),a.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,Me()))).next((g=>({batchId:f,changes:yE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=xl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=xl();return this.indexManager.getCollectionParents(e,a).next((f=>X.forEach(f,(h=>{const p=(function(v,w){return new fa(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((g=>{g.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((h,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Jt.newInvalidDocument(g)))}));let f=xl();return u.forEach(((h,p)=>{const g=a.get(h);g!==void 0&&bl(g.mutation,p,Sn.empty(),nt.now()),Ch(n,p)&&(f=f.insert(h,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:v5(o.bundledQuery),readTime:Tr(o.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.overlays=new ut(ye.comparator),this.Lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vs();return X.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.bt(e,n,a)})),X.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const o=Vs(),a=n.length+1,u=new ye(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ut(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=a.get(p.largestBatchId);g===null&&(g=Vs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const f=Vs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>f.set(p,g))),!(f.size()>=o)););return X.resolve(f)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new GD(n,i));let a=this.Lr.get(n);a===void 0&&(a=Me(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.kr=new Pt(Nt.Kr),this.qr=new Pt(Nt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Nt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Nt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new Je([])),i=new Nt(n,e),o=new Nt(n,e+1),a=[];return this.qr.forEachInRange([i,o],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Je([])),i=new Nt(n,e),o=new Nt(n,e+1);let a=Me();return this.qr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Nt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Nt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qD(a,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Jr=this.Jr.add(new Nt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Nt(n,0),o=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,o],(u=>{const f=this.Zr(u.Hr);a.push(f)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pt(Ne);return n.forEach((o=>{const a=new Nt(o,0),u=new Nt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(f=>{i=i.add(f.Hr)}))})),X.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ye.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new ye(a),0);let f=new Pt(Ne);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(f=f.add(h.Hr)),!0)}),u),X.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return X.forEach(n.mutations,(o=>{const a=new Nt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Nt(n,0),o=this.Jr.firstAfterOrEqual(i);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.ti=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let i=ni();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Jt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=ni();const u=n.path,f=new ye(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||oD(sD(g),i)<=0||(o.has(g.key)||Ch(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,i,o){we(9500)}ni(e,n){return X.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new j5(this)}getSize(e){return X.resolve(this.size)}}class j5 extends k5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),X.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.persistence=e,this.ri=new Ws((n=>Fm(n)),Bm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new qm,this.targetCount=0,this.oi=na._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),X.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new na(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.lr(n),X.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(a).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new P5,this.referenceDelegate=e(this),this.li=new N5(this),this.indexManager=new x5,this.remoteDocumentCache=(function(o){return new D5(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new y5(n),this.Pi=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new V5(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new M5(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,n){return X.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class M5 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new qm,this.Ai=null}static Vi(e){return new Gm(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((a=>{a||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.fi=new Ws((i=>hD(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=A5(this,n)}static Vi(e,n){return new dh(e,n)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return X.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((a=>a?X.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(i++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}wr(e,n,i){return X.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Me(),o=Me();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Qm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IP()?8:uD(kP())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.gs(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new L5;return this.ys(e,n,u).next((f=>{if(a.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>a.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Mo()<=Fe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Mo()<=Fe.DEBUG&&ce("QueryEngine","Query:",Lo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Mo()<=Fe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):X.resolve())}gs(e,n){if(j1(n))return X.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ch(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Me(...a);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((h=>{const p=this.bs(n,f);return this.Ss(n,p,u,h.readTime)?this.gs(e,ch(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,i,o){return j1(n)||o.isEqual(Se.min())?X.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(n,a);return this.Ss(n,u,i,o)?X.resolve(null):(Mo()<=Fe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(n)),this.Ds(e,u,n,iD(o,zl)).next((f=>f)))}))}bs(e,n){let i=new Pt(mE(e));return n.forEach(((o,a)=>{Ch(e,a)&&(i=i.add(a))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,n,i){return Mo()<=Fe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.fs.getDocumentsMatchingQuery(e,n,Wi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",F5=3e8;class B5{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ne),this.Fs=new Ws((a=>Fm(a)),Bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function z5(t,e,n,i){return new B5(t,e,n,i)}async function zE(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],f=[];let h=Me();for(const p of o){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){f.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(i,h).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function U5(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,g){const v=p.batch,w=v.keys();let S=X.resolve();return w.forEach((k=>{S=S.next((()=>g.getEntry(h,k))).next((R=>{const I=p.docVersions.get(k);Ke(I!==null,48541),R.version.compareTo(I)<0&&(v.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),g.addEntry(R)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(h,v)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let h=Me();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function UE(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $5(t,e){const n=Ie(t),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const f=[];e.targetChanges.forEach(((g,v)=>{const w=o.get(v);if(!w)return;f.push(n.li.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,v))));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),o=o.insert(v,S),(function(R,I,z){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=F5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,g)&&f.push(n.li.updateTargetData(a,S))}));let h=ni(),p=Me();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),f.push(W5(a,u,e.documentUpdates).next((g=>{h=g.Bs,p=g.Ls}))),!i.isEqual(Se.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((v=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));f.push(g)}return X.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.vs=o,a)))}function W5(t,e,n){let i=Me(),o=Me();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=ni();return n.forEach(((f,h)=>{const p=a.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ce(Ym,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{Bs:u,Ls:o}}))}function H5(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Mm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function K5(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((a=>a?(o=a,X.resolve(o)):n.li.allocateTargetId(i).next((u=>(o=new Li(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Lp(t,e,n){const i=Ie(t),o=i.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!da(u))throw u;ce(Ym,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function q1(t,e,n){const i=Ie(t);let o=Se.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,p,g){const v=Ie(h),w=v.Fs.get(g);return w!==void 0?X.resolve(v.vs.get(w)):v.li.getTargetData(p,g)})(i,u,Er(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((h=>{a=h}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:Me()))).next((f=>(q5(i,DD(e),f),{documents:f,ks:a})))))}function q5(t,e,n){let i=t.Ms.get(e)||Se.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Ms.set(e,i)}class G1{constructor(){this.activeTargetIds=FD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G5{constructor(){this.vo=new G1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="ConnectivityMonitor";class Y1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Q1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Q1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Op(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",Y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===ah?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,a){const u=Op(),f=this.Qo(e,n.toUriEncodedString());ce(Kf,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,o,a);const{host:p}=new URL(f),g=Vm(p);return this.zo(e,f,h,i,g).then((v=>(ce(Kf,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Xo(Kf,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(e,n,i,o,a,u){return this.Wo(e,n,i,o,a)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ca})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}Qo(e,n){const i=Y5[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection",ml=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class qo extends X5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qo.c_){const e=Hw();ml(e,Ww.STAT_EVENT,(n=>{n.stat===kp.PROXY?ce(Yt,"STAT_EVENT: detected buffering proxy"):n.stat===kp.NOPROXY&&ce(Yt,"STAT_EVENT: detected no buffering proxy")})),qo.c_=!0}}zo(e,n,i,o,a){const u=Op();return new Promise(((f,h)=>{const p=new Uw;p.setWithCredentials(!0),p.listenOnce($w.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $c.NO_ERROR:const v=p.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case $c.TIMEOUT:ce(Yt,`RPC '${e}' ${u} timed out`),h(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const w=p.getStatus();if(ce(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const R=(function(z){const L=z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(L)>=0?L:Y.UNKNOWN})(k.status);h(new le(R,k.message))}else h(new le(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new le(Y.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Yt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);ce(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,i,15)}))}T_(e,n,i){const o=Op(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const p=a.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${p}`,f);const g=u.createWebChannel(p,f);this.I_(g);let v=!1,w=!1;const S=new J5({Ho:k=>{w?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(v||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),g.open(),v=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,k),g.send(k))},Jo:()=>g.close()});return ml(g,vl.EventType.OPEN,(()=>{w||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),ml(g,vl.EventType.CLOSE,(()=>{w||(w=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(g))})),ml(g,vl.EventType.ERROR,(k=>{w||(w=!0,Xo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),S.o_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),ml(g,vl.EventType.MESSAGE,(k=>{var R;if(!w){const I=k.data[0];Ke(!!I,16349);const z=I,L=(z==null?void 0:z.error)||((R=z[0])==null?void 0:R.error);if(L){ce(Yt,`RPC '${e}' stream ${o} received error:`,L);const P=L.status;let Q=(function(j){const C=Tt[j];if(C!==void 0)return IE(C)})(P),J=L.message;Q===void 0&&(Q=Y.INTERNAL,J="Unknown error status: "+P+" with message "+L.message),w=!0,S.o_(new le(Q,J)),g.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,I),S.__(I)}})),qo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Kw()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){return new qo(t)}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new r5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qo.c_=!1;class $E{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="PersistentStream";class WE{constructor(e,n,i,o,a,u,f,h){this.Ci=e,this.b_=i,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $E(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ej extends WE{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o5(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Tr(u.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(a,u){let f;const h=u.target;if(f=Pp(h)?{documents:u5(a,h)}:{query:c5(a,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=PE(a,u.resumeToken);const p=Dp(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=hh(a,u.snapshotVersion.toTimestamp());const p=Dp(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=d5(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.K_(n)}}class tj extends WE{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l5(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>a5(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{}class rj extends nj{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,jp(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())}))}jo(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,jp(n,i),o,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ij(t,e,n,i){return new rj(t,e,n,i)}class sj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ti(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class oj{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Hs(this)&&(ce(Bs,"Restarting streams for network reachability change."),await(async function(h){const p=Ie(h);p.Ea.add(4),await au(p),p.Va.set("Unknown"),p.Ea.delete(4),await Vh(p)})(this))}))})),this.Va=new sj(i,o)}}async function Vh(t){if(Hs(t))for(const e of t.Ra)await e(!0)}async function au(t){for(const e of t.Ra)await e(!1)}function HE(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zm(n):pa(n).O_()&&Jm(n,e))}function Xm(t,e){const n=Ie(t),i=pa(n);n.Ia.delete(e),i.O_()&&KE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Hs(n)&&n.Va.set("Unknown"))}function Jm(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).Z_(e)}function KE(t,e){t.da.$e(e),pa(t).X_(e)}function Zm(t){t.da=new ZD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.Va.ua()}function eg(t){return Hs(t)&&!pa(t).x_()&&t.Ia.size>0}function Hs(t){return Ie(t).Ea.size===0}function qE(t){t.da=void 0}async function aj(t){t.Va.set("Online")}async function lj(t){t.Ia.forEach(((e,n)=>{Jm(t,e)}))}async function uj(t,e){qE(t),eg(t)?(t.Va.ha(e),Zm(t)):t.Va.set("Unknown")}async function cj(t,e,n){if(t.Va.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.da.removeTarget(f))})(t,e)}catch(i){ce(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(t,i)}else if(e instanceof qc?t.da.Xe(e):e instanceof RE?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const i=await UE(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const f=a.da.Tt(u);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,p)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),KE(a,h);const v=new Li(g.target,h,p,g.sequenceNumber);Jm(a,v)})),a.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){ce(Bs,"Failed to raise snapshot:",i),await fh(t,i)}}async function fh(t,e,n){if(!da(e))throw e;t.Ea.add(1),await au(t),t.Va.set("Offline"),n||(n=()=>UE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Bs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vh(t)}))}function GE(t,e){return e().catch((n=>fh(t,n,e)))}async function Dh(t){const e=Ie(t),n=Gi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;hj(e);)try{const o=await H5(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,dj(e,o)}catch(o){await fh(e,o)}QE(e)&&YE(e)}function hj(t){return Hs(t)&&t.Ta.length<10}function dj(t,e){t.Ta.push(e);const n=Gi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function QE(t){return Hs(t)&&!Gi(t).x_()&&t.Ta.length>0}function YE(t){Gi(t).start()}async function fj(t){Gi(t).ra()}async function pj(t){const e=Gi(t);for(const n of t.Ta)e.ea(n.mutations)}async function mj(t,e,n){const i=t.Ta.shift(),o=Wm.from(i,e,n);await GE(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Dh(t)}async function gj(t,e){e&&Gi(t).Y_&&await(async function(i,o){if((function(u){return YD(u)&&u!==Y.ABORTED})(o.code)){const a=i.Ta.shift();Gi(i).B_(),await GE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Dh(i)}})(t,e),QE(t)&&YE(t)}async function J1(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(Bs,"RemoteStore received new credentials");const i=Hs(n);n.Ea.add(3),await au(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vh(n)}async function yj(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Vh(n)):e||(n.Ea.add(2),await au(n),n.Va.set("Unknown"))}function pa(t){return t.ma||(t.ma=(function(n,i,o){const a=Ie(n);return a.sa(),new ej(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:aj.bind(null,t),Yo:lj.bind(null,t),t_:uj.bind(null,t),J_:cj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),eg(t)?Zm(t):t.Va.set("Unknown")):(await t.ma.stop(),qE(t))}))),t.ma}function Gi(t){return t.fa||(t.fa=(function(n,i,o){const a=Ie(n);return a.sa(),new tj(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fj.bind(null,t),t_:gj.bind(null,t),ta:pj.bind(null,t),na:mj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Dh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Bs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,f=new tg(e,n,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(ti("AsyncQueue",`${e}: ${t}`),da(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=xl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ra{constructor(e,n,i,o,a,u,f,h,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new ra(e,n,Go.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class xj{constructor(){this.queries=ex(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ie(n),a=o.queries;o.queries=ex(),a.forEach(((u,f)=>{for(const h of f.ba)h.onError(i)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function ex(){return new Ws((t=>pE(t)),kh)}async function XE(t,e){const n=Ie(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Sa()&&e.Da()&&(i=2):(a=new vj,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=ng(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&rg(n)}async function JE(t,e){const n=Ie(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _j(t,e){const n=Ie(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const f of u.ba)f.Fa(o)&&(i=!0);u.wa=o}}i&&rg(n)}function wj(t,e,n){const i=Ie(t),o=i.queries.get(e);if(o)for(const a of o.ba)a.onError(n);i.queries.delete(e)}function rg(t){t.Ca.forEach((e=>{e.next()}))}var Fp,tx;(tx=Fp||(Fp={})).Ma="default",tx.Cache="cache";class ZE{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class Ej{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=mE(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new Z1,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,v)=>{const w=o.get(g),S=Ch(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;w&&S?w.data.isEqual(S.data)?k!==R&&(i.track({type:3,doc:S}),I=!0):this.su(w,S)||(i.track({type:2,doc:S}),I=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(f=!0)):!w&&S?(i.track({type:0,doc:S}),I=!0):w&&!S&&(i.track({type:1,doc:w}),I=!0,(h||p)&&(f=!0)),I&&(S?(u=u.add(S),a=R?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Ss:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(S,k){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:I})}};return R(S)-R(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],h=this.Ya.size===0&&this.current&&!o?1:0,p=h!==this.Xa;return this.Xa=h,u.length!==0||p?{snapshot:new ra(this.query,e.tu,a,u,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new tT(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new eT(i))})),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ig="SyncEngine";class Tj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Sj{constructor(e){this.key=e,this.hu=!1}}class Aj{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ws((f=>pE(f)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(ye.comparator),this.Au=new Map,this.Vu=new qm,this.du={},this.mu=new Map,this.fu=na.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kj(t,e,n=!0){const i=aT(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await nT(i,e,n,!0),o}async function Cj(t,e){const n=aT(t);await nT(n,e,!0,!1)}async function nT(t,e,n,i){const o=await K5(t.localStore,Er(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await Ij(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&HE(t.remoteStore,o),f}async function Ij(t,e,n,i,o){t.pu=(v,w,S)=>(async function(R,I,z,L){let P=I.view.ru(z);P.Ss&&(P=await q1(R.localStore,I.query,!1).then((({documents:j})=>I.view.ru(j,P))));const Q=L&&L.targetChanges.get(I.targetId),J=L&&L.targetMismatches.get(I.targetId)!=null,se=I.view.applyChanges(P,R.isPrimaryClient,Q,J);return rx(R,I.targetId,se.au),se.snapshot})(t,v,w,S);const a=await q1(t.localStore,e,!0),u=new Ej(e,a.ks),f=u.ru(a.documents),h=ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(f,t.isPrimaryClient,h);rx(t,n,p.au);const g=new Tj(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Rj(t,e,n){const i=Ie(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!kh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Xm(i.remoteStore,o.targetId),Bp(i,o.targetId)})).catch(ha)):(Bp(i,o.targetId),await Lp(i.localStore,o.targetId,!0))}async function bj(t,e){const n=Ie(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xm(n.remoteStore,i.targetId))}async function Pj(t,e,n){const i=Oj(t);try{const o=await(function(u,f){const h=Ie(u),p=nt.now(),g=f.reduce(((S,k)=>S.add(k.key)),Me());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=ni(),R=Me();return h.xs.getEntries(S,g).next((I=>{k=I,k.forEach(((z,L)=>{L.isValidDocument()||(R=R.add(z))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,k))).next((I=>{v=I;const z=[];for(const L of f){const P=HD(L,v.get(L.key).overlayedDocument);P!=null&&z.push(new Ji(L.key,P,oE(P.value.mapValue),Xn.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,z,f)})).next((I=>{w=I;const z=I.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(S,I.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:yE(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,h){let p=u.du[u.currentUser.toKey()];p||(p=new ut(Ne)),p=p.insert(f,h),u.du[u.currentUser.toKey()]=p})(i,o.batchId,n),await lu(i,o.changes),await Dh(i.remoteStore)}catch(o){const a=ng(o,"Failed to persist write");n.reject(a)}}async function rT(t,e){const n=Ie(t);try{const i=await $5(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await lu(n,i,e)}catch(i){await ha(i)}}function nx(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const h=Ie(u);h.onlineState=f;let p=!1;h.queries.forEach(((g,v)=>{for(const w of v.ba)w.va(f)&&(p=!0)})),p&&rg(h)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Vj(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new ut(ye.comparator);u=u.insert(a,Jt.newNoDocument(a,Se.min()));const f=Me().add(a),h=new bh(Se.min(),new Map,new ut(Ne),u,f);await rT(i,h),i.Ru=i.Ru.remove(a),i.Au.delete(e),sg(i)}else await Lp(i.localStore,e,!1).then((()=>Bp(i,e,n))).catch(ha)}async function Dj(t,e){const n=Ie(t),i=e.batch.batchId;try{const o=await U5(n.localStore,e);sT(n,i,null),iT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await lu(n,o)}catch(o){await ha(o)}}async function jj(t,e,n){const i=Ie(t);try{const o=await(function(u,f){const h=Ie(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,f).next((v=>(Ke(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(i.localStore,e);sT(i,e,n),iT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await lu(i,o)}catch(o){await ha(o)}}function iT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sT(t,e,n){const i=Ie(t);let o=i.du[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||oT(t,i)}))}function oT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Xm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sg(t))}function rx(t,e,n){for(const i of n)i instanceof eT?(t.Vu.addReference(i.key,e),Nj(t,i)):i instanceof tT?(ce(ig,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||oT(t,i.key)):we(19791,{wu:i})}function Nj(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ce(ig,"New document in limbo: "+n),t.Eu.add(i),sg(t))}function sg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Je.fromString(e)),i=t.fu.next();t.Au.set(i,new Sj(n)),t.Ru=t.Ru.insert(n,i),HE(t.remoteStore,new Li(Er(zm(n.path)),i,"TargetPurposeLimboResolution",Th.ce))}}async function lu(t,e,n){const i=Ie(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,h)=>{u.push(i.pu(h,e,n).then((p=>{var g;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Qm.Es(h.targetId,p);a.push(v)}})))})),await Promise.all(u),i.Pu.J_(o),await(async function(h,p){const g=Ie(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>X.forEach(p,(w=>X.forEach(w.Ts,(S=>g.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>X.forEach(w.Is,(S=>g.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!da(v))throw v;ce(Ym,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=g.vs.get(w),k=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(k);g.vs=g.vs.insert(w,R)}}})(i.localStore,a))}async function Mj(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(ig,"User change. New user:",e.toKey());const i=await zE(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((h=>{h.reject(new le(Y.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lu(n,i.Ns)}}function Lj(t,e){const n=Ie(t),i=n.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function aT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vj.bind(null,e),e.Pu.J_=_j.bind(null,e.eventManager),e.Pu.yu=wj.bind(null,e.eventManager),e}function Oj(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jj.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z5(this.persistence,new O5,e.initialUser,this.serializer)}Cu(e){return new BE(Gm.Vi,this.serializer)}Du(e){return new G5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class Fj extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof dh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new T5(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new BE((i=>dh.Vi(i,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),await yj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xj})()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),i=Z5(e.databaseInfo);return ij(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,f){return new oj(i,o,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>nx(this.syncEngine,n,0)),(function(){return Y1.v()?new Y1:new Q5})())}createSyncEngine(e,n){return(function(o,a,u,f,h,p,g){const v=new Aj(o,a,u,f,h,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Ie(o);ce(Bs,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class Bj{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ce(Qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ce(Qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ng(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Gf(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Qi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await zE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ix(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zj(t);ce(Qi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>J1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>J1(e.remoteStore,o))),t._onlineComponents=e}async function zj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Qi,"Using user provided OfflineComponentProvider");try{await Gf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await Gf(t,new ph)}}else ce(Qi,"Using default OfflineComponentProvider"),await Gf(t,new Fj(void 0));return t._offlineComponents}async function uT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Qi,"Using user provided OnlineComponentProvider"),await ix(t,t._uninitializedComponentsProvider._online)):(ce(Qi,"Using default OnlineComponentProvider"),await ix(t,new zp))),t._onlineComponents}function Uj(t){return uT(t).then((e=>e.syncEngine))}async function cT(t){const e=await uT(t),n=e.eventManager;return n.onListen=kj.bind(null,e.syncEngine),n.onUnlisten=Rj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n}function $j(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,p){const g=new lT({next:w=>{g.Nu(),u.enqueueAndForget((()=>JE(a,v)));const S=w.docs.has(f);!S&&w.fromCache?p.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ZE(zm(f.path),g,{includeMetadataChanges:!0,Ka:!0});return XE(a,v)})(await cT(t),t.asyncQueue,e,n,i))),i.promise}function Wj(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,p){const g=new lT({next:w=>{g.Nu(),u.enqueueAndForget((()=>JE(a,v))),w.fromCache&&h.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ZE(f,g,{includeMetadataChanges:!0,Ka:!0});return XE(a,v)})(await cT(t),t.asyncQueue,e,n,i))),i.promise}function Hj(t,e){const n=new Yr;return t.asyncQueue.enqueueAndForget((async()=>Pj(await Uj(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="ComponentProvider",sx=new Map;function qj(t,e,n,i,o){return new pD(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,hT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",ox=!0;class ax{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=ox}else this.host=e.host,this.ssl=e.ssl??ox;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w5)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qV;switch(i.type){case"firstParty":return new XV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=sx.get(n);i&&(ce(Kj,"Removing Datastore"),sx.delete(n),i.terminate())})(this),Promise.resolve()}}function Gj(t,e,n,i={}){var p;t=Cr(t,jh);const o=Vm(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(wP(`https://${f}`),AP("Firestore",!0)),a.host!==dT&&a.host!==f&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:f,ssl:o,emulatorOptions:i};if(!Ol(h,u)&&(t._setSettings(h),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Xt.MOCK_USER;else{g=EP(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Xt(w)}t._authCredentials=new GV(new Gw(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class vt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(iu(n,vt._jsonSchema))return new vt(e,i||null,new ye(Je.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:kt("string",vt._jsonSchemaVersion),referencePath:kt("string")};class zi extends Zi{constructor(e,n,i){super(e,n,zm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ye(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function Ks(t,e,...n){if(t=Zr(t),Qw("collection","path",e),t instanceof jh){const i=Je.fromString(e,...n);return _1(i),new zi(t,null,i)}{if(!(t instanceof vt||t instanceof zi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return _1(i),new zi(t.firestore,null,i)}}function tr(t,e,...n){if(t=Zr(t),arguments.length===1&&(e=Nm.newId()),Qw("doc","path",e),t instanceof jh){const i=Je.fromString(e,...n);return x1(i),new vt(t,null,new ye(i))}{if(!(t instanceof vt||t instanceof zi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return x1(i),new vt(t.firestore,t instanceof zi?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="AsyncQueue";class ux{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $E(this,"async_queue_retry"),this._c=()=>{const i=qf();i&&ce(lx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!da(e))throw e;ce(lx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ti("INTERNAL UNHANDLED ERROR: ",cx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:cx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ma extends jh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new ux,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ux(e),this._firestoreClient=void 0,await e}}}function Qj(t,e){const n=typeof t=="object"?t:NV(),i=typeof t=="string"?t:ah,o=bV(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=xP("firestore");a&&Gj(o,...a)}return o}function og(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yj(t),t._firestoreClient}function Yj(t){var i,o,a,u;const e=t._freezeSettings(),n=qj(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(o=t._app)==null?void 0:o.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Bj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:kt("string",jn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:kt("string",Sr._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jn(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:kt("string",Jn._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^__.*__$/;class Jj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:t})}}class Nh{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pT(this.dataSource)&&Xj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Zj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ph(e)}createContext(e,n,i,o=!1){return new Nh({dataSource:e,methodName:n,targetDoc:i,path:Ut.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new Zj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mT(t,e,n,i,o,a={}){const u=t.createContext(a.merge||a.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",u,i);const f=gT(i,u);let h,p;if(a.merge)h=new Sn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const w=zs(e,v,n);if(!u.contains(w))throw new le(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xT(g,w)||g.push(w)}h=new Sn(g),p=u.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=u.fieldTransforms;return new Jj(new pn(f),h,p)}class Lh extends ga{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function eN(t,e,n){return new Nh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lg extends ga{_toFieldTransform(e){return new $m(e.path,new Kl)}isEqual(e){return e instanceof lg}}class ug extends ga{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=eN(this,e,!0),i=this.Ac.map((a=>ya(a,n))),o=new ta(i);return new $m(e.path,o)}isEqual(e){return e instanceof ug&&Ol(this.Ac,e.Ac)}}class cg extends ga{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Gl(e.serializer,_E(e.serializer,this.Vc));return new $m(e.path,n)}isEqual(e){return e instanceof cg&&this.Vc===e.Vc}}function tN(t,e,n,i){const o=t.createContext(1,e,n);hg("Data must be an object, but it was:",o,i);const a=[],u=pn.empty();Xi(i,((h,p)=>{const g=vT(e,h,n);p=Zr(p);const v=o.childContextForFieldPath(g);if(p instanceof Lh)a.push(g);else{const w=ya(p,v);w!=null&&(a.push(g),u.set(g,w))}}));const f=new Sn(a);return new fT(u,f,o.fieldTransforms)}function nN(t,e,n,i,o,a){const u=t.createContext(1,e,n),f=[zs(e,i,n)],h=[o];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)f.push(zs(e,a[w])),h.push(a[w+1]);const p=[],g=pn.empty();for(let w=f.length-1;w>=0;--w)if(!xT(p,f[w])){const S=f[w];let k=h[w];k=Zr(k);const R=u.childContextForFieldPath(S);if(k instanceof Lh)p.push(S);else{const I=ya(k,R);I!=null&&(p.push(S),g.set(S,I))}}const v=new Sn(p);return new fT(g,v,u.fieldTransforms)}function rN(t,e,n,i=!1){return ya(n,t.createContext(i?4:3,e))}function ya(t,e){if(yT(t=Zr(t)))return hg("Unsupported field value:",e,t),gT(t,e);if(t instanceof ga)return(function(i,o){if(!pT(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const f of i){let h=ya(f,o.childContextForArray(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Zr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _E(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=nt.fromDate(i);return{timestampValue:hh(o.serializer,a)}}if(i instanceof nt){const a=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(o.serializer,a)}}if(i instanceof Sr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jn)return{bytesValue:PE(o.serializer,i._byteString)};if(i instanceof vt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Km(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Jn)return(function(u,f){const h=u instanceof Jn?u.toArray():u;return{mapValue:{fields:{[iE]:{stringValue:sE},[lh]:{arrayValue:{values:h.map((g=>{if(typeof g!="number")throw f.createError("VectorValues must only contain numeric values.");return Um(f.serializer,g)}))}}}}}})(i,o);if(OE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Eh(i)}`)})(t,e)}function gT(t,e){const n={};return Jw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,((i,o)=>{const a=ya(o,e.childContextForField(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function yT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Sr||t instanceof jn||t instanceof vt||t instanceof ga||t instanceof Jn||OE(t))}function hg(t,e,n){if(!yT(n)||!Yw(n)){const i=Eh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function zs(t,e,n){if((e=Zr(e))instanceof ag)return e._internalPath;if(typeof e=="string")return vT(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const iN=new RegExp("[~\\*/\\[\\]]");function vT(t,e,n){if(e.search(iN)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new le(Y.INVALID_ARGUMENT,f+t+h)}function xT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xi(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[lh].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>yt(u.doubleValue)));return new Jn(n)}convertGeoPoint(e){return new Sr(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ah(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Je.fromString(e);Ke(LE(i),9688,{name:e});const o=new $l(i.get(1),i.get(3)),a=new ye(i.popFirst(5));return o.isEqual(n)||ti(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Ar(){return new lg("serverTimestamp")}function oN(...t){return new ug("arrayUnion",t)}function dg(t){return new cg("increment",t)}const hx="@firebase/firestore",dx="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(zs("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aN extends wT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class pg extends fg{}function Oh(t,e,...n){let i=[];e instanceof fg&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((h=>h instanceof mg)).length,f=a.filter((h=>h instanceof Fh)).length;if(u>1||u>0&&f>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Fh extends pg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Fh(e,n,i)}_apply(e){const n=this._parse(e);return ET(e._query,n),new Zi(e.firestore,e.converter,Vp(e._query,n))}_parse(e){const n=Mh(e.firestore);return(function(a,u,f,h,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){px(v,g);const k=[];for(const R of v)k.push(fx(h,a,R));w={arrayValue:{values:k}}}else w=fx(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||px(v,g),w=rN(f,u,v,g==="in"||g==="not-in");return At.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Up(t,e,n){const i=e,o=zs("where",t);return Fh._create(o,i,n)}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const f=a.getFlattenedFilters();for(const h of f)ET(u,h),u=Vp(u,h)})(e._query,n),new Zi(e.firestore,e.converter,Vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends pg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(a,u)})(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,VD(e._query,n))}}function Bh(t,e="asc"){const n=e,i=zs("orderBy",t);return gg._create(i,n)}class yg extends pg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new yg(e,n,i)}_apply(e){return new Zi(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function uN(t){return yg._create("limit",t,"F")}function fx(t,e,n){if(typeof(n=Zr(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fE(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Je.fromString(n));if(!ye.isDocumentKey(i))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return I1(t,new ye(i))}if(n instanceof vt)return I1(t,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(n)}.`)}function px(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(t,e){const n=(function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends wT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zs("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:kt("string",js._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Gc extends js{data(e={}){return super.data(e)}}class Qo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gc(this._firestore,this._userDataWriter,i.key,i,new wl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const h=new Gc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const h=new Gc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:cN(f.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:kt("string",Qo._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){t=Cr(t,vt);const e=Cr(t.firestore,ma),n=og(e);return $j(n,t._key).then((i=>hN(e,t,i)))}function Uh(t){t=Cr(t,Zi);const e=Cr(t.firestore,ma),n=og(e),i=new _T(e);return lN(t._query),Wj(n,t._query).then((o=>new Qo(e,i,t,o)))}function vg(t,e,n){t=Cr(t,vt);const i=Cr(t.firestore,ma),o=TT(t.converter,e),a=Mh(i);return _g(i,[mT(a,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Xn.none())])}function uu(t,e,n,...i){t=Cr(t,vt);const o=Cr(t.firestore,ma),a=Mh(o);let u;return u=typeof(e=Zr(e))=="string"||e instanceof ag?nN(a,"updateDoc",t._key,e,n,i):tN(a,"updateDoc",t._key,e),_g(o,[u.toMutation(t._key,Xn.exists(!0))])}function xg(t,e){const n=Cr(t.firestore,ma),i=tr(t),o=TT(t.converter,e),a=Mh(t.firestore);return _g(n,[mT(a,"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Xn.exists(!1))]).then((()=>i))}function _g(t,e){const n=og(t);return Hj(n,e)}function hN(t,e,n){const i=n.docs.get(e._key),o=new _T(t);return new js(t,o,e._key,i,new wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){KV(jV),sh(new Fl("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new ma(new QV(i.getProvider("auth-internal")),new JV(u,i.getProvider("app-check-internal")),mD(u,o),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),Ko(hx,dx,e),Ko(hx,dx,"esm2020")})();var dN="firebase",fN="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(dN,fN,"app");const pN={apiKey:"AIzaSyCf4uRHqqZtYR3ZvlbHF9w59qGuEjlXcW4",authDomain:"kinderbucks-e3e8c.firebaseapp.com",projectId:"kinderbucks-e3e8c",storageBucket:"kinderbucks-e3e8c.firebasestorage.app",messagingSenderId:"18326874439",appId:"1:18326874439:web:ad902e6a1c794b2b3c4462",measurementId:"G-3JMD9HSMC3"},mN=Ow(pN),Wt=Qj(mN),cu="businesses";async function gN(t){const e=tr(Wt,cu,t),n=await zh(e);return n.exists()?{code:n.id,...n.data()}:null}async function $h(){const t=Oh(Ks(Wt,cu),Bh("name"));return(await Uh(t)).docs.map(n=>({code:n.id,...n.data()}))}async function mx(t,e,n){await vg(tr(Wt,cu,t),{code:t,name:e,category:n,isActive:!0,checkinCount:0,createdAt:Ar()})}async function yN(t){const e=tr(Wt,cu,t);await uu(e,{checkinCount:dg(1)})}async function vN(t,e){const n=tr(Wt,cu,t);await uu(n,{isActive:e})}const Qf={food:{label:"Food & Drink",Icon:iP,color:"#e74c3c"},retail:{label:"Retail",Icon:Kb,color:"#9b59b6"},services:{label:"Services",Icon:wb,color:"#3498db"},arts:{label:"Arts & Culture",Icon:Bb,color:"#1abc9c"}};function xN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState("all");N.useEffect(()=>{async function h(){const p=await $h();e(p.filter(g=>g.isActive)),i(!1)}h()},[]);const u=o==="all"?t:t.filter(h=>h.category===o),f={total:t.length,food:t.filter(h=>h.category==="food").length,retail:t.filter(h=>h.category==="retail").length};return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h1",{style:{marginBottom:"1rem"},children:"For Local Businesses"}),m.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem",marginBottom:"2rem"},children:"Join the Kinderbucks network and connect with customers committed to shopping local"}),m.jsx(_e,{to:"/admin/businesses",className:"btn btn-gold",children:"Register Your Business"})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"Why Accept Kinderbucks?"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"2rem"},children:[{Icon:bw,title:"Committed Customers",description:"Kinderbucks holders have already decided to spend locally. They're not comparison shopping online."},{Icon:Wb,title:"Money Stays Local",description:"Unlike credit cards that send fees elsewhere, Kinderbucks keep circulating in our village economy."},{Icon:Ob,title:"Free Marketing",description:"Get listed in our business directory, featured on our homepage, and promoted to all members."},{Icon:tP,title:"Community Standing",description:"Show customers you're invested in Kinderhook's future. Participating businesses are community leaders."},{Icon:kw,title:"Easy Redemption",description:"Redeem Kinderbucks for USD at any time through our simple merchant portal. No waiting."},{Icon:Cw,title:"Customer Insights",description:"Access check-in data and understand your customers' behavior across the village."}].map((h,p)=>m.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:p*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[m.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:m.jsx(h.Icon,{size:28,color:"var(--kb-gold)",strokeWidth:1.5})}),m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:h.title}),m.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:h.description})]},p))})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"How It Works"}),m.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:[{step:1,title:"Register",desc:"Sign up as a participating business. It's free to join."},{step:2,title:"Get Your QR Code",desc:"We'll provide a unique check-in QR code for your location."},{step:3,title:"Display It",desc:"Put the QR code at your counter or entrance for customers to scan."},{step:4,title:"Accept Kinderbucks",desc:"Take Kinderbucks as payment, just like cash. Same denominations."},{step:5,title:"Redeem Anytime",desc:"Exchange accumulated Kinderbucks back to USD when you need."}].map((h,p)=>m.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",background:"var(--kb-white)",padding:"1.5rem",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[m.jsx("div",{style:{width:"40px",height:"40px",background:"var(--kb-gold)",color:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",flexShrink:0},children:h.step}),m.jsxs("div",{children:[m.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem"},children:h.title}),m.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",margin:0},children:h.desc})]})]},p))})]})}),m.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:m.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[m.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Participating Businesses"}),m.jsxs("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:[f.total," businesses currently accepting Kinderbucks"]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"2rem",flexWrap:"wrap"},children:[m.jsxs("button",{onClick:()=>a("all"),className:o==="all"?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:["All (",f.total,")"]}),Object.entries(Qf).map(([h,p])=>m.jsxs("button",{onClick:()=>a(h),className:o===h?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(p.Icon,{size:16})," ",p.label]},h))]}),n?m.jsx("p",{style:{textAlign:"center"},children:"Loading businesses..."}):u.length===0?m.jsxs("p",{style:{textAlign:"center",color:"var(--kb-gray-500)"},children:["No businesses found. ",m.jsx(_e,{to:"/admin/businesses",children:"Add some!"})]}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:u.map((h,p)=>{const g=Qf[h.category]||Qf.services;return m.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:p*.03},className:"card",style:{padding:"1.25rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[m.jsx("div",{style:{width:"40px",height:"40px",background:`${g.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(g.Icon,{size:20,color:g.color,strokeWidth:1.5})}),m.jsxs("div",{children:[m.jsx("h4",{style:{color:"var(--kb-navy)",margin:0,fontSize:"1rem"},children:h.name}),m.jsx("span",{style:{fontSize:"0.8rem",color:g.color},children:g.label})]})]}),h.checkinCount>0&&m.jsxs("div",{style:{marginTop:"0.75rem",fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:[h.checkinCount," check-ins"]})]},h.code)})})]})}),m.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-gold)",color:"var(--kb-navy)",textAlign:"center"},children:[m.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to join the network?"}),m.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Registration is free. Start accepting Kinderbucks today."}),m.jsx(_e,{to:"/admin/businesses",className:"btn btn-primary",children:"Register Your Business"})]}),m.jsx(Ls,{})]})}const ST="members";function Ql(){let t=localStorage.getItem("kinderhooker_visitor_id");return t||(t="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("kinderhooker_visitor_id",t)),t}async function Yl(t){const e=tr(Wt,ST,t),n=await zh(e);return n.exists()?{visitorId:n.id,...n.data()}:null}async function _N(t,e){const n=tr(Wt,ST,t),i=await zh(n);if(i.exists()){const o=i.data(),a=o.businessesVisited||[],u=!a.includes(e),f=u?a.length+1:a.length,h=_p(f),p=h!==o.tier;return await uu(n,{businessesVisited:oN(e),totalCheckins:dg(1),tier:h,lastCheckin:Ar()}),{isNewBusiness:u,tierChanged:p,oldTier:o.tier,newTier:h,businessesVisited:u?[...a,e]:a,totalCheckins:(o.totalCheckins||0)+1}}else{const o=_p(1);return await vg(n,{visitorId:t,tier:o,businessesVisited:[e],totalCheckins:1,createdAt:Ar(),lastCheckin:Ar(),email:null}),{isNewBusiness:!0,tierChanged:!0,oldTier:null,newTier:o,businessesVisited:[e],totalCheckins:1}}}const wN={curious:Zn,hooked:Ns,lineAndSinker:la,patron:ii};function EN(){const[t,e]=N.useState(null),[n,i]=N.useState(!0),[o,a]=N.useState(20),[u,f]=N.useState(!1),[h,p]=N.useState(!1);N.useEffect(()=>{async function z(){const L=Ql(),P=await Yl(L);e(P),i(!1)}z()},[]);const g=(t==null?void 0:t.tier)||"curious",v=Os[g]||Os.curious,w=t?v.bonus:.1,S=o*w,k=o+S,R=async()=>{f(!0);try{await xg(Ks(Wt,"exchanges"),{visitorId:Ql(),usdAmount:o,bonusRate:w,bonusAmount:S,kinderbucksAmount:k,tier:g,status:"pending",createdAt:Ar()}),p(!0)}catch(z){console.error("Exchange error:",z),alert("Error submitting exchange request")}f(!1)},I=[10,20,50,100];return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",padding:"3rem 1rem",textAlign:"center"},children:m.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[m.jsx("h1",{style:{marginBottom:"0.5rem"},children:"Get Kinderbucks"}),m.jsx("p",{style:{opacity:.9},children:"Exchange USD for local currency with bonus value"})]})}),m.jsx("section",{style:{padding:"3rem 1rem",background:"var(--kb-cream)",flex:1},children:m.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:h?m.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card",style:{textAlign:"center",padding:"3rem 2rem"},children:[m.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),m.jsx("h2",{style:{color:"var(--kb-green)",marginBottom:"1rem"},children:"Exchange Requested!"}),m.jsxs("p",{style:{color:"var(--kb-gray-600)",marginBottom:"1.5rem"},children:["Your exchange request for ",m.jsxs("strong",{children:["$",o," USD"]})," "," ",m.jsxs("strong",{children:["$",k.toFixed(2)," Kinderbucks"]})," has been submitted."]}),m.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"2rem"},children:"Visit any exchange point to complete your transaction and receive your Kinderbucks."}),m.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[m.jsx("button",{onClick:()=>p(!1),className:"btn btn-primary",children:"Exchange More"}),m.jsx(_e,{to:"/account",className:"btn btn-secondary",children:"View Account"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Your Tier"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(()=>{const z=wN[g]||Zn;return m.jsx(z,{size:28,color:v.color,strokeWidth:1.5})})(),m.jsx("span",{style:{fontWeight:"600",color:v.color,fontSize:"1.2rem"},children:v.name})]})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Bonus Rate"}),m.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:v.color},children:[Math.round(w*100),"%"]})]})]}),!t&&m.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--kb-gray-50)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--kb-gray-600)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(jb,{size:16,color:"var(--kb-gold)"})," ",m.jsx(_e,{to:"/profile",style:{color:"var(--kb-navy)"},children:"Visit businesses"})," to increase your tier and get better rates!"]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Exchange Calculator"}),m.jsxs("div",{style:{marginBottom:"1.5rem"},children:[m.jsx("label",{children:"Amount (USD)"}),m.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:I.map(z=>m.jsxs("button",{onClick:()=>a(z),className:o===z?"btn btn-primary":"btn btn-secondary",style:{flex:1,padding:"0.5rem"},children:["$",z]},z))}),m.jsx("input",{type:"number",value:o,onChange:z=>a(Math.max(1,Number(z.target.value))),min:"1",style:{width:"100%"}})]}),m.jsxs("div",{style:{background:"var(--kb-gray-50)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsx("span",{style:{color:"var(--kb-gray-600)"},children:"USD Amount"}),m.jsxs("span",{style:{fontWeight:"600"},children:["$",o.toFixed(2)]})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsxs("span",{style:{color:"var(--kb-gray-600)"},children:[v.name," Bonus (",Math.round(w*100),"%)"]}),m.jsxs("span",{style:{fontWeight:"600",color:"var(--kb-green)"},children:["+$",S.toFixed(2)]})]}),m.jsx("div",{className:"divider",style:{margin:"0.75rem 0"}}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{color:"var(--kb-navy)",fontWeight:"600"},children:"You Receive"}),m.jsxs("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:"var(--kb-gold-dark)"},children:["$",k.toFixed(2)]})]}),m.jsx("div",{style:{textAlign:"right",fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Kinderbucks"})]}),m.jsx("button",{onClick:R,disabled:u,className:"btn btn-gold",style:{width:"100%",padding:"1rem",fontSize:"1.1rem"},children:u?"Processing...":`Exchange $${o} for $${k.toFixed(2)} Kinderbucks`}),m.jsx("p",{style:{textAlign:"center",fontSize:"0.85rem",color:"var(--kb-gray-500)",marginTop:"1rem"},children:"Complete your exchange at any participating business or exchange point"})]}),m.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[m.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange Locations"}),m.jsxs("div",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:[m.jsxs("p",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ff,{size:16,color:"var(--kb-green)"})," ",m.jsx("strong",{children:"OK Pantry"})," - 2 Hudson Street"]}),m.jsxs("p",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ff,{size:16,color:"var(--kb-green)"})," ",m.jsx("strong",{children:"Community Bank NA"})," - 19 Broad Street"]}),m.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ff,{size:16,color:"var(--kb-green)"})," ",m.jsx("strong",{children:"Village Hall"})," - During events"]})]})]})]})})}),m.jsx(Ls,{})]})}const gx={curious:Zn,hooked:Ns,lineAndSinker:la,patron:ii};function TN(){var z,L;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState([]),[u,f]=N.useState(!0),[h,p]=N.useState("overview");if(N.useEffect(()=>{async function P(){const Q=Ql(),J=await Yl(Q),se=await $h();try{const j=Oh(Ks(Wt,"exchanges"),Up("visitorId","==",Q),Bh("createdAt","desc")),C=await Uh(j);a(C.docs.map(b=>({id:b.id,...b.data()})))}catch(j){console.error("Error loading exchanges:",j)}e(J),i(se),f(!1)}P()},[]),u)return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("div",{className:"page page-center",style:{flex:1},children:m.jsx("div",{style:{fontSize:"2rem"},children:"Loading..."})}),m.jsx(Ls,{})]});const g=(t==null?void 0:t.tier)||null,v=g?Os[g]:null,w=((z=t==null?void 0:t.businessesVisited)==null?void 0:z.length)||0,S=bm(w),k=((L=t==null?void 0:t.businessesVisited)==null?void 0:L.map(P=>{const Q=n.find(J=>J.code===P);return Q?Q.name:P}))||[],R=n.filter(P=>{var Q;return P.isActive&&!((Q=t==null?void 0:t.businessesVisited)!=null&&Q.includes(P.code))}),I=o.reduce((P,Q)=>P+(Q.kinderbucksAmount||0),0);return m.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[m.jsx(Ms,{}),m.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"2rem 1rem"},children:m.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[m.jsx("div",{style:{width:"80px",height:"80px",background:v?v.color:"var(--kb-gray-500)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(()=>{const P=g&&gx[g]?gx[g]:Zn;return m.jsx(P,{size:40,color:"white",strokeWidth:1.5})})()}),m.jsxs("div",{style:{flex:1},children:[m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gray-300)",marginBottom:"0.25rem"},children:"OK Membership"}),m.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:v?v.name:"New Member"}),m.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gold)"},children:v?`${Math.round(v.bonus*100)}% Exchange Bonus`:"Start exploring to earn rewards"})]}),m.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Get Kinderbucks"})]})})}),m.jsx("div",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:"70px",zIndex:50},children:m.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",display:"flex",gap:"2rem",padding:"0 1rem"},children:["overview","progress","history"].map(P=>m.jsx("button",{onClick:()=>p(P),style:{background:"none",border:"none",padding:"1rem 0",fontSize:"0.95rem",fontWeight:h===P?"600":"400",color:h===P?"var(--kb-navy)":"var(--kb-gray-500)",borderBottom:h===P?"2px solid var(--kb-gold)":"2px solid transparent",cursor:"pointer",textTransform:"capitalize"},children:P},P))})}),m.jsx("section",{style:{padding:"2rem 1rem",background:"var(--kb-cream)",flex:1},children:m.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[h==="overview"&&m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[m.jsxs("div",{className:"card",style:{textAlign:"center"},children:[m.jsx("div",{className:"stat-value",children:w}),m.jsx("div",{className:"stat-label",children:"Businesses Visited"})]}),m.jsxs("div",{className:"card",style:{textAlign:"center"},children:[m.jsx("div",{className:"stat-value",children:(t==null?void 0:t.totalCheckins)||0}),m.jsx("div",{className:"stat-label",children:"Total Check-ins"})]}),m.jsxs("div",{className:"card",style:{textAlign:"center"},children:[m.jsxs("div",{className:"stat-value",style:{color:"var(--kb-gold)"},children:["$",I.toFixed(0)]}),m.jsx("div",{className:"stat-label",children:"Kinderbucks Exchanged"})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Quick Actions"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem"},children:[m.jsxs(_e,{to:"/exchange",className:"btn btn-gold",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(kw,{size:18})," Exchange"]}),m.jsxs(_e,{to:"/businesses",className:"btn btn-secondary",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(Rm,{size:18})," Find Businesses"]}),m.jsxs(_e,{to:"/benefits",className:"btn btn-secondary",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(Gb,{size:18})," View Benefits"]})]})]})]}),h==="progress"&&m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[v&&m.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Tier Progress"}),S.nextTier?m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"0.5rem"},children:[m.jsx("span",{style:{color:v.color,fontWeight:"600"},children:v.name}),m.jsx("span",{style:{color:"var(--kb-gray-400)",margin:"0 0.5rem"},children:""}),m.jsx("span",{style:{color:S.nextTier.color,fontWeight:"600"},children:S.nextTier.name})]}),m.jsx("div",{className:"progress-bar",style:{height:"12px",marginBottom:"0.5rem"},children:m.jsx("div",{className:"progress-bar-fill",style:{width:`${S.progress}%`,background:v.color}})}),m.jsxs("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem"},children:[S.remaining," more business",S.remaining!==1?"es":""," to reach ",S.nextTier.name]})]}):m.jsxs("p",{style:{color:"var(--kb-gold)",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(ii,{size:20})," Maximum tier reached! You're a Village Patron!"]})]}),m.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[m.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ll,{size:20,color:"var(--kb-green)"})," Businesses Visited (",k.length,")"]}),k.length>0?m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:k.map((P,Q)=>m.jsxs("span",{style:{background:"#d4edda",color:"var(--kb-green)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[m.jsx(Ll,{size:14})," ",P]},Q))}):m.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"No businesses visited yet"})]}),R.length>0&&m.jsxs("div",{className:"card",children:[m.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Iw,{size:20,color:"var(--kb-navy)"})," Still to Explore (",R.length,")"]}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[R.slice(0,12).map(P=>m.jsx("span",{style:{background:"var(--kb-gray-100)",color:"var(--kb-gray-600)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem"},children:P.name},P.code)),R.length>12&&m.jsxs("span",{style:{color:"var(--kb-gray-500)",padding:"0.4rem"},children:["+",R.length-12," more"]})]})]})]}),h==="history"&&m.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:m.jsxs("div",{className:"card",children:[m.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange History"}),o.length>0?m.jsx("div",{children:o.map((P,Q)=>{var J,se,j,C;return m.jsxs("div",{style:{padding:"1rem 0",borderBottom:Q<o.length-1?"1px solid var(--kb-gray-100)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsxs("div",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",P.usdAmount,"  $",(J=P.kinderbucksAmount)==null?void 0:J.toFixed(2)," KB"]}),m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:[((C=(j=(se=P.createdAt)==null?void 0:se.toDate)==null?void 0:j.call(se))==null?void 0:C.toLocaleDateString())||"Pending","  ",Math.round(P.bonusRate*100),"% bonus"]})]}),m.jsx("span",{className:"badge",style:{background:P.status==="completed"?"#d4edda":"#fff3cd",color:P.status==="completed"?"var(--kb-green)":"#856404"},children:P.status})]},P.id)})}):m.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--kb-gray-500)"},children:[m.jsx("p",{style:{marginBottom:"1rem"},children:"No exchanges yet"}),m.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Make Your First Exchange"})]})]})})]})}),m.jsx(Ls,{})]})}const SN={curious:Zn,hooked:Ns,lineAndSinker:la,patron:ii};function AN(){var w,S;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState(!0);if(N.useEffect(()=>{async function k(){const R=Ql(),I=await Yl(R),z=await $h();e(I),i(z),a(!1)}k()},[]),o)return m.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:m.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:m.jsx(Rw,{size:48,color:"var(--kb-navy)"})})});if(!t)return m.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:m.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:m.jsx(i1,{size:40,color:"var(--kb-gold)"})}),m.jsx("h1",{style:{color:"#1a5f2a",marginBottom:"1rem"},children:"Kinderhooker"}),m.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Start exploring local businesses to build your profile!"}),m.jsx("p",{style:{color:"#888",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Scan a QR code at any participating business to check in and earn rewards."}),m.jsx(_e,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Find Businesses"})]})});const u=t.tier||"curious",f=Os[u],h=((w=t.businessesVisited)==null?void 0:w.length)||0,p=bm(h),g=((S=t.businessesVisited)==null?void 0:S.map(k=>{const R=n.find(I=>I.code===k);return R?R.name:k}))||[],v=n.filter(k=>{var R;return k.isActive&&!((R=t.businessesVisited)!=null&&R.includes(k.code))});return m.jsx("div",{className:"page",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:m.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[m.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:"2rem"},children:m.jsxs("h1",{style:{color:"#1a5f2a",fontSize:"1.5rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(i1,{size:24})," KINDERHOOKER PROFILE"]})}),m.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${f.color} 0%, ${f.color}dd 100%)`,borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[m.jsx("div",{style:{marginBottom:"0.5rem"},children:(()=>{const k=SN[u]||Zn;return m.jsx(k,{size:48,color:"white",strokeWidth:1.5})})()}),m.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"0.25rem"},children:f.name}),m.jsxs("div",{style:{opacity:.9,fontSize:"0.9rem"},children:[Math.round(f.bonus*100),"% Kinderbuck Match Bonus"]})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[m.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:["You've supported ",h," local business",h!==1?"es":"","!"]}),p.nextTier&&m.jsxs(m.Fragment,{children:[m.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginBottom:"0.5rem"},children:["Progress to ",m.jsx("strong",{style:{color:p.nextTier.color},children:p.nextTier.name}),":"]}),m.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"24px",overflow:"hidden",marginBottom:"0.5rem"},children:m.jsxs(Ve.div,{initial:{width:0},animate:{width:`${p.progress}%`},transition:{delay:.5,duration:.8},style:{background:`linear-gradient(90deg, ${f.color}, ${p.nextTier.color})`,height:"100%",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:[h,"/",p.nextTier.threshold]})}),m.jsxs("p",{style:{color:"#888",fontSize:"0.85rem",textAlign:"center"},children:[p.remaining," more business",p.remaining!==1?"es":""," to go!"]})]}),!p.nextTier&&m.jsxs("p",{style:{color:"#c9a227",fontWeight:"bold",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(ii,{size:20})," Maximum tier reached! You're a true Village Patron!"]})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[m.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ll,{size:20,color:"var(--kb-green)"})," Businesses Visited"]}),g.length>0?m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:g.map((k,R)=>m.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+R*.05},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#e8f5e9",borderRadius:"8px"},children:[m.jsx(Ll,{size:16,color:"#2e7d32"}),m.jsx("span",{style:{color:"#2c3e50"},children:k})]},R))}):m.jsx("p",{style:{color:"#888"},children:"No businesses visited yet"})]}),v.length>0&&m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[m.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Iw,{size:20,color:"var(--kb-navy)"})," Still to Explore"]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map((k,R)=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#f5f5f5",borderRadius:"8px"},children:[m.jsx("span",{style:{color:"#888"},children:""}),m.jsx("span",{style:{color:"#5a6c7d"},children:k.name})]},k.code))})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{textAlign:"center",color:"#888",marginBottom:"1.5rem"},children:["Total check-ins: ",t.totalCheckins||0]}),m.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:m.jsx(_e,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Home"})})]})})}const hu="kinderbucks",kN="scans";async function CN(t){const e=tr(Wt,hu,t),n=await zh(e);return n.exists()?{serial:n.id,...n.data()}:null}async function $p(){const t=Oh(Ks(Wt,hu),Bh("serial"));return(await Uh(t)).docs.map(n=>({serial:n.id,...n.data()}))}async function IN(t,e){const n=t.map(i=>vg(tr(Wt,hu,i),{serial:i,denomination:e,status:"draft",scanCount:0,createdAt:Ar()}));await Promise.all(n)}async function RN(t,e,n=null){const i=tr(Wt,hu,t),o={status:e,issuedAt:Ar(),...n&&{issuedTo:n}};await uu(i,o)}async function bN(t){const e=tr(Wt,hu,t);await uu(e,{scanCount:dg(1),lastScanned:Ar(),status:"active"}),await xg(Ks(Wt,kN),{serial:t,scannedAt:Ar(),userAgent:navigator.userAgent||null})}function AT(){const[t,e]=N.useState([]);return N.useEffect(()=>{const n=["#2d5a27","#c9a227","#4a7c43","#d4af37","#5c4033"],i=Array.from({length:50},(o,a)=>({id:a,x:Math.random()*100,color:n[Math.floor(Math.random()*n.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:8+Math.random()*8}));e(i)},[]),m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden",zIndex:100},children:t.map(n=>m.jsx(Ve.div,{initial:{y:-20,x:`${n.x}vw`,opacity:1,rotate:0},animate:{y:"110vh",rotate:360*(Math.random()>.5?1:-1),opacity:[1,1,0]},transition:{duration:n.duration,delay:n.delay,ease:"linear"},style:{position:"absolute",width:n.size,height:n.size,background:n.color,borderRadius:Math.random()>.5?"50%":"2px"}},n.id))})}const yx={1:{bg:"#d4edda",text:"#155724"},5:{bg:"#cce5ff",text:"#004085"},10:{bg:"#e2d5e7",text:"#4a235a"},20:{bg:"#fff3cd",text:"#856404"}};function PN({kinderbuck:t}){const e=yx[t.denomination]||yx[5];return m.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"card",style:{textAlign:"center",maxWidth:"400px",background:e.bg},children:[m.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[m.jsxs("h1",{style:{color:e.text,fontSize:"3rem",marginBottom:"0.5rem"},children:["$",t.denomination]}),m.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.5rem",color:e.text},children:t.serial})]}),m.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{marginTop:"1.5rem"},children:m.jsx("div",{style:{display:"inline-block",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.7)",borderRadius:"20px",color:"var(--kb-green)",fontWeight:"bold"},children:"VERIFIED AUTHENTIC"})}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{marginTop:"1.5rem",fontSize:"0.9rem",opacity:.8},children:[m.jsxs("p",{children:["Status: ",m.jsx("strong",{children:t.status})]}),t.issuedAt&&m.jsxs("p",{children:["Issued: ",new Date(t.issuedAt.seconds*1e3).toLocaleDateString()]}),m.jsxs("p",{children:["Scans: ",t.scanCount||1]})]}),m.jsx(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,type:"spring"},style:{marginTop:"1.5rem"},children:m.jsx("iframe",{src:"https://giphy.com/embed/B1txHfofr9y08bDB8b",width:"200",height:"200",frameBorder:"0",style:{borderRadius:"12px",pointerEvents:"none"},allowFullScreen:!0})})]})}function VN(){const{serial:t}=Nx(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null);return N.useEffect(()=>{async function f(){try{const h=await CN(t);h?(n(h),await bN(t)):u("not_found")}catch(h){console.error("Verification error:",h),u("error")}finally{o(!1)}}f()},[t]),i?m.jsxs("div",{className:"page page-center",children:[m.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:"$"}),m.jsxs("p",{style:{marginTop:"1rem"},children:["Verifying ",t,"..."]})]}):a==="not_found"?m.jsxs("div",{className:"page page-center",children:[m.jsx("h1",{style:{color:"#c0392b"},children:"Not Found"}),m.jsxs("p",{children:["Serial ",m.jsx("strong",{children:t})," is not a valid Kinderbuck."]})]}):a?m.jsxs("div",{className:"page page-center",children:[m.jsx("h1",{style:{color:"#c0392b"},children:"Error"}),m.jsx("p",{children:"Something went wrong verifying this Kinderbuck."})]}):m.jsxs("div",{className:"page page-center",children:[m.jsx(AT,{}),m.jsx(PN,{kinderbuck:e})]})}const kT="checkins",DN=3600*1e3;async function jN(t,e){var f;const n=new Date(Date.now()-DN),i=Oh(Ks(Wt,kT),Up("visitorId","==",t),Up("businessCode","==",e),Bh("timestamp","desc"),uN(1)),o=await Uh(i);return o.empty?!1:(((f=o.docs[0].data().timestamp)==null?void 0:f.toDate())||new Date(0))>n}async function NN(t,e,n){await xg(Ks(Wt,kT),{visitorId:t,businessCode:e,timestamp:Ar(),kinderbucksMatched:!1,boostApplied:0,memberTier:n||"curious"})}const vx={curious:Zn,hooked:Ns,lineAndSinker:la,patron:ii};function MN(){var z;const{businessCode:t}=Nx(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null),[f,h]=N.useState(null),[p,g]=N.useState(!1),[v,w]=N.useState(!1);if(N.useEffect(()=>{async function L(){try{const P=await gN(t);if(!P){u("not_found"),o(!1);return}if(!P.isActive){u("inactive"),o(!1);return}n(P);const Q=Ql();if(await jN(Q,t)){g(!0);const b=await Yl(Q);b&&h({tierChanged:!1,newTier:b.tier,businessesVisited:b.businessesVisited||[],totalCheckins:b.totalCheckins||0,isNewBusiness:!1}),o(!1);return}const se=await Yl(Q),j=(se==null?void 0:se.tier)||null,C=await _N(Q,t);await NN(Q,t,C.newTier),await yN(t),h(C),C.tierChanged&&C.newTier&&w(!0),o(!1)}catch(P){console.error("Check-in error:",P),u("error"),o(!1)}}L()},[t]),i)return m.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[m.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:m.jsx(Rw,{size:48,color:"var(--kb-navy)"})}),m.jsx("p",{style:{marginTop:"1rem",color:"#5a6c7d"},children:"Checking in..."})]});if(a==="not_found")return m.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[m.jsx("h1",{style:{color:"#c0392b"},children:"Business Not Found"}),m.jsx("p",{style:{color:"#5a6c7d"},children:"This check-in code doesn't match any participating business."}),m.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a==="inactive")return m.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[m.jsx("h1",{style:{color:"#e67e22"},children:"Business Not Active"}),m.jsx("p",{style:{color:"#5a6c7d"},children:"This business is not currently participating in Kinderhooker."}),m.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a)return m.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[m.jsx("h1",{style:{color:"#c0392b"},children:"Something went wrong"}),m.jsx("p",{style:{color:"#5a6c7d"},children:"Please try scanning again."}),m.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});const S=(f==null?void 0:f.newTier)||"curious",k=Os[S],R=((z=f==null?void 0:f.businessesVisited)==null?void 0:z.length)||0,I=bm(R);return m.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:[v&&m.jsx(AT,{}),m.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[p?m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-gray-100)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:m.jsx(Ab,{size:32,color:"var(--kb-gray-500)"})}),m.jsx("h2",{style:{color:"#5a6c7d",marginBottom:"0.5rem"},children:"Already Checked In!"}),m.jsxs("p",{style:{color:"#888",marginBottom:"1.5rem"},children:["You visited ",m.jsx("strong",{children:e.name})," recently.",m.jsx("br",{}),"Come back in an hour for another check-in!"]})]}):m.jsxs(m.Fragment,{children:[m.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[m.jsx("div",{style:{width:"50px",height:"50px",background:"#d4edda",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem"},children:m.jsx(Ll,{size:28,color:"var(--kb-green)"})}),m.jsxs("h2",{style:{color:"#1a5f2a",marginBottom:"0.5rem"},children:["Welcome to ",e.name,"!"]}),m.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Check-in recorded!"})]}),(f==null?void 0:f.tierChanged)&&(f==null?void 0:f.newTier)&&m.jsxs(Ve.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},style:{background:k.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem"},children:(()=>{const L=vx[S]||Zn;return m.jsx(L,{size:32,color:k.color,strokeWidth:1.5})})()}),m.jsx("div",{style:{color:k.color,fontWeight:"bold",fontSize:"1.2rem"},children:f.oldTier?"NEW TIER UNLOCKED!":"WELCOME, KINDERHOOKER!"}),m.jsx("div",{style:{color:k.color,fontSize:"1.5rem",fontWeight:"bold"},children:k.name})]})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:k.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem"},children:(()=>{const L=vx[S]||Zn;return m.jsx(L,{size:40,color:k.color,strokeWidth:1.5})})()}),m.jsx("div",{style:{color:k.color,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:k.name}),m.jsxs("div",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginTop:"0.5rem"},children:[Math.round(k.bonus*100),"% Kinderbuck Match Bonus"]})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[m.jsxs("p",{style:{color:"#2c3e50",marginBottom:"0.5rem"},children:["You've visited ",m.jsx("strong",{children:R})," business",R!==1?"es":""]}),I.nextTier&&m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"0.5rem"},children:m.jsx(Ve.div,{initial:{width:0},animate:{width:`${I.progress}%`},transition:{delay:.7,duration:.5},style:{background:`linear-gradient(90deg, ${k.color}, ${I.nextTier.color})`,height:"100%",borderRadius:"10px"}})}),m.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.85rem"},children:[I.remaining," more to reach ",m.jsx("strong",{style:{color:I.nextTier.color},children:I.nextTier.name}),"!"]})]}),!I.nextTier&&m.jsxs("p",{style:{color:"#c9a227",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx(ii,{size:20})," Maximum tier reached! You're a true Village Patron!"]})]}),m.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[m.jsx(_e,{to:"/profile",className:"btn",style:{background:"#1a5f2a"},children:"View My Profile"}),m.jsx(_e,{to:"/",className:"btn btn-secondary",children:"Home"})]})]})]})}function Wh(){const t=ri(),e=[{to:"/admin/dashboard",label:"Dashboard"},{to:"/admin/generate",label:"Generate"},{to:"/admin/issue",label:"Issue"},{to:"/admin/businesses",label:"Businesses"}];return m.jsxs("nav",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd",flexWrap:"wrap",alignItems:"center"},children:[m.jsx(_e,{to:"/",style:{fontWeight:"bold",color:"var(--kb-green)",textDecoration:"none"},children:"Kinderbucks"}),m.jsx("span",{style:{opacity:.3},children:"|"}),e.map(n=>m.jsx(_e,{to:n.to,style:{color:t.pathname===n.to?"var(--kb-green)":"var(--kb-brown)",textDecoration:t.pathname===n.to?"underline":"none"},children:n.label},n.to))]})}function LN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState({status:"all",denomination:"all"});N.useEffect(()=>{async function h(){const p=await $p();e(p),i(!1)}h()},[]);const u=t.filter(h=>!(o.status!=="all"&&h.status!==o.status||o.denomination!=="all"&&h.denomination!==Number(o.denomination))),f={total:t.length,issued:t.filter(h=>h.status==="issued"||h.status==="active").length,totalValue:t.reduce((h,p)=>h+(p.denomination||0),0)};return m.jsxs("div",{className:"page",children:[m.jsx(Wh,{}),m.jsx("h1",{children:"Dashboard"}),m.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"Total Kinderbucks"}),m.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.total})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"In Circulation"}),m.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.issued})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{children:"Total Value"}),m.jsxs("p",{style:{fontSize:"2rem",color:"var(--kb-gold)"},children:["$",f.totalValue]})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[m.jsxs("select",{value:o.status,onChange:h=>a(p=>({...p,status:h.target.value})),style:{padding:"0.5rem"},children:[m.jsx("option",{value:"all",children:"All Statuses"}),m.jsx("option",{value:"draft",children:"Draft"}),m.jsx("option",{value:"issued",children:"Issued"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"redeemed",children:"Redeemed"}),m.jsx("option",{value:"retired",children:"Retired"})]}),m.jsxs("select",{value:o.denomination,onChange:h=>a(p=>({...p,denomination:h.target.value})),style:{padding:"0.5rem"},children:[m.jsx("option",{value:"all",children:"All Denominations"}),m.jsx("option",{value:"1",children:"$1"}),m.jsx("option",{value:"5",children:"$5"}),m.jsx("option",{value:"10",children:"$10"}),m.jsx("option",{value:"20",children:"$20"})]})]}),n?m.jsx("p",{children:"Loading..."}):u.length===0?m.jsxs("p",{children:["No Kinderbucks found. ",m.jsx(_e,{to:"/admin/generate",children:"Generate some!"})]}):m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"2px solid var(--kb-green)"},children:[m.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Serial"}),m.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Denomination"}),m.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Status"}),m.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Scans"})]})}),m.jsx("tbody",{children:u.slice(0,50).map(h=>m.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[m.jsx("td",{style:{padding:"0.5rem",fontFamily:"monospace"},children:h.serial}),m.jsxs("td",{style:{padding:"0.5rem"},children:["$",h.denomination]}),m.jsx("td",{style:{padding:"0.5rem"},children:m.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",background:h.status==="active"?"#d4edda":h.status==="draft"?"#f8f9fa":"#fff3cd"},children:h.status})}),m.jsx("td",{style:{padding:"0.5rem"},children:h.scanCount||0})]},h.serial))})]}),u.length>50&&m.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",u.length]})]})]})}var ON=Object.defineProperty,gh=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,IT=Object.prototype.propertyIsEnumerable,xx=(t,e,n)=>e in t?ON(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wp=(t,e)=>{for(var n in e||(e={}))CT.call(e,n)&&xx(t,n,e[n]);if(gh)for(var n of gh(e))IT.call(e,n)&&xx(t,n,e[n]);return t},Hp=(t,e)=>{var n={};for(var i in t)CT.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&gh)for(var i of gh(t))e.indexOf(i)<0&&IT.call(t,i)&&(n[i]=t[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Us;(t=>{const e=class Pe{constructor(h,p,g,v){if(this.version=h,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],h<Pe.MIN_VERSION||h>Pe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let w=[];for(let k=0;k<this.size;k++)w.push(!1);for(let k=0;k<this.size;k++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(g);if(this.drawCodewords(S),v==-1){let k=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const I=this.getPenaltyScore();I<k&&(v=R,k=I),this.applyMask(R)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(h,p){const g=t.QrSegment.makeSegments(h);return Pe.encodeSegments(g,p)}static encodeBinary(h,p){const g=t.QrSegment.makeBytes(h);return Pe.encodeSegments([g],p)}static encodeSegments(h,p,g=1,v=40,w=-1,S=!0){if(!(Pe.MIN_VERSION<=g&&g<=v&&v<=Pe.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let k,R;for(k=g;;k++){const P=Pe.getNumDataCodewords(k,p)*8,Q=u.getTotalBits(h,k);if(Q<=P){R=Q;break}if(k>=v)throw new RangeError("Data too long")}for(const P of[Pe.Ecc.MEDIUM,Pe.Ecc.QUARTILE,Pe.Ecc.HIGH])S&&R<=Pe.getNumDataCodewords(k,P)*8&&(p=P);let I=[];for(const P of h){n(P.mode.modeBits,4,I),n(P.numChars,P.mode.numCharCountBits(k),I);for(const Q of P.getData())I.push(Q)}o(I.length==R);const z=Pe.getNumDataCodewords(k,p)*8;o(I.length<=z),n(0,Math.min(4,z-I.length),I),n(0,(8-I.length%8)%8,I),o(I.length%8==0);for(let P=236;I.length<z;P^=253)n(P,8,I);let L=[];for(;L.length*8<I.length;)L.push(0);return I.forEach((P,Q)=>L[Q>>>3]|=P<<7-(Q&7)),new Pe(k,p,L,w)}getModule(h,p){return 0<=h&&h<this.size&&0<=p&&p<this.size&&this.modules[p][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),p=h.length;for(let g=0;g<p;g++)for(let v=0;v<p;v++)g==0&&v==0||g==0&&v==p-1||g==p-1&&v==0||this.drawAlignmentPattern(h[g],h[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const p=this.errorCorrectionLevel.formatBits<<3|h;let g=p;for(let w=0;w<10;w++)g=g<<1^(g>>>9)*1335;const v=(p<<10|g)^21522;o(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(v,w));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let g=0;g<12;g++)h=h<<1^(h>>>11)*7973;const p=this.version<<12|h;o(p>>>18==0);for(let g=0;g<18;g++){const v=i(p,g),w=this.size-11+g%3,S=Math.floor(g/3);this.setFunctionModule(w,S,v),this.setFunctionModule(S,w,v)}}drawFinderPattern(h,p){for(let g=-4;g<=4;g++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(g)),S=h+v,k=p+g;0<=S&&S<this.size&&0<=k&&k<this.size&&this.setFunctionModule(S,k,w!=2&&w!=4)}}drawAlignmentPattern(h,p){for(let g=-2;g<=2;g++)for(let v=-2;v<=2;v++)this.setFunctionModule(h+v,p+g,Math.max(Math.abs(v),Math.abs(g))!=1)}setFunctionModule(h,p,g){this.modules[p][h]=g,this.isFunction[p][h]=!0}addEccAndInterleave(h){const p=this.version,g=this.errorCorrectionLevel;if(h.length!=Pe.getNumDataCodewords(p,g))throw new RangeError("Invalid argument");const v=Pe.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p],w=Pe.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p],S=Math.floor(Pe.getNumRawDataModules(p)/8),k=v-S%v,R=Math.floor(S/v);let I=[];const z=Pe.reedSolomonComputeDivisor(w);for(let P=0,Q=0;P<v;P++){let J=h.slice(Q,Q+R-w+(P<k?0:1));Q+=J.length;const se=Pe.reedSolomonComputeRemainder(J,z);P<k&&J.push(0),I.push(J.concat(se))}let L=[];for(let P=0;P<I[0].length;P++)I.forEach((Q,J)=>{(P!=R-w||J>=k)&&L.push(Q[P])});return o(L.length==S),L}drawCodewords(h){if(h.length!=Math.floor(Pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const S=g-w,R=(g+1&2)==0?this.size-1-v:v;!this.isFunction[R][S]&&p<h.length*8&&(this.modules[R][S]=i(h[p>>>3],7-(p&7)),p++)}}o(p==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let g=0;g<this.size;g++){let v;switch(h){case 0:v=(g+p)%2==0;break;case 1:v=p%2==0;break;case 2:v=g%3==0;break;case 3:v=(g+p)%3==0;break;case 4:v=(Math.floor(g/3)+Math.floor(p/2))%2==0;break;case 5:v=g*p%2+g*p%3==0;break;case 6:v=(g*p%2+g*p%3)%2==0;break;case 7:v=((g+p)%2+g*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][g]&&v&&(this.modules[p][g]=!this.modules[p][g])}}getPenaltyScore(){let h=0;for(let w=0;w<this.size;w++){let S=!1,k=0,R=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[w][I]==S?(k++,k==5?h+=Pe.PENALTY_N1:k>5&&h++):(this.finderPenaltyAddHistory(k,R),S||(h+=this.finderPenaltyCountPatterns(R)*Pe.PENALTY_N3),S=this.modules[w][I],k=1);h+=this.finderPenaltyTerminateAndCount(S,k,R)*Pe.PENALTY_N3}for(let w=0;w<this.size;w++){let S=!1,k=0,R=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][w]==S?(k++,k==5?h+=Pe.PENALTY_N1:k>5&&h++):(this.finderPenaltyAddHistory(k,R),S||(h+=this.finderPenaltyCountPatterns(R)*Pe.PENALTY_N3),S=this.modules[I][w],k=1);h+=this.finderPenaltyTerminateAndCount(S,k,R)*Pe.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let S=0;S<this.size-1;S++){const k=this.modules[w][S];k==this.modules[w][S+1]&&k==this.modules[w+1][S]&&k==this.modules[w+1][S+1]&&(h+=Pe.PENALTY_N2)}let p=0;for(const w of this.modules)p=w.reduce((S,k)=>S+(k?1:0),p);const g=this.size*this.size,v=Math.ceil(Math.abs(p*20-g*10)/g)-1;return o(0<=v&&v<=9),h+=v*Pe.PENALTY_N4,o(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let g=[6];for(let v=this.size-7;g.length<h;v-=p)g.splice(1,0,v);return g}}static getNumRawDataModules(h){if(h<Pe.MIN_VERSION||h>Pe.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*h+128)*h+64;if(h>=2){const g=Math.floor(h/7)+2;p-=(25*g-10)*g-55,h>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(h,p){return Math.floor(Pe.getNumRawDataModules(h)/8)-Pe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h]*Pe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let p=[];for(let v=0;v<h-1;v++)p.push(0);p.push(1);let g=1;for(let v=0;v<h;v++){for(let w=0;w<p.length;w++)p[w]=Pe.reedSolomonMultiply(p[w],g),w+1<p.length&&(p[w]^=p[w+1]);g=Pe.reedSolomonMultiply(g,2)}return p}static reedSolomonComputeRemainder(h,p){let g=p.map(v=>0);for(const v of h){const w=v^g.shift();g.push(0),p.forEach((S,k)=>g[k]^=Pe.reedSolomonMultiply(S,w))}return g}static reedSolomonMultiply(h,p){if(h>>>8||p>>>8)throw new RangeError("Byte out of range");let g=0;for(let v=7;v>=0;v--)g=g<<1^(g>>>7)*285,g^=(p>>>v&1)*h;return o(g>>>8==0),g}finderPenaltyCountPatterns(h){const p=h[1];o(p<=this.size*3);const g=p>0&&h[2]==p&&h[3]==p*3&&h[4]==p&&h[5]==p;return(g&&h[0]>=p*4&&h[6]>=p?1:0)+(g&&h[6]>=p*4&&h[0]>=p?1:0)}finderPenaltyTerminateAndCount(h,p,g){return h&&(this.finderPenaltyAddHistory(p,g),p=0),p+=this.size,this.finderPenaltyAddHistory(p,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(h,p){p[0]==0&&(h+=this.size),p.pop(),p.unshift(h)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(f,h,p){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let g=h-1;g>=0;g--)p.push(f>>>g&1)}function i(f,h){return(f>>>h&1)!=0}function o(f){if(!f)throw new Error("Assertion error")}const a=class dt{constructor(h,p,g){if(this.mode=h,this.numChars=p,this.bitData=g,p<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(h){let p=[];for(const g of h)n(g,8,p);return new dt(dt.Mode.BYTE,h.length,p)}static makeNumeric(h){if(!dt.isNumeric(h))throw new RangeError("String contains non-numeric characters");let p=[];for(let g=0;g<h.length;){const v=Math.min(h.length-g,3);n(parseInt(h.substring(g,g+v),10),v*3+1,p),g+=v}return new dt(dt.Mode.NUMERIC,h.length,p)}static makeAlphanumeric(h){if(!dt.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],g;for(g=0;g+2<=h.length;g+=2){let v=dt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(g))*45;v+=dt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(g+1)),n(v,11,p)}return g<h.length&&n(dt.ALPHANUMERIC_CHARSET.indexOf(h.charAt(g)),6,p),new dt(dt.Mode.ALPHANUMERIC,h.length,p)}static makeSegments(h){return h==""?[]:dt.isNumeric(h)?[dt.makeNumeric(h)]:dt.isAlphanumeric(h)?[dt.makeAlphanumeric(h)]:[dt.makeBytes(dt.toUtf8ByteArray(h))]}static makeEci(h){let p=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)n(h,8,p);else if(h<16384)n(2,2,p),n(h,14,p);else if(h<1e6)n(6,3,p),n(h,21,p);else throw new RangeError("ECI assignment value out of range");return new dt(dt.Mode.ECI,0,p)}static isNumeric(h){return dt.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return dt.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,p){let g=0;for(const v of h){const w=v.mode.numCharCountBits(p);if(v.numChars>=1<<w)return 1/0;g+=4+w+v.bitData.length}return g}static toUtf8ByteArray(h){h=encodeURI(h);let p=[];for(let g=0;g<h.length;g++)h.charAt(g)!="%"?p.push(h.charCodeAt(g)):(p.push(parseInt(h.substring(g+1,g+3),16)),g+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(Us||(Us={}));(t=>{(e=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Us||(Us={}));(t=>{(e=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Us||(Us={}));var Wo=Us;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var FN={L:Wo.QrCode.Ecc.LOW,M:Wo.QrCode.Ecc.MEDIUM,Q:Wo.QrCode.Ecc.QUARTILE,H:Wo.QrCode.Ecc.HIGH},RT=128,bT="L",PT="#FFFFFF",VT="#000000",DT=!1,jT=1,BN=4,zN=0,UN=.1;function NT(t,e=0){const n=[];return t.forEach(function(i,o){let a=null;i.forEach(function(u,f){if(!u&&a!==null){n.push(`M${a+e} ${o+e}h${f-a}v1H${a+e}z`),a=null;return}if(f===i.length-1){if(!u)return;a===null?n.push(`M${f+e},${o+e} h1v1H${f+e}z`):n.push(`M${a+e},${o+e} h${f+1-a}v1H${a+e}z`);return}u&&a===null&&(a=f)})}),n.join("")}function MT(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((o,a)=>a<e.x||a>=e.x+e.w?o:!1))}function $N(t,e,n,i){if(i==null)return null;const o=t.length+n*2,a=Math.floor(e*UN),u=o/e,f=(i.width||a)*u,h=(i.height||a)*u,p=i.x==null?t.length/2-f/2:i.x*u,g=i.y==null?t.length/2-h/2:i.y*u,v=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let k=Math.floor(p),R=Math.floor(g),I=Math.ceil(f+p-k),z=Math.ceil(h+g-R);w={x:k,y:R,w:I,h:z}}const S=i.crossOrigin;return{x:p,y:g,h,w:f,excavation:w,opacity:v,crossOrigin:S}}function WN(t,e){return e!=null?Math.max(Math.floor(e),0):t?BN:zN}function LT({value:t,level:e,minVersion:n,includeMargin:i,marginSize:o,imageSettings:a,size:u,boostLevel:f}){let h=bt.useMemo(()=>{const k=(Array.isArray(t)?t:[t]).reduce((R,I)=>(R.push(...Wo.QrSegment.makeSegments(I)),R),[]);return Wo.QrCode.encodeSegments(k,FN[e],n,void 0,void 0,f)},[t,e,n,f]);const{cells:p,margin:g,numCells:v,calculatedImageSettings:w}=bt.useMemo(()=>{let S=h.getModules();const k=WN(i,o),R=S.length+k*2,I=$N(S,u,k,a);return{cells:S,margin:k,numCells:R,calculatedImageSettings:I}},[h,u,a,i,o]);return{qrcode:h,margin:g,cells:p,numCells:v,calculatedImageSettings:w}}var HN=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),KN=bt.forwardRef(function(e,n){const i=e,{value:o,size:a=RT,level:u=bT,bgColor:f=PT,fgColor:h=VT,includeMargin:p=DT,minVersion:g=jT,boostLevel:v,marginSize:w,imageSettings:S}=i,R=Hp(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:I}=R,z=Hp(R,["style"]),L=S==null?void 0:S.src,P=bt.useRef(null),Q=bt.useRef(null),J=bt.useCallback(be=>{P.current=be,typeof n=="function"?n(be):n&&(n.current=be)},[n]),[se,j]=bt.useState(!1),{margin:C,cells:b,numCells:O,calculatedImageSettings:M}=LT({value:o,level:u,minVersion:g,boostLevel:v,includeMargin:p,marginSize:w,imageSettings:S,size:a});bt.useEffect(()=>{if(P.current!=null){const be=P.current,$e=be.getContext("2d");if(!$e)return;let xt=b;const Ee=Q.current,re=M!=null&&Ee!==null&&Ee.complete&&Ee.naturalHeight!==0&&Ee.naturalWidth!==0;re&&M.excavation!=null&&(xt=MT(b,M.excavation));const fe=window.devicePixelRatio||1;be.height=be.width=a*fe;const ae=a/O*fe;$e.scale(ae,ae),$e.fillStyle=f,$e.fillRect(0,0,O,O),$e.fillStyle=h,HN?$e.fill(new Path2D(NT(xt,C))):b.forEach(function(U,Z){U.forEach(function(Ae,ke){Ae&&$e.fillRect(ke+C,Z+C,1,1)})}),M&&($e.globalAlpha=M.opacity),re&&$e.drawImage(Ee,M.x+C,M.y+C,M.w,M.h)}}),bt.useEffect(()=>{j(!1)},[L]);const $=Wp({height:a,width:a},I);let D=null;return L!=null&&(D=bt.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{j(!0)},ref:Q,crossOrigin:M==null?void 0:M.crossOrigin})),bt.createElement(bt.Fragment,null,bt.createElement("canvas",Wp({style:$,height:a,width:a,ref:J,role:"img"},z)),D)});KN.displayName="QRCodeCanvas";var Kp=bt.forwardRef(function(e,n){const i=e,{value:o,size:a=RT,level:u=bT,bgColor:f=PT,fgColor:h=VT,includeMargin:p=DT,minVersion:g=jT,boostLevel:v,title:w,marginSize:S,imageSettings:k}=i,R=Hp(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:I,cells:z,numCells:L,calculatedImageSettings:P}=LT({value:o,level:u,minVersion:g,boostLevel:v,includeMargin:p,marginSize:S,imageSettings:k,size:a});let Q=z,J=null;k!=null&&P!=null&&(P.excavation!=null&&(Q=MT(z,P.excavation)),J=bt.createElement("image",{href:k.src,height:P.h,width:P.w,x:P.x+I,y:P.y+I,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const se=NT(Q,I);return bt.createElement("svg",Wp({height:a,width:a,viewBox:`0 0 ${L} ${L}`,ref:n,role:"img"},R),!!w&&bt.createElement("title",null,w),bt.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),bt.createElement("path",{fill:h,d:se,shapeRendering:"crispEdges"}),J)});Kp.displayName="QRCodeSVG";const _x={1:{color:"#2d5a27",gradient:["#3d7a37","#2d5a27"],label:"ONE",accent:"#90c695"},5:{color:"#1e3a5f",gradient:["#2e5a8f","#1e3a5f"],label:"FIVE",accent:"#7ba3cc"},10:{color:"#5c2d5c",gradient:["#7c4d7c","#5c2d5c"],label:"TEN",accent:"#b89db8"},20:{color:"#8b6914",gradient:["#c9a227","#8b6914"],label:"TWENTY",accent:"#e8d48a"}};function OT({value:t,size:e=128,denomination:n=5,showFrame:i=!0}){const o=_x[n]||_x[5],a=e+48,u=16;return i?m.jsx("div",{style:{width:a,background:`linear-gradient(135deg, ${o.gradient[0]} 0%, ${o.gradient[1]} 100%)`,borderRadius:u,padding:"3px",display:"inline-block",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:m.jsxs("div",{style:{background:"linear-gradient(135deg, #fefefe 0%, #f5f5f0 100%)",borderRadius:u-2,padding:"8px",position:"relative"},children:[m.jsx("div",{style:{textAlign:"center",marginBottom:"6px",fontFamily:'"Georgia", serif',fontSize:"10px",fontWeight:"bold",color:o.color,letterSpacing:"3px",textTransform:"uppercase"},children:"KINDERBUCKS"}),m.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"8px",border:`2px solid ${o.accent}`,position:"relative"},children:[m.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"2px 0 0 0"}}),m.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 2px 0 0"}}),m.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"0 0 0 2px"}}),m.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 0 2px 0"}}),m.jsx(Kp,{value:t,size:e,level:"H",fgColor:o.color,style:{display:"block"},imageSettings:{src:`data:image/svg+xml,${encodeURIComponent(`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${o.color}">
                  <circle cx="12" cy="12" r="11" fill="white" stroke="${o.color}" stroke-width="1.5"/>
                  <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="${o.color}" font-family="Georgia">K</text>
                </svg>
              `)}`,height:e*.2,width:e*.2,excavate:!0}})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px",padding:"0 4px"},children:[m.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]}),m.jsx("span",{style:{fontFamily:'"Georgia", serif',fontSize:"9px",color:o.color,letterSpacing:"1px",opacity:.8},children:o.label}),m.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]})]})]})}):m.jsx(Kp,{value:t,size:e,level:"M",fgColor:o.color,style:{display:"block"}})}function qN(){const[t,e]=N.useState({start:1,end:100}),[n,i]=N.useState(5),[o,a]=N.useState([]),[u,f]=N.useState(!1),[h,p]=N.useState(!1),g=()=>{const S=[];for(let k=t.start;k<=t.end;k++)S.push(`KB-${String(k).padStart(4,"0")}`);a(S),p(!1)},v=async()=>{f(!0);try{await IN(o,n),p(!0)}catch(S){console.error("Error saving:",S),alert("Error saving to database")}f(!1)},w="https://harmonicsystems.github.io/kinderbucks/#/scan/";return m.jsxs("div",{className:"page",children:[m.jsx(Wh,{}),m.jsx("h1",{children:"Generate QR Codes"}),m.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[m.jsx("h2",{children:"Settings"}),m.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Start Number"}),m.jsx("input",{type:"number",value:t.start,onChange:S=>e(k=>({...k,start:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"End Number"}),m.jsx("input",{type:"number",value:t.end,onChange:S=>e(k=>({...k,end:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Denomination"}),m.jsxs("select",{value:n,onChange:S=>i(Number(S.target.value)),style:{padding:"0.5rem"},children:[m.jsx("option",{value:1,children:"$1"}),m.jsx("option",{value:5,children:"$5"}),m.jsx("option",{value:10,children:"$10"}),m.jsx("option",{value:20,children:"$20"})]})]}),m.jsxs("button",{className:"btn",onClick:g,children:["Generate ",t.end-t.start+1," Codes"]})]})]}),o.length>0&&m.jsxs("div",{className:"card",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[m.jsxs("h2",{children:["Generated: ",o.length," Kinderbucks ($",n," each)"]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[!h&&m.jsx("button",{className:"btn",onClick:v,disabled:u,children:u?"Saving...":"Save to Database"}),h&&m.jsx("span",{style:{color:"var(--kb-green)"},children:"Saved!"}),m.jsx("button",{className:"btn btn-secondary",onClick:()=>window.print(),children:"Print"})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:o.slice(0,50).map(S=>m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx(OT,{value:`${w}${S}`,size:120,denomination:n}),m.jsx("p",{style:{fontFamily:"monospace",marginTop:"0.5rem",fontSize:"0.85rem"},children:S})]},S))}),o.length>50&&m.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",o.length,". All will be saved and printable."]})]})]})}function GN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState([]),[u,f]=N.useState("");N.useEffect(()=>{async function v(){const w=await $p();e(w.filter(S=>S.status==="draft"||S.status==="issued")),i(!1)}v()},[]);const h=v=>{a(w=>w.includes(v)?w.filter(S=>S!==v):[...w,v])},p=async()=>{if(o.length!==0)try{for(const w of o)await RN(w,"issued",u);const v=await $p();e(v.filter(w=>w.status==="draft"||w.status==="issued")),a([]),f(""),alert(`Issued ${o.length} Kinderbucks!`)}catch(v){console.error("Error issuing:",v),alert("Error issuing Kinderbucks")}},g=t.filter(v=>v.status==="draft");return m.jsxs("div",{className:"page",children:[m.jsx(Wh,{}),m.jsx("h1",{children:"Issue Kinderbucks"}),m.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[m.jsx("h2",{children:"Issue Selected"}),m.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Issued To (optional)"}),m.jsx("input",{type:"text",value:u,onChange:v=>f(v.target.value),placeholder:"Business or recipient name",style:{padding:"0.5rem",width:"250px"}})]}),m.jsxs("button",{className:"btn",onClick:p,disabled:o.length===0,children:["Issue ",o.length," Selected"]})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("h2",{children:["Available to Issue (",g.length," draft)"]}),n?m.jsx("p",{children:"Loading..."}):g.length===0?m.jsx("p",{children:"No draft Kinderbucks available. Generate some first!"}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{marginBottom:"1rem"},children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>a(g.map(v=>v.serial)),style:{marginRight:"0.5rem"},children:"Select All"}),m.jsx("button",{className:"btn btn-secondary",onClick:()=>a([]),children:"Clear"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"0.5rem"},children:g.map(v=>m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:o.includes(v.serial)?"#d4edda":"#f8f9fa",borderRadius:"4px",cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:o.includes(v.serial),onChange:()=>h(v.serial)}),m.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.serial}),m.jsxs("span",{style:{opacity:.7},children:["$",v.denomination]})]},v.serial))})]})]})]})}const QN=[{code:"AVIARY",name:"The Aviary",category:"food"},{code:"MORNINGBIRD",name:"Morningbird Cafe",category:"food"},{code:"SAISONNIER",name:"Saisonnier",category:"food"},{code:"BROADST-BAGEL",name:"Broad Street Bagel Co.",category:"food"},{code:"BROOKLYN-PIZZA",name:"The Brooklyn Pizzeria",category:"food"},{code:"ISOLA",name:"Isola Wine Bar",category:"food"},{code:"HAMRAHS",name:"Hamrah's Lebanese Foods",category:"food"},{code:"OK-PANTRY",name:"OK Pantry",category:"retail"},{code:"BOTTLE-SHOP",name:"Kinderhook Bottle Shop",category:"retail"},{code:"BOOKS",name:"Kinderhook Books",category:"retail"},{code:"SAMASCOTTS",name:"Samascott's Garden Market",category:"retail"},{code:"SCHOOL-GALLERY",name:"The School | Jack Shainman Gallery",category:"arts"},{code:"SEPTEMBER",name:"September Gallery",category:"arts"},{code:"OLD-DUTCH",name:"Old Dutch Inn",category:"services"},{code:"MUSE",name:"Muse Aesthetics",category:"services"},{code:"PILATES",name:"Julia Jayne Pilates",category:"services"},{code:"HISTORICAL",name:"Columbia County Historical Society",category:"arts"}],wx=[{value:"food",label:"Food & Drink",emoji:""},{value:"retail",label:"Retail",emoji:""},{value:"services",label:"Services",emoji:""},{value:"arts",label:"Arts & Culture",emoji:""}];function YN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState({code:"",name:"",category:"food"}),[u,f]=N.useState(!1),[h,p]=N.useState(null),[g,v]=N.useState(!1),w=async()=>{const L=await $h();e(L),i(!1)};N.useEffect(()=>{w()},[]);const S=async L=>{if(L.preventDefault(),!(!o.code||!o.name)){f(!0);try{await mx(o.code.toUpperCase(),o.name,o.category),a({code:"",name:"",category:"food"}),await w()}catch(P){console.error("Error creating business:",P),alert("Error creating business")}f(!1)}},k=async(L,P)=>{await vN(L,!P),await w()},R=async()=>{if(confirm("This will add all Kinderhook businesses. Continue?")){v(!0);try{for(const L of QN)t.find(Q=>Q.code===L.code)||await mx(L.code,L.name,L.category);await w(),alert("Businesses seeded successfully!")}catch(L){console.error("Error seeding:",L),alert("Error seeding businesses")}v(!1)}},I="https://harmonicsystems.github.io/kinderbucks/#/checkin/",z=L=>{const P=wx.find(Q=>Q.value===L);return P?P.emoji:""};return m.jsxs("div",{className:"page",children:[m.jsx(Wh,{}),m.jsx("h1",{children:"Business Directory"}),m.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[m.jsx("h2",{children:"Add Business"}),m.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Code"}),m.jsx("input",{type:"text",value:o.code,onChange:L=>a(P=>({...P,code:L.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"")})),placeholder:"CAFE-01",style:{padding:"0.5rem",width:"120px",fontFamily:"monospace"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Name"}),m.jsx("input",{type:"text",value:o.name,onChange:L=>a(P=>({...P,name:L.target.value})),placeholder:"Village Caf",style:{padding:"0.5rem",width:"200px"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Category"}),m.jsx("select",{value:o.category,onChange:L=>a(P=>({...P,category:L.target.value})),style:{padding:"0.5rem"},children:wx.map(L=>m.jsxs("option",{value:L.value,children:[L.emoji," ",L.label]},L.value))})]}),m.jsx("button",{type:"submit",className:"btn",disabled:u||!o.code||!o.name,children:u?"Adding...":"Add Business"}),m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:R,disabled:g,children:g?"Seeding...":"Seed All Kinderhook"})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("h2",{children:["Participating Businesses (",t.length,")"]}),n?m.jsx("p",{children:"Loading..."}):t.length===0?m.jsx("p",{children:'No businesses yet. Add one above or click "Seed All Kinderhook"!'}):m.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(L=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:L.isActive?"#f8fff8":"#f5f5f5",borderRadius:"8px",border:`1px solid ${L.isActive?"#d4edda":"#ddd"}`,flexWrap:"wrap"},children:[m.jsx("div",{style:{fontSize:"1.5rem"},children:z(L.category)}),m.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[m.jsx("div",{style:{fontWeight:"bold",color:L.isActive?"#2c3e50":"#888"},children:L.name}),m.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:"#888"},children:L.code})]}),m.jsxs("div",{style:{textAlign:"center",minWidth:"80px"},children:[m.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1a5f2a"},children:L.checkinCount||0}),m.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:"check-ins"})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>p(h===L.code?null:L.code),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem"},children:h===L.code?"Hide QR":"Show QR"}),m.jsx("button",{className:"btn",onClick:()=>k(L.code,L.isActive),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem",background:L.isActive?"#e74c3c":"#27ae60"},children:L.isActive?"Deactivate":"Activate"})]}),h===L.code&&m.jsxs("div",{style:{width:"100%",marginTop:"1rem",padding:"1rem",background:"white",borderRadius:"8px",textAlign:"center"},children:[m.jsx(OT,{value:`${I}${L.code}`,size:150,denomination:5,showFrame:!1}),m.jsxs("p",{style:{fontFamily:"monospace",fontSize:"0.75rem",marginTop:"0.5rem",color:"#888",wordBreak:"break-all"},children:[I,L.code]}),m.jsx("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard.writeText(`${I}${L.code}`),alert("URL copied!")},style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Copy URL"})]})]},L.code))})]})]})}function XN(){return m.jsx(EA,{children:m.jsxs(J2,{children:[m.jsx(dn,{path:"/",element:m.jsx(sP,{})}),m.jsx(dn,{path:"/about",element:m.jsx(oP,{})}),m.jsx(dn,{path:"/benefits",element:m.jsx(lP,{})}),m.jsx(dn,{path:"/businesses",element:m.jsx(xN,{})}),m.jsx(dn,{path:"/exchange",element:m.jsx(EN,{})}),m.jsx(dn,{path:"/account",element:m.jsx(TN,{})}),m.jsx(dn,{path:"/profile",element:m.jsx(AN,{})}),m.jsx(dn,{path:"/scan/:serial",element:m.jsx(VN,{})}),m.jsx(dn,{path:"/checkin/:businessCode",element:m.jsx(MN,{})}),m.jsx(dn,{path:"/admin/dashboard",element:m.jsx(LN,{})}),m.jsx(dn,{path:"/admin/generate",element:m.jsx(qN,{})}),m.jsx(dn,{path:"/admin/issue",element:m.jsx(GN,{})}),m.jsx(dn,{path:"/admin/businesses",element:m.jsx(YN,{})})]})})}e2.createRoot(document.getElementById("root")).render(m.jsx(N.StrictMode,{children:m.jsx(XN,{})}));
