(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function IS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uf={exports:{}},al={},cf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function RS(){if(wv)return ke;wv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(z,Z,Ae){this.props=z,this.context=Z,this.refs=k,this.updater=Ae||S}R.prototype.isReactComponent={},R.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=R.prototype;function L(z,Z,Ae){this.props=z,this.context=Z,this.refs=k,this.updater=Ae||S}var V=L.prototype=new U;V.constructor=L,C(V,R.prototype),V.isPureReactComponent=!0;var Q=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function I(z,Z,Ae){var Ce,De={},je=null,He=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(He=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)J.call(Z,Ce)&&!j.hasOwnProperty(Ce)&&(De[Ce]=Z[Ce]);var Be=arguments.length-2;if(Be===1)De.children=Ae;else if(1<Be){for(var qe=Array(Be),Zt=0;Zt<Be;Zt++)qe[Zt]=arguments[Zt+2];De.children=qe}if(z&&z.defaultProps)for(Ce in Be=z.defaultProps,Be)De[Ce]===void 0&&(De[Ce]=Be[Ce]);return{$$typeof:t,type:z,key:je,ref:He,props:De,_owner:se.current}}function b(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ae){return Z[Ae]})}var $=/\/+/g;function D(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Z.toString(36)}function be(z,Z,Ae,Ce,De){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var He=!1;if(z===null)He=!0;else switch(je){case"string":case"number":He=!0;break;case"object":switch(z.$$typeof){case t:case e:He=!0}}if(He)return He=z,De=De(He),z=Ce===""?"."+D(He,0):Ce,Q(De)?(Ae="",z!=null&&(Ae=z.replace($,"$&/")+"/"),be(De,Z,Ae,"",function(Zt){return Zt})):De!=null&&(O(De)&&(De=b(De,Ae+(!De.key||He&&He.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+z)),Z.push(De)),1;if(He=0,Ce=Ce===""?".":Ce+":",Q(z))for(var Be=0;Be<z.length;Be++){je=z[Be];var qe=Ce+D(je,Be);He+=be(je,Z,Ae,qe,De)}else if(qe=w(z),typeof qe=="function")for(z=qe.call(z),Be=0;!(je=z.next()).done;)je=je.value,qe=Ce+D(je,Be++),He+=be(je,Z,Ae,qe,De);else if(je==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return He}function $e(z,Z,Ae){if(z==null)return z;var Ce=[],De=0;return be(z,Ce,"","",function(je){return Z.call(Ae,je,De++)}),Ce}function vt(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(Ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ae)},function(Ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ae)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Ee={current:null},re={transition:null},fe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:$e,forEach:function(z,Z,Ae){$e(z,function(){Z.apply(this,arguments)},Ae)},count:function(z){var Z=0;return $e(z,function(){Z++}),Z},toArray:function(z){return $e(z,function(Z){return Z})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ke.Component=R,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=L,ke.StrictMode=i,ke.Suspense=h,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,ke.act=ae,ke.cloneElement=function(z,Z,Ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ce=C({},z.props),De=z.key,je=z.ref,He=z._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,He=se.current),Z.key!==void 0&&(De=""+Z.key),z.type&&z.type.defaultProps)var Be=z.type.defaultProps;for(qe in Z)J.call(Z,qe)&&!j.hasOwnProperty(qe)&&(Ce[qe]=Z[qe]===void 0&&Be!==void 0?Be[qe]:Z[qe])}var qe=arguments.length-2;if(qe===1)Ce.children=Ae;else if(1<qe){Be=Array(qe);for(var Zt=0;Zt<qe;Zt++)Be[Zt]=arguments[Zt+2];Ce.children=Be}return{$$typeof:t,type:z.type,key:De,ref:je,props:Ce,_owner:He}},ke.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},ke.createElement=I,ke.createFactory=function(z){var Z=I.bind(null,z);return Z.type=z,Z},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:f,render:z}},ke.isValidElement=O,ke.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:vt}},ke.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},ke.startTransition=function(z){var Z=re.transition;re.transition={};try{z()}finally{re.transition=Z}},ke.unstable_act=ae,ke.useCallback=function(z,Z){return Ee.current.useCallback(z,Z)},ke.useContext=function(z){return Ee.current.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z){return Ee.current.useDeferredValue(z)},ke.useEffect=function(z,Z){return Ee.current.useEffect(z,Z)},ke.useId=function(){return Ee.current.useId()},ke.useImperativeHandle=function(z,Z,Ae){return Ee.current.useImperativeHandle(z,Z,Ae)},ke.useInsertionEffect=function(z,Z){return Ee.current.useInsertionEffect(z,Z)},ke.useLayoutEffect=function(z,Z){return Ee.current.useLayoutEffect(z,Z)},ke.useMemo=function(z,Z){return Ee.current.useMemo(z,Z)},ke.useReducer=function(z,Z,Ae){return Ee.current.useReducer(z,Z,Ae)},ke.useRef=function(z){return Ee.current.useRef(z)},ke.useState=function(z){return Ee.current.useState(z)},ke.useSyncExternalStore=function(z,Z,Ae){return Ee.current.useSyncExternalStore(z,Z,Ae)},ke.useTransition=function(){return Ee.current.useTransition()},ke.version="18.3.1",ke}var Ev;function Bm(){return Ev||(Ev=1,cf.exports=RS()),cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function kS(){if(Tv)return al;Tv=1;var t=Bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var p,v={},w=null,S=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(p in h)i.call(h,p)&&!a.hasOwnProperty(p)&&(v[p]=h[p]);if(f&&f.defaultProps)for(p in h=f.defaultProps,h)v[p]===void 0&&(v[p]=h[p]);return{$$typeof:e,type:f,key:w,ref:S,props:v,_owner:o.current}}return al.Fragment=n,al.jsx=u,al.jsxs=u,al}var Sv;function bS(){return Sv||(Sv=1,uf.exports=kS()),uf.exports}var g=bS(),N=Bm();const kt=IS(N);var wc={},hf={exports:{}},cn={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function PS(){return Av||(Av=1,(function(t){function e(re,fe){var ae=re.length;re.push(fe);e:for(;0<ae;){var z=ae-1>>>1,Z=re[z];if(0<o(Z,fe))re[z]=fe,re[ae]=Z,ae=z;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var fe=re[0],ae=re.pop();if(ae!==fe){re[0]=ae;e:for(var z=0,Z=re.length,Ae=Z>>>1;z<Ae;){var Ce=2*(z+1)-1,De=re[Ce],je=Ce+1,He=re[je];if(0>o(De,ae))je<Z&&0>o(He,De)?(re[z]=He,re[je]=ae,z=je):(re[z]=De,re[Ce]=ae,z=Ce);else if(je<Z&&0>o(He,ae))re[z]=He,re[je]=ae,z=je;else break e}}return fe}function o(re,fe){var ae=re.sortIndex-fe.sortIndex;return ae!==0?ae:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],p=1,v=null,w=3,S=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(re){for(var fe=n(m);fe!==null;){if(fe.callback===null)i(m);else if(fe.startTime<=re)i(m),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(m)}}function Q(re){if(k=!1,V(re),!C)if(n(h)!==null)C=!0,vt(J);else{var fe=n(m);fe!==null&&Ee(Q,fe.startTime-re)}}function J(re,fe){C=!1,k&&(k=!1,U(I),I=-1),S=!0;var ae=w;try{for(V(fe),v=n(h);v!==null&&(!(v.expirationTime>fe)||re&&!M());){var z=v.callback;if(typeof z=="function"){v.callback=null,w=v.priorityLevel;var Z=z(v.expirationTime<=fe);fe=t.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(h)&&i(h),V(fe)}else i(h);v=n(h)}if(v!==null)var Ae=!0;else{var Ce=n(m);Ce!==null&&Ee(Q,Ce.startTime-fe),Ae=!1}return Ae}finally{v=null,w=ae,S=!1}}var se=!1,j=null,I=-1,b=5,O=-1;function M(){return!(t.unstable_now()-O<b)}function $(){if(j!==null){var re=t.unstable_now();O=re;var fe=!0;try{fe=j(!0,re)}finally{fe?D():(se=!1,j=null)}}else se=!1}var D;if(typeof L=="function")D=function(){L($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,$e=be.port2;be.port1.onmessage=$,D=function(){$e.postMessage(null)}}else D=function(){R($,0)};function vt(re){j=re,se||(se=!0,D())}function Ee(re,fe){I=R(function(){re(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,vt(J))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return re()}finally{w=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=w;w=re;try{return fe()}finally{w=ae}},t.unstable_scheduleCallback=function(re,fe,ae){var z=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,re={id:p++,callback:fe,priorityLevel:re,startTime:ae,expirationTime:Z,sortIndex:-1},ae>z?(re.sortIndex=ae,e(m,re),n(h)===null&&re===n(m)&&(k?(U(I),I=-1):k=!0,Ee(Q,ae-z))):(re.sortIndex=Z,e(h,re),C||S||(C=!0,vt(J))),re},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(re){var fe=w;return function(){var ae=w;w=fe;try{return re.apply(this,arguments)}finally{w=ae}}}})(ff)),ff}var Cv;function VS(){return Cv||(Cv=1,df.exports=PS()),df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function DS(){if(Iv)return cn;Iv=1;var t=Bm(),e=VS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function w(r){return h.call(v,r)?!0:h.call(p,r)?!1:m.test(r)?v[r]=!0:(p[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,l,d,y,x,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=x,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function L(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,L);R[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,L);R[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,L);R[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function V(r,s,l,d){var y=R.hasOwnProperty(s)?R[s]:null;(y!==null?y.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,y,d)&&(l=null),d||y===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):y.mustUseProperty?r[y.propertyName]=l===null?y.type===3?!1:"":l:(s=y.attributeName,d=y.attributeNamespace,l===null?r.removeAttribute(s):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,z;function Z(r){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var Ae=!1;function Ce(r,s){if(!r||Ae)return"";Ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),x=d.stack.split(`
`),T=y.length-1,P=x.length-1;1<=T&&0<=P&&y[T]!==x[P];)P--;for(;1<=T&&0<=P;T--,P--)if(y[T]!==x[P]){if(T!==1||P!==1)do if(T--,P--,0>P||y[T]!==x[P]){var F=`
`+y[T].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=T&&0<=P);break}}}finally{Ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function De(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case se:return"Portal";case b:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case vt:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}function He(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zt(r){var s=qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(T){d=""+T,x.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $s(r){r._valueTracker||(r._valueTracker=Zt(r))}function fa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=qe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ni(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ws(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ou(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Hs(r,s){s=s.checked,s!=null&&V(r,"checked",s,!1)}function Xi(r,s){Hs(r,s);var l=Be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?xt(r,s.type,l):s.hasOwnProperty("defaultValue")&&xt(r,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ma(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function xt(r,s,l){(s!=="number"||ni(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ft=Array.isArray;function On(r,s,l,d){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function pa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ga(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(ft(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Be(l)}}function au(r,s){var l=Be(s.value),d=Be(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ri(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ya(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ks(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ya(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ii,lu=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,y){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,y)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ii.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ji(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uu=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(r){uu.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),si[s]=si[r]})});function oi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||si.hasOwnProperty(r)&&si[r]?(""+s).trim():s+"px"}function Gs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,y=oi(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,y):r[l]=y}}var va=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(r,s){if(s){if(va[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function qs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function Qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rr=null,kr=null,ut=null;function xa(r){if(r=Ka(r)){if(typeof Rr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Mu(s),Rr(r.stateNode,r.type,s))}}function li(r){kr?ut?ut.push(r):ut=[r]:kr=r}function ui(){if(kr){var r=kr,s=ut;if(ut=kr=null,xa(r),s)for(r=0;r<s.length;r++)xa(s[r])}}function cu(r,s){return r(s)}function hu(){}var er=!1;function du(r,s,l){if(er)return r(s,l);er=!0;try{return cu(r,s,l)}finally{er=!1,(kr!==null||ut!==null)&&(hu(),ui())}}function Zi(r,s){var l=r.stateNode;if(l===null)return null;var d=Mu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ci=!1;if(f)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ci=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ci=!1}function fu(r,s,l,d,y,x,T,P,F){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var br=!1,tr=null,Ys=!1,Sn=null,mu={onError:function(r){br=!0,tr=r}};function pu(r,s,l,d,y,x,T,P,F){br=!1,tr=null,fu.apply(mu,arguments)}function _a(r,s,l,d,y,x,T,P,F){if(pu.apply(this,arguments),br){if(br){var G=tr;br=!1,tr=null}else throw Error(n(198));Ys||(Ys=!0,Sn=G)}}function Bn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function wa(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function gu(r){if(Bn(r)!==r)throw Error(n(188))}function yu(r){var s=r.alternate;if(!s){if(s=Bn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return gu(y),r;if(x===d)return gu(y),s;x=x.sibling}throw Error(n(188))}if(l.return!==d.return)l=y,d=x;else{for(var T=!1,P=y.child;P;){if(P===l){T=!0,l=y,d=x;break}if(P===d){T=!0,d=y,l=x;break}P=P.sibling}if(!T){for(P=x.child;P;){if(P===l){T=!0,l=x,d=y;break}if(P===d){T=!0,d=x,l=y;break}P=P.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function vu(r){return r=yu(r),r!==null?es(r):null}function es(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=es(r);if(s!==null)return s;r=r.sibling}return null}var Ea=e.unstable_scheduleCallback,Xs=e.unstable_cancelCallback,ts=e.unstable_shouldYield,Pr=e.unstable_requestPaint,Je=e.unstable_now,Fh=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Ta=e.unstable_UserBlockingPriority,ns=e.unstable_NormalPriority,Sa=e.unstable_LowPriority,Zs=e.unstable_IdlePriority,rs=null,mn=null;function xu(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:is,nr=Math.log,An=Math.LN2;function is(r){return r>>>=0,r===0?32:31-(nr(r)/An|0)|0}var rr=64,di=4194304;function We(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vr(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,y=r.suspendedLanes,x=r.pingedLanes,T=l&268435455;if(T!==0){var P=T&~y;P!==0?d=We(P):(x&=T,x!==0&&(d=We(x)))}else T=l&~y,T!==0?d=We(T):x!==0&&(d=We(x));if(d===0)return 0;if(s!==0&&s!==d&&(s&y)===0&&(y=d&-d,x=s&-s,y>=x||y===16&&(x&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-pn(s),y=1<<l,d|=r[l],s&=~y;return d}function ss(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes;0<x;){var T=31-pn(x),P=1<<T,F=y[T];F===-1?((P&l)===0||(P&d)!==0)&&(y[T]=ss(P,s)):F<=s&&(r.expiredLanes|=P),x&=~P}}function Aa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ca(){var r=rr;return rr<<=1,(rr&4194240)===0&&(rr=64),r}function Ia(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function as(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-pn(s),r[s]=l}function Bh(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var y=31-pn(l),x=1<<y;s[y]=0,d[y]=-1,r[y]=-1,l&=~x}}function Ra(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-pn(l),y=1<<d;y&s|r[d]&s&&(r[d]|=s),l&=~y}}var Le=0;function ir(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ka,eo,ba,Pa,Va,sr=!1,to=[],or=null,ar=null,Nt=null,ls=new Map,Dr=new Map,gn=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fi(r,s){switch(r){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":ls.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(s.pointerId)}}function Un(r,s,l,d,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},s!==null&&(s=Ka(s),s!==null&&eo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function wu(r,s,l,d,y){switch(s){case"focusin":return or=Un(or,r,s,l,d,y),!0;case"dragenter":return ar=Un(ar,r,s,l,d,y),!0;case"mouseover":return Nt=Un(Nt,r,s,l,d,y),!0;case"pointerover":var x=y.pointerId;return ls.set(x,Un(ls.get(x)||null,r,s,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Dr.set(x,Un(Dr.get(x)||null,r,s,l,d,y)),!0}return!1}function no(r){var s=ds(r.target);if(s!==null){var l=Bn(s);if(l!==null){if(s=l.tag,s===13){if(s=wa(l),s!==null){r.blockedOn=s,Va(r.priority,function(){ba(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ro(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ai=d,l.target.dispatchEvent(d),ai=null}else return s=Ka(l),s!==null&&eo(s),r.blockedOn=l,!1;s.shift()}return!0}function Eu(r,s,l){Qe(r)&&l.delete(s)}function Uh(){sr=!1,or!==null&&Qe(or)&&(or=null),ar!==null&&Qe(ar)&&(ar=null),Nt!==null&&Qe(Nt)&&(Nt=null),ls.forEach(Eu),Dr.forEach(Eu)}function mi(r,s){r.blockedOn===s&&(r.blockedOn=null,sr||(sr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uh)))}function pi(r){function s(y){return mi(y,r)}if(0<to.length){mi(to[0],r);for(var l=1;l<to.length;l++){var d=to[l];d.blockedOn===r&&(d.blockedOn=null)}}for(or!==null&&mi(or,r),ar!==null&&mi(ar,r),Nt!==null&&mi(Nt,r),ls.forEach(s),Dr.forEach(s),l=0;l<gn.length;l++)d=gn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<gn.length&&(l=gn[0],l.blockedOn===null);)no(l),l.blockedOn===null&&gn.shift()}var jr=Q.ReactCurrentBatchConfig,Nr=!0;function lr(r,s,l,d){var y=Le,x=jr.transition;jr.transition=null;try{Le=1,Da(r,s,l,d)}finally{Le=y,jr.transition=x}}function Tu(r,s,l,d){var y=Le,x=jr.transition;jr.transition=null;try{Le=4,Da(r,s,l,d)}finally{Le=y,jr.transition=x}}function Da(r,s,l,d){if(Nr){var y=ro(r,s,l,d);if(y===null)Jh(r,s,d,ur,l),fi(r,d);else if(wu(y,r,s,l,d))d.stopPropagation();else if(fi(r,d),s&4&&-1<_u.indexOf(r)){for(;y!==null;){var x=Ka(y);if(x!==null&&ka(x),x=ro(r,s,l,d),x===null&&Jh(r,s,d,ur,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else Jh(r,s,d,null,l)}}var ur=null;function ro(r,s,l,d){if(ur=null,r=Qs(d),r=ds(r),r!==null)if(s=Bn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=wa(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ur=r,null}function io(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case Js:return 1;case Ta:return 4;case ns:case Sa:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var yn=null,so=null,Mr=null;function Su(){if(Mr)return Mr;var r,s=so,l=s.length,d,y="value"in yn?yn.value:yn.textContent,x=y.length;for(r=0;r<l&&s[r]===y[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===y[x-d];d++);return Mr=y.slice(r,1<d?1-d:void 0)}function us(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function cr(){return!0}function ja(){return!1}function Wt(r){function s(l,d,y,x,T){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?cr:ja,this.isPropagationStopped=ja,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Wt(hr),gi=ae({},hr,{view:0,detail:0}),oo=Wt(gi),ao,lo,vn,hs=ae({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vn&&(vn&&r.type==="mousemove"?(ao=r.screenX-vn.screenX,lo=r.screenY-vn.screenY):lo=ao=0,vn=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:lo}}),Na=Wt(hs),Au=ae({},hs,{dataTransfer:0}),Cu=Wt(Au),uo=ae({},gi,{relatedTarget:0}),Mt=Wt(uo),Iu=ae({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Wt(Iu),yi=ae({},hr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Wt(yi),_=ae({},hr,{data:0}),E=Wt(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=q[r])?!!s[r]:!1}function Ie(){return oe}var mt=ae({},gi,{key:function(r){if(r.key){var s=A[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=us(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?H[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(r){return r.type==="keypress"?us(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?us(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ge=Wt(mt),_t=ae({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xn=Wt(_t),Lr=ae({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),dr=Wt(Lr),fr=ae({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),co=Wt(fr),Ma=ae({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=Wt(Ma),ET=[9,13,27,32],zh=f&&"CompositionEvent"in window,La=null;f&&"documentMode"in document&&(La=document.documentMode);var TT=f&&"TextEvent"in window&&!La,fg=f&&(!zh||La&&8<La&&11>=La),mg=" ",pg=!1;function gg(r,s){switch(r){case"keyup":return ET.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ho=!1;function ST(r,s){switch(r){case"compositionend":return yg(s);case"keypress":return s.which!==32?null:(pg=!0,mg);case"textInput":return r=s.data,r===mg&&pg?null:r;default:return null}}function AT(r,s){if(ho)return r==="compositionend"||!zh&&gg(r,s)?(r=Su(),Mr=so=yn=null,ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fg&&s.locale!=="ko"?null:s.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!CT[r.type]:s==="textarea"}function xg(r,s,l,d){li(d),s=Du(s,"onChange"),0<s.length&&(l=new cs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Oa=null,Fa=null;function IT(r){Lg(r,0)}function ku(r){var s=yo(r);if(fa(s))return r}function RT(r,s){if(r==="change")return s}var _g=!1;if(f){var $h;if(f){var Wh="oninput"in document;if(!Wh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Wh=typeof wg.oninput=="function"}$h=Wh}else $h=!1;_g=$h&&(!document.documentMode||9<document.documentMode)}function Eg(){Oa&&(Oa.detachEvent("onpropertychange",Tg),Fa=Oa=null)}function Tg(r){if(r.propertyName==="value"&&ku(Fa)){var s=[];xg(s,Fa,r,Qs(r)),du(IT,s)}}function kT(r,s,l){r==="focusin"?(Eg(),Oa=s,Fa=l,Oa.attachEvent("onpropertychange",Tg)):r==="focusout"&&Eg()}function bT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Fa)}function PT(r,s){if(r==="click")return ku(s)}function VT(r,s){if(r==="input"||r==="change")return ku(s)}function DT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:DT;function Ba(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!h.call(s,y)||!zn(r[y],s[y]))return!1}return!0}function Sg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ag(r,s){var l=Sg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sg(l)}}function Cg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Cg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ig(){for(var r=window,s=ni();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ni(r.document)}return s}function Hh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function jT(r){var s=Ig(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Cg(l.ownerDocument.documentElement,l)){if(d!==null&&Hh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var y=l.textContent.length,x=Math.min(d.start,y);d=d.end===void 0?x:Math.min(d.end,y),!r.extend&&x>d&&(y=d,d=x,x=y),y=Ag(l,x);var T=Ag(l,d);y&&T&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),r.removeAllRanges(),x>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var NT=f&&"documentMode"in document&&11>=document.documentMode,fo=null,Kh=null,Ua=null,Gh=!1;function Rg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gh||fo==null||fo!==ni(d)||(d=fo,"selectionStart"in d&&Hh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ua&&Ba(Ua,d)||(Ua=d,d=Du(Kh,"onSelect"),0<d.length&&(s=new cs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=fo)))}function bu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var mo={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},qh={},kg={};f&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Pu(r){if(qh[r])return qh[r];if(!mo[r])return r;var s=mo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in kg)return qh[r]=s[l];return r}var bg=Pu("animationend"),Pg=Pu("animationiteration"),Vg=Pu("animationstart"),Dg=Pu("transitionend"),jg=new Map,Ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(r,s){jg.set(r,s),a(s,[r])}for(var Qh=0;Qh<Ng.length;Qh++){var Yh=Ng[Qh],MT=Yh.toLowerCase(),LT=Yh[0].toUpperCase()+Yh.slice(1);vi(MT,"on"+LT)}vi(bg,"onAnimationEnd"),vi(Pg,"onAnimationIteration"),vi(Vg,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Dg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Mg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,_a(d,s,void 0,r),r.currentTarget=null}function Lg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],y=d.event;d=d.listeners;e:{var x=void 0;if(s)for(var T=d.length-1;0<=T;T--){var P=d[T],F=P.instance,G=P.currentTarget;if(P=P.listener,F!==x&&y.isPropagationStopped())break e;Mg(y,P,G),x=F}else for(T=0;T<d.length;T++){if(P=d[T],F=P.instance,G=P.currentTarget,P=P.listener,F!==x&&y.isPropagationStopped())break e;Mg(y,P,G),x=F}}}if(Ys)throw r=Sn,Ys=!1,Sn=null,r}function Ze(r,s){var l=s[id];l===void 0&&(l=s[id]=new Set);var d=r+"__bubble";l.has(d)||(Og(s,r,2,!1),l.add(d))}function Xh(r,s,l){var d=0;s&&(d|=4),Og(l,r,d,s)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function $a(r){if(!r[Vu]){r[Vu]=!0,i.forEach(function(l){l!=="selectionchange"&&(OT.has(l)||Xh(l,!1,r),Xh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vu]||(s[Vu]=!0,Xh("selectionchange",!1,s))}}function Og(r,s,l,d){switch(io(s)){case 1:var y=lr;break;case 4:y=Tu;break;default:y=Da}l=y.bind(null,s,l,r),y=void 0,!ci||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function Jh(r,s,l,d,y){var x=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var P=d.stateNode.containerInfo;if(P===y||P.nodeType===8&&P.parentNode===y)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;T=T.return}for(;P!==null;){if(T=ds(P),T===null)return;if(F=T.tag,F===5||F===6){d=x=T;continue e}P=P.parentNode}}d=d.return}du(function(){var G=x,te=Qs(l),ne=[];e:{var ee=jg.get(r);if(ee!==void 0){var ue=cs,me=r;switch(r){case"keypress":if(us(l)===0)break e;case"keydown":case"keyup":ue=Ge;break;case"focusin":me="focus",ue=Mt;break;case"focusout":me="blur",ue=Mt;break;case"beforeblur":case"afterblur":ue=Mt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=dr;break;case bg:case Pg:case Vg:ue=Ru;break;case Dg:ue=co;break;case"scroll":ue=oo;break;case"wheel":ue=wT;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=xn}var pe=(s&4)!==0,pt=!pe&&r==="scroll",W=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var B=G,K;B!==null;){K=B;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,W!==null&&(ie=Zi(B,W),ie!=null&&pe.push(Wa(B,ie,K)))),pt)break;B=B.return}0<pe.length&&(ee=new ue(ee,me,null,l,te),ne.push({event:ee,listeners:pe}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==ai&&(me=l.relatedTarget||l.fromElement)&&(ds(me)||me[Or]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(me=l.relatedTarget||l.toElement,ue=G,me=me?ds(me):null,me!==null&&(pt=Bn(me),me!==pt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=G),ue!==me)){if(pe=Na,ie="onMouseLeave",W="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(pe=xn,ie="onPointerLeave",W="onPointerEnter",B="pointer"),pt=ue==null?ee:yo(ue),K=me==null?ee:yo(me),ee=new pe(ie,B+"leave",ue,l,te),ee.target=pt,ee.relatedTarget=K,ie=null,ds(te)===G&&(pe=new pe(W,B+"enter",me,l,te),pe.target=K,pe.relatedTarget=pt,ie=pe),pt=ie,ue&&me)t:{for(pe=ue,W=me,B=0,K=pe;K;K=po(K))B++;for(K=0,ie=W;ie;ie=po(ie))K++;for(;0<B-K;)pe=po(pe),B--;for(;0<K-B;)W=po(W),K--;for(;B--;){if(pe===W||W!==null&&pe===W.alternate)break t;pe=po(pe),W=po(W)}pe=null}else pe=null;ue!==null&&Fg(ne,ee,ue,pe,!1),me!==null&&pt!==null&&Fg(ne,pt,me,pe,!0)}}e:{if(ee=G?yo(G):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=RT;else if(vg(ee))if(_g)ge=VT;else{ge=bT;var ve=kT}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=PT);if(ge&&(ge=ge(r,G))){xg(ne,ge,l,te);break e}ve&&ve(r,ee,G),r==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&xt(ee,"number",ee.value)}switch(ve=G?yo(G):window,r){case"focusin":(vg(ve)||ve.contentEditable==="true")&&(fo=ve,Kh=G,Ua=null);break;case"focusout":Ua=Kh=fo=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Rg(ne,l,te);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":Rg(ne,l,te)}var xe;if(zh)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ho?gg(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(fg&&l.locale!=="ko"&&(ho||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ho&&(xe=Su()):(yn=te,so="value"in yn?yn.value:yn.textContent,ho=!0)),ve=Du(G,Te),0<ve.length&&(Te=new E(Te,r,null,l,te),ne.push({event:Te,listeners:ve}),xe?Te.data=xe:(xe=yg(l),xe!==null&&(Te.data=xe)))),(xe=TT?ST(r,l):AT(r,l))&&(G=Du(G,"onBeforeInput"),0<G.length&&(te=new E("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:G}),te.data=xe))}Lg(ne,s)})}function Wa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Du(r,s){for(var l=s+"Capture",d=[];r!==null;){var y=r,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Zi(r,l),x!=null&&d.unshift(Wa(r,x,y)),x=Zi(r,s),x!=null&&d.push(Wa(r,x,y))),r=r.return}return d}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Fg(r,s,l,d,y){for(var x=s._reactName,T=[];l!==null&&l!==d;){var P=l,F=P.alternate,G=P.stateNode;if(F!==null&&F===d)break;P.tag===5&&G!==null&&(P=G,y?(F=Zi(l,x),F!=null&&T.unshift(Wa(l,F,P))):y||(F=Zi(l,x),F!=null&&T.push(Wa(l,F,P)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var FT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function Bg(r){return(typeof r=="string"?r:""+r).replace(FT,`
`).replace(BT,"")}function ju(r,s,l){if(s=Bg(s),Bg(r)!==s&&l)throw Error(n(425))}function Nu(){}var Zh=null,ed=null;function td(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(r){return Ug.resolve(null).then(r).catch($T)}:nd;function $T(r){setTimeout(function(){throw r})}function rd(r,s){var l=s,d=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(d===0){r.removeChild(y),pi(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=y}while(l);pi(s)}function xi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function zg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var go=Math.random().toString(36).slice(2),mr="__reactFiber$"+go,Ha="__reactProps$"+go,Or="__reactContainer$"+go,id="__reactEvents$"+go,WT="__reactListeners$"+go,HT="__reactHandles$"+go;function ds(r){var s=r[mr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Or]||l[mr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=zg(r);r!==null;){if(l=r[mr])return l;r=zg(r)}return s}r=l,l=r.parentNode}return null}function Ka(r){return r=r[mr]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Mu(r){return r[Ha]||null}var sd=[],vo=-1;function _i(r){return{current:r}}function et(r){0>vo||(r.current=sd[vo],sd[vo]=null,vo--)}function Ye(r,s){vo++,sd[vo]=r.current,r.current=s}var wi={},Ht=_i(wi),sn=_i(!1),fs=wi;function xo(r,s){var l=r.type.contextTypes;if(!l)return wi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in l)y[x]=s[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=y),y}function on(r){return r=r.childContextTypes,r!=null}function Lu(){et(sn),et(Ht)}function $g(r,s,l){if(Ht.current!==wi)throw Error(n(168));Ye(Ht,s),Ye(sn,l)}function Wg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var y in d)if(!(y in s))throw Error(n(108,He(r)||"Unknown",y));return ae({},l,d)}function Ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,fs=Ht.current,Ye(Ht,r),Ye(sn,sn.current),!0}function Hg(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Wg(r,s,fs),d.__reactInternalMemoizedMergedChildContext=r,et(sn),et(Ht),Ye(Ht,r)):et(sn),Ye(sn,l)}var Fr=null,Fu=!1,od=!1;function Kg(r){Fr===null?Fr=[r]:Fr.push(r)}function KT(r){Fu=!0,Kg(r)}function Ei(){if(!od&&Fr!==null){od=!0;var r=0,s=Le;try{var l=Fr;for(Le=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Fr=null,Fu=!1}catch(y){throw Fr!==null&&(Fr=Fr.slice(r+1)),Ea(Js,Ei),y}finally{Le=s,od=!1}}return null}var _o=[],wo=0,Bu=null,Uu=0,Cn=[],In=0,ms=null,Br=1,Ur="";function ps(r,s){_o[wo++]=Uu,_o[wo++]=Bu,Bu=r,Uu=s}function Gg(r,s,l){Cn[In++]=Br,Cn[In++]=Ur,Cn[In++]=ms,ms=r;var d=Br;r=Ur;var y=32-pn(d)-1;d&=~(1<<y),l+=1;var x=32-pn(s)+y;if(30<x){var T=y-y%5;x=(d&(1<<T)-1).toString(32),d>>=T,y-=T,Br=1<<32-pn(s)+y|l<<y|d,Ur=x+r}else Br=1<<x|l<<y|d,Ur=r}function ad(r){r.return!==null&&(ps(r,1),Gg(r,1,0))}function ld(r){for(;r===Bu;)Bu=_o[--wo],_o[wo]=null,Uu=_o[--wo],_o[wo]=null;for(;r===ms;)ms=Cn[--In],Cn[In]=null,Ur=Cn[--In],Cn[In]=null,Br=Cn[--In],Cn[In]=null}var _n=null,wn=null,rt=!1,$n=null;function qg(r,s){var l=Pn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Qg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,_n=r,wn=xi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,_n=r,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ms!==null?{id:Br,overflow:Ur}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Pn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,_n=r,wn=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cd(r){if(rt){var s=wn;if(s){var l=s;if(!Qg(r,s)){if(ud(r))throw Error(n(418));s=xi(l.nextSibling);var d=_n;s&&Qg(r,s)?qg(d,l):(r.flags=r.flags&-4097|2,rt=!1,_n=r)}}else{if(ud(r))throw Error(n(418));r.flags=r.flags&-4097|2,rt=!1,_n=r}}}function Yg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;_n=r}function zu(r){if(r!==_n)return!1;if(!rt)return Yg(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!td(r.type,r.memoizedProps)),s&&(s=wn)){if(ud(r))throw Xg(),Error(n(418));for(;s;)qg(r,s),s=xi(s.nextSibling)}if(Yg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){wn=xi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}wn=null}}else wn=_n?xi(r.stateNode.nextSibling):null;return!0}function Xg(){for(var r=wn;r;)r=xi(r.nextSibling)}function Eo(){wn=_n=null,rt=!1}function hd(r){$n===null?$n=[r]:$n.push(r)}var GT=Q.ReactCurrentBatchConfig;function Ga(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var y=d,x=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(T){var P=y.refs;T===null?delete P[x]:P[x]=T},s._stringRef=x,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function $u(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jg(r){var s=r._init;return s(r._payload)}function Zg(r){function s(W,B){if(r){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function l(W,B){if(!r)return null;for(;B!==null;)s(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function y(W,B){return W=bi(W,B),W.index=0,W.sibling=null,W}function x(W,B,K){return W.index=K,r?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return r&&W.alternate===null&&(W.flags|=2),W}function P(W,B,K,ie){return B===null||B.tag!==6?(B=nf(K,W.mode,ie),B.return=W,B):(B=y(B,K),B.return=W,B)}function F(W,B,K,ie){var ge=K.type;return ge===j?te(W,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===vt&&Jg(ge)===B.type)?(ie=y(B,K.props),ie.ref=Ga(W,B,K),ie.return=W,ie):(ie=fc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=Ga(W,B,K),ie.return=W,ie)}function G(W,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=rf(K,W.mode,ie),B.return=W,B):(B=y(B,K.children||[]),B.return=W,B)}function te(W,B,K,ie,ge){return B===null||B.tag!==7?(B=Ts(K,W.mode,ie,ge),B.return=W,B):(B=y(B,K),B.return=W,B)}function ne(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=nf(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case J:return K=fc(B.type,B.key,B.props,null,W.mode,K),K.ref=Ga(W,null,B),K.return=W,K;case se:return B=rf(B,W.mode,K),B.return=W,B;case vt:var ie=B._init;return ne(W,ie(B._payload),K)}if(ft(B)||fe(B))return B=Ts(B,W.mode,K,null),B.return=W,B;$u(W,B)}return null}function ee(W,B,K,ie){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:P(W,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===ge?F(W,B,K,ie):null;case se:return K.key===ge?G(W,B,K,ie):null;case vt:return ge=K._init,ee(W,B,ge(K._payload),ie)}if(ft(K)||fe(K))return ge!==null?null:te(W,B,K,ie,null);$u(W,K)}return null}function ue(W,B,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(K)||null,P(B,W,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return W=W.get(ie.key===null?K:ie.key)||null,F(B,W,ie,ge);case se:return W=W.get(ie.key===null?K:ie.key)||null,G(B,W,ie,ge);case vt:var ve=ie._init;return ue(W,B,K,ve(ie._payload),ge)}if(ft(ie)||fe(ie))return W=W.get(K)||null,te(B,W,ie,ge,null);$u(B,ie)}return null}function me(W,B,K,ie){for(var ge=null,ve=null,xe=B,Te=B=0,Dt=null;xe!==null&&Te<K.length;Te++){xe.index>Te?(Dt=xe,xe=null):Dt=xe.sibling;var ze=ee(W,xe,K[Te],ie);if(ze===null){xe===null&&(xe=Dt);break}r&&xe&&ze.alternate===null&&s(W,xe),B=x(ze,B,Te),ve===null?ge=ze:ve.sibling=ze,ve=ze,xe=Dt}if(Te===K.length)return l(W,xe),rt&&ps(W,Te),ge;if(xe===null){for(;Te<K.length;Te++)xe=ne(W,K[Te],ie),xe!==null&&(B=x(xe,B,Te),ve===null?ge=xe:ve.sibling=xe,ve=xe);return rt&&ps(W,Te),ge}for(xe=d(W,xe);Te<K.length;Te++)Dt=ue(xe,W,Te,K[Te],ie),Dt!==null&&(r&&Dt.alternate!==null&&xe.delete(Dt.key===null?Te:Dt.key),B=x(Dt,B,Te),ve===null?ge=Dt:ve.sibling=Dt,ve=Dt);return r&&xe.forEach(function(Pi){return s(W,Pi)}),rt&&ps(W,Te),ge}function pe(W,B,K,ie){var ge=fe(K);if(typeof ge!="function")throw Error(n(150));if(K=ge.call(K),K==null)throw Error(n(151));for(var ve=ge=null,xe=B,Te=B=0,Dt=null,ze=K.next();xe!==null&&!ze.done;Te++,ze=K.next()){xe.index>Te?(Dt=xe,xe=null):Dt=xe.sibling;var Pi=ee(W,xe,ze.value,ie);if(Pi===null){xe===null&&(xe=Dt);break}r&&xe&&Pi.alternate===null&&s(W,xe),B=x(Pi,B,Te),ve===null?ge=Pi:ve.sibling=Pi,ve=Pi,xe=Dt}if(ze.done)return l(W,xe),rt&&ps(W,Te),ge;if(xe===null){for(;!ze.done;Te++,ze=K.next())ze=ne(W,ze.value,ie),ze!==null&&(B=x(ze,B,Te),ve===null?ge=ze:ve.sibling=ze,ve=ze);return rt&&ps(W,Te),ge}for(xe=d(W,xe);!ze.done;Te++,ze=K.next())ze=ue(xe,W,Te,ze.value,ie),ze!==null&&(r&&ze.alternate!==null&&xe.delete(ze.key===null?Te:ze.key),B=x(ze,B,Te),ve===null?ge=ze:ve.sibling=ze,ve=ze);return r&&xe.forEach(function(CS){return s(W,CS)}),rt&&ps(W,Te),ge}function pt(W,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var ge=K.key,ve=B;ve!==null;){if(ve.key===ge){if(ge=K.type,ge===j){if(ve.tag===7){l(W,ve.sibling),B=y(ve,K.props.children),B.return=W,W=B;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===vt&&Jg(ge)===ve.type){l(W,ve.sibling),B=y(ve,K.props),B.ref=Ga(W,ve,K),B.return=W,W=B;break e}l(W,ve);break}else s(W,ve);ve=ve.sibling}K.type===j?(B=Ts(K.props.children,W.mode,ie,K.key),B.return=W,W=B):(ie=fc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=Ga(W,B,K),ie.return=W,W=ie)}return T(W);case se:e:{for(ve=K.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(W,B.sibling),B=y(B,K.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else s(W,B);B=B.sibling}B=rf(K,W.mode,ie),B.return=W,W=B}return T(W);case vt:return ve=K._init,pt(W,B,ve(K._payload),ie)}if(ft(K))return me(W,B,K,ie);if(fe(K))return pe(W,B,K,ie);$u(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(W,B.sibling),B=y(B,K),B.return=W,W=B):(l(W,B),B=nf(K,W.mode,ie),B.return=W,W=B),T(W)):l(W,B)}return pt}var To=Zg(!0),ey=Zg(!1),Wu=_i(null),Hu=null,So=null,dd=null;function fd(){dd=So=Hu=null}function md(r){var s=Wu.current;et(Wu),r._currentValue=s}function pd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Ao(r,s){Hu=r,dd=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(an=!0),r.firstContext=null)}function Rn(r){var s=r._currentValue;if(dd!==r)if(r={context:r,memoizedValue:s,next:null},So===null){if(Hu===null)throw Error(n(308));So=r,Hu.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return s}var gs=null;function gd(r){gs===null?gs=[r]:gs.push(r)}function ty(r,s,l,d){var y=s.interleaved;return y===null?(l.next=l,gd(s)):(l.next=y.next,y.next=l),s.interleaved=l,zr(r,d)}function zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ti=!1;function yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ny(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,zr(r,l)}return y=d.interleaved,y===null?(s.next=s,gd(d)):(s.next=y.next,y.next=s),d.interleaved=s,zr(r,l)}function Ku(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ra(r,l)}}function ry(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?y=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?y=x=s:x=x.next=s}else y=x=s;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Gu(r,s,l,d){var y=r.updateQueue;Ti=!1;var x=y.firstBaseUpdate,T=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var F=P,G=F.next;F.next=null,T===null?x=G:T.next=G,T=F;var te=r.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==T&&(P===null?te.firstBaseUpdate=G:P.next=G,te.lastBaseUpdate=F))}if(x!==null){var ne=y.baseState;T=0,te=G=F=null,P=x;do{var ee=P.lane,ue=P.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=r,pe=P;switch(ee=s,ue=l,pe.tag){case 1:if(me=pe.payload,typeof me=="function"){ne=me.call(ue,ne,ee);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=pe.payload,ee=typeof me=="function"?me.call(ue,ne,ee):me,ee==null)break e;ne=ae({},ne,ee);break e;case 2:Ti=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ee=y.effects,ee===null?y.effects=[P]:ee.push(P))}else ue={eventTime:ue,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(G=te=ue,F=ne):te=te.next=ue,T|=ee;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);if(te===null&&(F=ne),y.baseState=F,y.firstBaseUpdate=G,y.lastBaseUpdate=te,s=y.shared.interleaved,s!==null){y=s;do T|=y.lane,y=y.next;while(y!==s)}else x===null&&(y.shared.lanes=0);xs|=T,r.lanes=T,r.memoizedState=ne}}function iy(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],y=d.callback;if(y!==null){if(d.callback=null,d=l,typeof y!="function")throw Error(n(191,y));y.call(d)}}}var qa={},pr=_i(qa),Qa=_i(qa),Ya=_i(qa);function ys(r){if(r===qa)throw Error(n(174));return r}function vd(r,s){switch(Ye(Ya,s),Ye(Qa,r),Ye(pr,qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ks(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ks(s,r)}et(pr),Ye(pr,s)}function Co(){et(pr),et(Qa),et(Ya)}function sy(r){ys(Ya.current);var s=ys(pr.current),l=Ks(s,r.type);s!==l&&(Ye(Qa,r),Ye(pr,l))}function xd(r){Qa.current===r&&(et(pr),et(Qa))}var it=_i(0);function qu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _d=[];function wd(){for(var r=0;r<_d.length;r++)_d[r]._workInProgressVersionPrimary=null;_d.length=0}var Qu=Q.ReactCurrentDispatcher,Ed=Q.ReactCurrentBatchConfig,vs=0,st=null,Ct=null,Pt=null,Yu=!1,Xa=!1,Ja=0,qT=0;function Kt(){throw Error(n(321))}function Td(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zn(r[l],s[l]))return!1;return!0}function Sd(r,s,l,d,y,x){if(vs=x,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qu.current=r===null||r.memoizedState===null?JT:ZT,r=l(d,y),Xa){x=0;do{if(Xa=!1,Ja=0,25<=x)throw Error(n(301));x+=1,Pt=Ct=null,s.updateQueue=null,Qu.current=eS,r=l(d,y)}while(Xa)}if(Qu.current=Zu,s=Ct!==null&&Ct.next!==null,vs=0,Pt=Ct=st=null,Yu=!1,s)throw Error(n(300));return r}function Ad(){var r=Ja!==0;return Ja=0,r}function gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function kn(){if(Ct===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var s=Pt===null?st.memoizedState:Pt.next;if(s!==null)Pt=s,Ct=r;else{if(r===null)throw Error(n(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?st.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function Za(r,s){return typeof s=="function"?s(r):s}function Cd(r){var s=kn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=Ct,y=d.baseQueue,x=l.pending;if(x!==null){if(y!==null){var T=y.next;y.next=x.next,x.next=T}d.baseQueue=y=x,l.pending=null}if(y!==null){x=y.next,d=d.baseState;var P=T=null,F=null,G=x;do{var te=G.lane;if((vs&te)===te)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var ne={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(P=F=ne,T=d):F=F.next=ne,st.lanes|=te,xs|=te}G=G.next}while(G!==null&&G!==x);F===null?T=d:F.next=P,zn(d,s.memoizedState)||(an=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=F,l.lastRenderedState=d}if(r=l.interleaved,r!==null){y=r;do x=y.lane,st.lanes|=x,xs|=x,y=y.next;while(y!==r)}else y===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Id(r){var s=kn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,y=l.pending,x=s.memoizedState;if(y!==null){l.pending=null;var T=y=y.next;do x=r(x,T.action),T=T.next;while(T!==y);zn(x,s.memoizedState)||(an=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,d]}function oy(){}function ay(r,s){var l=st,d=kn(),y=s(),x=!zn(d.memoizedState,y);if(x&&(d.memoizedState=y,an=!0),d=d.queue,Rd(cy.bind(null,l,d,r),[r]),d.getSnapshot!==s||x||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,el(9,uy.bind(null,l,d,y,s),void 0,null),Vt===null)throw Error(n(349));(vs&30)!==0||ly(l,s,y)}return y}function ly(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function uy(r,s,l,d){s.value=l,s.getSnapshot=d,hy(s)&&dy(r)}function cy(r,s,l){return l(function(){hy(s)&&dy(r)})}function hy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zn(r,l)}catch{return!0}}function dy(r){var s=zr(r,1);s!==null&&Gn(s,r,1,-1)}function fy(r){var s=gr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:r},s.queue=r,r=r.dispatch=XT.bind(null,st,r),[s.memoizedState,r]}function el(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function my(){return kn().memoizedState}function Xu(r,s,l,d){var y=gr();st.flags|=r,y.memoizedState=el(1|s,l,void 0,d===void 0?null:d)}function Ju(r,s,l,d){var y=kn();d=d===void 0?null:d;var x=void 0;if(Ct!==null){var T=Ct.memoizedState;if(x=T.destroy,d!==null&&Td(d,T.deps)){y.memoizedState=el(s,l,x,d);return}}st.flags|=r,y.memoizedState=el(1|s,l,x,d)}function py(r,s){return Xu(8390656,8,r,s)}function Rd(r,s){return Ju(2048,8,r,s)}function gy(r,s){return Ju(4,2,r,s)}function yy(r,s){return Ju(4,4,r,s)}function vy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xy(r,s,l){return l=l!=null?l.concat([r]):null,Ju(4,4,vy.bind(null,s,r),l)}function kd(){}function _y(r,s){var l=kn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Td(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function wy(r,s){var l=kn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Td(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Ey(r,s,l){return(vs&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=l):(zn(l,s)||(l=Ca(),st.lanes|=l,xs|=l,r.baseState=!0),s)}function QT(r,s){var l=Le;Le=l!==0&&4>l?l:4,r(!0);var d=Ed.transition;Ed.transition={};try{r(!1),s()}finally{Le=l,Ed.transition=d}}function Ty(){return kn().memoizedState}function YT(r,s,l){var d=Ri(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Sy(r))Ay(s,l);else if(l=ty(r,s,l,d),l!==null){var y=tn();Gn(l,r,d,y),Cy(l,s,d)}}function XT(r,s,l){var d=Ri(r),y={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sy(r))Ay(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var T=s.lastRenderedState,P=x(T,l);if(y.hasEagerState=!0,y.eagerState=P,zn(P,T)){var F=s.interleaved;F===null?(y.next=y,gd(s)):(y.next=F.next,F.next=y),s.interleaved=y;return}}catch{}finally{}l=ty(r,s,y,d),l!==null&&(y=tn(),Gn(l,r,d,y),Cy(l,s,d))}}function Sy(r){var s=r.alternate;return r===st||s!==null&&s===st}function Ay(r,s){Xa=Yu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Cy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ra(r,l)}}var Zu={readContext:Rn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},JT={readContext:Rn,useCallback:function(r,s){return gr().memoizedState=[r,s===void 0?null:s],r},useContext:Rn,useEffect:py,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Xu(4194308,4,vy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Xu(4,2,r,s)},useMemo:function(r,s){var l=gr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=gr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=YT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=gr();return r={current:r},s.memoizedState=r},useState:fy,useDebugValue:kd,useDeferredValue:function(r){return gr().memoizedState=r},useTransition:function(){var r=fy(!1),s=r[0];return r=QT.bind(null,r[1]),gr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,y=gr();if(rt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Vt===null)throw Error(n(349));(vs&30)!==0||ly(d,s,l)}y.memoizedState=l;var x={value:l,getSnapshot:s};return y.queue=x,py(cy.bind(null,d,x,r),[r]),d.flags|=2048,el(9,uy.bind(null,d,x,l,s),void 0,null),l},useId:function(){var r=gr(),s=Vt.identifierPrefix;if(rt){var l=Ur,d=Br;l=(d&~(1<<32-pn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ja++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=qT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ZT={readContext:Rn,useCallback:_y,useContext:Rn,useEffect:Rd,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:wy,useReducer:Cd,useRef:my,useState:function(){return Cd(Za)},useDebugValue:kd,useDeferredValue:function(r){var s=kn();return Ey(s,Ct.memoizedState,r)},useTransition:function(){var r=Cd(Za)[0],s=kn().memoizedState;return[r,s]},useMutableSource:oy,useSyncExternalStore:ay,useId:Ty,unstable_isNewReconciler:!1},eS={readContext:Rn,useCallback:_y,useContext:Rn,useEffect:Rd,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:wy,useReducer:Id,useRef:my,useState:function(){return Id(Za)},useDebugValue:kd,useDeferredValue:function(r){var s=kn();return Ct===null?s.memoizedState=r:Ey(s,Ct.memoizedState,r)},useTransition:function(){var r=Id(Za)[0],s=kn().memoizedState;return[r,s]},useMutableSource:oy,useSyncExternalStore:ay,useId:Ty,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function bd(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ec={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=tn(),y=Ri(r),x=$r(d,y);x.payload=s,l!=null&&(x.callback=l),s=Si(r,x,y),s!==null&&(Gn(s,r,y,d),Ku(s,r,y))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=tn(),y=Ri(r),x=$r(d,y);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Si(r,x,y),s!==null&&(Gn(s,r,y,d),Ku(s,r,y))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=tn(),d=Ri(r),y=$r(l,d);y.tag=2,s!=null&&(y.callback=s),s=Si(r,y,d),s!==null&&(Gn(s,r,d,l),Ku(s,r,d))}};function Iy(r,s,l,d,y,x,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,T):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,d)||!Ba(y,x):!0}function Ry(r,s,l){var d=!1,y=wi,x=s.contextType;return typeof x=="object"&&x!==null?x=Rn(x):(y=on(s)?fs:Ht.current,d=s.contextTypes,x=(d=d!=null)?xo(r,y):wi),s=new s(l,x),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ec,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=x),s}function ky(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&ec.enqueueReplaceState(s,s.state,null)}function Pd(r,s,l,d){var y=r.stateNode;y.props=l,y.state=r.memoizedState,y.refs={},yd(r);var x=s.contextType;typeof x=="object"&&x!==null?y.context=Rn(x):(x=on(s)?fs:Ht.current,y.context=xo(r,x)),y.state=r.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(bd(r,s,x,l),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&ec.enqueueReplaceState(y,y.state,null),Gu(r,l,y,d),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Io(r,s){try{var l="",d=s;do l+=De(d),d=d.return;while(d);var y=l}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:s,stack:y,digest:null}}function Vd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Dd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var tS=typeof WeakMap=="function"?WeakMap:Map;function by(r,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ac||(ac=!0,qd=d),Dd(r,s)},l}function Py(r,s,l){l=$r(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=s.value;l.payload=function(){return d(y)},l.callback=function(){Dd(r,s)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Dd(r,s),typeof d!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Vy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new tS;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(l)||(y.add(l),r=pS.bind(null,r,s,l),s.then(r,r))}function Dy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function jy(r,s,l,d,y){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,Si(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var nS=Q.ReactCurrentOwner,an=!1;function en(r,s,l,d){s.child=r===null?ey(s,null,l,d):To(s,r.child,l,d)}function Ny(r,s,l,d,y){l=l.render;var x=s.ref;return Ao(s,y),d=Sd(r,s,l,d,x,y),l=Ad(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Wr(r,s,y)):(rt&&l&&ad(s),s.flags|=1,en(r,s,d,y),s.child)}function My(r,s,l,d,y){if(r===null){var x=l.type;return typeof x=="function"&&!tf(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,Ly(r,s,x,d,y)):(r=fc(l.type,null,d,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,(r.lanes&y)===0){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(T,d)&&r.ref===s.ref)return Wr(r,s,y)}return s.flags|=1,r=bi(x,d),r.ref=s.ref,r.return=s,s.child=r}function Ly(r,s,l,d,y){if(r!==null){var x=r.memoizedProps;if(Ba(x,d)&&r.ref===s.ref)if(an=!1,s.pendingProps=d=x,(r.lanes&y)!==0)(r.flags&131072)!==0&&(an=!0);else return s.lanes=r.lanes,Wr(r,s,y)}return jd(r,s,l,d,y)}function Oy(r,s,l){var d=s.pendingProps,y=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ko,En),En|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(ko,En),En|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Ye(ko,En),En|=d}else x!==null?(d=x.baseLanes|l,s.memoizedState=null):d=l,Ye(ko,En),En|=d;return en(r,s,y,l),s.child}function Fy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function jd(r,s,l,d,y){var x=on(l)?fs:Ht.current;return x=xo(s,x),Ao(s,y),l=Sd(r,s,l,d,x,y),d=Ad(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Wr(r,s,y)):(rt&&d&&ad(s),s.flags|=1,en(r,s,l,y),s.child)}function By(r,s,l,d,y){if(on(l)){var x=!0;Ou(s)}else x=!1;if(Ao(s,y),s.stateNode===null)nc(r,s),Ry(s,l,d),Pd(s,l,d,y),d=!0;else if(r===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var F=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Rn(G):(G=on(l)?fs:Ht.current,G=xo(s,G));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==d||F!==G)&&ky(s,T,d,G),Ti=!1;var ee=s.memoizedState;T.state=ee,Gu(s,d,T,y),F=s.memoizedState,P!==d||ee!==F||sn.current||Ti?(typeof te=="function"&&(bd(s,l,te,d),F=s.memoizedState),(P=Ti||Iy(s,l,P,d,ee,F,G))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=F),T.props=d,T.state=F,T.context=G,d=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,ny(r,s),P=s.memoizedProps,G=s.type===s.elementType?P:Wn(s.type,P),T.props=G,ne=s.pendingProps,ee=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=Rn(F):(F=on(l)?fs:Ht.current,F=xo(s,F));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ne||ee!==F)&&ky(s,T,d,F),Ti=!1,ee=s.memoizedState,T.state=ee,Gu(s,d,T,y);var me=s.memoizedState;P!==ne||ee!==me||sn.current||Ti?(typeof ue=="function"&&(bd(s,l,ue,d),me=s.memoizedState),(G=Ti||Iy(s,l,G,d,ee,me,F)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,me,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,me,F)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),T.props=d,T.state=me,T.context=F,d=G):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return Nd(r,s,l,d,x,y)}function Nd(r,s,l,d,y,x){Fy(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return y&&Hg(s,l,!1),Wr(r,s,x);d=s.stateNode,nS.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=To(s,r.child,null,x),s.child=To(s,null,P,x)):en(r,s,P,x),s.memoizedState=d.state,y&&Hg(s,l,!0),s.child}function Uy(r){var s=r.stateNode;s.pendingContext?$g(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$g(r,s.context,!1),vd(r,s.containerInfo)}function zy(r,s,l,d,y){return Eo(),hd(y),s.flags|=256,en(r,s,l,d),s.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Ld(r){return{baseLanes:r,cachePool:null,transitions:null}}function $y(r,s,l){var d=s.pendingProps,y=it.current,x=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=r!==null&&r.memoizedState===null?!1:(y&2)!==0),P?(x=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),Ye(it,y&1),r===null)return cd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=d.children,r=d.fallback,x?(d=s.mode,x=s.child,T={mode:"hidden",children:T},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=mc(T,d,0,null),r=Ts(r,d,l,null),x.return=s,r.return=s,x.sibling=r,s.child=x,s.child.memoizedState=Ld(l),s.memoizedState=Md,r):Od(s,T));if(y=r.memoizedState,y!==null&&(P=y.dehydrated,P!==null))return rS(r,s,T,d,P,y,l);if(x){x=d.fallback,T=s.mode,y=r.child,P=y.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&s.child!==y?(d=s.child,d.childLanes=0,d.pendingProps=F,s.deletions=null):(d=bi(y,F),d.subtreeFlags=y.subtreeFlags&14680064),P!==null?x=bi(P,x):(x=Ts(x,T,l,null),x.flags|=2),x.return=s,d.return=s,d.sibling=x,s.child=d,d=x,x=s.child,T=r.child.memoizedState,T=T===null?Ld(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=r.childLanes&~l,s.memoizedState=Md,d}return x=r.child,r=x.sibling,d=bi(x,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Od(r,s){return s=mc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function tc(r,s,l,d){return d!==null&&hd(d),To(s,r.child,null,l),r=Od(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rS(r,s,l,d,y,x,T){if(l)return s.flags&256?(s.flags&=-257,d=Vd(Error(n(422))),tc(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(x=d.fallback,y=s.mode,d=mc({mode:"visible",children:d.children},y,0,null),x=Ts(x,y,T,null),x.flags|=2,d.return=s,x.return=s,d.sibling=x,s.child=d,(s.mode&1)!==0&&To(s,r.child,null,T),s.child.memoizedState=Ld(T),s.memoizedState=Md,x);if((s.mode&1)===0)return tc(r,s,T,null);if(y.data==="$!"){if(d=y.nextSibling&&y.nextSibling.dataset,d)var P=d.dgst;return d=P,x=Error(n(419)),d=Vd(x,d,void 0),tc(r,s,T,d)}if(P=(T&r.childLanes)!==0,an||P){if(d=Vt,d!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(d.suspendedLanes|T))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,zr(r,y),Gn(d,r,y,-1))}return ef(),d=Vd(Error(n(421))),tc(r,s,T,d)}return y.data==="$?"?(s.flags|=128,s.child=r.child,s=gS.bind(null,r),y._reactRetry=s,null):(r=x.treeContext,wn=xi(y.nextSibling),_n=s,rt=!0,$n=null,r!==null&&(Cn[In++]=Br,Cn[In++]=Ur,Cn[In++]=ms,Br=r.id,Ur=r.overflow,ms=s),s=Od(s,d.children),s.flags|=4096,s)}function Wy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),pd(r.return,s,l)}function Fd(r,s,l,d,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=y)}function Hy(r,s,l){var d=s.pendingProps,y=d.revealOrder,x=d.tail;if(en(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wy(r,l,s);else if(r.tag===19)Wy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ye(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&qu(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Fd(s,!1,y,l,x);break;case"backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&qu(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}Fd(s,!0,l,null,x);break;case"together":Fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Wr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),xs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=bi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=bi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function iS(r,s,l){switch(s.tag){case 3:Uy(s),Eo();break;case 5:sy(s);break;case 1:on(s.type)&&Ou(s);break;case 4:vd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,y=s.memoizedProps.value;Ye(Wu,d._currentValue),d._currentValue=y;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?$y(r,s,l):(Ye(it,it.current&1),r=Wr(r,s,l),r!==null?r.sibling:null);Ye(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Hy(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ye(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,Oy(r,s,l)}return Wr(r,s,l)}var Ky,Bd,Gy,qy;Ky=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Bd=function(){},Gy=function(r,s,l,d){var y=r.memoizedProps;if(y!==d){r=s.stateNode,ys(pr.current);var x=null;switch(l){case"input":y=Ws(r,y),d=Ws(r,d),x=[];break;case"select":y=ae({},y,{value:void 0}),d=ae({},d,{value:void 0}),x=[];break;case"textarea":y=pa(r,y),d=pa(r,d),x=[];break;default:typeof y.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Nu)}Fn(l,d);var T;l=null;for(G in y)if(!d.hasOwnProperty(G)&&y.hasOwnProperty(G)&&y[G]!=null)if(G==="style"){var P=y[G];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?x||(x=[]):(x=x||[]).push(G,null));for(G in d){var F=d[G];if(P=y!=null?y[G]:void 0,d.hasOwnProperty(G)&&F!==P&&(F!=null||P!=null))if(G==="style")if(P){for(T in P)!P.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&P[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(x||(x=[]),x.push(G,l)),l=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,P=P?P.__html:void 0,F!=null&&P!==F&&(x=x||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&Ze("scroll",r),x||P===F||(x=[])):(x=x||[]).push(G,F))}l&&(x=x||[]).push("style",l);var G=x;(s.updateQueue=G)&&(s.flags|=4)}},qy=function(r,s,l,d){l!==d&&(s.flags|=4)};function tl(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&14680064,d|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function sS(r,s,l){var d=s.pendingProps;switch(ld(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return on(s.type)&&Lu(),Gt(s),null;case 3:return d=s.stateNode,Co(),et(sn),et(Ht),wd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$n!==null&&(Xd($n),$n=null))),Bd(r,s),Gt(s),null;case 5:xd(s);var y=ys(Ya.current);if(l=s.type,r!==null&&s.stateNode!=null)Gy(r,s,l,d,y),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Gt(s),null}if(r=ys(pr.current),zu(s)){d=s.stateNode,l=s.type;var x=s.memoizedProps;switch(d[mr]=s,d[Ha]=x,r=(s.mode&1)!==0,l){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(y=0;y<za.length;y++)Ze(za[y],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":ou(d,x),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Ze("invalid",d);break;case"textarea":ga(d,x),Ze("invalid",d)}Fn(l,x),y=null;for(var T in x)if(x.hasOwnProperty(T)){var P=x[T];T==="children"?typeof P=="string"?d.textContent!==P&&(x.suppressHydrationWarning!==!0&&ju(d.textContent,P,r),y=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&ju(d.textContent,P,r),y=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Ze("scroll",d)}switch(l){case"input":$s(d),ma(d,x,!0);break;case"textarea":$s(d),ri(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Nu)}d=y,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ya(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[mr]=s,r[Ha]=d,Ky(r,s,!1,!1),s.stateNode=r;e:{switch(T=qs(l,d),l){case"dialog":Ze("cancel",r),Ze("close",r),y=d;break;case"iframe":case"object":case"embed":Ze("load",r),y=d;break;case"video":case"audio":for(y=0;y<za.length;y++)Ze(za[y],r);y=d;break;case"source":Ze("error",r),y=d;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),y=d;break;case"details":Ze("toggle",r),y=d;break;case"input":ou(r,d),y=Ws(r,d),Ze("invalid",r);break;case"option":y=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},y=ae({},d,{value:void 0}),Ze("invalid",r);break;case"textarea":ga(r,d),y=pa(r,d),Ze("invalid",r);break;default:y=d}Fn(l,y),P=y;for(x in P)if(P.hasOwnProperty(x)){var F=P[x];x==="style"?Gs(r,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&lu(r,F)):x==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Ji(r,F):typeof F=="number"&&Ji(r,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?F!=null&&x==="onScroll"&&Ze("scroll",r):F!=null&&V(r,x,F,T))}switch(l){case"input":$s(r),ma(r,d,!1);break;case"textarea":$s(r),ri(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Be(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?On(r,!!d.multiple,x,!1):d.defaultValue!=null&&On(r,!!d.multiple,d.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(r&&s.stateNode!=null)qy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=ys(Ya.current),ys(pr.current),zu(s)){if(d=s.stateNode,l=s.memoizedProps,d[mr]=s,(x=d.nodeValue!==l)&&(r=_n,r!==null))switch(r.tag){case 3:ju(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ju(d.nodeValue,l,(r.mode&1)!==0)}x&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[mr]=s,s.stateNode=d}return Gt(s),null;case 13:if(et(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&wn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xg(),Eo(),s.flags|=98560,x=!1;else if(x=zu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[mr]=s}else Eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),x=!1}else $n!==null&&(Xd($n),$n=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?It===0&&(It=3):ef())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return Co(),Bd(r,s),r===null&&$a(s.stateNode.containerInfo),Gt(s),null;case 10:return md(s.type._context),Gt(s),null;case 17:return on(s.type)&&Lu(),Gt(s),null;case 19:if(et(it),x=s.memoizedState,x===null)return Gt(s),null;if(d=(s.flags&128)!==0,T=x.rendering,T===null)if(d)tl(x,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=qu(r),T!==null){for(s.flags|=128,tl(x,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)x=l,r=d,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,r=T.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ye(it,it.current&1|2),s.child}r=r.sibling}x.tail!==null&&Je()>bo&&(s.flags|=128,d=!0,tl(x,!1),s.lanes=4194304)}else{if(!d)if(r=qu(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),tl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!rt)return Gt(s),null}else 2*Je()-x.renderingStartTime>bo&&l!==1073741824&&(s.flags|=128,d=!0,tl(x,!1),s.lanes=4194304);x.isBackwards?(T.sibling=s.child,s.child=T):(l=x.last,l!==null?l.sibling=T:s.child=T,x.last=T)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Je(),s.sibling=null,l=it.current,Ye(it,d?l&1|2:l&1),s):(Gt(s),null);case 22:case 23:return Zd(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(En&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function oS(r,s){switch(ld(s),s.tag){case 1:return on(s.type)&&Lu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),et(sn),et(Ht),wd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return xd(s),null;case 13:if(et(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(it),null;case 4:return Co(),null;case 10:return md(s.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var rc=!1,qt=!1,aS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ro(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ct(r,s,d)}else l.current=null}function Ud(r,s,l){try{l()}catch(d){ct(r,s,d)}}var Qy=!1;function lS(r,s){if(Zh=Nr,r=Ig(),Hh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,P=-1,F=-1,G=0,te=0,ne=r,ee=null;t:for(;;){for(var ue;ne!==l||y!==0&&ne.nodeType!==3||(P=T+y),ne!==x||d!==0&&ne.nodeType!==3||(F=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)ee=ne,ne=ue;for(;;){if(ne===r)break t;if(ee===l&&++G===y&&(P=T),ee===x&&++te===d&&(F=T),(ue=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ue}l=P===-1||F===-1?null:{start:P,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(ed={focusedElem:r,selectionRange:l},Nr=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var pe=me.memoizedProps,pt=me.memoizedState,W=s.stateNode,B=W.getSnapshotBeforeUpdate(s.elementType===s.type?pe:Wn(s.type,pe),pt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ct(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return me=Qy,Qy=!1,me}function nl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&r)===r){var x=y.destroy;y.destroy=void 0,x!==void 0&&Ud(s,l,x)}y=y.next}while(y!==d)}}function ic(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function zd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Yy(r){var s=r.alternate;s!==null&&(r.alternate=null,Yy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mr],delete s[Ha],delete s[id],delete s[WT],delete s[HT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xy(r){return r.tag===5||r.tag===3||r.tag===4}function Jy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $d(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(d!==4&&(r=r.child,r!==null))for($d(r,s,l),r=r.sibling;r!==null;)$d(r,s,l),r=r.sibling}function Wd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Wd(r,s,l),r=r.sibling;r!==null;)Wd(r,s,l),r=r.sibling}var Lt=null,Hn=!1;function Ai(r,s,l){for(l=l.child;l!==null;)Zy(r,s,l),l=l.sibling}function Zy(r,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(rs,l)}catch{}switch(l.tag){case 5:qt||Ro(l,s);case 6:var d=Lt,y=Hn;Lt=null,Ai(r,s,l),Lt=d,Hn=y,Lt!==null&&(Hn?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Hn?(r=Lt,l=l.stateNode,r.nodeType===8?rd(r.parentNode,l):r.nodeType===1&&rd(r,l),pi(r)):rd(Lt,l.stateNode));break;case 4:d=Lt,y=Hn,Lt=l.stateNode.containerInfo,Hn=!0,Ai(r,s,l),Lt=d,Hn=y;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){y=d=d.next;do{var x=y,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&Ud(l,s,T),y=y.next}while(y!==d)}Ai(r,s,l);break;case 1:if(!qt&&(Ro(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){ct(l,s,P)}Ai(r,s,l);break;case 21:Ai(r,s,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,Ai(r,s,l),qt=d):Ai(r,s,l);break;default:Ai(r,s,l)}}function ev(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new aS),s.forEach(function(d){var y=yS.bind(null,r,d);l.has(d)||(l.add(d),d.then(y,y))})}}function Kn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];try{var x=r,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Lt=P.stateNode,Hn=!1;break e;case 3:Lt=P.stateNode.containerInfo,Hn=!0;break e;case 4:Lt=P.stateNode.containerInfo,Hn=!0;break e}P=P.return}if(Lt===null)throw Error(n(160));Zy(x,T,y),Lt=null,Hn=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(G){ct(y,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)tv(s,r),s=s.sibling}function tv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),yr(r),d&4){try{nl(3,r,r.return),ic(3,r)}catch(pe){ct(r,r.return,pe)}try{nl(5,r,r.return)}catch(pe){ct(r,r.return,pe)}}break;case 1:Kn(s,r),yr(r),d&512&&l!==null&&Ro(l,l.return);break;case 5:if(Kn(s,r),yr(r),d&512&&l!==null&&Ro(l,l.return),r.flags&32){var y=r.stateNode;try{Ji(y,"")}catch(pe){ct(r,r.return,pe)}}if(d&4&&(y=r.stateNode,y!=null)){var x=r.memoizedProps,T=l!==null?l.memoizedProps:x,P=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&Hs(y,x),qs(P,T);var G=qs(P,x);for(T=0;T<F.length;T+=2){var te=F[T],ne=F[T+1];te==="style"?Gs(y,ne):te==="dangerouslySetInnerHTML"?lu(y,ne):te==="children"?Ji(y,ne):V(y,te,ne,G)}switch(P){case"input":Xi(y,x);break;case"textarea":au(y,x);break;case"select":var ee=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?On(y,!!x.multiple,ue,!1):ee!==!!x.multiple&&(x.defaultValue!=null?On(y,!!x.multiple,x.defaultValue,!0):On(y,!!x.multiple,x.multiple?[]:"",!1))}y[Ha]=x}catch(pe){ct(r,r.return,pe)}}break;case 6:if(Kn(s,r),yr(r),d&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,x=r.memoizedProps;try{y.nodeValue=x}catch(pe){ct(r,r.return,pe)}}break;case 3:if(Kn(s,r),yr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(pe){ct(r,r.return,pe)}break;case 4:Kn(s,r),yr(r);break;case 13:Kn(s,r),yr(r),y=r.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Gd=Je())),d&4&&ev(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(qt=(G=qt)||te,Kn(s,r),qt=G):Kn(s,r),yr(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(ne=de=te;de!==null;){switch(ee=de,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:nl(4,ee,ee.return);break;case 1:Ro(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(pe){ct(d,l,pe)}}break;case 5:Ro(ee,ee.return);break;case 22:if(ee.memoizedState!==null){iv(ne);continue}}ue!==null?(ue.return=ee,de=ue):iv(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{y=ne.stateNode,G?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=ne.stateNode,F=ne.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,P.style.display=oi("display",T))}catch(pe){ct(r,r.return,pe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(pe){ct(r,r.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Kn(s,r),yr(r),d&4&&ev(r);break;case 21:break;default:Kn(s,r),yr(r)}}function yr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Xy(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var y=d.stateNode;d.flags&32&&(Ji(y,""),d.flags&=-33);var x=Jy(r);Wd(r,x,y);break;case 3:case 4:var T=d.stateNode.containerInfo,P=Jy(r);$d(r,P,T);break;default:throw Error(n(161))}}catch(F){ct(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function uS(r,s,l){de=r,nv(r)}function nv(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var y=de,x=y.child;if(y.tag===22&&d){var T=y.memoizedState!==null||rc;if(!T){var P=y.alternate,F=P!==null&&P.memoizedState!==null||qt;P=rc;var G=qt;if(rc=T,(qt=F)&&!G)for(de=y;de!==null;)T=de,F=T.child,T.tag===22&&T.memoizedState!==null?sv(y):F!==null?(F.return=T,de=F):sv(y);for(;x!==null;)de=x,nv(x),x=x.sibling;de=y,rc=P,qt=G}rv(r)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,de=x):rv(r)}}function rv(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||ic(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!qt)if(l===null)d.componentDidMount();else{var y=s.elementType===s.type?l.memoizedProps:Wn(s.type,l.memoizedProps);d.componentDidUpdate(y,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&iy(s,x,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}iy(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&pi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||s.flags&512&&zd(s)}catch(ee){ct(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function iv(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function sv(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ic(4,s)}catch(F){ct(s,l,F)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var y=s.return;try{d.componentDidMount()}catch(F){ct(s,y,F)}}var x=s.return;try{zd(s)}catch(F){ct(s,x,F)}break;case 5:var T=s.return;try{zd(s)}catch(F){ct(s,T,F)}}}catch(F){ct(s,s.return,F)}if(s===r){de=null;break}var P=s.sibling;if(P!==null){P.return=s.return,de=P;break}de=s.return}}var cS=Math.ceil,sc=Q.ReactCurrentDispatcher,Hd=Q.ReactCurrentOwner,bn=Q.ReactCurrentBatchConfig,Ue=0,Vt=null,wt=null,Ot=0,En=0,ko=_i(0),It=0,rl=null,xs=0,oc=0,Kd=0,il=null,ln=null,Gd=0,bo=1/0,Hr=null,ac=!1,qd=null,Ci=null,lc=!1,Ii=null,uc=0,sl=0,Qd=null,cc=-1,hc=0;function tn(){return(Ue&6)!==0?Je():cc!==-1?cc:cc=Je()}function Ri(r){return(r.mode&1)===0?1:(Ue&2)!==0&&Ot!==0?Ot&-Ot:GT.transition!==null?(hc===0&&(hc=Ca()),hc):(r=Le,r!==0||(r=window.event,r=r===void 0?16:io(r.type)),r)}function Gn(r,s,l,d){if(50<sl)throw sl=0,Qd=null,Error(n(185));as(r,l,d),((Ue&2)===0||r!==Vt)&&(r===Vt&&((Ue&2)===0&&(oc|=l),It===4&&ki(r,Ot)),un(r,d),l===1&&Ue===0&&(s.mode&1)===0&&(bo=Je()+500,Fu&&Ei()))}function un(r,s){var l=r.callbackNode;os(r,s);var d=Vr(r,r===Vt?Ot:0);if(d===0)l!==null&&Xs(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Xs(l),s===1)r.tag===0?KT(av.bind(null,r)):Kg(av.bind(null,r)),zT(function(){(Ue&6)===0&&Ei()}),l=null;else{switch(ir(d)){case 1:l=Js;break;case 4:l=Ta;break;case 16:l=ns;break;case 536870912:l=Zs;break;default:l=ns}l=pv(l,ov.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function ov(r,s){if(cc=-1,hc=0,(Ue&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Po()&&r.callbackNode!==l)return null;var d=Vr(r,r===Vt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=dc(r,d);else{s=d;var y=Ue;Ue|=2;var x=uv();(Vt!==r||Ot!==s)&&(Hr=null,bo=Je()+500,ws(r,s));do try{fS();break}catch(P){lv(r,P)}while(!0);fd(),sc.current=x,Ue=y,wt!==null?s=0:(Vt=null,Ot=0,s=It)}if(s!==0){if(s===2&&(y=Aa(r),y!==0&&(d=y,s=Yd(r,y))),s===1)throw l=rl,ws(r,0),ki(r,d),un(r,Je()),l;if(s===6)ki(r,d);else{if(y=r.current.alternate,(d&30)===0&&!hS(y)&&(s=dc(r,d),s===2&&(x=Aa(r),x!==0&&(d=x,s=Yd(r,x))),s===1))throw l=rl,ws(r,0),ki(r,d),un(r,Je()),l;switch(r.finishedWork=y,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Es(r,ln,Hr);break;case 3:if(ki(r,d),(d&130023424)===d&&(s=Gd+500-Je(),10<s)){if(Vr(r,0)!==0)break;if(y=r.suspendedLanes,(y&d)!==d){tn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=nd(Es.bind(null,r,ln,Hr),s);break}Es(r,ln,Hr);break;case 4:if(ki(r,d),(d&4194240)===d)break;for(s=r.eventTimes,y=-1;0<d;){var T=31-pn(d);x=1<<T,T=s[T],T>y&&(y=T),d&=~x}if(d=y,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*cS(d/1960))-d,10<d){r.timeoutHandle=nd(Es.bind(null,r,ln,Hr),d);break}Es(r,ln,Hr);break;case 5:Es(r,ln,Hr);break;default:throw Error(n(329))}}}return un(r,Je()),r.callbackNode===l?ov.bind(null,r):null}function Yd(r,s){var l=il;return r.current.memoizedState.isDehydrated&&(ws(r,s).flags|=256),r=dc(r,s),r!==2&&(s=ln,ln=l,s!==null&&Xd(s)),r}function Xd(r){ln===null?ln=r:ln.push.apply(ln,r)}function hS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!zn(x(),y))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(r,s){for(s&=~Kd,s&=~oc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-pn(s),d=1<<l;r[l]=-1,s&=~d}}function av(r){if((Ue&6)!==0)throw Error(n(327));Po();var s=Vr(r,0);if((s&1)===0)return un(r,Je()),null;var l=dc(r,s);if(r.tag!==0&&l===2){var d=Aa(r);d!==0&&(s=d,l=Yd(r,d))}if(l===1)throw l=rl,ws(r,0),ki(r,s),un(r,Je()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Es(r,ln,Hr),un(r,Je()),null}function Jd(r,s){var l=Ue;Ue|=1;try{return r(s)}finally{Ue=l,Ue===0&&(bo=Je()+500,Fu&&Ei())}}function _s(r){Ii!==null&&Ii.tag===0&&(Ue&6)===0&&Po();var s=Ue;Ue|=1;var l=bn.transition,d=Le;try{if(bn.transition=null,Le=1,r)return r()}finally{Le=d,bn.transition=l,Ue=s,(Ue&6)===0&&Ei()}}function Zd(){En=ko.current,et(ko)}function ws(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,UT(l)),wt!==null)for(l=wt.return;l!==null;){var d=l;switch(ld(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Lu();break;case 3:Co(),et(sn),et(Ht),wd();break;case 5:xd(d);break;case 4:Co();break;case 13:et(it);break;case 19:et(it);break;case 10:md(d.type._context);break;case 22:case 23:Zd()}l=l.return}if(Vt=r,wt=r=bi(r.current,null),Ot=En=s,It=0,rl=null,Kd=oc=xs=0,ln=il=null,gs!==null){for(s=0;s<gs.length;s++)if(l=gs[s],d=l.interleaved,d!==null){l.interleaved=null;var y=d.next,x=l.pending;if(x!==null){var T=x.next;x.next=y,d.next=T}l.pending=d}gs=null}return r}function lv(r,s){do{var l=wt;try{if(fd(),Qu.current=Zu,Yu){for(var d=st.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}Yu=!1}if(vs=0,Pt=Ct=st=null,Xa=!1,Ja=0,Hd.current=null,l===null||l.return===null){It=1,rl=s,wt=null;break}e:{var x=r,T=l.return,P=l,F=s;if(s=Ot,P.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,te=P,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Dy(T);if(ue!==null){ue.flags&=-257,jy(ue,T,P,x,s),ue.mode&1&&Vy(x,G,s),s=ue,F=G;var me=s.updateQueue;if(me===null){var pe=new Set;pe.add(F),s.updateQueue=pe}else me.add(F);break e}else{if((s&1)===0){Vy(x,G,s),ef();break e}F=Error(n(426))}}else if(rt&&P.mode&1){var pt=Dy(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),jy(pt,T,P,x,s),hd(Io(F,P));break e}}x=F=Io(F,P),It!==4&&(It=2),il===null?il=[x]:il.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var W=by(x,F,s);ry(x,W);break e;case 1:P=F;var B=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ci===null||!Ci.has(K)))){x.flags|=65536,s&=-s,x.lanes|=s;var ie=Py(x,P,s);ry(x,ie);break e}}x=x.return}while(x!==null)}hv(l)}catch(ge){s=ge,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function uv(){var r=sc.current;return sc.current=Zu,r===null?Zu:r}function ef(){(It===0||It===3||It===2)&&(It=4),Vt===null||(xs&268435455)===0&&(oc&268435455)===0||ki(Vt,Ot)}function dc(r,s){var l=Ue;Ue|=2;var d=uv();(Vt!==r||Ot!==s)&&(Hr=null,ws(r,s));do try{dS();break}catch(y){lv(r,y)}while(!0);if(fd(),Ue=l,sc.current=d,wt!==null)throw Error(n(261));return Vt=null,Ot=0,It}function dS(){for(;wt!==null;)cv(wt)}function fS(){for(;wt!==null&&!ts();)cv(wt)}function cv(r){var s=mv(r.alternate,r,En);r.memoizedProps=r.pendingProps,s===null?hv(r):wt=s,Hd.current=null}function hv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=sS(l,s,En),l!==null){wt=l;return}}else{if(l=oS(l,s),l!==null){l.flags&=32767,wt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,wt=null;return}}if(s=s.sibling,s!==null){wt=s;return}wt=s=r}while(s!==null);It===0&&(It=5)}function Es(r,s,l){var d=Le,y=bn.transition;try{bn.transition=null,Le=1,mS(r,s,l,d)}finally{bn.transition=y,Le=d}return null}function mS(r,s,l,d){do Po();while(Ii!==null);if((Ue&6)!==0)throw Error(n(327));l=r.finishedWork;var y=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(Bh(r,x),r===Vt&&(wt=Vt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||lc||(lc=!0,pv(ns,function(){return Po(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=bn.transition,bn.transition=null;var T=Le;Le=1;var P=Ue;Ue|=4,Hd.current=null,lS(r,l),tv(l,r),jT(ed),Nr=!!Zh,ed=Zh=null,r.current=l,uS(l),Pr(),Ue=P,Le=T,bn.transition=x}else r.current=l;if(lc&&(lc=!1,Ii=r,uc=y),x=r.pendingLanes,x===0&&(Ci=null),xu(l.stateNode),un(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)y=s[l],d(y.value,{componentStack:y.stack,digest:y.digest});if(ac)throw ac=!1,r=qd,qd=null,r;return(uc&1)!==0&&r.tag!==0&&Po(),x=r.pendingLanes,(x&1)!==0?r===Qd?sl++:(sl=0,Qd=r):sl=0,Ei(),null}function Po(){if(Ii!==null){var r=ir(uc),s=bn.transition,l=Le;try{if(bn.transition=null,Le=16>r?16:r,Ii===null)var d=!1;else{if(r=Ii,Ii=null,uc=0,(Ue&6)!==0)throw Error(n(331));var y=Ue;for(Ue|=4,de=r.current;de!==null;){var x=de,T=x.child;if((de.flags&16)!==0){var P=x.deletions;if(P!==null){for(var F=0;F<P.length;F++){var G=P[F];for(de=G;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:nl(8,te,x)}var ne=te.child;if(ne!==null)ne.return=te,de=ne;else for(;de!==null;){te=de;var ee=te.sibling,ue=te.return;if(Yy(te),te===G){de=null;break}if(ee!==null){ee.return=ue,de=ee;break}de=ue}}}var me=x.alternate;if(me!==null){var pe=me.child;if(pe!==null){me.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,de=T;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:nl(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,de=W;break e}de=x.return}}var B=r.current;for(de=B;de!==null;){T=de;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,de=K;else e:for(T=B;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:ic(9,P)}}catch(ge){ct(P,P.return,ge)}if(P===T){de=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,de=ie;break e}de=P.return}}if(Ue=y,Ei(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(rs,r)}catch{}d=!0}return d}finally{Le=l,bn.transition=s}}return!1}function dv(r,s,l){s=Io(l,s),s=by(r,s,1),r=Si(r,s,1),s=tn(),r!==null&&(as(r,1,s),un(r,s))}function ct(r,s,l){if(r.tag===3)dv(r,r,l);else for(;s!==null;){if(s.tag===3){dv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){r=Io(l,r),r=Py(s,r,1),s=Si(s,r,1),r=tn(),s!==null&&(as(s,1,r),un(s,r));break}}s=s.return}}function pS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=tn(),r.pingedLanes|=r.suspendedLanes&l,Vt===r&&(Ot&l)===l&&(It===4||It===3&&(Ot&130023424)===Ot&&500>Je()-Gd?ws(r,0):Kd|=l),un(r,s)}function fv(r,s){s===0&&((r.mode&1)===0?s=1:(s=di,di<<=1,(di&130023424)===0&&(di=4194304)));var l=tn();r=zr(r,s),r!==null&&(as(r,s,l),un(r,l))}function gS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),fv(r,l)}function yS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),fv(r,l)}var mv;mv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return an=!1,iS(r,s,l);an=(r.flags&131072)!==0}else an=!1,rt&&(s.flags&1048576)!==0&&Gg(s,Uu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;nc(r,s),r=s.pendingProps;var y=xo(s,Ht.current);Ao(s,l),y=Sd(null,s,d,r,y,l);var x=Ad();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(d)?(x=!0,Ou(s)):x=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,yd(s),y.updater=ec,s.stateNode=y,y._reactInternals=s,Pd(s,d,r,l),s=Nd(null,s,d,!0,x,l)):(s.tag=0,rt&&x&&ad(s),en(null,s,y,l),s=s.child),s;case 16:d=s.elementType;e:{switch(nc(r,s),r=s.pendingProps,y=d._init,d=y(d._payload),s.type=d,y=s.tag=xS(d),r=Wn(d,r),y){case 0:s=jd(null,s,d,r,l);break e;case 1:s=By(null,s,d,r,l);break e;case 11:s=Ny(null,s,d,r,l);break e;case 14:s=My(null,s,d,Wn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Wn(d,y),jd(r,s,d,y,l);case 1:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Wn(d,y),By(r,s,d,y,l);case 3:e:{if(Uy(s),r===null)throw Error(n(387));d=s.pendingProps,x=s.memoizedState,y=x.element,ny(r,s),Gu(s,d,null,l);var T=s.memoizedState;if(d=T.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){y=Io(Error(n(423)),s),s=zy(r,s,d,l,y);break e}else if(d!==y){y=Io(Error(n(424)),s),s=zy(r,s,d,l,y);break e}else for(wn=xi(s.stateNode.containerInfo.firstChild),_n=s,rt=!0,$n=null,l=ey(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Eo(),d===y){s=Wr(r,s,l);break e}en(r,s,d,l)}s=s.child}return s;case 5:return sy(s),r===null&&cd(s),d=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,T=y.children,td(d,y)?T=null:x!==null&&td(d,x)&&(s.flags|=32),Fy(r,s),en(r,s,T,l),s.child;case 6:return r===null&&cd(s),null;case 13:return $y(r,s,l);case 4:return vd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=To(s,null,d,l):en(r,s,d,l),s.child;case 11:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Wn(d,y),Ny(r,s,d,y,l);case 7:return en(r,s,s.pendingProps,l),s.child;case 8:return en(r,s,s.pendingProps.children,l),s.child;case 12:return en(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,y=s.pendingProps,x=s.memoizedProps,T=y.value,Ye(Wu,d._currentValue),d._currentValue=T,x!==null)if(zn(x.value,T)){if(x.children===y.children&&!sn.current){s=Wr(r,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var P=x.dependencies;if(P!==null){T=x.child;for(var F=P.firstContext;F!==null;){if(F.context===d){if(x.tag===1){F=$r(-1,l&-l),F.tag=2;var G=x.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?F.next=F:(F.next=te.next,te.next=F),G.pending=F}}x.lanes|=l,F=x.alternate,F!==null&&(F.lanes|=l),pd(x.return,l,s),P.lanes|=l;break}F=F.next}}else if(x.tag===10)T=x.type===s.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),pd(T,l,s),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===s){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}en(r,s,y.children,l),s=s.child}return s;case 9:return y=s.type,d=s.pendingProps.children,Ao(s,l),y=Rn(y),d=d(y),s.flags|=1,en(r,s,d,l),s.child;case 14:return d=s.type,y=Wn(d,s.pendingProps),y=Wn(d.type,y),My(r,s,d,y,l);case 15:return Ly(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,y=s.pendingProps,y=s.elementType===d?y:Wn(d,y),nc(r,s),s.tag=1,on(d)?(r=!0,Ou(s)):r=!1,Ao(s,l),Ry(s,d,y),Pd(s,d,y,l),Nd(null,s,d,!0,r,l);case 19:return Hy(r,s,l);case 22:return Oy(r,s,l)}throw Error(n(156,s.tag))};function pv(r,s){return Ea(r,s)}function vS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,l,d){return new vS(r,s,l,d)}function tf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xS(r){if(typeof r=="function")return tf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===$e)return 14}return 2}function bi(r,s){var l=r.alternate;return l===null?(l=Pn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function fc(r,s,l,d,y,x){var T=2;if(d=r,typeof r=="function")tf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case j:return Ts(l.children,y,x,s);case I:T=8,y|=8;break;case b:return r=Pn(12,l,s,y|2),r.elementType=b,r.lanes=x,r;case D:return r=Pn(13,l,s,y),r.elementType=D,r.lanes=x,r;case be:return r=Pn(19,l,s,y),r.elementType=be,r.lanes=x,r;case Ee:return mc(l,y,x,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:T=10;break e;case M:T=9;break e;case $:T=11;break e;case $e:T=14;break e;case vt:T=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Pn(T,l,s,y),s.elementType=r,s.type=d,s.lanes=x,s}function Ts(r,s,l,d){return r=Pn(7,r,d,s),r.lanes=l,r}function mc(r,s,l,d){return r=Pn(22,r,d,s),r.elementType=Ee,r.lanes=l,r.stateNode={isHidden:!1},r}function nf(r,s,l){return r=Pn(6,r,null,s),r.lanes=l,r}function rf(r,s,l){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _S(r,s,l,d,y){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=d,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function sf(r,s,l,d,y,x,T,P,F){return r=new _S(r,s,l,P,F),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Pn(3,null,null,s),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(x),r}function wS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function gv(r){if(!r)return wi;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(on(l))return Wg(r,l,s)}return s}function yv(r,s,l,d,y,x,T,P,F){return r=sf(l,d,!0,r,y,x,T,P,F),r.context=gv(null),l=r.current,d=tn(),y=Ri(l),x=$r(d,y),x.callback=s??null,Si(l,x,y),r.current.lanes=y,as(r,y,d),un(r,d),r}function pc(r,s,l,d){var y=s.current,x=tn(),T=Ri(y);return l=gv(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(x,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Si(y,s,T),r!==null&&(Gn(r,y,T,x),Ku(r,y,T)),T}function gc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function of(r,s){vv(r,s),(r=r.alternate)&&vv(r,s)}function ES(){return null}var xv=typeof reportError=="function"?reportError:function(r){console.error(r)};function af(r){this._internalRoot=r}yc.prototype.render=af.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));pc(r,s,null,null)},yc.prototype.unmount=af.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_s(function(){pc(null,r,null,null)}),s[Or]=null}};function yc(r){this._internalRoot=r}yc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Pa();r={blockedOn:null,target:r,priority:s};for(var l=0;l<gn.length&&s!==0&&s<gn[l].priority;l++);gn.splice(l,0,r),l===0&&no(r)}};function lf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function vc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _v(){}function TS(r,s,l,d,y){if(y){if(typeof d=="function"){var x=d;d=function(){var G=gc(T);x.call(G)}}var T=yv(s,d,r,0,null,!1,!1,"",_v);return r._reactRootContainer=T,r[Or]=T.current,$a(r.nodeType===8?r.parentNode:r),_s(),T}for(;y=r.lastChild;)r.removeChild(y);if(typeof d=="function"){var P=d;d=function(){var G=gc(F);P.call(G)}}var F=sf(r,0,!1,null,null,!1,!1,"",_v);return r._reactRootContainer=F,r[Or]=F.current,$a(r.nodeType===8?r.parentNode:r),_s(function(){pc(s,F,l,d)}),F}function xc(r,s,l,d,y){var x=l._reactRootContainer;if(x){var T=x;if(typeof y=="function"){var P=y;y=function(){var F=gc(T);P.call(F)}}pc(s,T,r,y)}else T=TS(l,s,r,y,d);return gc(T)}ka=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=We(s.pendingLanes);l!==0&&(Ra(s,l|1),un(s,Je()),(Ue&6)===0&&(bo=Je()+500,Ei()))}break;case 13:_s(function(){var d=zr(r,1);if(d!==null){var y=tn();Gn(d,r,1,y)}}),of(r,1)}},eo=function(r){if(r.tag===13){var s=zr(r,134217728);if(s!==null){var l=tn();Gn(s,r,134217728,l)}of(r,134217728)}},ba=function(r){if(r.tag===13){var s=Ri(r),l=zr(r,s);if(l!==null){var d=tn();Gn(l,r,s,d)}of(r,s)}},Pa=function(){return Le},Va=function(r,s){var l=Le;try{return Le=r,s()}finally{Le=l}},Rr=function(r,s,l){switch(s){case"input":if(Xi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var y=Mu(d);if(!y)throw Error(n(90));fa(d),Xi(d,y)}}}break;case"textarea":au(r,l);break;case"select":s=l.value,s!=null&&On(r,!!l.multiple,s,!1)}},cu=Jd,hu=_s;var SS={usingClientEntryPoint:!1,Events:[Ka,yo,Mu,li,ui,Jd]},ol={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AS={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=vu(r),r===null?null:r.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||ES,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{rs=_c.inject(AS),mn=_c}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SS,cn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(s))throw Error(n(200));return wS(r,s,null,l)},cn.createRoot=function(r,s){if(!lf(r))throw Error(n(299));var l=!1,d="",y=xv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=sf(r,1,!1,null,null,l,!1,d,y),r[Or]=s.current,$a(r.nodeType===8?r.parentNode:r),new af(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=vu(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return _s(r)},cn.hydrate=function(r,s,l){if(!vc(s))throw Error(n(200));return xc(null,r,s,!0,l)},cn.hydrateRoot=function(r,s,l){if(!lf(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,y=!1,x="",T=xv;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=yv(s,null,r,1,l??null,y,!1,x,T),r[Or]=s.current,$a(r),d)for(r=0;r<d.length;r++)l=d[r],y=l._getVersion,y=y(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,y]:s.mutableSourceEagerHydrationData.push(l,y);return new yc(s)},cn.render=function(r,s,l){if(!vc(s))throw Error(n(200));return xc(null,r,s,!1,l)},cn.unmountComponentAtNode=function(r){if(!vc(r))throw Error(n(40));return r._reactRootContainer?(_s(function(){xc(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},cn.unstable_batchedUpdates=Jd,cn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!vc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return xc(r,s,l,!1,d)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Rv;function jS(){if(Rv)return hf.exports;Rv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hf.exports=DS(),hf.exports}var kv;function NS(){if(kv)return wc;kv=1;var t=jS();return wc.createRoot=t.createRoot,wc.hydrateRoot=t.hydrateRoot,wc}var MS=NS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bv="popstate";function LS(t={}){function e(o,a){let{pathname:u="/",search:f="",hash:h=""}=Fs(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),$f("",{pathname:u,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof a=="string"?a:Cl(a))}function i(o,a){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return FS(e,n,i,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OS(){return Math.random().toString(36).substring(2,10)}function Pv(t,e){return{usr:t.state,key:t.key,idx:e}}function $f(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:n,key:e&&e.key||i||OS()}}function Cl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function FS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",h=null,m=p();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function p(){return(u.state||{idx:null}).idx}function v(){f="POP";let R=p(),U=R==null?null:R-m;m=R,h&&h({action:f,location:k.location,delta:U})}function w(R,U){f="PUSH";let L=$f(k.location,R,U);n&&n(L,R),m=p()+1;let V=Pv(L,m),Q=k.createHref(L);try{u.pushState(V,"",Q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(Q)}a&&h&&h({action:f,location:k.location,delta:1})}function S(R,U){f="REPLACE";let L=$f(k.location,R,U);n&&n(L,R),m=p();let V=Pv(L,m),Q=k.createHref(L);u.replaceState(V,"",Q),a&&h&&h({action:f,location:k.location,delta:0})}function C(R){return BS(R)}let k={get action(){return f},get location(){return t(o,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(bv,v),h=R,()=>{o.removeEventListener(bv,v),h=null}},createHref(R){return e(o,R)},createURL:C,encodeLocation(R){let U=C(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:S,go(R){return u.go(R)}};return k}function BS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Cl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function c_(t,e,n="/"){return US(t,e,n,!1)}function US(t,e,n,i){let o=typeof e=="string"?Fs(e):e,a=Qr(o.pathname||"/",n);if(a==null)return null;let u=h_(t);zS(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=ZS(a);f=XS(u[h],m,i)}return f}function h_(t,e=[],n=[],i="",o=!1){let a=(u,f,h=o,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;at(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let v=Kr([i,p.relativePath]),w=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),h_(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:QS(v,u.index),routesMeta:w})};return t.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,f);else for(let m of d_(u.path))a(u,f,!0,m)}),e}function d_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=d_(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function zS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $S=/^:[\w-]+$/,WS=3,HS=2,KS=1,GS=10,qS=-2,Vv=t=>t==="*";function QS(t,e){let n=t.split("/"),i=n.length;return n.some(Vv)&&(i+=qS),e&&(i+=HS),n.filter(o=>!Vv(o)).reduce((o,a)=>o+($S.test(a)?WS:a===""?KS:GS),i)}function YS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function XS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=$c({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),w=h.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=$c({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Kr([a,v.pathname]),pathnameBase:rA(Kr([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Kr([a,v.pathnameBase]))}return u}function $c(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=JS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:p,isOptional:v},w)=>{if(p==="*"){let C=f[w]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[w];return v&&!S?m[p]=void 0:m[p]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function JS(t,e=!1,n=!0){Mn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ZS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eA=t=>f_.test(t);function tA(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Fs(t):t,a;if(n)if(eA(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=Dv(n.substring(1),"/"):a=Dv(n,e)}else a=e;return{pathname:a,search:iA(i),hash:sA(o)}}function Dv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m_(t){let e=nA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function p_(t,e,n,i=!1){let o;typeof t=="string"?o=Fs(t):(o={...t},at(!o.pathname||!o.pathname.includes("?"),mf("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),mf("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),mf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}f=v>=0?e[v]:"/"}let h=tA(o,f),m=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),rA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oA=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function aA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var g_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y_(t,e){let n=t;if(typeof n!="string"||!f_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(g_)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),f=Qr(u.pathname,e);u.origin===a.origin&&f!=null?n=f+u.search+u.hash:o=!0}catch{Mn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v_=["POST","PUT","PATCH","DELETE"];new Set(v_);var uA=["GET",...v_];new Set(uA);var ea=N.createContext(null);ea.displayName="DataRouter";var hh=N.createContext(null);hh.displayName="DataRouterState";var cA=N.createContext(!1),x_=N.createContext({isTransitioning:!1});x_.displayName="ViewTransition";var hA=N.createContext(new Map);hA.displayName="Fetchers";var dA=N.createContext(null);dA.displayName="Await";var Ln=N.createContext(null);Ln.displayName="Navigation";var Hl=N.createContext(null);Hl.displayName="Location";var Ir=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Um=N.createContext(null);Um.displayName="RouteError";var __="REACT_ROUTER_ERROR",fA="REDIRECT",mA="ROUTE_ERROR_RESPONSE";function pA(t){if(t.startsWith(`${__}:${fA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gA(t){if(t.startsWith(`${__}:${mA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oA(e.status,e.statusText,e.data)}catch{}}function yA(t,{relative:e}={}){at(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Ln),{hash:o,pathname:a,search:u}=Gl(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:Kr([n,a])),i.createHref({pathname:f,search:u,hash:o})}function Kl(){return N.useContext(Hl)!=null}function ti(){return at(Kl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Hl).location}var w_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(t){N.useContext(Ln).static||N.useLayoutEffect(t)}function vA(){let{isDataRoute:t}=N.useContext(Ir);return t?PA():xA()}function xA(){at(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(ea),{basename:e,navigator:n}=N.useContext(Ln),{matches:i}=N.useContext(Ir),{pathname:o}=ti(),a=JSON.stringify(m_(i)),u=N.useRef(!1);return E_(()=>{u.current=!0}),N.useCallback((h,m={})=>{if(Mn(u.current,w_),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=p_(h,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Kr([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,a,o,t])}N.createContext(null);function T_(){let{matches:t}=N.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Gl(t,{relative:e}={}){let{matches:n}=N.useContext(Ir),{pathname:i}=ti(),o=JSON.stringify(m_(n));return N.useMemo(()=>p_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function _A(t,e){return S_(t,e)}function S_(t,e,n,i,o){var L;at(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Ln),{matches:u}=N.useContext(Ir),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",v=f&&f.route;{let V=v&&v.path||"";C_(m,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let w=ti(),S;if(e){let V=typeof e=="string"?Fs(e):e;at(p==="/"||((L=V.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),S=V}else S=w;let C=S.pathname||"/",k=C;if(p!=="/"){let V=p.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=c_(t,{pathname:k});Mn(v||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=AA(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Kr([p,a.encodeLocation?a.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Kr([p,a.encodeLocation?a.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,n,i,o);return e&&U?N.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function wA(){let t=bA(),e=aA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,u)}var EA=N.createElement(wA,null),A_=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gA(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Ir.Provider,{value:this.props.routeContext},N.createElement(Um.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(TA,{error:t},e):e}};A_.contextType=cA;var pf=new WeakMap;function TA({children:t,error:e}){let{basename:n}=N.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=pA(e.digest);if(i){let o=pf.get(e);if(o)throw o;let a=y_(i.location,n);if(g_&&!pf.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw pf.set(e,u),u}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function SA({routeContext:t,match:e,children:n}){let i=N.useContext(ea);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Ir.Provider,{value:t},n)}function AA(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let p=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let f=!1,h=-1;if(n)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:w,errors:S}=n,C=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){f=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let m=n&&i?(p,v)=>{var w,S;i(p,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:lA(n.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,w)=>{let S,C=!1,k=null,R=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,k=v.route.errorElement||EA,f&&(h<0&&w===0?(C_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):h===w&&(C=!0,R=v.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,w+1)),L=()=>{let V;return S?V=k:C?V=R:v.route.Component?V=N.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=p,N.createElement(SA,{match:v,routeContext:{outlet:p,matches:U,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(A_,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:m}):L()},null)}function zm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(t){let e=N.useContext(ea);return at(e,zm(t)),e}function IA(t){let e=N.useContext(hh);return at(e,zm(t)),e}function RA(t){let e=N.useContext(Ir);return at(e,zm(t)),e}function $m(t){let e=RA(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kA(){return $m("useRouteId")}function bA(){var i;let t=N.useContext(Um),e=IA("useRouteError"),n=$m("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function PA(){let{router:t}=CA("useNavigate"),e=$m("useNavigate"),n=N.useRef(!1);return E_(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{Mn(n.current,w_),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var jv={};function C_(t,e,n){!e&&!jv[t]&&(jv[t]=!0,Mn(!1,n))}N.memo(VA);function VA({routes:t,future:e,state:n,onError:i}){return S_(t,void 0,n,i,e)}function hn(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DA({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){at(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:f,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[f,o,a,u]);typeof n=="string"&&(n=Fs(n));let{pathname:m="/",search:p="",hash:v="",state:w=null,key:S="default"}=n,C=N.useMemo(()=>{let k=Qr(m,f);return k==null?null:{location:{pathname:k,search:p,hash:v,state:w,key:S},navigationType:i}},[f,m,p,v,w,S,i]);return Mn(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(Ln.Provider,{value:h},N.createElement(Hl.Provider,{children:e,value:C}))}function jA({children:t,location:e}){return _A(Wf(t),e)}function Wf(t,e=[]){let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){n.push.apply(n,Wf(i.props.children,a));return}at(i.type===hn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Wf(i.props.children,a)),n.push(u)}),n}var Pc="get",Vc="application/x-www-form-urlencoded";function dh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function NA(t){return dh(t)&&t.tagName.toLowerCase()==="button"}function MA(t){return dh(t)&&t.tagName.toLowerCase()==="form"}function LA(t){return dh(t)&&t.tagName.toLowerCase()==="input"}function OA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FA(t,e){return t.button===0&&(!e||e==="_self")&&!OA(t)}var Ec=null;function BA(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(t){return t!=null&&!UA.has(t)?(Mn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):t}function zA(t,e){let n,i,o,a,u;if(MA(t)){let f=t.getAttribute("action");i=f?Qr(f,e):null,n=t.getAttribute("method")||Pc,o=gf(t.getAttribute("enctype"))||Vc,a=new FormData(t)}else if(NA(t)||LA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(i=h?Qr(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Pc,o=gf(t.getAttribute("formenctype"))||gf(f.getAttribute("enctype"))||Vc,a=new FormData(f,t),!BA()){let{name:m,type:p,value:v}=t;if(p==="image"){let w=m?`${m}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else m&&a.append(m,v)}}else{if(dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pc,i=null,o=Vc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $A(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&Qr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function WA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KA(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await WA(a,n);return u.links?u.links():[]}return[]}));return YA(i.flat(1).filter(HA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(t,e,n,i,o,a){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>{var p;return n[m].pathname!==h.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function GA(t,e,{includeHydrateFallback:n}={}){return qA(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function qA(t){return[...new Set(t)]}function QA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function YA(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(QA(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function I_(){let t=N.useContext(ea);return Wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XA(){let t=N.useContext(hh);return Wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hm=N.createContext(void 0);Hm.displayName="FrameworkContext";function R_(){let t=N.useContext(Hm);return Wm(t,"You must render this element inside a <HydratedRouter> element"),t}function JA(t,e){let n=N.useContext(Hm),[i,o]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=U=>{U.forEach(L=>{u(L.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),N.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let S=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:ll(f,S),onBlur:ll(h,C),onMouseEnter:ll(m,S),onMouseLeave:ll(p,C),onTouchStart:ll(v,S)}]:[!1,w,{}]}function ll(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZA({page:t,...e}){let{router:n}=I_(),i=N.useMemo(()=>c_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(tC,{page:t,matches:i,...e}):null}function eC(t){let{manifest:e,routeModules:n}=R_(),[i,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return KA(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function tC({page:t,matches:e,...n}){let i=ti(),{future:o,manifest:a,routeModules:u}=R_(),{basename:f}=I_(),{loaderData:h,matches:m}=XA(),p=N.useMemo(()=>Nv(t,e,m,a,i,"data"),[t,e,m,a,i]),v=N.useMemo(()=>Nv(t,e,m,a,i,"assets"),[t,e,m,a,i]),w=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,R=!1;if(e.forEach(L=>{var Q;let V=a.routes[L.route.id];!V||!V.hasLoader||(!p.some(J=>J.route.id===L.route.id)&&L.route.id in h&&((Q=u[L.route.id])!=null&&Q.shouldRevalidate)||V.hasClientLoader?R=!0:k.add(L.route.id))}),k.size===0)return[];let U=$A(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return R&&k.size>0&&U.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[U.pathname+U.search]},[f,o.unstable_trailingSlashAwareDataRequests,h,i,a,p,e,t,u]),S=N.useMemo(()=>GA(v,a),[v,a]),C=eC(v);return N.createElement(N.Fragment,null,w.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),C.map(({key:k,link:R})=>N.createElement("link",{key:k,nonce:n.nonce,...R})))}function nC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rC&&(window.__reactRouterVersion="7.12.0")}catch{}function iC({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=N.useRef();o.current==null&&(o.current=LS({window:i,v5Compat:!0}));let a=o.current,[u,f]=N.useState({action:a.action,location:a.location}),h=N.useCallback(m=>{n===!1?f(m):N.startTransition(()=>f(m))},[n]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.createElement(DA,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var k_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},C){let{basename:k,unstable_useTransitions:R}=N.useContext(Ln),U=typeof m=="string"&&k_.test(m),L=y_(m,k);m=L.to;let V=yA(m,{relative:o}),[Q,J,se]=JA(i,S),j=lC(m,{replace:u,state:f,target:h,preventScrollReset:p,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:R});function I(O){e&&e(O),O.defaultPrevented||j(O)}let b=N.createElement("a",{...S,...se,href:L.absoluteURL||V,onClick:L.isExternal||a?e:I,ref:nC(C,J),target:h,"data-discover":!U&&n==="render"?"true":void 0});return Q&&!U?N.createElement(N.Fragment,null,b,N.createElement(ZA,{page:V})):b});_e.displayName="Link";var sC=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},p){let v=Gl(u,{relative:m.relative}),w=ti(),S=N.useContext(hh),{navigator:C,basename:k}=N.useContext(Ln),R=S!=null&&fC(v)&&f===!0,U=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,L=w.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(L=L.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&k&&(V=Qr(V,k)||V);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let J=L===U||!o&&L.startsWith(U)&&L.charAt(Q)==="/",se=V!=null&&(V===U||!o&&V.startsWith(U)&&V.charAt(U.length)==="/"),j={isActive:J,isPending:se,isTransitioning:R},I=J?e:void 0,b;typeof i=="function"?b=i(j):b=[i,J?"active":null,se?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(j):a;return N.createElement(_e,{...m,"aria-current":I,className:b,ref:p,style:O,to:u,viewTransition:f},typeof h=="function"?h(j):h)});sC.displayName="NavLink";var oC=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Pc,action:f,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:w,...S},C)=>{let{unstable_useTransitions:k}=N.useContext(Ln),R=hC(),U=dC(f,{relative:m}),L=u.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&k_.test(f),Q=J=>{if(h&&h(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,j=(se==null?void 0:se.getAttribute("formmethod"))||u,I=()=>R(se||J.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:a,relative:m,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:w});k&&n!==!1?N.startTransition(()=>I()):I()};return N.createElement("form",{ref:C,method:L,action:U,onSubmit:i?h:Q,...S,"data-discover":!V&&t==="render"?"true":void 0})});oC.displayName="Form";function aC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(t){let e=N.useContext(ea);return at(e,aC(t)),e}function lC(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=vA(),p=ti(),v=Gl(t,{relative:a});return N.useCallback(w=>{if(FA(w,e)){w.preventDefault();let S=n!==void 0?n:Cl(p)===Cl(v),C=()=>m(t,{replace:S,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f});h?N.startTransition(()=>C()):C()}},[p,m,v,n,i,e,t,o,a,u,f,h])}var uC=0,cC=()=>`__${String(++uC)}__`;function hC(){let{router:t}=b_("useSubmit"),{basename:e}=N.useContext(Ln),n=kA(),i=t.fetch,o=t.navigate;return N.useCallback(async(a,u={})=>{let{action:f,method:h,encType:m,formData:p,body:v}=zA(a,e);if(u.navigate===!1){let w=u.fetcherKey||cC();await i(w,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:v,formMethod:u.method||h,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:v,formMethod:u.method||h,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function dC(t,{relative:e}={}){let{basename:n}=N.useContext(Ln),i=N.useContext(Ir);at(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Gl(t||".",{relative:e})},u=ti();if(t==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(p=>p==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let p=f.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Kr([n,a.pathname])),Cl(a)}function fC(t,{relative:e}={}){let n=N.useContext(x_);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=b_("useViewTransitionState"),o=Gl(t,{relative:e});if(!n.isTransitioning)return!1;let a=Qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $c(o.pathname,u)!=null||$c(o.pathname,a)!=null}const P_=N.createContext({});function mC(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const V_=typeof window<"u",pC=V_?N.useLayoutEffect:N.useEffect,Km=N.createContext(null);function Gm(t,e){t.indexOf(e)===-1&&t.push(e)}function qm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Sr=(t,e,n)=>n>e?e:n<t?t:n;let Qm=()=>{};const Yr={},D_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j_(t){return typeof t=="object"&&t!==null}const N_=t=>/^0[^.\s]+$/u.test(t);function Ym(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nn=t=>t,gC=(t,e)=>n=>e(t(n)),ql=(...t)=>t.reduce(gC),Il=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Xm{constructor(){this.subscriptions=[]}add(e){return Gm(this.subscriptions,e),()=>qm(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=t=>t*1e3,jn=t=>t/1e3;function M_(t,e){return e?t*(1e3/e):0}const L_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yC=1e-7,vC=12;function xC(t,e,n,i,o){let a,u,f=0;do u=e+(n-e)/2,a=L_(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>yC&&++f<vC);return u}function Ql(t,e,n,i){if(t===e&&n===i)return Nn;const o=a=>xC(a,0,1,t,n);return a=>a===0||a===1?a:L_(o(a),e,i)}const O_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,F_=t=>e=>1-t(1-e),B_=Ql(.33,1.53,.69,.99),Jm=F_(B_),U_=O_(Jm),z_=t=>(t*=2)<1?.5*Jm(t):.5*(2-Math.pow(2,-10*(t-1))),Zm=t=>1-Math.sin(Math.acos(t)),$_=F_(Zm),W_=O_(Zm),_C=Ql(.42,0,1,1),wC=Ql(0,0,.58,1),H_=Ql(.42,0,.58,1),EC=t=>Array.isArray(t)&&typeof t[0]!="number",K_=t=>Array.isArray(t)&&typeof t[0]=="number",TC={linear:Nn,easeIn:_C,easeInOut:H_,easeOut:wC,circIn:Zm,circInOut:W_,circOut:$_,backIn:Jm,backInOut:U_,backOut:B_,anticipate:z_},SC=t=>typeof t=="string",Mv=t=>{if(K_(t)){Qm(t.length===4);const[e,n,i,o]=t;return Ql(e,n,i,o)}else if(SC(t))return TC[t];return t},Tc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AC(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(p){u.has(p)&&(m.schedule(p),t()),p(f)}const m={schedule:(p,v=!1,w=!1)=>{const C=w&&o?n:i;return v&&u.add(p),C.has(p)||C.add(p),p},cancel:p=>{i.delete(p),u.delete(p)},process:p=>{if(f=p,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,m.process(p))}};return m}const CC=40;function G_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Tc.reduce((V,Q)=>(V[Q]=AC(a),V),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:p,update:v,preRender:w,render:S,postRender:C}=u,k=()=>{const V=Yr.useManualTiming?o.timestamp:performance.now();n=!1,Yr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(V-o.timestamp,CC),1)),o.timestamp=V,o.isProcessing=!0,f.process(o),h.process(o),m.process(o),p.process(o),v.process(o),w.process(o),S.process(o),C.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(k))},R=()=>{n=!0,i=!0,o.isProcessing||t(k)};return{schedule:Tc.reduce((V,Q)=>{const J=u[Q];return V[Q]=(se,j=!1,I=!1)=>(n||R(),J.schedule(se,j,I)),V},{}),cancel:V=>{for(let Q=0;Q<Tc.length;Q++)u[Tc[Q]].cancel(V)},state:o,steps:u}}const{schedule:nt,cancel:Fi,state:Ft,steps:yf}=G_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let Dc;function IC(){Dc=void 0}const nn={now:()=>(Dc===void 0&&nn.set(Ft.isProcessing||Yr.useManualTiming?Ft.timestamp:performance.now()),Dc),set:t=>{Dc=t,queueMicrotask(IC)}},q_=t=>e=>typeof e=="string"&&e.startsWith(t),Q_=q_("--"),RC=q_("var(--"),ep=t=>RC(t)?kC.test(t.split("/*")[0].trim()):!1,kC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Lv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ta={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rl={...ta,transform:t=>Sr(0,1,t)},Sc={...ta,default:1},yl=t=>Math.round(t*1e5)/1e5,tp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bC(t){return t==null}const PC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,np=(t,e)=>n=>!!(typeof n=="string"&&PC.test(n)&&n.startsWith(t)||e&&!bC(n)&&Object.prototype.hasOwnProperty.call(n,e)),Y_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,f]=i.match(tp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},VC=t=>Sr(0,255,t),vf={...ta,transform:t=>Math.round(VC(t))},Is={test:np("rgb","red"),parse:Y_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+vf.transform(t)+", "+vf.transform(e)+", "+vf.transform(n)+", "+yl(Rl.transform(i))+")"};function DC(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Hf={test:np("#"),parse:DC,transform:Is.transform},Yl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vi=Yl("deg"),xr=Yl("%"),he=Yl("px"),jC=Yl("vh"),NC=Yl("vw"),Ov={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},Mo={test:np("hsl","hue"),parse:Y_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+xr.transform(yl(e))+", "+xr.transform(yl(n))+", "+yl(Rl.transform(i))+")"},Tt={test:t=>Is.test(t)||Hf.test(t)||Mo.test(t),parse:t=>Is.test(t)?Is.parse(t):Mo.test(t)?Mo.parse(t):Hf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Is.transform(t):Mo.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},MC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LC(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tp))==null?void 0:e.length)||0)+(((n=t.match(MC))==null?void 0:n.length)||0)>0}const X_="number",J_="color",OC="var",FC="var(",Fv="${}",BC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const f=e.replace(BC,h=>(Tt.test(h)?(i.color.push(a),o.push(J_),n.push(Tt.parse(h))):h.startsWith(FC)?(i.var.push(a),o.push(OC),n.push(h)):(i.number.push(a),o.push(X_),n.push(parseFloat(h))),++a,Fv)).split(Fv);return{values:n,split:f,indexes:i,types:o}}function Z_(t){return kl(t).values}function ew(t){const{split:e,types:n}=kl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const f=n[u];f===X_?a+=yl(o[u]):f===J_?a+=Tt.transform(o[u]):a+=o[u]}return a}}const UC=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function zC(t){const e=Z_(t);return ew(t)(e.map(UC))}const Bi={test:LC,parse:Z_,createTransformer:ew,getAnimatableNone:zC};function xf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $C({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,h=2*n-f;o=xf(h,f,t+1/3),a=xf(h,f,t),u=xf(h,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Wc(t,e){return n=>n>0?e:t}const ot=(t,e,n)=>t+(e-t)*n,_f=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},WC=[Hf,Is,Mo],HC=t=>WC.find(e=>e.test(t));function Bv(t){const e=HC(t);if(!e)return!1;let n=e.parse(t);return e===Mo&&(n=$C(n)),n}const Uv=(t,e)=>{const n=Bv(t),i=Bv(e);if(!n||!i)return Wc(t,e);const o={...n};return a=>(o.red=_f(n.red,i.red,a),o.green=_f(n.green,i.green,a),o.blue=_f(n.blue,i.blue,a),o.alpha=ot(n.alpha,i.alpha,a),Is.transform(o))},Kf=new Set(["none","hidden"]);function KC(t,e){return Kf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GC(t,e){return n=>ot(t,e,n)}function rp(t){return typeof t=="number"?GC:typeof t=="string"?ep(t)?Wc:Tt.test(t)?Uv:YC:Array.isArray(t)?tw:typeof t=="object"?Tt.test(t)?Uv:qC:Wc}function tw(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>rp(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function qC(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=rp(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function QC(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],f=t.values[u]??0;n[o]=f,i[a]++}return n}const YC=(t,e)=>{const n=Bi.createTransformer(e),i=kl(t),o=kl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Kf.has(t)&&!o.values.length||Kf.has(e)&&!i.values.length?KC(t,e):ql(tw(QC(i,o),o.values),n):Wc(t,e)};function nw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ot(t,e,n):rp(t)(t,e)}const XC=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>nt.update(e,n),stop:()=>Fi(e),now:()=>Ft.isProcessing?Ft.timestamp:nn.now()}},rw=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Hc=2e4;function ip(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Hc;)e+=n,i=t.next(e);return e>=Hc?1/0:e}function JC(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(ip(i),Hc);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:jn(o)}}const ZC=5;function iw(t,e,n){const i=Math.max(e-ZC,0);return M_(n-t(i),e-i)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wf=.001;function eI({duration:t=dt.duration,bounce:e=dt.bounce,velocity:n=dt.velocity,mass:i=dt.mass}){let o,a,u=1-e;u=Sr(dt.minDamping,dt.maxDamping,u),t=Sr(dt.minDuration,dt.maxDuration,jn(t)),u<1?(o=m=>{const p=m*u,v=p*t,w=p-n,S=Gf(m,u),C=Math.exp(-v);return wf-w/S*C},a=m=>{const v=m*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,C=Math.exp(-v),k=Gf(Math.pow(m,2),u);return(-o(m)+wf>0?-1:1)*((w-S)*C)/k}):(o=m=>{const p=Math.exp(-m*t),v=(m-n)*t+1;return-wf+p*v},a=m=>{const p=Math.exp(-m*t),v=(n-m)*(t*t);return p*v});const f=5/t,h=nI(o,a,f);if(t=Gr(t),isNaN(h))return{stiffness:dt.stiffness,damping:dt.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const tI=12;function nI(t,e,n){let i=n;for(let o=1;o<tI;o++)i=i-t(i)/e(i);return i}function Gf(t,e){return t*Math.sqrt(1-e*e)}const rI=["duration","bounce"],iI=["stiffness","damping","mass"];function zv(t,e){return e.some(n=>t[n]!==void 0)}function sI(t){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...t};if(!zv(t,iI)&&zv(t,rI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Sr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:dt.mass,stiffness:o,damping:a}}else{const n=eI(t);e={...e,...n,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function Kc(t=dt.visualDuration,e=dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:h,damping:m,mass:p,duration:v,velocity:w,isResolvedFromDuration:S}=sI({...n,velocity:-jn(n.velocity||0)}),C=w||0,k=m/(2*Math.sqrt(h*p)),R=u-a,U=jn(Math.sqrt(h/p)),L=Math.abs(R)<5;i||(i=L?dt.restSpeed.granular:dt.restSpeed.default),o||(o=L?dt.restDelta.granular:dt.restDelta.default);let V;if(k<1){const J=Gf(U,k);V=se=>{const j=Math.exp(-k*U*se);return u-j*((C+k*U*R)/J*Math.sin(J*se)+R*Math.cos(J*se))}}else if(k===1)V=J=>u-Math.exp(-U*J)*(R+(C+U*R)*J);else{const J=U*Math.sqrt(k*k-1);V=se=>{const j=Math.exp(-k*U*se),I=Math.min(J*se,300);return u-j*((C+k*U*R)*Math.sinh(I)+J*R*Math.cosh(I))/J}}const Q={calculatedDuration:S&&v||null,next:J=>{const se=V(J);if(S)f.done=J>=v;else{let j=J===0?C:0;k<1&&(j=J===0?Gr(C):iw(V,J,se));const I=Math.abs(j)<=i,b=Math.abs(u-se)<=o;f.done=I&&b}return f.value=f.done?u:se,f},toString:()=>{const J=Math.min(ip(Q),Hc),se=rw(j=>Q.next(J*j).value,J,30);return J+"ms "+se},toTransition:()=>{}};return Q}Kc.applyToOptions=t=>{const e=JC(t,100,Kc);return t.ease=e.ease,t.duration=Gr(e.duration),t.type="keyframes",t};function qf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:p}){const v=t[0],w={done:!1,value:v},S=I=>f!==void 0&&I<f||h!==void 0&&I>h,C=I=>f===void 0?h:h===void 0||Math.abs(f-I)<Math.abs(h-I)?f:h;let k=n*e;const R=v+k,U=u===void 0?R:u(R);U!==R&&(k=U-v);const L=I=>-k*Math.exp(-I/i),V=I=>U+L(I),Q=I=>{const b=L(I),O=V(I);w.done=Math.abs(b)<=m,w.value=w.done?U:O};let J,se;const j=I=>{S(w.value)&&(J=I,se=Kc({keyframes:[w.value,C(w.value)],velocity:iw(V,I,w.value),damping:o,stiffness:a,restDelta:m,restSpeed:p}))};return j(0),{calculatedDuration:null,next:I=>{let b=!1;return!se&&J===void 0&&(b=!0,Q(I),j(I)),J!==void 0&&I>=J?se.next(I-J):(!b&&Q(I),w)}}}function oI(t,e,n){const i=[],o=n||Yr.mix||nw,a=t.length-1;for(let u=0;u<a;u++){let f=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Nn:e;f=ql(h,f)}i.push(f)}return i}function aI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(Qm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=oI(e,i,o),h=f.length,m=p=>{if(u&&p<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const w=Il(t[v],t[v+1],p);return f[v](w)};return n?p=>m(Sr(t[0],t[a-1],p)):m}function lI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Il(0,e,i);t.push(ot(n,1,o))}}function uI(t){const e=[0];return lI(e,t.length-1),e}function cI(t,e){return t.map(n=>n*e)}function hI(t,e){return t.map(()=>e||H_).splice(0,t.length-1)}function vl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=EC(i)?i.map(Mv):Mv(i),a={done:!1,value:e[0]},u=cI(n&&n.length===e.length?n:uI(e),t),f=aI(u,e,{ease:Array.isArray(o)?o:hI(e,o)});return{calculatedDuration:t,next:h=>(a.value=f(h),a.done=h>=t,a)}}const dI=t=>t!==null;function sp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(dI),f=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const fI={decay:qf,inertia:qf,tween:vl,keyframes:vl,spring:Kc};function sw(t){typeof t.type=="string"&&(t.type=fI[t.type])}class op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mI=t=>t/100;class ap extends op{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sw(e);const{type:n=vl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:f}=e;const h=n||vl;h!==vl&&typeof f[0]!="number"&&(this.mixKeyframes=ql(mI,nw(f[0],f[1])),f=[0,100]);const m=h({...e,keyframes:f});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=ip(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:p,repeat:v,repeatType:w,repeatDelay:S,type:C,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let V=this.currentTime,Q=i;if(v){const I=Math.min(this.currentTime,o)/f;let b=Math.floor(I),O=I%1;!O&&I>=1&&(O=1),O===1&&b--,b=Math.min(b,v+1),!!(b%2)&&(w==="reverse"?(O=1-O,S&&(O-=S/f)):w==="mirror"&&(Q=u)),V=Sr(0,1,O)*f}const J=L?{done:!1,value:p[0]}:Q.next(V);a&&(J.value=a(J.value));let{done:se}=J;!L&&h!==null&&(se=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return j&&C!==qf&&(J.value=sp(p,this.options,R,this.speed)),k&&k(J.value),j&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jn(e)}get time(){return jn(this.currentTime)}set time(e){var n;e=Gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=XC,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function pI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Rs=t=>t*180/Math.PI,Qf=t=>{const e=Rs(Math.atan2(t[1],t[0]));return Yf(e)},gI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Qf,rotateZ:Qf,skewX:t=>Rs(Math.atan(t[1])),skewY:t=>Rs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yf=t=>(t=t%360,t<0&&(t+=360),t),$v=Qf,Wv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Hv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wv,scaleY:Hv,scale:t=>(Wv(t)+Hv(t))/2,rotateX:t=>Yf(Rs(Math.atan2(t[6],t[5]))),rotateY:t=>Yf(Rs(Math.atan2(-t[2],t[0]))),rotateZ:$v,rotate:$v,skewX:t=>Rs(Math.atan(t[4])),skewY:t=>Rs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xf(t){return t.includes("scale")?1:0}function Jf(t,e){if(!t||t==="none")return Xf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=yI,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=gI,o=f}if(!o)return Xf(e);const a=i[e],u=o[1].split(",").map(xI);return typeof a=="function"?a(u):u[a]}const vI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Jf(n,e)};function xI(t){return parseFloat(t.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),Kv=t=>t===ta||t===he,_I=new Set(["x","y","z"]),wI=na.filter(t=>!_I.has(t));function EI(t){const e=[];return wI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Di={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Jf(e,"x"),y:(t,{transform:e})=>Jf(e,"y")};Di.translateX=Di.x;Di.translateY=Di.y;const bs=new Set;let Zf=!1,em=!1,tm=!1;function ow(){if(em){const t=Array.from(bs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=EI(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var f;(f=i.getValue(a))==null||f.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}em=!1,Zf=!1,bs.forEach(t=>t.complete(tm)),bs.clear()}function aw(){bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(em=!0)})}function TI(){tm=!0,aw(),ow(),tm=!1}class lp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(bs.add(this),Zf||(Zf=!0,nt.read(aw),nt.resolveKeyframes(ow))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}pI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bs.delete(this)}cancel(){this.state==="scheduled"&&(bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SI=t=>t.startsWith("--");function AI(t,e,n){SI(e)?t.style.setProperty(e,n):t.style[e]=n}const CI=Ym(()=>window.ScrollTimeline!==void 0),II={};function RI(t,e){const n=Ym(t);return()=>II[e]??n()}const lw=RI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hl([0,.65,.55,1]),circOut:hl([.55,0,1,.45]),backIn:hl([.31,.01,.66,-.59]),backOut:hl([.33,1.53,.69,.99])};function uw(t,e){if(t)return typeof t=="function"?lw()?rw(t,e):"ease-out":K_(t)?hl(t):Array.isArray(t)?t.map(n=>uw(n,e)||Gv.easeOut):Gv[t]}function kI(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:f="easeOut",times:h}={},m=void 0){const p={[e]:n};h&&(p.offset=h);const v=uw(f,o);Array.isArray(v)&&(p.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(p,w)}function cw(t){return typeof t=="function"&&"applyToOptions"in t}function bI({type:t,...e}){return cw(t)&&lw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PI extends op{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Qm(typeof e.type!="string");const m=bI(e);this.animation=kI(n,i,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=sp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):AI(n,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jn(e)}get time(){return jn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&CI()?(this.animation.timeline=e,Nn):n(this)}}const hw={anticipate:z_,backInOut:U_,circInOut:W_};function VI(t){return t in hw}function DI(t){typeof t.ease=="string"&&VI(t.ease)&&(t.ease=hw[t.ease])}const Ef=10;class jI extends PI{constructor(e){DI(e),sw(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new ap({...u,autoplay:!1}),h=Math.max(Ef,nn.now()-this.startTime),m=Sr(0,Ef,h-Ef);n.setWithVelocity(f.sample(Math.max(0,h-m)).value,f.sample(h).value,m),f.stop()}}const qv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bi.test(t)||t==="0")&&!t.startsWith("url("));function NI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MI(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=qv(o,e),f=qv(a,e);return!u||!f?!1:NI(t)||(n==="spring"||cw(n))&&i}function nm(t){t.duration=0,t.type="keyframes"}const LI=new Set(["opacity","clipPath","filter","transform"]),OI=Ym(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FI(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return OI()&&n&&LI.has(n)&&(n!=="transform"||!m)&&!h&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const BI=40;class UI extends op{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:f,name:h,motionValue:m,element:p,...v}){var C;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=nn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:h,motionValue:m,element:p,...v},S=(p==null?void 0:p.KeyframeResolver)||lp;this.keyframeResolver=new S(f,(k,R,U)=>this.onKeyframesResolved(k,R,w,!U),h,m,p),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,i,o){var R,U;this.keyframeResolver=void 0;const{name:a,type:u,velocity:f,delay:h,isHandoff:m,onUpdate:p}=i;this.resolvedAt=nn.now(),MI(e,a,u,f)||((Yr.instantAnimations||!h)&&(p==null||p(sp(e,i,n))),e[0]=e[e.length-1],nm(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>BI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!m&&FI(w),C=(U=(R=w.motionValue)==null?void 0:R.owner)==null?void 0:U.current,k=S?new jI({...w,element:C}):new ap(w);k.finished.then(()=>{this.notifyFinished()}).catch(Nn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function dw(t,e,n,i=0,o=1){const a=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:f-a*i}const zI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $I(t){const e=zI.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function fw(t,e,n=1){const[i,o]=$I(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return D_(u)?parseFloat(u):u}return ep(o)?fw(o,e,n+1):o}const WI={type:"spring",stiffness:500,damping:25,restSpeed:10},HI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KI={type:"keyframes",duration:.8},GI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qI=(t,{keyframes:e})=>e.length>2?KI:ra.has(t)?t.startsWith("scale")?HI(e[1]):WI:GI,QI=t=>t!==null;function YI(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(QI),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function up(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function XI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:f,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const cp=(t,e,n,i={},o,a)=>u=>{const f=up(i,t)||{},h=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Gr(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:a?void 0:o};XI(f)||Object.assign(p,qI(t,p)),p.duration&&(p.duration=Gr(p.duration)),p.repeatDelay&&(p.repeatDelay=Gr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(nm(p),p.delay===0&&(v=!0)),(Yr.instantAnimations||Yr.skipAnimations)&&(v=!0,nm(p),p.delay=0),p.allowFlatten=!f.type&&!f.ease,v&&!a&&e.get()!==void 0){const w=YI(p.keyframes,f);if(w!==void 0){nt.update(()=>{p.onUpdate(w),p.onComplete()});return}}return f.isSync?new ap(p):new UI(p)};function Qv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function hp(t,e,n,i){if(typeof e=="function"){const[o,a]=Qv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Qv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function Uo(t,e,n){const i=t.getProps();return hp(i,e,n!==void 0?n:i.custom,t)}const mw=new Set(["width","height","top","left","right","bottom",...na]),Yv=30,JI=t=>!isNaN(parseFloat(t));class ZI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=nn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xm);const i=this.events[e].add(n);return e==="change"?()=>{i(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yv);return M_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new ZI(t,e)}const rm=t=>Array.isArray(t);function eR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function tR(t){return rm(t)?t[t.length-1]||0:t}function nR(t,e){const n=Uo(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const f=tR(a[u]);eR(t,u,f)}}const Jt=t=>!!(t&&t.getVelocity);function rR(t){return!!(Jt(t)&&t.add)}function im(t,e){const n=t.getValue("willChange");if(rR(n))return n.add(e);if(!n&&Yr.WillChange){const i=new Yr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function dp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const iR="framerAppearId",pw="data-"+dp(iR);function gw(t){return t.props[pw]}function sR({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yw(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(a=i);const h=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const p in f){const v=t.getValue(p,t.latestValues[p]??null),w=f[p];if(w===void 0||m&&sR(m,p))continue;const S={delay:n,...up(a||{},p)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===C&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const U=gw(t);if(U){const L=window.MotionHandoffAnimation(U,p,nt);L!==null&&(S.startTime=L,k=!0)}}im(t,p),v.start(cp(p,v,w,t.shouldReduceMotion&&mw.has(p)?{type:!1}:S,t,k));const R=v.animation;R&&h.push(R)}return u&&Promise.all(h).then(()=>{nt.update(()=>{u&&nR(t,u)})}),h}function sm(t,e,n={}){var h;const i=Uo(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(yw(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:w}=o;return oR(t,e,m,p,v,w,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[a,u]:[u,a];return m().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function oR(t,e,n=0,i=0,o=0,a=1,u){const f=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),f.push(sm(h,e,{...u,delay:n+(typeof i=="function"?0:i)+dw(t.variantChildren,h,i,o,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(f)}function aR(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>sm(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=sm(t,e,n);else{const o=typeof e=="function"?Uo(t,e,n.custom):e;i=Promise.all(yw(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const lR={test:t=>t==="auto",parse:t=>t},vw=t=>e=>e.test(t),xw=[ta,he,xr,Vi,NC,jC,lR],Xv=t=>xw.find(vw(t));function uR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||N_(t):!0}const cR=new Set(["brightness","contrast","saturate","opacity"]);function hR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(tp)||[];if(!i)return t;const o=n.replace(i,"");let a=cR.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const dR=/\b([a-z-]*)\(.*?\)/gu,om={...Bi,getAnimatableNone:t=>{const e=t.match(dR);return e?e.map(hR).join(" "):t}},Jv={...ta,transform:Math.round},fR={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:Vi,skewX:Vi,skewY:Vi,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:Rl,originX:Ov,originY:Ov,originZ:he},fp={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,inset:he,insetBlock:he,insetBlockStart:he,insetBlockEnd:he,insetInline:he,insetInlineStart:he,insetInlineEnd:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,paddingBlock:he,paddingBlockStart:he,paddingBlockEnd:he,paddingInline:he,paddingInlineStart:he,paddingInlineEnd:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,marginBlock:he,marginBlockStart:he,marginBlockEnd:he,marginInline:he,marginInlineStart:he,marginInlineEnd:he,backgroundPositionX:he,backgroundPositionY:he,...fR,zIndex:Jv,fillOpacity:Rl,strokeOpacity:Rl,numOctaves:Jv},mR={...fp,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:om,WebkitFilter:om},_w=t=>mR[t];function ww(t,e){let n=_w(t);return n!==om&&(n=Bi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pR=new Set(["auto","none","0"]);function gR(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!pR.has(a)&&kl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=ww(n,o)}class yR extends lp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let v=e[p];if(typeof v=="string"&&(v=v.trim(),ep(v))){const w=fw(v,n.current);w!==void 0&&(e[p]=w),p===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!mw.has(i)||e.length!==2)return;const[o,a]=e,u=Xv(o),f=Xv(a),h=Lv(o),m=Lv(a);if(h!==m&&Di[i]){this.needsMeasurement=!0;return}if(u!==f)if(Kv(u)&&Kv(f))for(let p=0;p<e.length;p++){const v=e[p];typeof v=="string"&&(e[p]=parseFloat(v))}else Di[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||uR(e[o]))&&i.push(o);i.length&&gR(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Di[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Di[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function vR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Ew=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xR(t){return j_(t)&&"offsetHeight"in t}const{schedule:mp}=G_(queueMicrotask,!1),Qn={x:!1,y:!1};function Tw(){return Qn.x||Qn.y}function _R(t){return t==="x"||t==="y"?Qn[t]?null:(Qn[t]=!0,()=>{Qn[t]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}function Sw(t,e){const n=vR(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Zv(t){return!(t.pointerType==="touch"||Tw())}function wR(t,e,n={}){const[i,o,a]=Sw(t,n),u=f=>{if(!Zv(f))return;const{target:h}=f,m=e(h,f);if(typeof m!="function"||!h)return;const p=v=>{Zv(v)&&(m(v),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),a}const Aw=(t,e)=>e?t===e?!0:Aw(t,e.parentElement):!1,pp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ER=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cw(t){return ER.has(t.tagName)||t.isContentEditable===!0}const jc=new WeakSet;function e0(t){return e=>{e.key==="Enter"&&t(e)}}function Tf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TR=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=e0(()=>{if(jc.has(n))return;Tf(n,"down");const o=e0(()=>{Tf(n,"up")}),a=()=>Tf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function t0(t){return pp(t)&&!Tw()}function SR(t,e,n={}){const[i,o,a]=Sw(t,n),u=f=>{const h=f.currentTarget;if(!t0(f))return;jc.add(h);const m=e(h,f),p=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),jc.has(h)&&jc.delete(h),t0(S)&&typeof m=="function"&&m(S,{success:C})},v=S=>{p(S,h===window||h===document||n.useGlobalTarget||Aw(h,S.target))},w=S=>{p(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),xR(f)&&(f.addEventListener("focus",m=>TR(m,o)),!Cw(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function Iw(t){return j_(t)&&"ownerSVGElement"in t}function AR(t){return Iw(t)&&t.tagName==="svg"}const CR=[...xw,Tt,Bi],IR=t=>CR.find(vw(t)),n0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:n0(),y:n0()}),r0=()=>({min:0,max:0}),Rt=()=>({x:r0(),y:r0()}),am={current:null},Rw={current:!1},RR=typeof window<"u";function kR(){if(Rw.current=!0,!!RR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>am.current=t.matches;t.addEventListener("change",e),e()}else am.current=!1}const bR=new WeakMap;function fh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bl(t){return typeof t=="string"||Array.isArray(t)}const gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yp=["initial",...gp];function mh(t){return fh(t.animate)||yp.some(e=>bl(t[e]))}function kw(t){return!!(mh(t)||t.variants)}function PR(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Jt(o))t.addValue(i,o);else if(Jt(a))t.addValue(i,Ko(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Ko(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const i0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gc={};function bw(t){Gc=t}function VR(){return Gc}class DR{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=nn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,nt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=mh(n),this.isVariantNode=kw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Jt(S)&&S.set(h[w])}}mount(e){var n;this.current=e,bR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Rw.current||kR(),this.shouldReduceMotion=am.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ra.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gc){const n=Gc[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<i0.length;i++){const o=i0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=PR(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ko(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(D_(i)||N_(i))?i=parseFloat(i):!IR(i)&&Bi.test(n)&&(i=ww(e,n)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=hp(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Jt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mp.render(this.render)}}class Pw extends DR{constructor(){super(...arguments),this.KeyframeResolver=yR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Vw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function jR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Sf(t){return t===void 0||t===1}function lm({scale:t,scaleX:e,scaleY:n}){return!Sf(t)||!Sf(e)||!Sf(n)}function As(t){return lm(t)||Dw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Dw(t){return s0(t.x)||s0(t.y)}function s0(t){return t&&t!=="0%"}function qc(t,e,n){const i=t-n,o=e*i;return n+o}function o0(t,e,n,i,o){return o!==void 0&&(t=qc(t,o,i)),qc(t,n,i)+e}function um(t,e=0,n=1,i,o){t.min=o0(t.min,e,n,i,o),t.max=o0(t.max,e,n,i,o)}function jw(t,{x:e,y:n}){um(t.x,e.translate,e.scale,e.originPoint),um(t.y,n.translate,n.scale,n.originPoint)}const a0=.999999999999,l0=1.0000000000001;function MR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let f=0;f<o;f++){a=n[f],u=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,jw(t,u)),i&&As(a.latestValues)&&Fo(t,a.latestValues))}e.x<l0&&e.x>a0&&(e.x=1),e.y<l0&&e.y>a0&&(e.y=1)}function Oo(t,e){t.min=t.min+e,t.max=t.max+e}function u0(t,e,n,i,o=.5){const a=ot(t.min,t.max,o);um(t,e,n,a,i)}function Fo(t,e){u0(t.x,e.x,e.scaleX,e.scale,e.originX),u0(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nw(t,e){return Vw(NR(t.getBoundingClientRect(),e))}function LR(t,e,n){const i=Nw(t,n),{scroll:o}=e;return o&&(Oo(i.x,o.offset.x),Oo(i.y,o.offset.y)),i}const OR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FR=na.length;function BR(t,e,n){let i="",o=!0;for(let a=0;a<FR;a++){const u=na[a],f=t[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const m=Ew(f,fp[u]);if(!h){o=!1;const p=OR[u]||u;i+=`${p}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function vp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,f=!1;for(const h in e){const m=e[h];if(ra.has(h)){u=!0;continue}else if(Q_(h)){o[h]=m;continue}else{const p=Ew(m,fp[h]);h.startsWith("origin")?(f=!0,a[h]=p):i[h]=p}}if(e.transform||(u||n?i.transform=BR(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${m} ${p}`}}function Mw(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function c0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ul={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=c0(t,e.target.x),i=c0(t,e.target.y);return`${n}% ${i}%`}},UR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Bi.parse(t);if(o.length>5)return i;const a=Bi.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=h;const m=ot(f,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}},cm={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:UR};function Lw(t,{layout:e,layoutId:n}){return ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cm[t]||t==="opacity")}function xp(t,e,n){var u;const i=t.style,o=e==null?void 0:e.style,a={};if(!i)return a;for(const f in i)(Jt(i[f])||o&&Jt(o[f])||Lw(f,t)||((u=n==null?void 0:n.getValue(f))==null?void 0:u.liveStyle)!==void 0)&&(a[f]=i[f]);return a}function zR(t){return window.getComputedStyle(t)}class $R extends Pw{constructor(){super(...arguments),this.type="html",this.renderInstance=Mw}readValueFromInstance(e,n){var i;if(ra.has(n))return(i=this.projection)!=null&&i.isProjecting?Xf(n):vI(e,n);{const o=zR(e),a=(Q_(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Nw(e,n)}build(e,n,i){vp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xp(e,n,i)}}const WR={offset:"stroke-dashoffset",array:"stroke-dasharray"},HR={offset:"strokeDashoffset",array:"strokeDasharray"};function KR(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?WR:HR;t[a.offset]=he.transform(-i);const u=he.transform(e),f=he.transform(n);t[a.array]=`${u} ${f}`}const GR=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ow(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},h,m,p){if(vp(t,f,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox);for(const S of GR)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),o!==void 0&&KR(v,o,a,u,!1)}const Fw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Bw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qR(t,e,n,i){Mw(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(Fw.has(o)?o:dp(o),e.attrs[o])}function Uw(t,e,n){const i=xp(t,e,n);for(const o in t)if(Jt(t[o])||Jt(e[o])){const a=na.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}class QR extends Pw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ra.has(n)){const i=_w(n);return i&&i.default||0}return n=Fw.has(n)?n:dp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Uw(e,n,i)}build(e,n,i){Ow(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){qR(e,n,i,o)}mount(e){this.isSVGTag=Bw(e.tagName),super.mount(e)}}const YR=yp.length;function zw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<YR;n++){const i=yp[n],o=t.props[i];(bl(o)||o===!1)&&(e[i]=o)}return e}function $w(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const XR=[...gp].reverse(),JR=gp.length;function ZR(t){return e=>Promise.all(e.map(({animation:n,options:i})=>aR(t,n,i)))}function ek(t){let e=ZR(t),n=h0(),i=!0;const o=h=>(m,p)=>{var w;const v=Uo(t,p,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:S,transitionEnd:C,...k}=v;m={...m,...k,...C}}return m};function a(h){e=h(t)}function u(h){const{props:m}=t,p=zw(t.parent)||{},v=[],w=new Set;let S={},C=1/0;for(let R=0;R<JR;R++){const U=XR[R],L=n[U],V=m[U]!==void 0?m[U]:p[U],Q=bl(V),J=U===h?L.isActive:null;J===!1&&(C=R);let se=V===p[U]&&V!==m[U]&&Q;if(se&&i&&t.manuallyAnimateOnMount&&(se=!1),L.protectedKeys={...S},!L.isActive&&J===null||!V&&!L.prevProp||fh(V)||typeof V=="boolean")continue;const j=tk(L.prevProp,V);let I=j||U===h&&L.isActive&&!se&&Q||R>C&&Q,b=!1;const O=Array.isArray(V)?V:[V];let M=O.reduce(o(U),{});J===!1&&(M={});const{prevResolvedValues:$={}}=L,D={...$,...M},be=Ee=>{I=!0,w.has(Ee)&&(b=!0,w.delete(Ee)),L.needsAnimating[Ee]=!0;const re=t.getValue(Ee);re&&(re.liveStyle=!1)};for(const Ee in D){const re=M[Ee],fe=$[Ee];if(S.hasOwnProperty(Ee))continue;let ae=!1;rm(re)&&rm(fe)?ae=!$w(re,fe):ae=re!==fe,ae?re!=null?be(Ee):w.add(Ee):re!==void 0&&w.has(Ee)?be(Ee):L.protectedKeys[Ee]=!0}L.prevProp=V,L.prevResolvedValues=M,L.isActive&&(S={...S,...M}),i&&t.blockInitialAnimation&&(I=!1);const $e=se&&j;I&&(!$e||b)&&v.push(...O.map(Ee=>{const re={type:U};if(typeof Ee=="string"&&i&&!$e&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=Uo(fe,Ee);if(fe.enteringChildren&&ae){const{delayChildren:z}=ae.transition||{};re.delay=dw(fe.enteringChildren,t,z)}}return{animation:Ee,options:re}}))}if(w.size){const R={};if(typeof m.initial!="boolean"){const U=Uo(t,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(R.transition=U.transition)}w.forEach(U=>{const L=t.getBaseTarget(U),V=t.getValue(U);V&&(V.liveStyle=!0),R[U]=L??null}),v.push({animation:R})}let k=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function f(h,m){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(h,m)}),n[h].isActive=m;const p=u(h);for(const w in n)n[w].protectedKeys={};return p}return{animateChanges:u,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=h0()}}}function tk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$w(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h0(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}function d0(t,e){t.min=e.min,t.max=e.max}function qn(t,e){d0(t.x,e.x),d0(t.y,e.y)}function f0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Ww=1e-4,nk=1-Ww,rk=1+Ww,Hw=.01,ik=0-Hw,sk=0+Hw;function rn(t){return t.max-t.min}function ok(t,e,n){return Math.abs(t-e)<=n}function m0(t,e,n,i=.5){t.origin=i,t.originPoint=ot(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),t.translate=ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nk&&t.scale<=rk||isNaN(t.scale))&&(t.scale=1),(t.translate>=ik&&t.translate<=sk||isNaN(t.translate))&&(t.translate=0)}function xl(t,e,n,i){m0(t.x,e.x,n.x,i?i.originX:void 0),m0(t.y,e.y,n.y,i?i.originY:void 0)}function p0(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function ak(t,e,n){p0(t.x,e.x,n.x),p0(t.y,e.y,n.y)}function g0(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function Qc(t,e,n){g0(t.x,e.x,n.x),g0(t.y,e.y,n.y)}function y0(t,e,n,i,o){return t-=e,t=qc(t,1/n,i),o!==void 0&&(t=qc(t,1/o,i)),t}function lk(t,e=0,n=1,i=.5,o,a=t,u=t){if(xr.test(e)&&(e=parseFloat(e),e=ot(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=ot(a.min,a.max,i);t===a&&(f-=e),t.min=y0(t.min,e,n,f,o),t.max=y0(t.max,e,n,f,o)}function v0(t,e,[n,i,o],a,u){lk(t,e[n],e[i],e[o],e.scale,a,u)}const uk=["x","scaleX","originX"],ck=["y","scaleY","originY"];function x0(t,e,n,i){v0(t.x,e,uk,n?n.x:void 0,i?i.x:void 0),v0(t.y,e,ck,n?n.y:void 0,i?i.y:void 0)}function _0(t){return t.translate===0&&t.scale===1}function Kw(t){return _0(t.x)&&_0(t.y)}function w0(t,e){return t.min===e.min&&t.max===e.max}function hk(t,e){return w0(t.x,e.x)&&w0(t.y,e.y)}function E0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Gw(t,e){return E0(t.x,e.x)&&E0(t.y,e.y)}function T0(t){return rn(t.x)/rn(t.y)}function S0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vn(t){return[t("x"),t("y")]}function dk(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:v,rotateY:w,skewX:S,skewY:C}=n;m&&(i=`perspective(${m}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const qw=["TopLeft","TopRight","BottomLeft","BottomRight"],fk=qw.length,A0=t=>typeof t=="string"?parseFloat(t):t,C0=t=>typeof t=="number"||he.test(t);function mk(t,e,n,i,o,a){o?(t.opacity=ot(0,n.opacity??1,pk(i)),t.opacityExit=ot(e.opacity??1,0,gk(i))):a&&(t.opacity=ot(e.opacity??1,n.opacity??1,i));for(let u=0;u<fk;u++){const f=`border${qw[u]}Radius`;let h=I0(e,f),m=I0(n,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||C0(h)===C0(m)?(t[f]=Math.max(ot(A0(h),A0(m),i),0),(xr.test(m)||xr.test(h))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=ot(e.rotate||0,n.rotate||0,i))}function I0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pk=Qw(0,.5,$_),gk=Qw(.5,.95,Nn);function Qw(t,e,n){return i=>i<t?0:i>e?1:n(Il(t,e,i))}function yk(t,e,n){const i=Jt(t)?t:Ko(t);return i.start(cp("",i,e,n)),i.animation}function Pl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const vk=(t,e)=>t.depth-e.depth;class xk{constructor(){this.children=[],this.isDirty=!1}add(e){Gm(this.children,e),this.isDirty=!0}remove(e){qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vk),this.isDirty=!1,this.children.forEach(e)}}function _k(t,e){const n=nn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Fi(i),t(a-e))};return nt.setup(i,!0),()=>Fi(i)}function Nc(t){return Jt(t)?t.get():t}class wk{constructor(){this.members=[]}add(e){Gm(this.members,e),e.scheduleRender()}remove(e){if(qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Af=["","X","Y","Z"],Ek=1e3;let Tk=0;function Cf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Yw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",nt,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Yw(i)}function Xw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e==null?void 0:e()){this.id=Tk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ck),this.nodes.forEach(bk),this.nodes.forEach(Pk),this.nodes.forEach(Ik)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new xk)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Xm),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Iw(u)&&!AR(u),this.instance=u;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),t){let p,v=0;const w=()=>this.root.updateBlockedByResize=!1;nt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,p&&p(),p=_k(w,250),Mc.hasAnimatedSinceResize&&(Mc.hasAnimatedSinceResize=!1,this.nodes.forEach(b0)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||Mk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),U=!this.targetLayout||!Gw(this.targetLayout,S),L=!v&&w;if(this.options.layoutRoot||this.resumeFrom||L||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...up(C,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(p,L)}else v||b0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kk),this.nodes.forEach(Sk),this.nodes.forEach(Ak)):this.nodes.forEach(k0),this.clearAllSnapshots();const f=nn.now();Ft.delta=Sr(0,1e3/60,f-Ft.timestamp),Ft.timestamp=f,Ft.isProcessing=!0,yf.update.process(Ft),yf.preRender.process(Ft),yf.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rk),this.sharedNodes.forEach(Dk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Kw(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||As(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),Lk(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Rt();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Ok))){const{scroll:p}=this.root;p&&(Oo(f.x,p.offset.x),Oo(f.y,p.offset.y))}return f}removeElementScroll(u){var h;const f=Rt();if(qn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:w}=p;p!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&qn(f,u),Oo(f.x,v.offset.x),Oo(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const h=Rt();qn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Fo(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),As(p.latestValues)&&Fo(h,p.latestValues)}return As(this.latestValues)&&Fo(h,this.latestValues),h}removeTransform(u){const f=Rt();qn(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!As(m.latestValues))continue;lm(m.latestValues)&&m.updateSnapshot();const p=Rt(),v=m.measurePageBox();qn(p,v),x0(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return As(this.latestValues)&&x0(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!this.layout||!(p||v))return;this.resolvedRelativeTargetAt=Ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ak(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),jw(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||lm(this.parent.latestValues)||Dw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Qc(this.relativeTargetOrigin,f,h),qn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;qn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;MR(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f0(this.prevProjectionDelta.x,this.projectionDelta.x),f0(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!S0(this.projectionDelta.x,this.prevProjectionDelta.x)||!S0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},v=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Rt(),S=h?h.source:void 0,C=this.layout?this.layout.source:void 0,k=S!==C,R=this.getStack(),U=!R||R.members.length<=1,L=!!(k&&!U&&this.options.crossfade===!0&&!this.path.some(Nk));this.animationProgress=0;let V;this.mixTargetDelta=Q=>{const J=Q/1e3;P0(v.x,u.x,J),P0(v.y,u.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jk(this.relativeTarget,this.relativeTargetOrigin,w,J),V&&hk(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Rt()),qn(V,this.relativeTarget)),k&&(this.animationValues=p,mk(p,m,this.latestValues,J,L,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Mc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=yk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ek),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:p}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&Jw(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Rt();const v=rn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=rn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}qn(f,h),Fo(f,p),xl(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new wk),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Cf("z",u,m,this.animationValues);for(let p=0;p<Af.length;p++)Cf(`rotate${Af[p]}`,u,m,this.animationValues),Cf(`skew${Af[p]}`,u,m,this.animationValues);u.render();for(const p in m)u.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nc(f==null?void 0:f.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nc(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!As(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=dk(this.projectionDeltaWithTransform,this.treeScale,p);h&&(v=h(p,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in cm){if(p[C]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:U}=cm[C],L=v==="none"?p[C]:k(p[C],m);if(R){const V=R.length;for(let Q=0;Q<V;Q++)u[R[Q]]=L}else U?this.options.visualElement.renderState.vars[C]=L:u[C]=L}this.options.layoutId&&(u.pointerEvents=m===this?Nc(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(R0),this.root.sharedNodes.clear()}}}function Sk(t){t.updateLayout()}function Ak(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Vn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],S=rn(w);w.min=i[v].min,w.max=w.min+S}):Jw(a,e.layoutBox,i)&&Vn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],S=rn(i[v]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const f=Lo();xl(f,i,e.layoutBox);const h=Lo();u?xl(h,t.applyTransform(o,!0),e.measuredBox):xl(h,i,e.layoutBox);const m=!Kw(f);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:S}=v;if(w&&S){const C=Rt();Qc(C,e.layoutBox,w.layoutBox);const k=Rt();Qc(k,i,S.layoutBox),Gw(C,k)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Ck(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ik(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rk(t){t.clearSnapshot()}function R0(t){t.clearMeasurements()}function k0(t){t.isLayoutDirty=!1}function kk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bk(t){t.resolveTargetDelta()}function Pk(t){t.calcProjection()}function Vk(t){t.resetSkewAndRotation()}function Dk(t){t.removeLeadSnapshot()}function P0(t,e,n){t.translate=ot(e.translate,0,n),t.scale=ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function V0(t,e,n,i){t.min=ot(e.min,n.min,i),t.max=ot(e.max,n.max,i)}function jk(t,e,n,i){V0(t.x,e.x,n.x,i),V0(t.y,e.y,n.y,i)}function Nk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mk={duration:.45,ease:[.4,0,.1,1]},D0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j0=D0("applewebkit/")&&!D0("chrome/")?Math.round:Nn;function N0(t){t.min=j0(t.min),t.max=j0(t.max)}function Lk(t){N0(t.x),N0(t.y)}function Jw(t,e,n){return t==="position"||t==="preserve-aspect"&&!ok(T0(e),T0(n),.2)}function Ok(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Fk=Xw({attachResizeListener:(t,e)=>Pl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),If={current:void 0},Zw=Xw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!If.current){const t=new Fk({});t.mount(window),t.setOptions({layoutScroll:!0}),If.current=t}return If.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e1=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Bk(t=!0){const e=N.useContext(Km);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=N.useId();N.useEffect(()=>{if(t)return o(a)},[t]);const u=N.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const t1=N.createContext({strict:!1}),M0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let L0=!1;function Uk(){if(L0)return;const t={};for(const e in M0)t[e]={isEnabled:n=>M0[e].some(i=>!!n[i])};bw(t),L0=!0}function n1(){return Uk(),VR()}function zk(t){const e=n1();for(const n in t)e[n]={...e[n],...t[n]};bw(e)}const $k=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$k.has(t)}let r1=t=>!Yc(t);function Wk(t){typeof t=="function"&&(r1=e=>e.startsWith("on")?!Yc(e):t(e))}try{Wk(require("@emotion/is-prop-valid").default)}catch{}function Hk(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(r1(o)||n===!0&&Yc(o)||!e&&!Yc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const ph=N.createContext({});function Kk(t,e){if(mh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||bl(n)?n:void 0,animate:bl(i)?i:void 0}}return t.inherit!==!1?e:{}}function Gk(t){const{initial:e,animate:n}=Kk(t,N.useContext(ph));return N.useMemo(()=>({initial:e,animate:n}),[O0(e),O0(n)])}function O0(t){return Array.isArray(t)?t.join(" "):t}const _p=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i1(t,e,n){for(const i in e)!Jt(e[i])&&!Lw(i,n)&&(t[i]=e[i])}function qk({transformTemplate:t},e){return N.useMemo(()=>{const n=_p();return vp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Qk(t,e){const n=t.style||{},i={};return i1(i,n,t),Object.assign(i,qk(t,e)),i}function Yk(t,e){const n={},i=Qk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const s1=()=>({..._p(),attrs:{}});function Xk(t,e,n,i){const o=N.useMemo(()=>{const a=s1();return Ow(a,e,Bw(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};i1(a,t.style,t),o.style={...a,...o.style}}return o}const Jk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wp(t){return typeof t!="string"||t.includes("-")?!1:!!(Jk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Zk(t,e,n,{latestValues:i},o,a=!1,u){const h=(u??wp(t)?Xk:Yk)(e,i,o,t),m=Hk(e,typeof t=="string",a),p=t!==N.Fragment?{...m,...h,ref:n}:{},{children:v}=e,w=N.useMemo(()=>Jt(v)?v.get():v,[v]);return N.createElement(t,{...p,children:w})}function eb({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:tb(n,i,o,t),renderState:e()}}function tb(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=Nc(a[w]);let{initial:u,animate:f}=t;const h=mh(t),m=kw(t);e&&m&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const v=p?f:u;if(v&&typeof v!="boolean"&&!fh(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const C=hp(t,w[S]);if(C){const{transitionEnd:k,transition:R,...U}=C;for(const L in U){let V=U[L];if(Array.isArray(V)){const Q=p?V.length-1:0;V=V[Q]}V!==null&&(o[L]=V)}for(const L in k)o[L]=k[L]}}}return o}const o1=t=>(e,n)=>{const i=N.useContext(ph),o=N.useContext(Km),a=()=>eb(t,e,i,o);return n?a():mC(a)},nb=o1({scrapeMotionValuesFromProps:xp,createRenderState:_p}),rb=o1({scrapeMotionValuesFromProps:Uw,createRenderState:s1}),ib=Symbol.for("motionComponentSymbol");function sb(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const o=N.useRef(null);return N.useCallback(a=>{var f;a&&((f=t.onMount)==null||f.call(t,a)),e&&(a?e.mount(a):e.unmount());const u=i.current;if(typeof u=="function")if(a){const h=u(a);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(a);else u&&(u.current=a)},[e])}const a1=N.createContext({});function dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ob(t,e,n,i,o,a){var R,U;const{visualElement:u}=N.useContext(ph),f=N.useContext(t1),h=N.useContext(Km),m=N.useContext(e1).reducedMotion,p=N.useRef(null);i=i||f.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m,isSVG:a}));const v=p.current,w=N.useContext(a1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&ab(p.current,n,o,w);const S=N.useRef(!1);N.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const C=n[pw],k=N.useRef(!!C&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,C))&&((U=window.MotionHasOptimisedAnimation)==null?void 0:U.call(window,C)));return pC(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,C)}),k.current=!1),v.enteringChildren=void 0)}),v}function ab(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:l1(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||f&&dl(f),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:m})}function l1(t){if(t)return t.options.allowProjection!==!1?t.projection:l1(t.parent)}function Rf(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&zk(i);const a=n?n==="svg":wp(t),u=a?rb:nb;function f(m,p){let v;const w={...N.useContext(e1),...m,layoutId:lb(m)},{isStatic:S}=w,C=Gk(m),k=u(m,S);if(!S&&V_){ub();const R=cb(w);v=R.MeasureLayout,C.visualElement=ob(t,k,w,o,R.ProjectionNode,a)}return g.jsxs(ph.Provider,{value:C,children:[v&&C.visualElement?g.jsx(v,{visualElement:C.visualElement,...w}):null,Zk(t,m,sb(k,C.visualElement,p),k,S,e,a)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=N.forwardRef(f);return h[ib]=t,h}function lb({layoutId:t}){const e=N.useContext(P_).id;return e&&t!==void 0?e+"-"+t:t}function ub(t,e){N.useContext(t1).strict}function cb(t){const e=n1(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function hb(t,e){if(typeof Proxy>"u")return Rf;const n=new Map,i=(a,u)=>Rf(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,Rf(u,void 0,t,e)),n.get(u))})}const db=(t,e)=>e.isSVG??wp(t)?new QR(e):new $R(e,{allowProjection:t!==N.Fragment});class fb extends Gi{constructor(e){super(e),e.animationState||(e.animationState=ek(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mb=0;class pb extends Gi{constructor(){super(...arguments),this.id=mb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gb={animation:{Feature:fb},exit:{Feature:pb}};function Xl(t){return{point:{x:t.pageX,y:t.pageY}}}const yb=t=>e=>pp(e)&&t(e,Xl(e));function _l(t,e,n,i){return Pl(t,e,yb(n),i)}const u1=({current:t})=>t?t.ownerDocument.defaultView:null,F0=(t,e)=>Math.abs(t-e);function vb(t,e){const n=F0(t.x,e.x),i=F0(t.y,e.y);return Math.sqrt(n**2+i**2)}const B0=new Set(["auto","scroll"]);class c1{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=bf(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=vb(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:R}=S,{timestamp:U}=Ft;this.history.push({...R,timestamp:U});const{onStart:L,onMove:V}=this.handlers;C||(L&&L(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kf(C,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:k,onSessionEnd:R,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=bf(S.type==="pointercancel"?this.lastMoveEventInfo:kf(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,L),R&&R(S,L)},!pp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const h=Xl(e),m=kf(h,this.transformPagePoint),{point:p}=m,{timestamp:v}=Ft;this.history=[{...p,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,bf(m,this.history)),this.removeListeners=ql(_l(this.contextWindow,"pointermove",this.handlePointerMove),_l(this.contextWindow,"pointerup",this.handlePointerUp),_l(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(B0.has(i.overflowX)||B0.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),nt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fi(this.updatePoint)}}function kf(t,e){return e?{point:e(t.point)}:t}function U0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bf({point:t},e){return{point:t,delta:U0(t,h1(e)),offset:U0(t,xb(e)),velocity:_b(e,.1)}}function xb(t){return t[0]}function h1(t){return t[t.length-1]}function _b(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=h1(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Gr(e)));)n--;if(!i)return{x:0,y:0};const a=jn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function wb(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ot(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ot(n,t,i.max):Math.min(t,n)),t}function z0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Eb(t,{top:e,left:n,bottom:i,right:o}){return{x:z0(t.x,n,o),y:z0(t.y,e,i)}}function $0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Tb(t,e){return{x:$0(t.x,e.x),y:$0(t.y,e.y)}}function Sb(t,e){let n=.5;const i=rn(t),o=rn(e);return o>i?n=Il(e.min,e.max-i,t.min):i>o&&(n=Il(t.min,t.max-o,e.min)),Sr(0,1,n)}function Ab(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hm=.35;function Cb(t=hm){return t===!1?t=0:t===!0&&(t=hm),{x:W0(t,"left","right"),y:W0(t,"top","bottom")}}function W0(t,e,n){return{min:H0(t,e),max:H0(t,n)}}function H0(t,e){return typeof t=="number"?t:t[e]||0}const Ib=new WeakMap;class Rb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{n?(this.stopAnimation(),this.snapToCursor(Xl(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:C,onDragStart:k}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_R(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(U=>{let L=this.getAxisMotionValue(U).get()||0;if(xr.test(L)){const{projection:V}=this.visualElement;if(V&&V.layout){const Q=V.layout.layoutBox[U];Q&&(L=rn(Q)*(parseFloat(L)/100))}}this.originPoint[U]=L}),k&&nt.postRender(()=>k(v,w)),im(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:k,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:U}=w;if(C&&this.currentDirection===null){this.currentDirection=kb(U),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),R&&R(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new c1(e,{onSessionStart:a,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:u1(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&nt.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Ac(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=wb(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Eb(i.layoutBox,e):this.constraints=!1,this.elastic=Cb(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Ab(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dl(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=LR(i,o.root,this.visualElement.getTransformPagePoint());let u=Tb(o.layout.layoutBox,a);if(n){const f=n(jR(u));this.hasMutatedConstraints=!!f,f&&(u=Vw(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Vn(p=>{if(!Ac(p,n,this.currentDirection))return;let v=h&&h[p]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,C={type:"inertia",velocity:i?e[p]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(p,C)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return im(this.visualElement,e),i.start(cp(e,i,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:i}=this.getProps();if(!Ac(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n],h=a.get()||0;a.set(e[n]-ot(u,f,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!dl(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();o[u]=Sb({min:h,max:h},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!Ac(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(ot(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;Ib.set(this.visualElement,this);const e=this.visualElement.current,n=_l(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&!Cw(h.target)&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();dl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),nt.read(i);const u=Pl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=h[p].translate,v.set(v.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=hm,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:f}}}function Ac(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kb(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bb extends Gi{constructor(e){super(e),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new Rb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const K0=t=>(e,n)=>{t&&nt.postRender(()=>t(e,n))};class Pb extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(e){this.session=new c1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:K0(e),onStart:K0(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&nt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=_l(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Pf=!1;class Vb extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),Pf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Pf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||nt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Pf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d1(t){const[e,n]=Bk(),i=N.useContext(P_);return g.jsx(Vb,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(a1),isPresent:e,safeToRemove:n})}const Db={pan:{Feature:Pb},drag:{Feature:bb,ProjectionNode:Zw,MeasureLayout:d1}};function G0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&nt.postRender(()=>a(e,Xl(e)))}class jb extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=wR(e,(n,i)=>(G0(this.node,i,"Start"),o=>G0(this.node,o,"End"))))}unmount(){}}class Nb extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(Pl(this.node.current,"focus",()=>this.onFocus()),Pl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&nt.postRender(()=>a(e,Xl(e)))}class Mb extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=SR(e,(n,i)=>(q0(this.node,i,"Start"),(o,{success:a})=>q0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dm=new WeakMap,Vf=new WeakMap,Lb=t=>{const e=dm.get(t.target);e&&e(t)},Ob=t=>{t.forEach(Lb)};function Fb({root:t,...e}){const n=t||document;Vf.has(n)||Vf.set(n,{});const i=Vf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(Ob,{root:t,...e})),i[o]}function Bb(t,e,n){const i=Fb(e);return dm.set(t,n),i.observe(t),()=>{dm.delete(t),i.unobserve(t)}}const Ub={some:0,all:1};class zb extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:Ub[o]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),w=m?p:v;w&&w(h)};return Bb(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($b(e,n))&&this.startObserver()}unmount(){}}function $b({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Wb={inView:{Feature:zb},tap:{Feature:Mb},focus:{Feature:Nb},hover:{Feature:jb}},Hb={layout:{ProjectionNode:Zw,MeasureLayout:d1}},Kb={...gb,...Wb,...Db,...Hb},Ve=hb(Kb,db);function Vs(){const t=ti(),[e,n]=N.useState(!1),i=[{to:"/",label:"Home"},{to:"/about",label:"How It Works"},{to:"/benefits",label:"Benefits"},{to:"/businesses",label:"For Businesses"}],o=a=>t.pathname===a;return g.jsxs("header",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:0,zIndex:100},children:[g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",height:"70px"},children:[g.jsxs(_e,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[g.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-gold)",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem"},children:"K"}),g.jsxs("div",{children:[g.jsx("div",{style:{fontFamily:"var(--font-display)",fontWeight:"600",color:"var(--kb-navy)",fontSize:"1.1rem",lineHeight:1.1},children:"Kinderbucks"}),g.jsx("div",{style:{fontSize:"0.65rem",color:"var(--kb-gray-500)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Village Currency"})]})]}),g.jsx("nav",{style:{display:"flex",alignItems:"center",gap:"2rem"},className:"desktop-nav",children:i.map(a=>g.jsx(_e,{to:a.to,style:{color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-500)",fontWeight:o(a.to)?"600":"500",fontSize:"0.95rem",transition:"color 0.2s",borderBottom:o(a.to)?"2px solid var(--kb-gold)":"2px solid transparent",paddingBottom:"4px"},children:a.label},a.to))}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},className:"desktop-nav",children:[g.jsx(_e,{to:"/account",className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"My Account"}),g.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Get Kinderbucks"})]}),g.jsx("button",{onClick:()=>n(!e),className:"mobile-menu-btn",style:{display:"none",background:"none",border:"none",padding:"0.5rem",cursor:"pointer"},children:g.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e?g.jsx("path",{d:"M6 6l12 12M6 18L18 6"}):g.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})})]}),e&&g.jsxs("div",{className:"mobile-menu",style:{background:"var(--kb-white)",borderTop:"1px solid var(--kb-gray-200)",padding:"1rem"},children:[i.map(a=>g.jsx(_e,{to:a.to,onClick:()=>n(!1),style:{display:"block",padding:"0.75rem 0",color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-700)",fontWeight:o(a.to)?"600":"400",borderBottom:"1px solid var(--kb-gray-100)"},children:a.label},a.to)),g.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:[g.jsx(_e,{to:"/account",onClick:()=>n(!1),className:"btn btn-secondary",style:{flex:1},children:"My Account"}),g.jsx(_e,{to:"/exchange",onClick:()=>n(!1),className:"btn btn-gold",style:{flex:1},children:"Get Kinderbucks"})]})]}),g.jsx("style",{children:`
        @media (max-width: 768px) {
          .desktop-nav {
            display: none !important;
          }
          .mobile-menu-btn {
            display: block !important;
          }
        }
      `})]})}function Ds(){return g.jsxs("footer",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"3rem 1rem 2rem",marginTop:"auto"},children:[g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[g.jsx("div",{style:{width:"36px",height:"36px",background:"var(--kb-gold)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-navy)",fontFamily:"var(--font-display)",fontWeight:"700"},children:"K"}),g.jsx("span",{style:{fontFamily:"var(--font-display)",fontWeight:"600",fontSize:"1.1rem"},children:"Kinderbucks"})]}),g.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.6},children:"Village of Kinderhook's local currency program. Supporting local businesses, strengthening community."}),g.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem",marginTop:"1rem"},children:"Est. 2026"})]}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Quick Links"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[g.jsx(_e,{to:"/about",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"How It Works"}),g.jsx(_e,{to:"/benefits",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Member Benefits"}),g.jsx(_e,{to:"/exchange",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Get Kinderbucks"}),g.jsx(_e,{to:"/businesses",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"For Businesses"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"For Members"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[g.jsx(_e,{to:"/account",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"My Account"}),g.jsx(_e,{to:"/profile",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Kinderhooker Profile"}),g.jsx(_e,{to:"/scan/KB-0001",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Verify Currency"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Contact"}),g.jsxs("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.8},children:["Village of Kinderhook",g.jsx("br",{}),"Columbia County, NY"]})]})]}),g.jsxs("div",{style:{maxWidth:"1200px",margin:"2rem auto 0",paddingTop:"2rem",borderTop:"1px solid var(--kb-navy-light)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[g.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:" 2026 Kinderbucks. A Harmonic Systems project."}),g.jsx("div",{style:{display:"flex",gap:"1.5rem"},children:g.jsx(_e,{to:"/admin/dashboard",style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:"Admin"})})]})]})}function Gb(){return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("div",{style:{display:"inline-block",background:"rgba(201, 162, 39, 0.2)",color:"var(--kb-gold)",padding:"0.5rem 1rem",borderRadius:"100px",fontSize:"0.85rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Village of Kinderhook  Est. 2026"}),g.jsxs("h1",{style:{fontFamily:"var(--font-display)",fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",marginBottom:"1.5rem",lineHeight:1.2},children:["Strengthen Our Village,",g.jsx("br",{}),g.jsx("span",{style:{color:"var(--kb-gold)"},children:"One Kinderbuck at a Time"})]}),g.jsx("p",{style:{fontSize:"1.2rem",color:"var(--kb-gray-300)",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:"A local currency program that keeps money circulating in Kinderhook, rewards loyal customers, and strengthens our community economy."}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[g.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem",fontSize:"1.1rem"},children:"Get Kinderbucks"}),g.jsx(_e,{to:"/about",className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.1rem",borderColor:"var(--kb-white)",color:"var(--kb-white)"},children:"Learn How It Works"})]})]})}),g.jsx("section",{style:{background:"var(--kb-white)",padding:"3rem 1rem",borderBottom:"1px solid var(--kb-gray-200)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem",textAlign:"center"},children:[g.jsxs("div",{children:[g.jsx("div",{className:"stat-value",style:{color:"var(--kb-navy)"},children:"$10,000"}),g.jsx("div",{className:"stat-label",children:"In Circulation"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"stat-value",style:{color:"var(--kb-green)"},children:"19"}),g.jsx("div",{className:"stat-label",children:"Local Businesses"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"stat-value",style:{color:"var(--kb-gold)"},children:"25%"}),g.jsx("div",{className:"stat-label",children:"Max Bonus Rate"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"stat-value",style:{color:"var(--kb-navy)"},children:"100%"}),g.jsx("div",{className:"stat-label",children:"Local Impact"})]})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"How Kinderbucks Works"}),g.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Simple steps to start supporting local"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem"},children:[{step:"1",title:"Exchange",description:"Convert USD to Kinderbucks at participating locations or online. Members get bonus rates!",icon:""},{step:"2",title:"Spend Local",description:"Use Kinderbucks at any of our 19+ participating village businesses.",icon:""},{step:"3",title:"Check In",description:"Scan QR codes when you visit to build your Kinderhooker status and unlock rewards.",icon:""},{step:"4",title:"Earn More",description:"Higher tiers mean better exchange rates. Village Patrons get 25% bonus!",icon:""}].map((t,e)=>g.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[g.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",fontSize:"1.5rem"},children:t.icon}),g.jsxs("div",{style:{color:"var(--kb-gold)",fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.25rem"},children:["STEP ",t.step]}),g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),g.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.95rem"},children:t.description})]},e))})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[g.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Become a Kinderhooker"}),g.jsx("p",{style:{color:"var(--kb-gray-500)",maxWidth:"600px",margin:"0 auto"},children:"Visit local businesses to level up your membership and unlock better exchange rates"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem"},children:[{name:"Curious",businesses:"1+",bonus:"10%",color:"#888888",emoji:""},{name:"Hooked",businesses:"5+",bonus:"15%",color:"#2e7d32",emoji:""},{name:"Line & Sinker",businesses:"10+",bonus:"20%",color:"#1565c0",emoji:""},{name:"Village Patron",businesses:"15+",bonus:"25%",color:"#c9a227",emoji:"",featured:!0}].map((t,e)=>g.jsxs(Ve.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center",border:t.featured?"2px solid var(--kb-gold)":void 0,position:"relative",overflow:"hidden"},children:[t.featured&&g.jsx("div",{style:{position:"absolute",top:"10px",right:"-30px",background:"var(--kb-gold)",color:"var(--kb-navy)",padding:"0.25rem 2rem",fontSize:"0.7rem",fontWeight:"600",transform:"rotate(45deg)"},children:"BEST"}),g.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:t.emoji}),g.jsx("h3",{style:{color:t.color,marginBottom:"0.5rem"},children:t.name}),g.jsxs("div",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"1rem"},children:[t.businesses," businesses visited"]}),g.jsxs("div",{style:{background:`${t.color}15`,borderRadius:"8px",padding:"1rem"},children:[g.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:t.color},children:t.bonus}),g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"Exchange Bonus"})]})]},e))}),g.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:g.jsx(_e,{to:"/profile",className:"btn btn-primary",children:"View My Progress"})})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Participating Businesses"}),g.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Support these local Kinderhook establishments"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:["The Aviary","Morningbird Cafe","Saisonnier","Broad Street Bagel","Brooklyn Pizzeria","Isola Wine Bar","OK Pantry","Kinderhook Books","Samascott's","The School Gallery","Old Dutch Inn","Muse Aesthetics"].map((t,e)=>g.jsx("div",{style:{background:"var(--kb-white)",borderRadius:"8px",padding:"1rem",textAlign:"center",fontSize:"0.9rem",color:"var(--kb-gray-700)",border:"1px solid var(--kb-gray-200)"},children:t},e))}),g.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:g.jsx(_e,{to:"/businesses",className:"btn btn-secondary",children:"View All 19 Businesses "})})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",textAlign:"center"},children:g.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[g.jsx("h2",{style:{marginBottom:"1rem"},children:"Ready to Support Local?"}),g.jsx("p",{style:{opacity:.9,marginBottom:"2rem"},children:"Join the Kinderbucks program today and start earning rewards while strengthening our village economy."}),g.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:g.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Get Your First Kinderbucks"})})]})}),g.jsx(Ds,{})]})}function qb(){return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h1",{style:{marginBottom:"1rem"},children:"How Kinderbucks Works"}),g.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem"},children:"A simple system designed to keep money local and reward community participation"})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"What is Kinderbucks?"}),g.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"Kinderbucks"})," is a local currency program for the Village of Kinderhook, NY. It's real money  physical bills with QR codes for verification  that can only be spent at participating local businesses."]}),g.jsx("p",{style:{marginBottom:"1rem"},children:"When you exchange US dollars for Kinderbucks, you're making a commitment to spend locally. In return, you receive bonus value through our OK Membership program, turning $10 into $11, $12, or even $12.50 in local spending power."}),g.jsx("p",{children:"Every Kinderbuck spent stays in the village, circulating between businesses and residents, strengthening our local economy with each transaction."})]})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"The Exchange Process"}),g.jsx("div",{style:{display:"grid",gap:"2rem",maxWidth:"700px",margin:"0 auto"},children:[{step:1,title:"Visit an Exchange Point",description:"Stop by any participating business or our central exchange location with US dollars."},{step:2,title:"Show Your Membership",description:"Scan your profile QR code or provide your phone number to apply your tier bonus."},{step:3,title:"Receive Your Kinderbucks",description:"Get physical Kinderbuck bills in $1, $5, $10, and $20 denominations with your bonus applied."},{step:4,title:"Spend Locally",description:"Use your Kinderbucks at any of our 19+ participating businesses."}].map((t,e)=>g.jsxs(Ve.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:e*.1},viewport:{once:!0},style:{display:"flex",gap:"1.5rem",alignItems:"flex-start"},children:[g.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",color:"var(--kb-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem",flexShrink:0},children:t.step}),g.jsxs("div",{children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),g.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.description})]})]},e))})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Verification & Security"}),g.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[g.jsx("p",{style:{marginBottom:"1rem"},children:"Every Kinderbuck bill has a unique QR code that links to our verification system. When scanned, it confirms:"}),g.jsxs("ul",{style:{marginLeft:"1.5rem",marginBottom:"1.5rem"},children:[g.jsx("li",{style:{marginBottom:"0.5rem"},children:"The bill's authenticity"}),g.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its denomination"}),g.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its current status (active, redeemed, etc.)"}),g.jsx("li",{children:"How many times it's been verified"})]}),g.jsx("p",{children:"This prevents counterfeiting and gives businesses confidence when accepting Kinderbucks."})]}),g.jsxs("div",{className:"card",style:{marginTop:"2rem",textAlign:"center"},children:[g.jsx("p",{style:{marginBottom:"1rem",color:"var(--kb-gray-600)"},children:"Try verifying a Kinderbuck:"}),g.jsx(_e,{to:"/scan/KB-0001",className:"btn btn-primary",children:"Verify KB-0001"})]})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"The Kinderhooker Program"}),g.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[g.jsxs("p",{style:{marginBottom:"1rem"},children:[g.jsx("strong",{children:"OK Membership"})," rewards customers who actively support local businesses. The more businesses you visit, the higher your tier  and the better your exchange rate."]}),g.jsxs("p",{style:{marginBottom:"1rem"},children:['Each participating business has a QR code. Scan it when you visit to record a "check-in." Your tier is based on how many ',g.jsx("em",{children:"unique"})," businesses you've visited, encouraging exploration of the entire village."]}),g.jsx("p",{children:`There's no cost to join. Simply start checking in at businesses, and you'll automatically become a "Kinderhooker" with access to bonus exchange rates.`})]}),g.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[g.jsx(_e,{to:"/benefits",className:"btn btn-primary",children:"View All Benefits"}),g.jsx(_e,{to:"/profile",className:"btn btn-secondary",children:"Check My Status"})]})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem"},children:"Frequently Asked Questions"}),[{q:"Is Kinderbucks real money?",a:"Kinderbucks are a local complementary currency. They have value within our participating business network but cannot be deposited in banks or used outside Kinderhook."},{q:"Can I convert Kinderbucks back to USD?",a:"Kinderbucks are designed to circulate locally. While businesses can redeem them, individual customers are encouraged to spend them at participating businesses."},{q:"What if a business closes?",a:"Kinderbucks remain valid at all other participating businesses. The program maintains reserves to ensure stability."},{q:"How do businesses benefit?",a:"Businesses receive customers committed to spending locally, gain exposure through our directory, and become part of a community-strengthening initiative."},{q:"Is there a fee to exchange?",a:"No fees. You receive full value plus your membership bonus when exchanging USD for Kinderbucks."}].map((t,e)=>g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.q}),g.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.a})]},e))]})}),g.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-navy)",color:"var(--kb-white)",textAlign:"center"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to get started?"}),g.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Get Your Kinderbucks"})]}),g.jsx(Ds,{})]})}const js={curious:{name:"Curious",threshold:1,bonus:.1,color:"#888888",bgColor:"#f0f0f0",emoji:""},hooked:{name:"Hooked",threshold:5,bonus:.15,color:"#2e7d32",bgColor:"#e8f5e9",emoji:""},lineAndSinker:{name:"Line & Sinker",threshold:10,bonus:.2,color:"#1565c0",bgColor:"#e3f2fd",emoji:""},patron:{name:"Village Patron",threshold:15,bonus:.25,color:"#c9a227",bgColor:"#fff8e1",emoji:""}};function fm(t){return t>=15?"patron":t>=10?"lineAndSinker":t>=5?"hooked":t>=1?"curious":null}function Qb(t){const e=["curious","hooked","lineAndSinker","patron"],n=e.indexOf(t);return n<e.length-1?e[n+1]:null}function Ep(t){const e=fm(t),n=Qb(e);if(!n)return{progress:100,remaining:0,nextTier:null};const i=js[n],o=e?js[e].threshold:0,a=(t-o)/(i.threshold-o)*100;return{progress:Math.min(100,Math.max(0,a)),remaining:i.threshold-t,nextTier:i}}function Yb(){const t=[{icon:"",title:"Bonus Exchange Rates",description:"Get up to 25% extra when converting USD to Kinderbucks. A $100 exchange becomes $125 in local spending power.",highlight:"Up to 25% bonus"},{icon:"",title:"Exclusive Local Deals",description:"Participating businesses offer special discounts and promotions exclusively for Kinderhooker members.",highlight:"Member-only offers"},{icon:"",title:"Priority Access",description:"Higher-tier members get early access to limited events, seasonal specials, and new business openings.",highlight:"First in line"},{icon:"",title:"Seasonal Bonuses",description:"Extra rewards during holidays and special village events. Double check-in points, bonus exchanges, and more.",highlight:"Special events"},{icon:"",title:"Impact Tracking",description:"See exactly how your spending supports local businesses and contributes to the village economy.",highlight:"Track your impact"},{icon:"",title:"Community Recognition",description:"Village Patrons are recognized in our annual report and invited to exclusive community appreciation events.",highlight:"Be celebrated"}];return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-gold-dark) 0%, var(--kb-gold) 100%)",color:"var(--kb-navy)",padding:"4rem 1rem",textAlign:"center"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("div",{className:"badge badge-navy",style:{marginBottom:"1rem"},children:"OK Membership"}),g.jsx("h1",{style:{marginBottom:"1rem"},children:"Member Benefits & Rewards"}),g.jsx("p",{style:{fontSize:"1.1rem",opacity:.9},children:"The more you support local, the more you earn. It pays to be a Kinderhooker."})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Membership Tiers"}),g.jsx("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:"Visit more businesses to unlock better rewards"}),g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{minWidth:"700px"},children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{style:{width:"25%"},children:"Tier"}),g.jsx("th",{style:{width:"20%"},children:"Requirement"}),g.jsx("th",{style:{width:"20%"},children:"Exchange Bonus"}),g.jsx("th",{style:{width:"35%"},children:"Perks"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{children:""}),g.jsx("span",{style:{fontWeight:"600",color:"#888"},children:"Curious"})]})}),g.jsx("td",{children:"1+ businesses"}),g.jsx("td",{children:g.jsx("span",{style:{color:"#888",fontWeight:"600"},children:"10%"})}),g.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Basic exchange bonus, check-in tracking"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{children:""}),g.jsx("span",{style:{fontWeight:"600",color:"#2e7d32"},children:"Hooked"})]})}),g.jsx("td",{children:"5+ businesses"}),g.jsx("td",{children:g.jsx("span",{style:{color:"#2e7d32",fontWeight:"600"},children:"15%"})}),g.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Seasonal bonus events, member deals"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{children:""}),g.jsx("span",{style:{fontWeight:"600",color:"#1565c0"},children:"Line & Sinker"})]})}),g.jsx("td",{children:"10+ businesses"}),g.jsx("td",{children:g.jsx("span",{style:{color:"#1565c0",fontWeight:"600"},children:"20%"})}),g.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Priority access, exclusive events"})]}),g.jsxs("tr",{style:{background:"rgba(201, 162, 39, 0.1)"},children:[g.jsx("td",{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{children:""}),g.jsx("span",{style:{fontWeight:"600",color:"#c9a227"},children:"Village Patron"})]})}),g.jsx("td",{children:"15+ businesses"}),g.jsx("td",{children:g.jsx("span",{style:{color:"#c9a227",fontWeight:"600"},children:"25%"})}),g.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"All perks + community recognition + VIP events"})]})]})]})}),g.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:g.jsx(_e,{to:"/profile",className:"btn btn-primary",children:"Check My Progress"})})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"All Member Benefits"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:t.map((e,n)=>g.jsx(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},viewport:{once:!0},className:"card",children:g.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[g.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:e.icon}),g.jsxs("div",{children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem",fontSize:"1.1rem"},children:e.title}),g.jsx("span",{className:"badge badge-gold",style:{marginBottom:"0.5rem"},children:e.highlight}),g.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",marginTop:"0.5rem"},children:e.description})]})]})},n))})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"See Your Savings"}),g.jsx("p",{style:{color:"var(--kb-gray-500)",marginBottom:"2rem"},children:"Example: Exchange $100 USD"}),g.jsx("div",{className:"card",style:{padding:"2rem"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[{tier:"Curious",bonus:10,color:"#888"},{tier:"Hooked",bonus:15,color:"#2e7d32"},{tier:"Line & Sinker",bonus:20,color:"#1565c0"},{tier:"Village Patron",bonus:25,color:"#c9a227"}].map((e,n)=>g.jsxs("div",{style:{padding:"1rem",borderRadius:"8px",background:`${e.color}10`,border:`1px solid ${e.color}30`},children:[g.jsx("div",{style:{fontSize:"0.85rem",color:e.color,fontWeight:"600"},children:e.tier}),g.jsxs("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:e.color},children:["$",100+e.bonus]}),g.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"in Kinderbucks"})]},n))})}),g.jsx("div",{style:{marginTop:"2rem"},children:g.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Start Exchanging"})})]})}),g.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-green)",color:"var(--kb-white)",textAlign:"center"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"Start earning rewards today"}),g.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Visit a participating business and scan their QR code to begin"}),g.jsx(_e,{to:"/businesses",className:"btn btn-gold",children:"Find Businesses Near You"})]}),g.jsx(Ds,{})]})}const Xb=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Jb=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],f=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},m1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,f=u?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,p=a>>2,v=(a&3)<<4|f>>4;let w=(f&15)<<2|m>>6,S=m&63;h||(S=64,u||(w=64)),i.push(n[p],n[v],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||m==null||v==null)throw new Zb;const w=a<<2|f>>4;if(i.push(w),m!==64){const S=f<<4&240|m>>2;if(i.push(S),v!==64){const C=m<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(t){const e=f1(t);return m1.encodeByteArray(e,!0)},Xc=function(t){return eP(t).replace(/\./g,"")},tP=function(t){try{return m1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=()=>nP().__FIREBASE_DEFAULTS__,iP=()=>{if(typeof process>"u"||typeof Q0>"u")return;const t=Q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tP(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return Xb()||rP()||iP()||sP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oP=t=>{var e,n;return(n=(e=Tp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aP=t=>{const e=oP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},p1=()=>{var t;return(t=Tp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xc(JSON.stringify(n)),Xc(JSON.stringify(u)),""].join(".")}const wl={};function hP(){const t={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?t.emulator.push(e):t.prod.push(e);return t}function dP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y0=!1;function fP(t,e){if(typeof window>"u"||typeof document>"u"||!Sp(window.location.host)||wl[t]===e||wl[t]||Y0)return;wl[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=hP().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Y0=!0,u()},w}function p(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=dP(i),S=n("text"),C=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),U=n("preprendIcon"),L=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const V=w.element;f(V),p(R,k);const Q=m();h(L,U),V.append(L,C,R,Q),document.body.appendChild(V)}a?(C.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pP(){var e;const t=(e=Tp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gP(){return!pP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yP(){try{return typeof indexedDB=="object"}catch{return!1}}function vP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="FirebaseError";class ia extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xP,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g1.prototype.create)}}class g1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?_P(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new ia(o,f,i)}}function _P(t,e){return t.replace(wP,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const wP=/\{\$([^}]+)}/g;function Vl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(X0(a)&&X0(u)){if(!Vl(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Dl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new lP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SP(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:TP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TP(t){return t===Cs?void 0:t}function SP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const CP={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},IP=Fe.INFO,RP={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},kP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=RP[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y1{constructor(e){this.name=e,this._logLevel=IP,this._logHandler=kP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const bP=(t,e)=>e.some(n=>t instanceof n);let J0,Z0;function PP(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,mm=new WeakMap,x1=new WeakMap,Df=new WeakMap,Ap=new WeakMap;function DP(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ni(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function jP(t){if(mm.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});mm.set(t,e)}let pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NP(t){pm=t(pm)}function MP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jf(this),e,...n);return x1.set(i,e.sort?e.sort():[e]),Ni(i)}:VP().includes(t)?function(...e){return t.apply(jf(this),e),Ni(v1.get(this))}:function(...e){return Ni(t.apply(jf(this),e))}}function LP(t){return typeof t=="function"?MP(t):(t instanceof IDBTransaction&&jP(t),bP(t,PP())?new Proxy(t,pm):t)}function Ni(t){if(t instanceof IDBRequest)return DP(t);if(Df.has(t))return Df.get(t);const e=LP(t);return e!==t&&(Df.set(t,e),Ap.set(e,t)),e}const jf=t=>Ap.get(t);function OP(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),f=Ni(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Ni(u.result),h.oldVersion,h.newVersion,Ni(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const FP=["get","getKey","getAll","getAllKeys","count"],BP=["put","add","delete","clear"],Nf=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=BP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FP.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&h.done]))[0]};return Nf.set(e,a),a}NP(t=>({...t,get:(e,n,i)=>ex(e,n)||t.get(e,n,i),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",tx="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new y1("@firebase/app"),$P="@firebase/app-compat",WP="@firebase/analytics-compat",HP="@firebase/analytics",KP="@firebase/app-check-compat",GP="@firebase/app-check",qP="@firebase/auth",QP="@firebase/auth-compat",YP="@firebase/database",XP="@firebase/data-connect",JP="@firebase/database-compat",ZP="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",s2="@firebase/performance",o2="@firebase/performance-compat",a2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",d2="@firebase/ai",f2="@firebase/firestore-compat",m2="firebase",p2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",g2={[gm]:"fire-core",[$P]:"fire-core-compat",[HP]:"fire-analytics",[WP]:"fire-analytics-compat",[GP]:"fire-app-check",[KP]:"fire-app-check-compat",[qP]:"fire-auth",[QP]:"fire-auth-compat",[YP]:"fire-rtdb",[XP]:"fire-data-connect",[JP]:"fire-rtdb-compat",[ZP]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[s2]:"fire-perf",[o2]:"fire-perf-compat",[a2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[f2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,y2=new Map,vm=new Map;function nx(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zc(t){const e=t.name;if(vm.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(const n of Jc.values())nx(n,t);for(const n of y2.values())nx(n,t);return!0}function v2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x2(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new g1("app","Firebase",_2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=p2;function _1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ym,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(n||(n=p1()),!n)throw Mi.create("no-options");const a=Jc.get(o);if(a){if(Vl(n,a.options)&&Vl(i,a.config))return a;throw Mi.create("duplicate-app",{appName:o})}const u=new AP(o);for(const h of vm.values())u.addComponent(h);const f=new w2(n,i,u);return Jc.set(o,f),f}function T2(t=ym){const e=Jc.get(t);if(!e&&t===ym&&p1())return _1();if(!e)throw Mi.create("no-app",{appName:t});return e}function zo(t,e,n){let i=g2[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(u.join(" "));return}Zc(new Dl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebase-heartbeat-database",A2=1,jl="firebase-heartbeat-store";let Mf=null;function w1(){return Mf||(Mf=OP(S2,A2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function C2(t){try{const n=(await w1()).transaction(jl),i=await n.objectStore(jl).get(E1(t));return await n.done,i}catch(e){if(e instanceof ia)Jr.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function rx(t,e){try{const i=(await w1()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,E1(t)),await i.done}catch(n){if(n instanceof ia)Jr.warn(n.message);else{const i=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(i.message)}}}function E1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1024,R2=30;class k2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ix();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>R2){const u=V2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ix(),{heartbeatsToSend:i,unsentEntries:o}=b2(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Jr.warn(n),""}}}function ix(){return new Date().toISOString().substring(0,10)}function b2(t,e=I2){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),sx(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yP()?vP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sx(t){return Xc(JSON.stringify({version:2,heartbeats:t})).length}function V2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){Zc(new Dl("platform-logger",e=>new UP(e),"PRIVATE")),Zc(new Dl("heartbeat",e=>new k2(e),"PRIVATE")),zo(gm,tx,t),zo(gm,tx,"esm2020"),zo("fire-js","")}D2("");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,T1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function b(){}b.prototype=I.prototype,j.F=I.prototype,j.prototype=new b,j.prototype.constructor=j,j.D=function(O,M,$){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return I.prototype[M].apply(O,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,I,b){b||(b=0);const O=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)O[M]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(M=0;M<16;++M)O[M]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=j.g[0],b=j.g[1],M=j.g[2];let $=j.g[3],D;D=I+($^b&(M^$))+O[0]+3614090360&4294967295,I=b+(D<<7&4294967295|D>>>25),D=$+(M^I&(b^M))+O[1]+3905402710&4294967295,$=I+(D<<12&4294967295|D>>>20),D=M+(b^$&(I^b))+O[2]+606105819&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(I^M&($^I))+O[3]+3250441966&4294967295,b=M+(D<<22&4294967295|D>>>10),D=I+($^b&(M^$))+O[4]+4118548399&4294967295,I=b+(D<<7&4294967295|D>>>25),D=$+(M^I&(b^M))+O[5]+1200080426&4294967295,$=I+(D<<12&4294967295|D>>>20),D=M+(b^$&(I^b))+O[6]+2821735955&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(I^M&($^I))+O[7]+4249261313&4294967295,b=M+(D<<22&4294967295|D>>>10),D=I+($^b&(M^$))+O[8]+1770035416&4294967295,I=b+(D<<7&4294967295|D>>>25),D=$+(M^I&(b^M))+O[9]+2336552879&4294967295,$=I+(D<<12&4294967295|D>>>20),D=M+(b^$&(I^b))+O[10]+4294925233&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(I^M&($^I))+O[11]+2304563134&4294967295,b=M+(D<<22&4294967295|D>>>10),D=I+($^b&(M^$))+O[12]+1804603682&4294967295,I=b+(D<<7&4294967295|D>>>25),D=$+(M^I&(b^M))+O[13]+4254626195&4294967295,$=I+(D<<12&4294967295|D>>>20),D=M+(b^$&(I^b))+O[14]+2792965006&4294967295,M=$+(D<<17&4294967295|D>>>15),D=b+(I^M&($^I))+O[15]+1236535329&4294967295,b=M+(D<<22&4294967295|D>>>10),D=I+(M^$&(b^M))+O[1]+4129170786&4294967295,I=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(I^b))+O[6]+3225465664&4294967295,$=I+(D<<9&4294967295|D>>>23),D=M+(I^b&($^I))+O[11]+643717713&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^I&(M^$))+O[0]+3921069994&4294967295,b=M+(D<<20&4294967295|D>>>12),D=I+(M^$&(b^M))+O[5]+3593408605&4294967295,I=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(I^b))+O[10]+38016083&4294967295,$=I+(D<<9&4294967295|D>>>23),D=M+(I^b&($^I))+O[15]+3634488961&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^I&(M^$))+O[4]+3889429448&4294967295,b=M+(D<<20&4294967295|D>>>12),D=I+(M^$&(b^M))+O[9]+568446438&4294967295,I=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(I^b))+O[14]+3275163606&4294967295,$=I+(D<<9&4294967295|D>>>23),D=M+(I^b&($^I))+O[3]+4107603335&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^I&(M^$))+O[8]+1163531501&4294967295,b=M+(D<<20&4294967295|D>>>12),D=I+(M^$&(b^M))+O[13]+2850285829&4294967295,I=b+(D<<5&4294967295|D>>>27),D=$+(b^M&(I^b))+O[2]+4243563512&4294967295,$=I+(D<<9&4294967295|D>>>23),D=M+(I^b&($^I))+O[7]+1735328473&4294967295,M=$+(D<<14&4294967295|D>>>18),D=b+($^I&(M^$))+O[12]+2368359562&4294967295,b=M+(D<<20&4294967295|D>>>12),D=I+(b^M^$)+O[5]+4294588738&4294967295,I=b+(D<<4&4294967295|D>>>28),D=$+(I^b^M)+O[8]+2272392833&4294967295,$=I+(D<<11&4294967295|D>>>21),D=M+($^I^b)+O[11]+1839030562&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^I)+O[14]+4259657740&4294967295,b=M+(D<<23&4294967295|D>>>9),D=I+(b^M^$)+O[1]+2763975236&4294967295,I=b+(D<<4&4294967295|D>>>28),D=$+(I^b^M)+O[4]+1272893353&4294967295,$=I+(D<<11&4294967295|D>>>21),D=M+($^I^b)+O[7]+4139469664&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^I)+O[10]+3200236656&4294967295,b=M+(D<<23&4294967295|D>>>9),D=I+(b^M^$)+O[13]+681279174&4294967295,I=b+(D<<4&4294967295|D>>>28),D=$+(I^b^M)+O[0]+3936430074&4294967295,$=I+(D<<11&4294967295|D>>>21),D=M+($^I^b)+O[3]+3572445317&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^I)+O[6]+76029189&4294967295,b=M+(D<<23&4294967295|D>>>9),D=I+(b^M^$)+O[9]+3654602809&4294967295,I=b+(D<<4&4294967295|D>>>28),D=$+(I^b^M)+O[12]+3873151461&4294967295,$=I+(D<<11&4294967295|D>>>21),D=M+($^I^b)+O[15]+530742520&4294967295,M=$+(D<<16&4294967295|D>>>16),D=b+(M^$^I)+O[2]+3299628645&4294967295,b=M+(D<<23&4294967295|D>>>9),D=I+(M^(b|~$))+O[0]+4096336452&4294967295,I=b+(D<<6&4294967295|D>>>26),D=$+(b^(I|~M))+O[7]+1126891415&4294967295,$=I+(D<<10&4294967295|D>>>22),D=M+(I^($|~b))+O[14]+2878612391&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~I))+O[5]+4237533241&4294967295,b=M+(D<<21&4294967295|D>>>11),D=I+(M^(b|~$))+O[12]+1700485571&4294967295,I=b+(D<<6&4294967295|D>>>26),D=$+(b^(I|~M))+O[3]+2399980690&4294967295,$=I+(D<<10&4294967295|D>>>22),D=M+(I^($|~b))+O[10]+4293915773&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~I))+O[1]+2240044497&4294967295,b=M+(D<<21&4294967295|D>>>11),D=I+(M^(b|~$))+O[8]+1873313359&4294967295,I=b+(D<<6&4294967295|D>>>26),D=$+(b^(I|~M))+O[15]+4264355552&4294967295,$=I+(D<<10&4294967295|D>>>22),D=M+(I^($|~b))+O[6]+2734768916&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~I))+O[13]+1309151649&4294967295,b=M+(D<<21&4294967295|D>>>11),D=I+(M^(b|~$))+O[4]+4149444226&4294967295,I=b+(D<<6&4294967295|D>>>26),D=$+(b^(I|~M))+O[11]+3174756917&4294967295,$=I+(D<<10&4294967295|D>>>22),D=M+(I^($|~b))+O[2]+718787259&4294967295,M=$+(D<<15&4294967295|D>>>17),D=b+($^(M|~I))+O[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+$&4294967295}i.prototype.v=function(j,I){I===void 0&&(I=j.length);const b=I-this.blockSize,O=this.C;let M=this.h,$=0;for(;$<I;){if(M==0)for(;$<=b;)o(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<I;)if(O[M++]=j.charCodeAt($++),M==this.blockSize){o(this,O),M=0;break}}else for(;$<I;)if(O[M++]=j[$++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=I},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;I=this.o*8;for(var b=j.length-8;b<j.length;++b)j[b]=I&255,I/=256;for(this.v(j),j=Array(16),I=0,b=0;b<4;++b)for(let O=0;O<32;O+=8)j[I++]=this.g[b]>>>O&255;return j};function a(j,I){var b=f;return Object.prototype.hasOwnProperty.call(b,j)?b[j]:b[j]=I(j)}function u(j,I){this.h=I;const b=[];let O=!0;for(let M=j.length-1;M>=0;M--){const $=j[M]|0;O&&$==I||(b[M]=$,O=!1)}this.g=b}var f={};function h(j){return-128<=j&&j<128?a(j,function(I){return new u([I|0],I<0?-1:0)}):new u([j|0],j<0?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return v;if(j<0)return R(m(-j));const I=[];let b=1;for(let O=0;j>=b;O++)I[O]=j/b|0,b*=4294967296;return new u(I,0)}function p(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return R(p(j.substring(1),I));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=m(Math.pow(I,8));let O=v;for(let $=0;$<j.length;$+=8){var M=Math.min(8,j.length-$);const D=parseInt(j.substring($,$+M),I);M<8?(M=m(Math.pow(I,M)),O=O.j(M).add(m(D))):(O=O.j(b),O=O.add(m(D)))}return O}var v=h(0),w=h(1),S=h(16777216);t=u.prototype,t.m=function(){if(k(this))return-R(this).m();let j=0,I=1;for(let b=0;b<this.g.length;b++){const O=this.i(b);j+=(O>=0?O:4294967296+O)*I,I*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(C(this))return"0";if(k(this))return"-"+R(this).toString(j);const I=m(Math.pow(j,6));var b=this;let O="";for(;;){const M=Q(b,I).g;b=U(b,M.j(I));let $=((b.g.length>0?b.g[0]:b.h)>>>0).toString(j);if(b=M,C(b))return $+O;for(;$.length<6;)$="0"+$;O=$+O}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function C(j){if(j.h!=0)return!1;for(let I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function k(j){return j.h==-1}t.l=function(j){return j=U(this,j),k(j)?-1:C(j)?0:1};function R(j){const I=j.g.length,b=[];for(let O=0;O<I;O++)b[O]=~j.g[O];return new u(b,~j.h).add(w)}t.abs=function(){return k(this)?R(this):this},t.add=function(j){const I=Math.max(this.g.length,j.g.length),b=[];let O=0;for(let M=0;M<=I;M++){let $=O+(this.i(M)&65535)+(j.i(M)&65535),D=($>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);O=D>>>16,$&=65535,D&=65535,b[M]=D<<16|$}return new u(b,b[b.length-1]&-2147483648?-1:0)};function U(j,I){return j.add(R(I))}t.j=function(j){if(C(this)||C(j))return v;if(k(this))return k(j)?R(this).j(R(j)):R(R(this).j(j));if(k(j))return R(this.j(R(j)));if(this.l(S)<0&&j.l(S)<0)return m(this.m()*j.m());const I=this.g.length+j.g.length,b=[];for(var O=0;O<2*I;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<j.g.length;M++){const $=this.i(O)>>>16,D=this.i(O)&65535,be=j.i(M)>>>16,$e=j.i(M)&65535;b[2*O+2*M]+=D*$e,L(b,2*O+2*M),b[2*O+2*M+1]+=$*$e,L(b,2*O+2*M+1),b[2*O+2*M+1]+=D*be,L(b,2*O+2*M+1),b[2*O+2*M+2]+=$*be,L(b,2*O+2*M+2)}for(j=0;j<I;j++)b[j]=b[2*j+1]<<16|b[2*j];for(j=I;j<2*I;j++)b[j]=0;return new u(b,0)};function L(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function V(j,I){this.g=j,this.h=I}function Q(j,I){if(C(I))throw Error("division by zero");if(C(j))return new V(v,v);if(k(j))return I=Q(R(j),I),new V(R(I.g),R(I.h));if(k(I))return I=Q(j,R(I)),new V(R(I.g),I.h);if(j.g.length>30){if(k(j)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var b=w,O=I;O.l(j)<=0;)b=J(b),O=J(O);var M=se(b,1),$=se(O,1);for(O=se(O,2),b=se(b,2);!C(O);){var D=$.add(O);D.l(j)<=0&&(M=M.add(b),$=D),O=se(O,1),b=se(b,1)}return I=U(j,M.j(I)),new V(M,I)}for(M=v;j.l(I)>=0;){for(b=Math.max(1,Math.floor(j.m()/I.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),$=m(b),D=$.j(I);k(D)||D.l(j)>0;)b-=O,$=m(b),D=$.j(I);C($)&&($=w),M=M.add($),j=U(j,D)}return new V(M,j)}t.B=function(j){return Q(this,j).h},t.and=function(j){const I=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<I;O++)b[O]=this.i(O)&j.i(O);return new u(b,this.h&j.h)},t.or=function(j){const I=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<I;O++)b[O]=this.i(O)|j.i(O);return new u(b,this.h|j.h)},t.xor=function(j){const I=Math.max(this.g.length,j.g.length),b=[];for(let O=0;O<I;O++)b[O]=this.i(O)^j.i(O);return new u(b,this.h^j.h)};function J(j){const I=j.g.length+1,b=[];for(let O=0;O<I;O++)b[O]=j.i(O)<<1|j.i(O-1)>>>31;return new u(b,j.h)}function se(j,I){const b=I>>5;I%=32;const O=j.g.length-b,M=[];for(let $=0;$<O;$++)M[$]=I>0?j.i($+b)>>>I|j.i($+b+1)<<32-I:j.i($+b);return new u(M,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,T1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=p,Li=u}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S1,fl,A1,Lc,xm,C1,I1,R1;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in E))break e;E=E[H]}c=c[c.length-1],A=E[c],_=_(A),_!=A&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function h(c,_,E){return c.call.apply(c.bind,arguments)}function m(c,_,E){return m=h,m.apply(null,arguments)}function p(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function v(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,H,q){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return _.prototype[H].apply(A,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function S(c){const _=c.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=c[A];return E}return[]}function C(c,_){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=c.length||0;const q=H.length||0;c.length=E+q;for(let oe=0;oe<q;oe++)c[E+oe]=H[oe]}else c.push(H)}}class k{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(c){u.setTimeout(()=>{throw c},0)}function U(){var c=j;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,E){const A=V.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var V=new k(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,se=!1,j=new L,I=()=>{const c=Promise.resolve(void 0);J=()=>{c.then(b)}};function b(){for(var c;c=U();){try{c.h.call(c.g)}catch(E){R(E)}var _=V;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}se=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function be(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}v(be,M),be.prototype.init=function(c,_){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),vt=0;function Ee(c,_,E,A,H){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=H,this.key=++vt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,_,E){for(const A in c)_.call(E,c[A],A,c)}function ae(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function z(c){const _={};for(const E in c)_[E]=c[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(c,_){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)c[E]=A[E];for(let q=0;q<Z.length;q++)E=Z[q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,_,E,A,H){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const oe=je(c,_,A,H);return oe>-1?(_=c[oe],E||(_.fa=!1)):(_=new Ee(_,this.src,q,!!A,H),_.fa=E,c.push(_)),_};function De(c,_){const E=_.type;if(E in c.g){var A=c.g[E],H=Array.prototype.indexOf.call(A,_,void 0),q;(q=H>=0)&&Array.prototype.splice.call(A,H,1),q&&(re(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function je(c,_,E,A){for(let H=0;H<c.length;++H){const q=c[H];if(!q.da&&q.listener==_&&q.capture==!!E&&q.ha==A)return H}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Be={};function qe(c,_,E,A,H){if(Array.isArray(_)){for(let q=0;q<_.length;q++)qe(c,_[q],E,A,H);return null}return E=ma(E),c&&c[$e]?c.J(_,E,f(A)?!!A.capture:!1,H):Zt(c,_,E,!1,A,H)}function Zt(c,_,E,A,H,q){if(!_)throw Error("Invalid event type");const oe=f(H)?!!H.capture:!!H;let Ie=Hs(c);if(Ie||(c[He]=Ie=new Ce(c)),E=Ie.add(_,E,A,oe,q),E.proxy)return E;if(A=$s(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)$||(H=oe),H===void 0&&(H=!1),c.addEventListener(_.toString(),A,H);else if(c.attachEvent)c.attachEvent(Ws(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $s(){function c(E){return _.call(c.src,c.listener,E)}const _=ou;return c}function fa(c,_,E,A,H){if(Array.isArray(_))for(var q=0;q<_.length;q++)fa(c,_[q],E,A,H);else A=f(A)?!!A.capture:!!A,E=ma(E),c&&c[$e]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],E=je(_,E,A,H),E>-1&&(re(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=Hs(c))&&(_=c.g[_.toString()],c=-1,_&&(c=je(_,E,A,H)),(E=c>-1?_[c]:null)&&ni(E))}function ni(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[$e])De(_.i,c);else{var E=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(E,A,c.capture):_.detachEvent?_.detachEvent(Ws(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Hs(_))?(De(E,c),E.h==0&&(E.src=null,_[He]=null)):re(c)}}}function Ws(c){return c in Be?Be[c]:Be[c]="on"+c}function ou(c,_){if(c.da)c=!0;else{_=new be(_,this);const E=c.listener,A=c.ha||c.src;c.fa&&ni(c),c=E.call(A,_)}return c}function Hs(c){return c=c[He],c instanceof Ce?c:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ma(c){return typeof c=="function"?c:(c[Xi]||(c[Xi]=function(_){return c.handleEvent(_)}),c[Xi])}function xt(){O.call(this),this.i=new Ce(this),this.M=this,this.G=null}v(xt,O),xt.prototype[$e]=!0,xt.prototype.removeEventListener=function(c,_,E,A){fa(this,c,_,E,A)};function ft(c,_){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var H=_;_=new M(A,c),Ae(_,H)}H=!0;let q,oe;if(E)for(oe=E.length-1;oe>=0;oe--)q=_.g=E[oe],H=On(q,A,!0,_)&&H;if(q=_.g=c,H=On(q,A,!0,_)&&H,H=On(q,A,!1,_)&&H,E)for(oe=0;oe<E.length;oe++)q=_.g=E[oe],H=On(q,A,!1,_)&&H}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let A=0;A<E.length;A++)re(E[A]);delete c.g[_],c.h--}}this.G=null},xt.prototype.J=function(c,_,E,A){return this.i.add(String(c),_,!1,E,A)},xt.prototype.K=function(c,_,E,A){return this.i.add(String(c),_,!0,E,A)};function On(c,_,E,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let q=0;q<_.length;++q){const oe=_[q];if(oe&&!oe.da&&oe.capture==E){const Ie=oe.listener,mt=oe.ha||oe.src;oe.fa&&De(c.i,oe),H=Ie.call(mt,A)!==!1&&H}}return H&&!A.defaultPrevented}function pa(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function ga(c){c.g=pa(()=>{c.g=null,c.i&&(c.i=!1,ga(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class au extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(c){O.call(this),this.h=c,this.g={}}v(ri,O);var ya=[];function Ks(c){fe(c.g,function(_,E){this.g.hasOwnProperty(E)&&ni(_)},c),c.g={}}ri.prototype.N=function(){ri.Z.N.call(this),Ks(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=u.JSON.stringify,lu=u.JSON.parse,Ji=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function si(){}function uu(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gs(){M.call(this,"d")}v(Gs,M);function va(){M.call(this,"c")}v(va,M);var Fn={},qs=null;function ai(){return qs=qs||new xt}Fn.Ia="serverreachability";function Qs(c){M.call(this,Fn.Ia,c)}v(Qs,M);function Rr(c){const _=ai();ft(_,new Qs(_))}Fn.STAT_EVENT="statevent";function kr(c,_){M.call(this,Fn.STAT_EVENT,c),this.stat=_}v(kr,M);function ut(c){const _=ai();ft(_,new kr(_,c))}Fn.Ja="timingevent";function xa(c,_){M.call(this,Fn.Ja,c),this.size=_}v(xa,M);function li(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function cu(c,_,E,A,H,q){c.info(function(){if(c.g)if(q){var oe="",Ie=q.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var mt=Ie[Ge].split("=");if(mt.length>1){const _t=mt[0];mt=mt[1];const xn=_t.split("_");oe=xn.length>=2&&xn[1]=="type"?oe+(_t+"="+mt+"&"):oe+(_t+"=redacted&")}}}else oe=null;else oe=q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+_+`
`+E+`
`+oe})}function hu(c,_,E,A,H,q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+_+`
`+E+`
`+q+" "+oe})}function er(c,_,E,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Zi(c,E)+(A?" "+A:"")})}function du(c,_){c.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function Zi(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return ii(q)}catch{return _}}var ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fu;function br(){}v(br,si),br.prototype.g=function(){return new XMLHttpRequest},fu=new br;function tr(c){return encodeURIComponent(String(c))}function Ys(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function Sn(c,_,E,A){this.j=c,this.i=_,this.l=E,this.S=A||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mu}function mu(){this.i=null,this.g="",this.h=!1}var pu={},_a={};function Bn(c,_,E){c.M=1,c.A=Vr(An(_)),c.u=E,c.R=!0,wa(c,null)}function wa(c,_){c.F=Date.now(),es(c),c.B=An(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Pa(E.i,"t",A),c.C=0,E=c.j.L,c.h=new mu,c.g=Au(c.j,E?_:null,!c.u),c.P>0&&(c.O=new au(m(c.Y,c,c.g),c.P)),_=c.V,E=c.g,A=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(ya[0]=H.toString()),H=ya);for(let q=0;q<H.length;q++){const oe=qe(E,H[q],A||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Rr(),cu(c.i,c.v,c.B,c.l,c.S,c.u)}Sn.prototype.ba=function(c){c=c.target;const _=this.O;_&&lr(c)==3?_.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=lr(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Tu(this.g)))){this.K||Ie!=4||mt==7||(mt==8||Ge<=0?Rr(3):Rr(2)),Xs(this);var _=this.g.ca();this.X=_;var E=gu(this);if(this.o=_==200,hu(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var q=A;break t}}q=null}if(c=q)er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,c);else{this.o=!1,this.m=3,ut(12),Pr(this),ts(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=vu(this,E),_t==_a){Ie==4&&(this.m=4,ut(14),c=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==pu){this.m=4,ut(15),er(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else er(this.i,this.l,_t,null),Je(this,_t);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,ut(16),c=!1),this.o=this.o&&c,!c)er(this.i,this.l,E,"[Invalid Chunked Response]"),Pr(this),ts(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cs(oe),oe.P=!0,ut(11))}}else er(this.i,this.l,E,null),Je(this,E);Ie==4&&Pr(this),this.o&&!this.K&&(Ie==4?ao(this.j,this):(this.o=!1,es(this)))}else Da(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Pr(this),ts(this)}}}catch{}finally{}};function gu(c){if(!yu(c))return c.g.la();const _=Tu(c.g);if(_==="")return"";let E="";const A=_.length,H=lr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Pr(c),ts(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,E+=c.h.i.decode(_[q],{stream:!(H&&q==A-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,_){var E=c.C,A=_.indexOf(`
`,E);return A==-1?_a:(E=Number(_.substring(E,A)),isNaN(E)?pu:(A+=1,A+E>_.length?_a:(_=_.slice(A,A+E),c.C=A+E,_)))}Sn.prototype.cancel=function(){this.K=!0,Pr(this)};function es(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(m(c.aa,c),_)}function Xs(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(du(this.i,this.B),this.M!=2&&(Rr(),ut(17)),Pr(this),this.m=2,ts(this)):Ea(this,this.T-c)};function ts(c){c.j.I==0||c.K||ao(c.j,c)}function Pr(c){Xs(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Ks(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Je(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Sa(E.h,c))){if(!c.L&&Sa(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)oo(E),yn(E);else break e;hr(E),ut(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=li(m(E.Va,E),6e3));ns(E.h)<=1&&E.ta&&(E.ta=void 0)}else vn(E,11)}else if((c.L||E.g==c)&&oo(E),!D(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let Ge=H[_];const _t=Ge[0];if(!(_t<=E.K))if(E.K=_t,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const xn=Ge[3];xn!=null&&(E.ka=xn,E.j.info("VER="+E.ka));const Lr=Ge[4];Lr!=null&&(E.za=Lr,E.j.info("SVER="+E.za));const dr=Ge[5];dr!=null&&typeof dr=="number"&&dr>0&&(A=1.5*dr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const fr=c.g;if(fr){const co=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var q=A.h;q.g||co.indexOf("spdy")==-1&&co.indexOf("quic")==-1&&co.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Zs(q,q.h),q.h=null))}if(A.G){const Ma=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(A.wa=Ma,We(A.J,A.G,Ma))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=c;if(A.na=Na(A,A.L?A.ba:null,A.W),oe.L){rs(A.h,oe);var Ie=oe,mt=A.O;mt&&(Ie.H=mt),Ie.D&&(Xs(Ie),es(Ie)),A.g=oe}else Wt(A);E.i.length>0&&Mr(E)}else Ge[0]!="stop"&&Ge[0]!="close"||vn(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?vn(E,7):io(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}Rr(4)}catch{}}var Fh=class{constructor(c,_){this.g=c,this.map=_}};function Js(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ns(c){return c.h?1:c.g?c.g.size:0}function Sa(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Zs(c,_){c.g?c.g.add(_):c.h=_}function rs(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Js.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return S(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let H,q=null;A>=0?(H=c[E].substring(0,A),q=c[E].substring(A+1)):H=c[E],_(H,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function nr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof nr?(this.l=c.l,is(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.u),this.h=c.h,di(this,Va(c.i)),this.m=c.m):c&&(_=String(c).match(xu))?(this.l=!1,is(this,_[1]||"",!0),this.o=ss(_[2]||""),this.g=ss(_[3]||"",!0),rr(this,_[4]),this.h=ss(_[5]||"",!0),di(this,_[6]||"",!0),this.m=ss(_[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}nr.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(os(_,Ca,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(os(_,Ca,!0),"@"),c.push(tr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(os(E,E.charAt(0)=="/"?as:Ia,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",os(E,Ra)),c.join("")},nr.prototype.resolve=function(c){const _=An(this);let E=!!c.j;E?is(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var A=c.h;if(E)rr(_,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=_.h.lastIndexOf("/");H!=-1&&(A=_.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const q=[];for(let oe=0;oe<H.length;){const Ie=H[oe++];Ie=="."?A&&oe==H.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&oe==H.length&&q.push("")):(q.push(Ie),A=!0)}A=q.join("/")}else A=H}return E?_.h=A:E=c.i.toString()!=="",E?di(_,Va(c.i)):E=!!c.m,E&&(_.m=c.m),_};function An(c){return new nr(c)}function is(c,_,E){c.j=E?ss(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function di(c,_,E){_ instanceof Le?(c.i=_,to(c.i,c.l)):(E||(_=os(_,Bh)),c.i=new Le(_,c.l))}function We(c,_,E){c.i.set(_,E)}function Vr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ss(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function os(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Aa),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Aa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Ia=/[#\?:]/g,as=/[#\?]/g,Bh=/[#\?@]/g,Ra=/#/g;function Le(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Le.prototype,t.add=function(c,_){ir(this),this.i=null,c=sr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function ka(c,_){ir(c),_=sr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function eo(c,_){return ir(c),_=sr(c,_),c.g.has(_)}t.forEach=function(c,_){ir(this),this.g.forEach(function(E,A){E.forEach(function(H){c.call(_,H,A,this)},this)},this)};function ba(c,_){ir(c);let E=[];if(typeof _=="string")eo(c,_)&&(E=E.concat(c.g.get(sr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}t.set=function(c,_){return ir(this),this.i=null,c=sr(this,c),eo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=ba(this,c),c.length>0?String(c[0]):_):_};function Pa(c,_,E){ka(c,_),E.length>0&&(c.i=null,c.g.set(sr(c,_),S(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const H=tr(E);E=ba(this,E);for(let q=0;q<E.length;q++){let oe=H;E[q]!==""&&(oe+="="+tr(E[q])),c.push(oe)}}return this.i=c.join("&")};function Va(c){const _=new Le;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function sr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function to(c,_){_&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(ka(this,A),Pa(this,H,E))},c)),c.j=_}function or(c,_){const E=new ui;if(u.Image){const A=new Image;A.onload=p(Nt,E,"TestLoadImage: loaded",!0,_,A),A.onerror=p(Nt,E,"TestLoadImage: error",!1,_,A),A.onabort=p(Nt,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=p(Nt,E,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function ar(c,_){const E=new ui,A=new AbortController,H=setTimeout(()=>{A.abort(),Nt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(H),q.ok?Nt(E,"TestPingServer: ok",!0,_):Nt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Nt(E,"TestPingServer: error",!1,_)})}function Nt(c,_,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function ls(){this.g=new Ji}function Dr(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Dr,si),Dr.prototype.g=function(){return new gn(this.i,this.h)};function gn(c,_){xt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(gn,xt),t=gn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Un(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_u(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _u(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?fi(this):Un(this),this.readyState==3&&_u(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,fi(this))},t.Na=function(c){this.g&&(this.response=c,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Un(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wu(c){let _="";return fe(c,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function no(c,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=wu(E),typeof c=="string"?E!=null&&tr(E):We(c,_,E))}function Qe(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Qe,xt);var Eu=/^https?$/i,Uh=["POST","PUT"];t=Qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fu.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){mi(this,q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())E.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),H=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Uh,_,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of E)this.g.setRequestHeader(q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){mi(this,q)}};function mi(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,pi(c),Nr(c)}function pi(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ft(this,"complete"),ft(this,"abort"),Nr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},t.Xa=function(){jr(this)};function jr(c){if(c.h&&typeof a<"u"){if(c.v&&lr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ft(c,"readystatechange"),lr(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=q===0){let oe=String(c.D).match(xu)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),A=!Eu.test(oe?oe.toLowerCase():"")}E=A}if(E)ft(c,"complete"),ft(c,"success");else{c.o=6;try{var H=lr(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",pi(c)}}finally{Nr(c)}}}}function Nr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||ft(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),lu(_)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(c){const _={};c=(c.g&&lr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var E=Ys(c[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=_[H]||[];_[H]=q,q.push(E)}ae(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function ro(c){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ur("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ur("baseRetryDelayMs",5e3,c),this.Za=ur("retryDelaySeedMs",1e4,c),this.Ta=ur("forwardChannelMaxRetries",2,c),this.va=ur("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Js(c&&c.concurrentRequestLimit),this.Ba=new ls,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ro.prototype,t.ka=8,t.I=1,t.connect=function(c,_,E,A){ut(0),this.W=c,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Na(this,null,this.W),Mr(this)};function io(c){if(so(c),c.I==3){var _=c.V++,E=An(c.J);if(We(E,"SID",c.M),We(E,"RID",_),We(E,"TYPE","terminate"),cr(c,E),_=new Sn(c,c.j,_),_.M=2,_.A=Vr(An(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Au(_.j,null),_.g.ea(_.A)),_.F=Date.now(),es(_)}hs(c)}function yn(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function so(c){yn(c),c.v&&(u.clearTimeout(c.v),c.v=null),oo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Mr(c){if(!Ta(c.h)&&!c.m){c.m=!0;var _=c.Ea;J||I(),se||(J(),se=!0),j.add(_,c),c.D=0}}function Su(c,_){return ns(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(m(c.Ea,c,_),lo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new Sn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=z(q),Ae(q,this.U)):q=this.U),this.u!==null||this.R||(H.J=q,q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ja(this,H,_),E=An(this.J),We(E,"RID",c),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),cr(this,E),q&&(this.R?_="headers="+tr(wu(q))+"&"+_:this.u&&no(E,this.u,q)),Zs(this.h,H),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",_),We(E,"SID","null"),H.U=!0,Bn(H,E,null)):Bn(H,E,_),this.I=2}}else this.I==3&&(c?us(this,c):this.i.length==0||Ta(this.h)||us(this))};function us(c,_){var E;_?E=_.l:E=c.V++;const A=An(c.J);We(A,"SID",c.M),We(A,"RID",E),We(A,"AID",c.K),cr(c,A),c.u&&c.o&&no(A,c.u,c.o),E=new Sn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=ja(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zs(c.h,E),Bn(E,A,_)}function cr(c,_){c.H&&fe(c.H,function(E,A){We(_,A,E)}),c.l&&fe({},function(E,A){We(_,A,E)})}function ja(c,_,E){E=Math.min(c.i.length,E);const A=c.l?m(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ie=-1;for(;;){const mt=["count="+E];Ie==-1?E>0?(Ie=H[0].g,mt.push("ofs="+Ie)):Ie=0:mt.push("ofs="+Ie);let Ge=!0;for(let _t=0;_t<E;_t++){var q=H[_t].g;const xn=H[_t].map;if(q-=Ie,q<0)Ie=Math.max(0,H[_t].g-100),Ge=!1;else try{q="req"+q+"_"||"";try{var oe=xn instanceof Map?xn:Object.entries(xn);for(const[Lr,dr]of oe){let fr=dr;f(dr)&&(fr=ii(dr)),mt.push(q+Lr+"="+encodeURIComponent(fr))}}catch(Lr){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Lr}}catch{A&&A(xn)}}if(Ge){oe=mt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),_.G=c,oe}function Wt(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;J||I(),se||(J(),se=!0),j.add(_,c),c.A=0}}function hr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(m(c.Da,c),lo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,gi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(m(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),yn(this),gi(this))};function cs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function gi(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=An(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),cr(c,_),c.u&&c.o&&no(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Vr(An(_)),E.u=null,E.R=!0,wa(E,c)}t.Va=function(){this.C!=null&&(this.C=null,yn(this),hr(this),ut(19))};function oo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function ao(c,_){var E=null;if(c.g==_){oo(c),cs(c),c.g=null;var A=2}else if(Sa(c.h,_))E=_.G,rs(c.h,_),A=1;else return;if(c.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=c.D;A=ai(),ft(A,new xa(A,E)),Mr(c)}else Wt(c);else if(H=_.m,H==3||H==0&&_.X>0||!(A==1&&Su(c,_)||A==2&&hr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),H){case 1:vn(c,5);break;case 4:vn(c,10);break;case 3:vn(c,6);break;default:vn(c,2)}}}function lo(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function vn(c,_){if(c.j.info("Error code "+_),_==2){var E=m(c.bb,c),A=c.Ua;const H=!A;A=new nr(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||is(A,"https"),Vr(A),H?or(A.toString(),E):ar(A.toString(),E)}else ut(2);c.I=0,c.l&&c.l.pa(_),hs(c),so(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function hs(c){if(c.I=0,c.ja=[],c.l){const _=mn(c.h);(_.length!=0||c.i.length!=0)&&(C(c.ja,_),C(c.ja,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.oa()}}function Na(c,_,E){var A=E instanceof nr?An(E):new nr(E);if(A.g!="")_&&(A.g=_+"."+A.g),rr(A,A.u);else{var H=u.location;A=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const q=new nr(null);A&&is(q,A),_&&(q.g=_),H&&rr(q,H),E&&(q.h=E),A=q}return E=c.G,_=c.wa,E&&_&&We(A,E,_),We(A,"VER",c.ka),cr(c,A),A}function Au(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Qe(new Dr({ab:E})):new Qe(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}t=Cu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function uo(){}uo.prototype.g=function(c,_){return new Mt(c,_)};function Mt(c,_){xt.call(this),this.g=new ro(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!D(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new yi(this)}v(Mt,xt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){io(this.g)},Mt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ii(c),c=E);_.i.push(new Fh(_.Ya++,c)),_.I==3&&Mr(_)},Mt.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,Mt.Z.N.call(this)};function Iu(c){Gs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}v(Iu,Gs);function Ru(){va.call(this),this.status=1}v(Ru,va);function yi(c){this.g=c}v(yi,Cu),yi.prototype.ra=function(){ft(this.g,"a")},yi.prototype.qa=function(c){ft(this.g,new Iu(c))},yi.prototype.pa=function(c){ft(this.g,new Ru)},yi.prototype.oa=function(){ft(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,R1=function(){return new uo},I1=function(){return ai()},C1=Fn,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,Lc=ci,hi.COMPLETE="complete",A1=hi,uu.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",xt.prototype.listen=xt.prototype.J,fl=uu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,S1=Qe}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="12.8.0";function j2(t){sa=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new y1("@firebase/firestore");function Vo(){return Ns.logLevel}function ce(t,...e){if(Ns.logLevel<=Fe.DEBUG){const n=e.map(Cp);Ns.debug(`Firestore (${sa}): ${t}`,...n)}}function Zr(t,...e){if(Ns.logLevel<=Fe.ERROR){const n=e.map(Cp);Ns.error(`Firestore (${sa}): ${t}`,...n)}}function Go(t,...e){if(Ns.logLevel<=Fe.WARN){const n=e.map(Cp);Ns.warn(`Firestore (${sa}): ${t}`,...n)}}function Cp(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,k1(t,i,n)}function k1(t,e,n){let i=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zr(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||k1(e,o,i)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},f=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new b1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class O2{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F2{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ax(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ax(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=U2(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function _m(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Lf(o)===Lf(a)?Ne(o,a):Lf(o)?1:-1}return Ne(t.length,e.length)}const z2=55296,$2=57343;function Lf(t){const e=t.charCodeAt(0);return e>=z2&&e<=$2}function qo(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__name__";class vr{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=vr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const i=vr.isNumericId(e),o=vr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?vr.extractNumericId(e).compare(vr.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class Xe extends vr{construct(e,n,i){return new Xe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Xe(n)}static emptyPath(){return new Xe([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends vr{construct(e,n,i){return new Ut(e,n,i)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lx}static keyField(){return new Ut([lx])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H2(t,e,n,i){if(e===!0&&i===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ux(t){if(!ye.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cx(t){if(ye.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function V1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jl(t,e){if(!V1(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=-62135596800,dx=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*dx);return new tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hx)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dx}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:At("string",tt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function K2(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new tt(n+1,0):new tt(n,i));return new Ui(o,ye.empty(),e)}function G2(t){return new Ui(t.readTime,t.key,Nl)}class Ui{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ui(Se.min(),ye.empty(),Nl)}static max(){return new Ui(Se.max(),ye.empty(),Nl)}}function q2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==Q2)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,i)=>{n(e)}))}static reject(e){return new X(((n,i)=>{i(e)}))}static waitFor(e){return new X(((n,i)=>{let o=0,a=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++a,u&&a===o&&n()}),(h=>i(h)))})),u=!0,a===o&&n()}))}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next((o=>o?X.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new X(((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next((p=>{u[m]=p,++f,f===a&&i(u)}),(p=>o(p)))}}))}static doWhile(e,n){return new X(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function X2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function vh(t){return t==null}function eh(t){return t===0&&1/t==-1/0}function J2(t){return typeof t=="number"&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="";function Z2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fx(e)),e=eV(t.get(n),e);return fx(e)}function eV(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case D1:n+="";break;default:n+=a}}return n}function fx(t){return t+D1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Bt.RED,this.left=o??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Bt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new px(this.data.getIterator())}getIteratorFrom(e){return new px(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class px{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new bt(Ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new N1("Invalid base64 string: "+a):a}})(e);return new zt(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const tV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=tV.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="server_timestamp",L1="__type__",O1="__previous_value__",F1="__local_write_time__";function kp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[L1])==null?void 0:i.stringValue)===M1}function xh(t){const e=t.mapValue.fields[O1];return kp(e)?xh(e):e}function Ml(t){const e=zi(t.mapValue.fields[F1].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,i,o,a,u,f,h,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=p,this.apiKey=v}}const th="(default)";class Ll{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}function rV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",iV="__max__",Rc={mapValue:{}},U1="__vector__",nh="value";function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kp(t)?4:oV(t)?9007199254740991:sV(t)?10:11:we(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=zi(o.timestampValue),f=zi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return $i(o.bytesValue).isEqual($i(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return gt(o.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return gt(o.integerValue)===gt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=gt(o.doubleValue),f=gt(a.doubleValue);return u===f?eh(u)===eh(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(mx(u)!==mx(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Cr(u[h],f[h])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find((n=>Cr(n,e)))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Wi(t),i=Wi(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=gt(a.integerValue||a.doubleValue),h=gt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(t,e);case 3:return gx(t.timestampValue,e.timestampValue);case 4:return gx(Ml(t),Ml(e));case 5:return _m(t.stringValue,e.stringValue);case 6:return(function(a,u){const f=$i(a),h=$i(u);return f.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const p=Ne(f[m],h[m]);if(p!==0)return p}return Ne(f.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=Ne(gt(a.latitude),gt(u.latitude));return f!==0?f:Ne(gt(a.longitude),gt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var w,S,C,k;const f=a.fields||{},h=u.fields||{},m=(w=f[nh])==null?void 0:w.arrayValue,p=(S=h[nh])==null?void 0:S.arrayValue,v=Ne(((C=m==null?void 0:m.values)==null?void 0:C.length)||0,((k=p==null?void 0:p.values)==null?void 0:k.length)||0);return v!==0?v:yx(m,p)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Rc.mapValue&&u===Rc.mapValue)return 0;if(a===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},p=Object.keys(m);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const w=_m(h[v],p[v]);if(w!==0)return w;const S=Qo(f[h[v]],m[p[v]]);if(S!==0)return S}return Ne(h.length,p.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=zi(t),i=zi(e),o=Ne(n.seconds,i.seconds);return o!==0?o:Ne(n.nanos,i.nanos)}function yx(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Qo(n[o],i[o]);if(a)return a}return Ne(n.length,i.length)}function Yo(t){return wm(t)}function wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=zi(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $i(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=wm(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${wm(n.fields[u])}`;return o+"}"})(t.mapValue):we(61005,{value:t})}function Oc(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(t);return e?16+Oc(e):16;case 5:return 2*t.stringValue.length;case 6:return $i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Oc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return qi(i.fields,((a,u)=>{o+=a.length+Oc(u)})),o})(t.mapValue);default:throw we(13486,{value:t})}}function vx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Em(t){return!!t&&"integerValue"in t}function bp(t){return!!t&&"arrayValue"in t}function xx(t){return!!t&&"nullValue"in t}function _x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function sV(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[B1])==null?void 0:i.stringValue)===U1}function El(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qi(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=El(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return{...t}}function oV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Ut.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=El(u):o.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){qi(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new fn(El(this.value))}}function z1(t){const e=[];return qi(t.fields,((n,i)=>{const o=new Ut([n]);if(Fc(i)){const a=z1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,i,o,a,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Xt(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,n,i,o){return new Xt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.position=e,this.inclusive=n}}function wx(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),n.key):i=Qo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ex(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function aV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class St extends $1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new uV(e,n,i):n==="array-contains"?new dV(e,i):n==="in"?new fV(e,i):n==="not-in"?new mV(e,i):n==="array-contains-any"?new pV(e,i):new St(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new cV(e,i):new hV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends $1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return W1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(t){return t.op==="and"}function H1(t){return lV(t)&&W1(t)}function lV(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Tm(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(H1(t))return t.filters.map((e=>Tm(e))).join(",");{const e=t.filters.map((n=>Tm(n))).join(",");return`${t.op}(${e})`}}function K1(t,e){return t instanceof St?(function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&Cr(i.value,o.value)})(t,e):t instanceof Jn?(function(i,o){return o instanceof Jn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,f)=>a&&K1(u,o.filters[f])),!0):!1})(t,e):void we(19439)}function G1(t){return t instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(t):t instanceof Jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(G1).join(" ,")+"}"})(t):"Filter"}class uV extends St{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class cV extends St{constructor(e,n){super(e,"in",n),this.keys=q1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hV extends St{constructor(e,n){super(e,"not-in",n),this.keys=q1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function q1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class dV extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&Ol(n.arrayValue,this.value)}}class fV extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class mV extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class pV extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ol(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function Tx(t,e=null,n=[],i=[],o=null,a=null,u=null){return new gV(t,e,n,i,o,a,u)}function Pp(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Tm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Yo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Yo(i))).join(",")),e.Te=n}return e.Te}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ex(t.startAt,e.startAt)&&Ex(t.endAt,e.endAt)}function Sm(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yV(t,e,n,i,o,a,u,f){return new la(t,e,n,i,o,a,u,f)}function Dp(t){return new la(t)}function Sx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vV(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Q1(t){return t.collectionGroup!==null}function Tl(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new bt(Ut.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Fl(a,i))})),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Fl(Ut.keyField(),i))}return e.Ie}function _r(t){const e=Re(t);return e.Ee||(e.Ee=xV(e,Tl(t))),e.Ee}function xV(t,e){if(t.limitType==="F")return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Fl(o.field,a)}));const n=t.endAt?new rh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new rh(t.startAt.position,t.startAt.inclusive):null;return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Am(t,e){const n=t.filters.concat([e]);return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _V(t,e){const n=t.explicitOrderBy.concat([e]);return new la(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ih(t,e,n){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return Vp(_r(t),_r(e))&&t.limitType===e.limitType}function Y1(t){return`${Pp(_r(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>G1(o))).join(", ")}]`),vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Yo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Yo(o))).join(",")),`Target(${i})`})(_r(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ye.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of Tl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,h){const m=wx(u,f,h);return u.inclusive?m<=0:m<0})(i.startAt,Tl(i),o)||i.endAt&&!(function(u,f,h){const m=wx(u,f,h);return u.inclusive?m>=0:m>0})(i.endAt,Tl(i),o))})(t,e)}function wV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X1(t){return(e,n)=>{let i=!1;for(const o of Tl(t)){const a=EV(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function EV(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Qo(h,m):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new lt(ye.comparator);function ei(){return TV}const J1=new lt(ye.comparator);function ml(...t){let e=J1;for(const n of t)e=e.insert(n.key,n);return e}function Z1(t){let e=J1;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ks(){return Sl()}function eE(){return Sl()}function Sl(){return new Bs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SV=new lt(ye.comparator),AV=new bt(ye.comparator);function Me(...t){let e=AV;for(const n of t)e=e.add(n);return e}const CV=new bt(Ne);function IV(){return CV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function tE(t){return{integerValue:""+t}}function nE(t,e){return J2(e)?tE(e):jp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function RV(t,e,n){return t instanceof Bl?(function(o,a){const u={fields:{[L1]:{stringValue:M1},[F1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&kp(a)&&(a=xh(a)),a&&(u.fields[O1]=a),{mapValue:u}})(n,e):t instanceof Xo?iE(t,e):t instanceof Ul?sE(t,e):(function(o,a){const u=rE(o,a),f=Ax(u)+Ax(o.Ae);return Em(u)&&Em(o.Ae)?tE(f):jp(o.serializer,f)})(t,e)}function kV(t,e,n){return t instanceof Xo?iE(t,e):t instanceof Ul?sE(t,e):n}function rE(t,e){return t instanceof zl?(function(i){return Em(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Bl extends Eh{}class Xo extends Eh{constructor(e){super(),this.elements=e}}function iE(t,e){const n=oE(e);for(const i of t.elements)n.some((o=>Cr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Ul extends Eh{constructor(e){super(),this.elements=e}}function sE(t,e){let n=oE(e);for(const i of t.elements)n=n.filter((o=>!Cr(o,i)));return{arrayValue:{values:n}}}class zl extends Eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ax(t){return gt(t.integerValue||t.doubleValue)}function oE(t){return bp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.field=e,this.transform=n}}function bV(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Xo&&o instanceof Xo||i instanceof Ul&&o instanceof Ul?qo(i.elements,o.elements,Cr):i instanceof zl&&o instanceof zl?Cr(i.Ae,o.Ae):i instanceof Bl&&o instanceof Bl})(t.transform,e.transform)}class PV{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Th{}function aE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uE(t.key,Yn.none()):new Zl(t.key,t.data,Yn.none());{const n=t.data,i=fn.empty();let o=new bt(Ut.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Qi(t.key,i,new Tn(o.toArray()),Yn.none())}}function VV(t,e,n){t instanceof Zl?(function(o,a,u){const f=o.value.clone(),h=Ix(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qi?(function(o,a,u){if(!Bc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Ix(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(lE(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Al(t,e,n,i){return t instanceof Zl?(function(a,u,f,h){if(!Bc(a.precondition,u))return f;const m=a.value.clone(),p=Rx(a.fieldTransforms,h,u);return m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Qi?(function(a,u,f,h){if(!Bc(a.precondition,u))return f;const m=Rx(a.fieldTransforms,h,u),p=u.data;return p.setAll(lE(a)),p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(a,u,f){return Bc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function DV(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=rE(i.transform,o||null);a!=null&&(n===null&&(n=fn.empty()),n.set(i.field,a))}return n||null}function Cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,((a,u)=>bV(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends Th{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qi extends Th{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Ix(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,kV(u,f,n[o]))}return i}function Rx(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,RV(a,u,e))}return i}class uE extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jV extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&VV(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Al(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=eE();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(o.key)?null:f;const h=aE(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((n,i)=>Cx(n,i)))&&qo(this.baseMutations,e.baseMutations,((n,i)=>Cx(n,i)))}}class Mp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return SV})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Mp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Oe;function OV(t){switch(t){case Y.OK:return we(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function cE(t){if(t===void 0)return Zr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return we(39323,{code:t})}}(Oe=Et||(Et={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Li([4294967295,4294967295],0);function kx(t){const e=FV().encode(t),n=new T1;return n.update(e),new Uint8Array(n.digest())}function bx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Li([n,i],0),new Li([o,a],0)]}class Lp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(i<0)throw new pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Li.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Li.fromNumber(i)));return o.compare(BV)===1&&(o=new Li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kx(e),[i,o]=bx(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Lp(a,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=kx(e),[i,o]=bx(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh(Se.min(),o,new lt(Ne),ei(),Me())}}class eu{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new eu(i,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class hE{constructor(e,n){this.targetId=e,this.Ce=n}}class dE{constructor(e,n,i=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Px{constructor(){this.ve=0,this.Fe=Vx(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),i=Me();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:a})}})),new eu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Vx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UV{constructor(e){this.Ge=e,this.ze=new Map,this.je=ei(),this.He=kc(),this.Je=kc(),this.Ze=new lt(Ne)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Sm(a))if(i===0){const u=new ye(a.path);this.et(n,u,Xt.newNoDocument(u,Se.min()))}else Ke(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),h=f?this.ct(f,e,u):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,f;try{u=$i(i).toUint8Array()}catch(h){if(h instanceof N1)return Go("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Lp(u,o,a)}catch(h){return Go(h instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&Sm(f.target)){const h=new ye(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,Xt.newNoDocument(h,e))}a.Be&&(n.set(u,a.ke()),a.Ke())}}));let i=Me();this.Je.forEach(((a,u)=>{let f=!0;u.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Sh(e,n,this.Ze,this.je,i);return this.je=ei(),this.He=kc(),this.Je=kc(),this.Ze=new lt(Ne),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Px,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new bt(Ne),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new bt(Ne),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Px),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kc(){return new lt(ye.comparator)}function Vx(){return new lt(ye.comparator)}const zV={asc:"ASCENDING",desc:"DESCENDING"},$V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WV={and:"AND",or:"OR"};class HV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KV(t,e){return sh(t,e.toTimestamp())}function wr(t){return Ke(!!t,49232),Se.fromTimestamp((function(n){const i=zi(n);return new tt(i.seconds,i.nanos)})(t))}function Op(t,e){return Im(t,e).canonicalString()}function Im(t,e){const n=(function(o){return new Xe(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mE(t){const e=Xe.fromString(t);return Ke(xE(e),10190,{key:e.toString()}),e}function Rm(t,e){return Op(t.databaseId,e.path)}function Of(t,e){const n=mE(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(gE(n))}function pE(t,e){return Op(t.databaseId,e)}function GV(t){const e=mE(t);return e.length===4?Xe.emptyPath():gE(e)}function km(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gE(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dx(t,e,n){return{name:Rm(t,e),fields:n.value.mapValue.fields}}function qV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,p){return m.useProto3Json?(Ke(p===void 0||typeof p=="string",58123),zt.fromBase64String(p||"")):(Ke(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zt.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(m){const p=m.code===void 0?Y.UNKNOWN:cE(m.code);return new le(p,m.message||"")})(u);n=new dE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Of(t,i.document.name),a=wr(i.document.updateTime),u=i.document.createTime?wr(i.document.createTime):Se.min(),f=new fn({mapValue:{fields:i.document.fields}}),h=Xt.newFoundDocument(o,a,u,f),m=i.targetIds||[],p=i.removedTargetIds||[];n=new Uc(m,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Of(t,i.document),a=i.readTime?wr(i.readTime):Se.min(),u=Xt.newNoDocument(o,a),f=i.removedTargetIds||[];n=new Uc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Of(t,i.document),a=i.removedTargetIds||[];n=new Uc([],a,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new LV(o,a),f=i.targetId;n=new hE(f,u)}}return n}function QV(t,e){let n;if(e instanceof Zl)n={update:Dx(t,e.key,e.value)};else if(e instanceof uE)n={delete:Rm(t,e.key)};else if(e instanceof Qi)n={update:Dx(t,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof jV))return we(16599,{dt:e.type});n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const f=u.transform;if(f instanceof Bl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zl)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:KV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)})(t,e.precondition)),n}function YV(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?wr(o.updateTime):wr(a);return u.isEqual(Se.min())&&(u=wr(a)),new PV(u,o.transformResults||[])})(n,e)))):[]}function XV(t,e){return{documents:[pE(t,e.path)]}}function JV(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pE(t,o);const a=(function(m){if(m.length!==0)return vE(Jn.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((p=>(function(w){return{field:jo(w.field),direction:tD(w.dir)}})(p)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Cm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function ZV(t){let e=GV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const p=n.from[0];p.allDescendants?o=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(v){const w=yE(v);return w instanceof Jn&&H1(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(C){return new Fl(No(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let w;return w=typeof v=="object"?v.value:v,vh(w)?null:w})(n.limit));let h=null;n.startAt&&(h=(function(v){const w=!!v.before,S=v.values||[];return new rh(S,w)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const w=!v.before,S=v.values||[];return new rh(S,w)})(n.endAt)),yV(e,o,u,a,f,"F",h,m)}function eD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=No(n.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=No(n.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(n.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return St.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Jn.create(n.compositeFilter.filters.map((i=>yE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function tD(t){return zV[t]}function nD(t){return $V[t]}function rD(t){return WV[t]}function jo(t){return{fieldPath:t.canonicalString()}}function No(t){return Ut.fromServerFormat(t.fieldPath)}function vE(t){return t instanceof St?(function(n){if(n.op==="=="){if(_x(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(xx(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_x(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(xx(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:nD(n.op),value:n.value}}})(t):t instanceof Jn?(function(n){const i=n.getFilters().map((o=>vE(o)));return i.length===1?i[0]:{compositeFilter:{op:rD(n.op),filters:i}}})(t):we(54877,{filter:t})}function iD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function _E(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,i,o,a=Se.min(),u=Se.min(),f=zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.yt=e}}function oD(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Sn=new lD}addToCollectionParentIndex(e,n){return this.Sn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Ui.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class lD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new bt(Xe.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new bt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(wE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jo(0)}static ar(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="LruGarbageCollector",uD=1048576;function Mx([t,e],[n,i]){const o=Ne(t,n);return o===0?Ne(e,i):o}class cD{constructor(e){this.Pr=e,this.buffer=new bt(Mx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Mx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Nx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?ce(Nx,"Ignoring IndexedDB error during garbage collection: ",n):await oa(n)}await this.Ar(3e5)}))}}class dD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(yh.ce);const i=new cD(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,a,u,f,h,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(i=v,f=Date.now(),this.removeTargets(e,i,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),Vo()<=Fe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-p}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v}))))}}function fD(t,e){return new dD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changes=new Bs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Al(i.mutation,o,Tn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Me()){const o=ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=ml();return a.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ks();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Me())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let a=ei();const u=Sl(),f=(function(){return Sl()})();return n.forEach(((h,m)=>{const p=i.get(m.key);o.has(m.key)&&(p===void 0||p.mutation instanceof Qi)?a=a.insert(m.key,m):p!==void 0?(u.set(m.key,p.mutation.getFieldMask()),Al(p.mutation,m,p.mutation.getFieldMask(),tt.now())):u.set(m.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((m,p)=>u.set(m,p))),n.forEach(((m,p)=>f.set(m,new pD(p,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Sl();let o=new lt(((u,f)=>u-f)),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let p=i.get(h)||Tn.empty();p=f.applyToLocalView(m,p),i.set(h,p);const v=(o.get(f.batchId)||Me()).add(h);o=o.insert(f.batchId,v)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,p=h.value,v=eE();p.forEach((w=>{if(!a.has(w)){const S=aE(n.get(w),i.get(w));S!==null&&v.set(w,S),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return X.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return vV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):X.resolve(ks());let f=Nl,h=a;return u.next((m=>X.forEach(m,((p,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),a.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next((w=>{h=h.insert(p,w)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,h,m,Me()))).next((p=>({batchId:f,changes:Z1(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=ml();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=ml();return this.indexManager.getCollectionParents(e,a).next((f=>X.forEach(f,(h=>{const m=(function(v,w){return new la(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((p=>{p.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((h,m)=>{const p=m.getKey();u.get(p)===null&&(u=u.insert(p,Xt.newInvalidDocument(p)))}));let f=ml();return u.forEach(((h,m)=>{const p=a.get(h);p!==void 0&&Al(p.mutation,m,Tn.empty(),tt.now()),wh(n,m)&&(f=f.insert(h,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:oD(o.bundledQuery),readTime:wr(o.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.overlays=new lt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ks();return X.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.bt(e,n,a)})),X.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const o=ks(),a=n.length+1,u=new ye(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new lt(((m,p)=>m-p));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let p=a.get(m.largestBatchId);p===null&&(p=ks(),a=a.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const f=ks(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,p)=>f.set(m,p))),!(f.size()>=o)););return X.resolve(f)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new MV(n,i));let a=this.Lr.get(n);a===void 0&&(a=Me(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.kr=new bt(jt.Kr),this.qr=new bt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new jt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new Xe([])),i=new jt(n,e),o=new jt(n,e+1),a=[];return this.qr.forEachInRange([i,o],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Xe([])),i=new jt(n,e),o=new jt(n,e+1);let a=Me();return this.qr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new jt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new bt(jt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NV(a,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Jr=this.Jr.add(new jt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rp:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,o],(u=>{const f=this.Zr(u.Hr);a.push(f)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new bt(Ne);return n.forEach((o=>{const a=new jt(o,0),u=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(f=>{i=i.add(f.Hr)}))})),X.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ye.isDocumentKey(a)||(a=a.child(""));const u=new jt(new ye(a),0);let f=new bt(Ne);return this.Jr.forEachWhile((h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Hr)),!0)}),u),X.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return X.forEach(n.mutations,(o=>{const a=new jt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new jt(n,0),o=this.Jr.firstAfterOrEqual(i);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.ti=e,this.docs=(function(){return new lt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let i=ei();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Xt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=ei();const u=n.path,f=new ye(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:p}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||q2(G2(p),i)<=0||(o.has(p.key)||wh(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,i,o){we(9500)}ni(e,n){return X.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new ED(this)}getSize(e){return X.resolve(this.size)}}class ED extends mD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),X.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.ri=new Bs((n=>Pp(n)),Vp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Fp,this.targetCount=0,this.oi=Jo._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),X.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.lr(n),X.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(a).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this._i={},this.overlays={},this.ai=new yh(0),this.ui=!1,this.ui=!0,this.ci=new xD,this.referenceDelegate=e(this),this.li=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new wD(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new sD(n),this.Pi=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new _D(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new SD(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,n){return X.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class SD extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Ai=null}static Vi(e){return new Bp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((a=>{a||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.fi=new Bs((i=>Z2(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=fD(this,n)}static Vi(e,n){return new oh(e,n)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return X.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((a=>a?X.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(i++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),X.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}wr(e,n,i){return X.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Me(),o=Me();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Up(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gP()?8:X2(mP())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.gs(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new AD;return this.ys(e,n,u).next((f=>{if(a.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>a.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Vo()<=Fe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Vo()<=Fe.DEBUG&&ce("QueryEngine","Query:",Do(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Vo()<=Fe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):X.resolve())}gs(e,n){if(Sx(n))return X.resolve(null);let i=_r(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ih(n,null,"F"),i=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Me(...a);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((h=>{const m=this.bs(n,f);return this.Ss(n,m,u,h.readTime)?this.gs(e,ih(n,null,"F")):this.Ds(e,m,n,h)}))))})))))}ps(e,n,i,o){return Sx(n)||o.isEqual(Se.min())?X.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(n,a);return this.Ss(n,u,i,o)?X.resolve(null):(Vo()<=Fe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.Ds(e,u,n,K2(o,Nl)).next((f=>f)))}))}bs(e,n){let i=new bt(X1(e));return n.forEach(((o,a)=>{wh(e,a)&&(i=i.add(a))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,n,i){return Vo()<=Fe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Do(n)),this.fs.getDocumentsMatchingQuery(e,n,Ui.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",ID=3e8;class RD{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new lt(Ne),this.Fs=new Bs((a=>Pp(a)),Vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function kD(t,e,n,i){return new RD(t,e,n,i)}async function TE(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],f=[];let h=Me();for(const m of o){u.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}for(const m of a){f.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function bD(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,h,m,p){const v=m.batch,w=v.keys();let S=X.resolve();return w.forEach((C=>{S=S.next((()=>p.getEntry(h,C))).next((k=>{const R=m.docVersions.get(C);Ke(R!==null,48541),k.version.compareTo(R)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),p.addEntry(k)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(h,v)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let h=Me();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function SE(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function PD(t,e){const n=Re(t),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const f=[];e.targetChanges.forEach(((p,v)=>{const w=o.get(v);if(!w)return;f.push(n.li.removeMatchingKeys(a,p.removedDocuments,v).next((()=>n.li.addMatchingKeys(a,p.addedDocuments,v))));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,i)),o=o.insert(v,S),(function(k,R,U){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=ID?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,S,p)&&f.push(n.li.updateTargetData(a,S))}));let h=ei(),m=Me();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),f.push(VD(a,u,e.documentUpdates).next((p=>{h=p.Bs,m=p.Ls}))),!i.isEqual(Se.min())){const p=n.li.getLastRemoteSnapshotVersion(a).next((v=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));f.push(p)}return X.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,m))).next((()=>h))})).then((a=>(n.vs=o,a)))}function VD(t,e,n){let i=Me(),o=Me();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=ei();return n.forEach(((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ce(zp,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)})),{Bs:u,Ls:o}}))}function DD(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jD(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((a=>a?(o=a,X.resolve(o)):n.li.allocateTargetId(i).next((u=>(o=new ji(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function bm(t,e,n){const i=Re(t),o=i.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!aa(u))throw u;ce(zp,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function Lx(t,e,n){const i=Re(t);let o=Se.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,m,p){const v=Re(h),w=v.Fs.get(p);return w!==void 0?X.resolve(v.vs.get(w)):v.li.getTargetData(m,p)})(i,u,_r(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((h=>{a=h}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:Me()))).next((f=>(ND(i,wV(e),f),{documents:f,ks:a})))))}function ND(t,e,n){let i=t.Ms.get(e)||Se.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Ms.set(e,i)}class Ox{constructor(){this.activeTargetIds=IV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.vo=new Ox,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ox,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="ConnectivityMonitor";class Bx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Fx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Fx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Pm(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===th?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,a){const u=Pm(),f=this.Qo(e,n.toUriEncodedString());ce(Ff,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,o,a);const{host:m}=new URL(f),p=Sp(m);return this.zo(e,f,h,i,p).then((v=>(ce(Ff,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Go(Ff,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(e,n,i,o,a,u){return this.Wo(e,n,i,o,a)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}Qo(e,n){const i=OD[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection",cl=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $o extends FD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$o.c_){const e=I1();cl(e,C1.STAT_EVENT,(n=>{n.stat===xm.PROXY?ce(Qt,"STAT_EVENT: detected buffering proxy"):n.stat===xm.NOPROXY&&ce(Qt,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(e,n,i,o,a){const u=Pm();return new Promise(((f,h)=>{const m=new S1;m.setWithCredentials(!0),m.listenOnce(A1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Lc.NO_ERROR:const v=m.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case Lc.TIMEOUT:ce(Qt,`RPC '${e}' ${u} timed out`),h(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const w=m.getStatus();if(ce(Qt,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const k=(function(U){const L=U.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(L)>=0?L:Y.UNKNOWN})(C.status);h(new le(k,C.message))}else h(new le(Y.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new le(Y.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${u} completed.`)}}));const p=JSON.stringify(o);ce(Qt,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",p,i,15)}))}T_(e,n,i){const o=Pm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const m=a.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${m}`,f);const p=u.createWebChannel(m,f);this.I_(p);let v=!1,w=!1;const S=new BD({Ho:C=>{w?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(v||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),p.open(),v=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,C),p.send(C))},Jo:()=>p.close()});return cl(p,fl.EventType.OPEN,(()=>{w||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),cl(p,fl.EventType.CLOSE,(()=>{w||(w=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(p))})),cl(p,fl.EventType.ERROR,(C=>{w||(w=!0,Go(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),S.o_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),cl(p,fl.EventType.MESSAGE,(C=>{var k;if(!w){const R=C.data[0];Ke(!!R,16349);const U=R,L=(U==null?void 0:U.error)||((k=U[0])==null?void 0:k.error);if(L){ce(Qt,`RPC '${e}' stream ${o} received error:`,L);const V=L.status;let Q=(function(j){const I=Et[j];if(I!==void 0)return cE(I)})(V),J=L.message;Q===void 0&&(Q=Y.INTERNAL,J="Unknown error status: "+V+" with message "+L.message),w=!0,S.o_(new le(Q,J)),p.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,R),S.__(R)}})),$o.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return R1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){return new $o(t)}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new HV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o.c_=!1;class AE{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="PersistentStream";class CE{constructor(e,n,i,o,a,u,f,h){this.Ci=e,this.b_=i,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Ux,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(Ux,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends CE{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qV(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?wr(u.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(a,u){let f;const h=u.target;if(f=Sm(h)?{documents:XV(a,h)}:{query:JV(a,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=fE(a,u.resumeToken);const m=Cm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=sh(a,u.snapshotVersion.toTimestamp());const m=Cm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=eD(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class $D extends CE{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YV(e.writeResults,e.commitTime),i=wr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>QV(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{}class HD extends WD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Im(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())}))}jo(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Im(n,i),o,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KD(t,e,n,i){return new HD(t,e,n,i)}class GD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class qD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Us(this)&&(ce(Ms,"Restarting streams for network reachability change."),await(async function(h){const m=Re(h);m.Ea.add(4),await tu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Ch(m)})(this))}))})),this.Va=new GD(i,o)}}async function Ch(t){if(Us(t))for(const e of t.Ra)await e(!0)}async function tu(t){for(const e of t.Ra)await e(!1)}function IE(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Hp(n):ua(n).O_()&&Wp(n,e))}function $p(t,e){const n=Re(t),i=ua(n);n.Ia.delete(e),i.O_()&&RE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Us(n)&&n.Va.set("Unknown"))}function Wp(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).Z_(e)}function RE(t,e){t.da.$e(e),ua(t).X_(e)}function Hp(t){t.da=new UV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.Va.ua()}function Kp(t){return Us(t)&&!ua(t).x_()&&t.Ia.size>0}function Us(t){return Re(t).Ea.size===0}function kE(t){t.da=void 0}async function QD(t){t.Va.set("Online")}async function YD(t){t.Ia.forEach(((e,n)=>{Wp(t,e)}))}async function XD(t,e){kE(t),Kp(t)?(t.Va.ha(e),Hp(t)):t.Va.set("Unknown")}async function JD(t,e,n){if(t.Va.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.da.removeTarget(f))})(t,e)}catch(i){ce(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(t,i)}else if(e instanceof Uc?t.da.Xe(e):e instanceof hE?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const i=await SE(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const f=a.da.Tt(u);return f.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(m);p&&a.Ia.set(m,p.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,m)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(zt.EMPTY_BYTE_STRING,p.snapshotVersion)),RE(a,h);const v=new ji(p.target,h,m,p.sequenceNumber);Wp(a,v)})),a.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){ce(Ms,"Failed to raise snapshot:",i),await ah(t,i)}}async function ah(t,e,n){if(!aa(e))throw e;t.Ea.add(1),await tu(t),t.Va.set("Offline"),n||(n=()=>SE(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Ms,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ch(t)}))}function bE(t,e){return e().catch((n=>ah(t,n,e)))}async function Ih(t){const e=Re(t),n=Hi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;ZD(e);)try{const o=await DD(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,ej(e,o)}catch(o){await ah(e,o)}PE(e)&&VE(e)}function ZD(t){return Us(t)&&t.Ta.length<10}function ej(t,e){t.Ta.push(e);const n=Hi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function PE(t){return Us(t)&&!Hi(t).x_()&&t.Ta.length>0}function VE(t){Hi(t).start()}async function tj(t){Hi(t).ra()}async function nj(t){const e=Hi(t);for(const n of t.Ta)e.ea(n.mutations)}async function rj(t,e,n){const i=t.Ta.shift(),o=Mp.from(i,e,n);await bE(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Ih(t)}async function ij(t,e){e&&Hi(t).Y_&&await(async function(i,o){if((function(u){return OV(u)&&u!==Y.ABORTED})(o.code)){const a=i.Ta.shift();Hi(i).B_(),await bE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Ih(i)}})(t,e),PE(t)&&VE(t)}async function zx(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ce(Ms,"RemoteStore received new credentials");const i=Us(n);n.Ea.add(3),await tu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ch(n)}async function sj(t,e){const n=Re(t);e?(n.Ea.delete(2),await Ch(n)):e||(n.Ea.add(2),await tu(n),n.Va.set("Unknown"))}function ua(t){return t.ma||(t.ma=(function(n,i,o){const a=Re(n);return a.sa(),new zD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:QD.bind(null,t),Yo:YD.bind(null,t),t_:XD.bind(null,t),J_:JD.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Kp(t)?Hp(t):t.Va.set("Unknown")):(await t.ma.stop(),kE(t))}))),t.ma}function Hi(t){return t.fa||(t.fa=(function(n,i,o){const a=Re(n);return a.sa(),new $D(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tj.bind(null,t),t_:ij.bind(null,t),ta:nj.bind(null,t),na:rj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Ih(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Ms,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,f=new Gp(e,n,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),aa(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=ml(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.ga=new lt(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Zo{constructor(e,n,i,o,a,u,f,h,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Zo(e,n,Wo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class aj{constructor(){this.queries=Wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Re(n),a=o.queries;o.queries=Wx(),a.forEach(((u,f)=>{for(const h of f.ba)h.onError(i)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function Wx(){return new Bs((t=>Y1(t)),_h)}async function DE(t,e){const n=Re(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Sa()&&e.Da()&&(i=2):(a=new oj,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=qp(u,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Qp(n)}async function jE(t,e){const n=Re(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function lj(t,e){const n=Re(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const f of u.ba)f.Fa(o)&&(i=!0);u.wa=o}}i&&Qp(n)}function uj(t,e,n){const i=Re(t),o=i.queries.get(e);if(o)for(const a of o.ba)a.onError(n);i.queries.delete(e)}function Qp(t){t.Ca.forEach((e=>{e.next()}))}var Vm,Hx;(Hx=Vm||(Vm={})).Ma="default",Hx.Cache="cache";class NE{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class cj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=X1(e),this.tu=new Wo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new $x,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((p,v)=>{const w=o.get(p),S=wh(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;w&&S?w.data.isEqual(S.data)?C!==k&&(i.track({type:3,doc:S}),R=!0):this.su(w,S)||(i.track({type:2,doc:S}),R=!0,(h&&this.eu(S,h)>0||m&&this.eu(S,m)<0)&&(f=!0)):!w&&S?(i.track({type:0,doc:S}),R=!0):w&&!S&&(i.track({type:1,doc:w}),R=!0,(h||m)&&(f=!0)),R&&(S?(u=u.add(S),a=k?a.add(p):a.delete(p)):(u=u.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{tu:u,iu:i,Ss:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((p,v)=>(function(S,C){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:R})}};return k(S)-k(C)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],h=this.Ya.size===0&&this.current&&!o?1:0,m=h!==this.Xa;return this.Xa=h,u.length!==0||m?{snapshot:new Zo(this.query,e.tu,a,u,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $x,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new LE(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new ME(i))})),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Yp="SyncEngine";class hj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class dj{constructor(e){this.key=e,this.hu=!1}}class fj{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bs((f=>Y1(f)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new lt(ye.comparator),this.Au=new Map,this.Vu=new Fp,this.du={},this.mu=new Map,this.fu=Jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mj(t,e,n=!0){const i=$E(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await OE(i,e,n,!0),o}async function pj(t,e){const n=$E(t);await OE(n,e,!0,!1)}async function OE(t,e,n,i){const o=await jD(t.localStore,_r(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await gj(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&IE(t.remoteStore,o),f}async function gj(t,e,n,i,o){t.pu=(v,w,S)=>(async function(k,R,U,L){let V=R.view.ru(U);V.Ss&&(V=await Lx(k.localStore,R.query,!1).then((({documents:j})=>R.view.ru(j,V))));const Q=L&&L.targetChanges.get(R.targetId),J=L&&L.targetMismatches.get(R.targetId)!=null,se=R.view.applyChanges(V,k.isPrimaryClient,Q,J);return Gx(k,R.targetId,se.au),se.snapshot})(t,v,w,S);const a=await Lx(t.localStore,e,!0),u=new cj(e,a.ks),f=u.ru(a.documents),h=eu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=u.applyChanges(f,t.isPrimaryClient,h);Gx(t,n,m.au);const p=new hj(e,n,u);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function yj(t,e,n){const i=Re(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!_h(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&$p(i.remoteStore,o.targetId),Dm(i,o.targetId)})).catch(oa)):(Dm(i,o.targetId),await bm(i.localStore,o.targetId,!0))}async function vj(t,e){const n=Re(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$p(n.remoteStore,i.targetId))}async function xj(t,e,n){const i=Cj(t);try{const o=await(function(u,f){const h=Re(u),m=tt.now(),p=f.reduce(((S,C)=>S.add(C.key)),Me());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=ei(),k=Me();return h.xs.getEntries(S,p).next((R=>{C=R,C.forEach(((U,L)=>{L.isValidDocument()||(k=k.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,C))).next((R=>{v=R;const U=[];for(const L of f){const V=DV(L,v.get(L.key).overlayedDocument);V!=null&&U.push(new Qi(L.key,V,z1(V.value.mapValue),Yn.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,U,f)})).next((R=>{w=R;const U=R.applyToLocalDocumentSet(v,k);return h.documentOverlayCache.saveOverlays(S,R.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:Z1(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,h){let m=u.du[u.currentUser.toKey()];m||(m=new lt(Ne)),m=m.insert(f,h),u.du[u.currentUser.toKey()]=m})(i,o.batchId,n),await nu(i,o.changes),await Ih(i.remoteStore)}catch(o){const a=qp(o,"Failed to persist write");n.reject(a)}}async function FE(t,e){const n=Re(t);try{const i=await PD(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await nu(n,i,e)}catch(i){await oa(i)}}function Kx(t,e,n){const i=Re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const h=Re(u);h.onlineState=f;let m=!1;h.queries.forEach(((p,v)=>{for(const w of v.ba)w.va(f)&&(m=!0)})),m&&Qp(h)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _j(t,e,n){const i=Re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new lt(ye.comparator);u=u.insert(a,Xt.newNoDocument(a,Se.min()));const f=Me().add(a),h=new Sh(Se.min(),new Map,new lt(Ne),u,f);await FE(i,h),i.Ru=i.Ru.remove(a),i.Au.delete(e),Xp(i)}else await bm(i.localStore,e,!1).then((()=>Dm(i,e,n))).catch(oa)}async function wj(t,e){const n=Re(t),i=e.batch.batchId;try{const o=await bD(n.localStore,e);UE(n,i,null),BE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nu(n,o)}catch(o){await oa(o)}}async function Ej(t,e,n){const i=Re(t);try{const o=await(function(u,f){const h=Re(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return h.mutationQueue.lookupMutationBatch(m,f).next((v=>(Ke(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(m,v)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,p,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>h.localDocuments.getDocuments(m,p)))}))})(i.localStore,e);UE(i,e,n),BE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nu(i,o)}catch(o){await oa(o)}}function BE(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function UE(t,e,n){const i=Re(t);let o=i.du[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||zE(t,i)}))}function zE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&($p(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Xp(t))}function Gx(t,e,n){for(const i of n)i instanceof ME?(t.Vu.addReference(i.key,e),Tj(t,i)):i instanceof LE?(ce(Yp,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||zE(t,i.key)):we(19791,{wu:i})}function Tj(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ce(Yp,"New document in limbo: "+n),t.Eu.add(i),Xp(t))}function Xp(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Xe.fromString(e)),i=t.fu.next();t.Au.set(i,new dj(n)),t.Ru=t.Ru.insert(n,i),IE(t.remoteStore,new ji(_r(Dp(n.path)),i,"TargetPurposeLimboResolution",yh.ce))}}async function nu(t,e,n){const i=Re(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,h)=>{u.push(i.pu(h,e,n).then((m=>{var p;if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){o.push(m);const v=Up.Es(h.targetId,m);a.push(v)}})))})),await Promise.all(u),i.Pu.J_(o),await(async function(h,m){const p=Re(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>X.forEach(m,(w=>X.forEach(w.Ts,(S=>p.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>X.forEach(w.Is,(S=>p.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!aa(v))throw v;ce(zp,"Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const S=p.vs.get(w),C=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(C);p.vs=p.vs.insert(w,k)}}})(i.localStore,a))}async function Sj(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ce(Yp,"User change. New user:",e.toKey());const i=await TE(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((h=>{h.reject(new le(Y.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nu(n,i.Ns)}}function Aj(t,e){const n=Re(t),i=n.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function $E(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.Pu.J_=lj.bind(null,e.eventManager),e.Pu.yu=uj.bind(null,e.eventManager),e}function Cj(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kD(this.persistence,new CD,e.initialUser,this.serializer)}Cu(e){return new EE(Bp.Vi,this.serializer)}Du(e){return new MD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Ij extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof oh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new hD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new EE((i=>oh.Vi(i,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Kx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,this.syncEngine),await sj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aj})()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),i=UD(e.databaseInfo);return KD(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,f){return new qD(i,o,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kx(this.syncEngine,n,0)),(function(){return Bx.v()?new Bx:new LD})())}createSyncEngine(e,n){return(function(o,a,u,f,h,m,p){const v=new fj(o,a,u,f,h,m);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Re(o);ce(Ms,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class Rj{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ce(Ki,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ce(Ki,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=qp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Uf(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await TE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kj(t);ce(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>zx(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>zx(e.remoteStore,o))),t._onlineComponents=e}async function kj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Ki,"Using user provided OfflineComponentProvider");try{await Uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Uf(t,new lh)}}else ce(Ki,"Using default OfflineComponentProvider"),await Uf(t,new Ij(void 0));return t._offlineComponents}async function HE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Ki,"Using user provided OnlineComponentProvider"),await qx(t,t._uninitializedComponentsProvider._online)):(ce(Ki,"Using default OnlineComponentProvider"),await qx(t,new jm))),t._onlineComponents}function bj(t){return HE(t).then((e=>e.syncEngine))}async function KE(t){const e=await HE(t),n=e.eventManager;return n.onListen=mj.bind(null,e.syncEngine),n.onUnlisten=yj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vj.bind(null,e.syncEngine),n}function Pj(t,e,n={}){const i=new qr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,m){const p=new WE({next:w=>{p.Nu(),u.enqueueAndForget((()=>jE(a,v)));const S=w.docs.has(f);!S&&w.fromCache?m.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?m.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new NE(Dp(f.path),p,{includeMetadataChanges:!0,Ka:!0});return DE(a,v)})(await KE(t),t.asyncQueue,e,n,i))),i.promise}function Vj(t,e,n={}){const i=new qr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,m){const p=new WE({next:w=>{p.Nu(),u.enqueueAndForget((()=>jE(a,v))),w.fromCache&&h.source==="server"?m.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new NE(f,p,{includeMetadataChanges:!0,Ka:!0});return DE(a,v)})(await KE(t),t.asyncQueue,e,n,i))),i.promise}function Dj(t,e){const n=new qr;return t.asyncQueue.enqueueAndForget((async()=>xj(await bj(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="ComponentProvider",Qx=new Map;function Nj(t,e,n,i,o){return new nV(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,GE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firestore.googleapis.com",Yx=!0;class Xx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=Yx}else this.host=e.host,this.ssl=e.ssl??Yx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uD)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new N2;switch(i.type){case"firstParty":return new F2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Qx.get(n);i&&(ce(jj,"Removing Datastore"),Qx.delete(n),i.terminate())})(this),Promise.resolve()}}function Mj(t,e,n,i={}){var m;t=Ar(t,Rh);const o=Sp(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(uP(`https://${f}`),fP("Firestore",!0)),a.host!==qE&&a.host!==f&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:f,ssl:o,emulatorOptions:i};if(!Vl(h,u)&&(t._setSettings(h),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=Yt.MOCK_USER;else{p=cP(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yt(w)}t._authCredentials=new M2(new b1(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class yt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Jl(n,yt._jsonSchema))return new yt(e,i||null,new ye(Xe.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:At("string",yt._jsonSchemaVersion),referencePath:At("string")};class Oi extends Yi{constructor(e,n,i){super(e,n,Dp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ye(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function zs(t,e,...n){if(t=Xr(t),P1("collection","path",e),t instanceof Rh){const i=Xe.fromString(e,...n);return cx(i),new Oi(t,null,i)}{if(!(t instanceof yt||t instanceof Oi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Xe.fromString(e,...n));return cx(i),new Oi(t.firestore,null,i)}}function Zn(t,e,...n){if(t=Xr(t),arguments.length===1&&(e=Ip.newId()),P1("doc","path",e),t instanceof Rh){const i=Xe.fromString(e,...n);return ux(i),new yt(t,null,new ye(i))}{if(!(t instanceof yt||t instanceof Oi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Xe.fromString(e,...n));return ux(i),new yt(t.firestore,t instanceof Oi?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class Zx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const i=Bf();i&&ce(Jx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;ce(Jx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",e_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:e_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ca extends Rh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Zx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zx(e),this._firestoreClient=void 0,await e}}}function Lj(t,e){const n=typeof t=="object"?t:T2(),i=typeof t=="string"?t:th,o=v2(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=aP("firestore");a&&Mj(o,...a)}return o}function Jp(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Oj(t),t._firestoreClient}function Oj(t){var i,o,a,u;const e=t._freezeSettings(),n=Nj(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(o=t._app)==null?void 0:o.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Rj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(zt.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:At("string",Dn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:At("string",Er._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xn(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:At("string",Xn._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=/^__.*__$/;class Bj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}class QE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:t})}}class kh{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YE(this.dataSource)&&Fj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Uj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ah(e)}createContext(e,n,i,o=!1){return new kh({dataSource:e,methodName:n,targetDoc:i,path:Ut.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new Uj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XE(t,e,n,i,o,a={}){const u=t.createContext(a.merge||a.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",u,i);const f=JE(i,u);let h,m;if(a.merge)h=new Tn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const w=Ls(e,v,n);if(!u.contains(w))throw new le(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tT(p,w)||p.push(w)}h=new Tn(p),m=u.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,m=u.fieldTransforms;return new Bj(new fn(f),h,m)}class Ph extends ha{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function zj(t,e,n){return new kh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eg extends ha{_toFieldTransform(e){return new Np(e.path,new Bl)}isEqual(e){return e instanceof eg}}class tg extends ha{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=zj(this,e,!0),i=this.Ac.map((a=>da(a,n))),o=new Xo(i);return new Np(e.path,o)}isEqual(e){return e instanceof tg&&Vl(this.Ac,e.Ac)}}class ng extends ha{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new zl(e.serializer,nE(e.serializer,this.Vc));return new Np(e.path,n)}isEqual(e){return e instanceof ng&&this.Vc===e.Vc}}function $j(t,e,n,i){const o=t.createContext(1,e,n);rg("Data must be an object, but it was:",o,i);const a=[],u=fn.empty();qi(i,((h,m)=>{const p=eT(e,h,n);m=Xr(m);const v=o.childContextForFieldPath(p);if(m instanceof Ph)a.push(p);else{const w=da(m,v);w!=null&&(a.push(p),u.set(p,w))}}));const f=new Tn(a);return new QE(u,f,o.fieldTransforms)}function Wj(t,e,n,i,o,a){const u=t.createContext(1,e,n),f=[Ls(e,i,n)],h=[o];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)f.push(Ls(e,a[w])),h.push(a[w+1]);const m=[],p=fn.empty();for(let w=f.length-1;w>=0;--w)if(!tT(m,f[w])){const S=f[w];let C=h[w];C=Xr(C);const k=u.childContextForFieldPath(S);if(C instanceof Ph)m.push(S);else{const R=da(C,k);R!=null&&(m.push(S),p.set(S,R))}}const v=new Tn(m);return new QE(p,v,u.fieldTransforms)}function Hj(t,e,n,i=!1){return da(n,t.createContext(i?4:3,e))}function da(t,e){if(ZE(t=Xr(t)))return rg("Unsupported field value:",e,t),JE(t,e);if(t instanceof ha)return(function(i,o){if(!YE(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const f of i){let h=da(f,o.childContextForArray(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Xr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=tt.fromDate(i);return{timestampValue:sh(o.serializer,a)}}if(i instanceof tt){const a=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sh(o.serializer,a)}}if(i instanceof Er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dn)return{bytesValue:fE(o.serializer,i._byteString)};if(i instanceof yt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Op(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Xn)return(function(u,f){const h=u instanceof Xn?u.toArray():u;return{mapValue:{fields:{[B1]:{stringValue:U1},[nh]:{arrayValue:{values:h.map((p=>{if(typeof p!="number")throw f.createError("VectorValues must only contain numeric values.");return jp(f.serializer,p)}))}}}}}})(i,o);if(_E(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${gh(i)}`)})(t,e)}function JE(t,e){const n={};return j1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,((i,o)=>{const a=da(o,e.childContextForField(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function ZE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Er||t instanceof Dn||t instanceof yt||t instanceof ha||t instanceof Xn||_E(t))}function rg(t,e,n){if(!ZE(n)||!V1(n)){const i=gh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Ls(t,e,n){if((e=Xr(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return eT(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kj=new RegExp("[~\\*/\\[\\]]");function eT(t,e,n){if(e.search(Kj)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new le(Y.INVALID_ARGUMENT,f+t+h)}function tT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qi(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[nh].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>gt(u.doubleValue)));return new Xn(n)}convertGeoPoint(e){return new Er(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=xh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=zi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Xe.fromString(e);Ke(xE(i),9688,{name:e});const o=new Ll(i.get(1),i.get(3)),a=new ye(i.popFirst(5));return o.isEqual(n)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Gj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Tr(){return new eg("serverTimestamp")}function qj(...t){return new tg("arrayUnion",t)}function ig(t){return new ng("increment",t)}const t_="@firebase/firestore",n_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ls("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qj extends rT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class og extends sg{}function Vh(t,e,...n){let i=[];e instanceof sg&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((h=>h instanceof ag)).length,f=a.filter((h=>h instanceof Dh)).length;if(u>1||u>0&&f>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Dh extends og{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Dh(e,n,i)}_apply(e){const n=this._parse(e);return iT(e._query,n),new Yi(e.firestore,e.converter,Am(e._query,n))}_parse(e){const n=bh(e.firestore);return(function(a,u,f,h,m,p,v){let w;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){i_(v,p);const C=[];for(const k of v)C.push(r_(h,a,k));w={arrayValue:{values:C}}}else w=r_(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||i_(v,p),w=Hj(f,u,v,p==="in"||p==="not-in");return St.create(m,p,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nm(t,e,n){const i=e,o=Ls("where",t);return Dh._create(o,i,n)}class ag extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const f=a.getFlattenedFilters();for(const h of f)iT(u,h),u=Am(u,h)})(e._query,n),new Yi(e.firestore,e.converter,Am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends og{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(a,u)})(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,_V(e._query,n))}}function jh(t,e="asc"){const n=e,i=Ls("orderBy",t);return lg._create(i,n)}class ug extends og{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new ug(e,n,i)}_apply(e){return new Yi(e.firestore,e.converter,ih(e._query,this._limit,this._limitType))}}function Xj(t){return ug._create("limit",t,"F")}function r_(t,e,n){if(typeof(n=Xr(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q1(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Xe.fromString(n));if(!ye.isDocumentKey(i))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vx(t,new ye(i))}if(n instanceof yt)return vx(t,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function i_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iT(t,e){const n=(function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends rT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ls("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:At("string",Ps._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class zc extends Ps{data(e={}){return super.data(e)}}class Ho{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new zc(this._firestore,this._userDataWriter,i.key,i,new gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const h=new zc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new gl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const h=new zc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new gl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,p=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),p=u.indexOf(f.doc.key)),{type:Jj(f.type),doc:h,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:At("string",Ho._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){t=Ar(t,yt);const e=Ar(t.firestore,ca),n=Jp(e);return Pj(n,t._key).then((i=>Zj(e,t,i)))}function Mh(t){t=Ar(t,Yi);const e=Ar(t.firestore,ca),n=Jp(e),i=new nT(e);return Yj(t._query),Vj(n,t._query).then((o=>new Ho(e,i,t,o)))}function cg(t,e,n){t=Ar(t,yt);const i=Ar(t.firestore,ca),o=sT(t.converter,e),a=bh(i);return dg(i,[XE(a,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Yn.none())])}function ru(t,e,n,...i){t=Ar(t,yt);const o=Ar(t.firestore,ca),a=bh(o);let u;return u=typeof(e=Xr(e))=="string"||e instanceof Zp?Wj(a,"updateDoc",t._key,e,n,i):$j(a,"updateDoc",t._key,e),dg(o,[u.toMutation(t._key,Yn.exists(!0))])}function hg(t,e){const n=Ar(t.firestore,ca),i=Zn(t),o=sT(t.converter,e),a=bh(t.firestore);return dg(n,[XE(a,"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Yn.exists(!1))]).then((()=>i))}function dg(t,e){const n=Jp(t);return Dj(n,e)}function Zj(t,e,n){const i=n.docs.get(e._key),o=new nT(t);return new Ps(t,o,e._key,i,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){j2(E2),Zc(new Dl("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new ca(new L2(i.getProvider("auth-internal")),new B2(u,i.getProvider("app-check-internal")),rV(u,o),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),zo(t_,n_,e),zo(t_,n_,"esm2020")})();var eN="firebase",tN="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo(eN,tN,"app");const nN={apiKey:"AIzaSyCf4uRHqqZtYR3ZvlbHF9w59qGuEjlXcW4",authDomain:"kinderbucks-e3e8c.firebaseapp.com",projectId:"kinderbucks-e3e8c",storageBucket:"kinderbucks-e3e8c.firebasestorage.app",messagingSenderId:"18326874439",appId:"1:18326874439:web:ad902e6a1c794b2b3c4462",measurementId:"G-3JMD9HSMC3"},rN=_1(nN),$t=Lj(rN),iu="businesses";async function iN(t){const e=Zn($t,iu,t),n=await Nh(e);return n.exists()?{code:n.id,...n.data()}:null}async function Lh(){const t=Vh(zs($t,iu),jh("name"));return(await Mh(t)).docs.map(n=>({code:n.id,...n.data()}))}async function s_(t,e,n){await cg(Zn($t,iu,t),{code:t,name:e,category:n,isActive:!0,checkinCount:0,createdAt:Tr()})}async function sN(t){const e=Zn($t,iu,t);await ru(e,{checkinCount:ig(1)})}async function oN(t,e){const n=Zn($t,iu,t);await ru(n,{isActive:e})}const zf={food:{label:"Food & Drink",emoji:"",color:"#e74c3c"},retail:{label:"Retail",emoji:"",color:"#9b59b6"},services:{label:"Services",emoji:"",color:"#3498db"},arts:{label:"Arts & Culture",emoji:"",color:"#1abc9c"}};function aN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState("all");N.useEffect(()=>{async function h(){const m=await Lh();e(m.filter(p=>p.isActive)),i(!1)}h()},[]);const u=o==="all"?t:t.filter(h=>h.category===o),f={total:t.length,food:t.filter(h=>h.category==="food").length,retail:t.filter(h=>h.category==="retail").length};return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h1",{style:{marginBottom:"1rem"},children:"For Local Businesses"}),g.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem",marginBottom:"2rem"},children:"Join the Kinderbucks network and connect with customers committed to shopping local"}),g.jsx(_e,{to:"/admin/businesses",className:"btn btn-gold",children:"Register Your Business"})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"Why Accept Kinderbucks?"}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"2rem"},children:[{icon:"",title:"Committed Customers",description:"Kinderbucks holders have already decided to spend locally. They're not comparison shopping online."},{icon:"",title:"Money Stays Local",description:"Unlike credit cards that send fees elsewhere, Kinderbucks keep circulating in our village economy."},{icon:"",title:"Free Marketing",description:"Get listed in our business directory, featured on our homepage, and promoted to all members."},{icon:"",title:"Community Standing",description:"Show customers you're invested in Kinderhook's future. Participating businesses are community leaders."},{icon:"",title:"Easy Redemption",description:"Redeem Kinderbucks for USD at any time through our simple merchant portal. No waiting."},{icon:"",title:"Customer Insights",description:"Access check-in data and understand your customers' behavior across the village."}].map((h,m)=>g.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:m*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:h.icon}),g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:h.title}),g.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:h.description})]},m))})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"How It Works"}),g.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:[{step:1,title:"Register",desc:"Sign up as a participating business. It's free to join."},{step:2,title:"Get Your QR Code",desc:"We'll provide a unique check-in QR code for your location."},{step:3,title:"Display It",desc:"Put the QR code at your counter or entrance for customers to scan."},{step:4,title:"Accept Kinderbucks",desc:"Take Kinderbucks as payment, just like cash. Same denominations."},{step:5,title:"Redeem Anytime",desc:"Exchange accumulated Kinderbucks back to USD when you need."}].map((h,m)=>g.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",background:"var(--kb-white)",padding:"1.5rem",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[g.jsx("div",{style:{width:"40px",height:"40px",background:"var(--kb-gold)",color:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",flexShrink:0},children:h.step}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem"},children:h.title}),g.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",margin:0},children:h.desc})]})]},m))})]})}),g.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:g.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[g.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Participating Businesses"}),g.jsxs("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:[f.total," businesses currently accepting Kinderbucks"]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"2rem",flexWrap:"wrap"},children:[g.jsxs("button",{onClick:()=>a("all"),className:o==="all"?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:["All (",f.total,")"]}),Object.entries(zf).map(([h,m])=>g.jsxs("button",{onClick:()=>a(h),className:o===h?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:[m.emoji," ",m.label]},h))]}),n?g.jsx("p",{style:{textAlign:"center"},children:"Loading businesses..."}):u.length===0?g.jsxs("p",{style:{textAlign:"center",color:"var(--kb-gray-500)"},children:["No businesses found. ",g.jsx(_e,{to:"/admin/businesses",children:"Add some!"})]}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:u.map((h,m)=>{const p=zf[h.category]||zf.services;return g.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:m*.03},className:"card",style:{padding:"1.25rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[g.jsx("div",{style:{width:"40px",height:"40px",background:`${p.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:p.emoji}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"var(--kb-navy)",margin:0,fontSize:"1rem"},children:h.name}),g.jsx("span",{style:{fontSize:"0.8rem",color:p.color},children:p.label})]})]}),h.checkinCount>0&&g.jsxs("div",{style:{marginTop:"0.75rem",fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:[h.checkinCount," check-ins"]})]},h.code)})})]})}),g.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-gold)",color:"var(--kb-navy)",textAlign:"center"},children:[g.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to join the network?"}),g.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Registration is free. Start accepting Kinderbucks today."}),g.jsx(_e,{to:"/admin/businesses",className:"btn btn-primary",children:"Register Your Business"})]}),g.jsx(Ds,{})]})}const oT="members";function $l(){let t=localStorage.getItem("kinderhooker_visitor_id");return t||(t="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("kinderhooker_visitor_id",t)),t}async function Wl(t){const e=Zn($t,oT,t),n=await Nh(e);return n.exists()?{visitorId:n.id,...n.data()}:null}async function lN(t,e){const n=Zn($t,oT,t),i=await Nh(n);if(i.exists()){const o=i.data(),a=o.businessesVisited||[],u=!a.includes(e),f=u?a.length+1:a.length,h=fm(f),m=h!==o.tier;return await ru(n,{businessesVisited:qj(e),totalCheckins:ig(1),tier:h,lastCheckin:Tr()}),{isNewBusiness:u,tierChanged:m,oldTier:o.tier,newTier:h,businessesVisited:u?[...a,e]:a,totalCheckins:(o.totalCheckins||0)+1}}else{const o=fm(1);return await cg(n,{visitorId:t,tier:o,businessesVisited:[e],totalCheckins:1,createdAt:Tr(),lastCheckin:Tr(),email:null}),{isNewBusiness:!0,tierChanged:!0,oldTier:null,newTier:o,businessesVisited:[e],totalCheckins:1}}}function uN(){const[t,e]=N.useState(null),[n,i]=N.useState(!0),[o,a]=N.useState(20),[u,f]=N.useState(!1),[h,m]=N.useState(!1);N.useEffect(()=>{async function U(){const L=$l(),V=await Wl(L);e(V),i(!1)}U()},[]);const p=(t==null?void 0:t.tier)||"curious",v=js[p]||js.curious,w=t?v.bonus:.1,S=o*w,C=o+S,k=async()=>{f(!0);try{await hg(zs($t,"exchanges"),{visitorId:$l(),usdAmount:o,bonusRate:w,bonusAmount:S,kinderbucksAmount:C,tier:p,status:"pending",createdAt:Tr()}),m(!0)}catch(U){console.error("Exchange error:",U),alert("Error submitting exchange request")}f(!1)},R=[10,20,50,100];return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",padding:"3rem 1rem",textAlign:"center"},children:g.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[g.jsx("h1",{style:{marginBottom:"0.5rem"},children:"Get Kinderbucks"}),g.jsx("p",{style:{opacity:.9},children:"Exchange USD for local currency with bonus value"})]})}),g.jsx("section",{style:{padding:"3rem 1rem",background:"var(--kb-cream)",flex:1},children:g.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:h?g.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card",style:{textAlign:"center",padding:"3rem 2rem"},children:[g.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),g.jsx("h2",{style:{color:"var(--kb-green)",marginBottom:"1rem"},children:"Exchange Requested!"}),g.jsxs("p",{style:{color:"var(--kb-gray-600)",marginBottom:"1.5rem"},children:["Your exchange request for ",g.jsxs("strong",{children:["$",o," USD"]})," "," ",g.jsxs("strong",{children:["$",C.toFixed(2)," Kinderbucks"]})," has been submitted."]}),g.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"2rem"},children:"Visit any exchange point to complete your transaction and receive your Kinderbucks."}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[g.jsx("button",{onClick:()=>m(!1),className:"btn btn-primary",children:"Exchange More"}),g.jsx(_e,{to:"/account",className:"btn btn-secondary",children:"View Account"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Your Tier"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{style:{fontSize:"1.5rem"},children:v.emoji}),g.jsx("span",{style:{fontWeight:"600",color:v.color,fontSize:"1.2rem"},children:v.name})]})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Bonus Rate"}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:v.color},children:[Math.round(w*100),"%"]})]})]}),!t&&g.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--kb-gray-50)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--kb-gray-600)"},children:[" ",g.jsx(_e,{to:"/profile",style:{color:"var(--kb-navy)"},children:"Visit businesses"})," to increase your tier and get better rates!"]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Exchange Calculator"}),g.jsxs("div",{style:{marginBottom:"1.5rem"},children:[g.jsx("label",{children:"Amount (USD)"}),g.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:R.map(U=>g.jsxs("button",{onClick:()=>a(U),className:o===U?"btn btn-primary":"btn btn-secondary",style:{flex:1,padding:"0.5rem"},children:["$",U]},U))}),g.jsx("input",{type:"number",value:o,onChange:U=>a(Math.max(1,Number(U.target.value))),min:"1",style:{width:"100%"}})]}),g.jsxs("div",{style:{background:"var(--kb-gray-50)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsx("span",{style:{color:"var(--kb-gray-600)"},children:"USD Amount"}),g.jsxs("span",{style:{fontWeight:"600"},children:["$",o.toFixed(2)]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsxs("span",{style:{color:"var(--kb-gray-600)"},children:[v.name," Bonus (",Math.round(w*100),"%)"]}),g.jsxs("span",{style:{fontWeight:"600",color:"var(--kb-green)"},children:["+$",S.toFixed(2)]})]}),g.jsx("div",{className:"divider",style:{margin:"0.75rem 0"}}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("span",{style:{color:"var(--kb-navy)",fontWeight:"600"},children:"You Receive"}),g.jsxs("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:"var(--kb-gold-dark)"},children:["$",C.toFixed(2)]})]}),g.jsx("div",{style:{textAlign:"right",fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Kinderbucks"})]}),g.jsx("button",{onClick:k,disabled:u,className:"btn btn-gold",style:{width:"100%",padding:"1rem",fontSize:"1.1rem"},children:u?"Processing...":`Exchange $${o} for $${C.toFixed(2)} Kinderbucks`}),g.jsx("p",{style:{textAlign:"center",fontSize:"0.85rem",color:"var(--kb-gray-500)",marginTop:"1rem"},children:"Complete your exchange at any participating business or exchange point"})]}),g.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[g.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange Locations"}),g.jsxs("div",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:[g.jsxs("p",{style:{marginBottom:"0.5rem"},children:[" ",g.jsx("strong",{children:"OK Pantry"})," - 2 Hudson Street"]}),g.jsxs("p",{style:{marginBottom:"0.5rem"},children:[" ",g.jsx("strong",{children:"Community Bank NA"})," - 19 Broad Street"]}),g.jsxs("p",{children:[" ",g.jsx("strong",{children:"Village Hall"})," - During events"]})]})]})]})})}),g.jsx(Ds,{})]})}function cN(){var U,L;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState([]),[u,f]=N.useState(!0),[h,m]=N.useState("overview");if(N.useEffect(()=>{async function V(){const Q=$l(),J=await Wl(Q),se=await Lh();try{const j=Vh(zs($t,"exchanges"),Nm("visitorId","==",Q),jh("createdAt","desc")),I=await Mh(j);a(I.docs.map(b=>({id:b.id,...b.data()})))}catch(j){console.error("Error loading exchanges:",j)}e(J),i(se),f(!1)}V()},[]),u)return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("div",{className:"page page-center",style:{flex:1},children:g.jsx("div",{style:{fontSize:"2rem"},children:"Loading..."})}),g.jsx(Ds,{})]});const p=(t==null?void 0:t.tier)||null,v=p?js[p]:null,w=((U=t==null?void 0:t.businessesVisited)==null?void 0:U.length)||0,S=Ep(w),C=((L=t==null?void 0:t.businessesVisited)==null?void 0:L.map(V=>{const Q=n.find(J=>J.code===V);return Q?Q.name:V}))||[],k=n.filter(V=>{var Q;return V.isActive&&!((Q=t==null?void 0:t.businessesVisited)!=null&&Q.includes(V.code))}),R=o.reduce((V,Q)=>V+(Q.kinderbucksAmount||0),0);return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx(Vs,{}),g.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"2rem 1rem"},children:g.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[g.jsx("div",{style:{width:"80px",height:"80px",background:v?v.color:"var(--kb-gray-500)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem"},children:v?v.emoji:""}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gray-300)",marginBottom:"0.25rem"},children:"OK Membership"}),g.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:v?v.name:"New Member"}),g.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gold)"},children:v?`${Math.round(v.bonus*100)}% Exchange Bonus`:"Start exploring to earn rewards"})]}),g.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Get Kinderbucks"})]})})}),g.jsx("div",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:"70px",zIndex:50},children:g.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",display:"flex",gap:"2rem",padding:"0 1rem"},children:["overview","progress","history"].map(V=>g.jsx("button",{onClick:()=>m(V),style:{background:"none",border:"none",padding:"1rem 0",fontSize:"0.95rem",fontWeight:h===V?"600":"400",color:h===V?"var(--kb-navy)":"var(--kb-gray-500)",borderBottom:h===V?"2px solid var(--kb-gold)":"2px solid transparent",cursor:"pointer",textTransform:"capitalize"},children:V},V))})}),g.jsx("section",{style:{padding:"2rem 1rem",background:"var(--kb-cream)",flex:1},children:g.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[h==="overview"&&g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[g.jsxs("div",{className:"card",style:{textAlign:"center"},children:[g.jsx("div",{className:"stat-value",children:w}),g.jsx("div",{className:"stat-label",children:"Businesses Visited"})]}),g.jsxs("div",{className:"card",style:{textAlign:"center"},children:[g.jsx("div",{className:"stat-value",children:(t==null?void 0:t.totalCheckins)||0}),g.jsx("div",{className:"stat-label",children:"Total Check-ins"})]}),g.jsxs("div",{className:"card",style:{textAlign:"center"},children:[g.jsxs("div",{className:"stat-value",style:{color:"var(--kb-gold)"},children:["$",R.toFixed(0)]}),g.jsx("div",{className:"stat-label",children:"Kinderbucks Exchanged"})]})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Quick Actions"}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem"},children:[g.jsx(_e,{to:"/exchange",className:"btn btn-gold",style:{textAlign:"center"},children:" Exchange"}),g.jsx(_e,{to:"/businesses",className:"btn btn-secondary",style:{textAlign:"center"},children:" Find Businesses"}),g.jsx(_e,{to:"/benefits",className:"btn btn-secondary",style:{textAlign:"center"},children:" View Benefits"})]})]})]}),h==="progress"&&g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[v&&g.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Tier Progress"}),S.nextTier?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"0.5rem"},children:[g.jsx("span",{style:{color:v.color,fontWeight:"600"},children:v.name}),g.jsx("span",{style:{color:"var(--kb-gray-400)",margin:"0 0.5rem"},children:""}),g.jsx("span",{style:{color:S.nextTier.color,fontWeight:"600"},children:S.nextTier.name})]}),g.jsx("div",{className:"progress-bar",style:{height:"12px",marginBottom:"0.5rem"},children:g.jsx("div",{className:"progress-bar-fill",style:{width:`${S.progress}%`,background:v.color}})}),g.jsxs("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem"},children:[S.remaining," more business",S.remaining!==1?"es":""," to reach ",S.nextTier.name]})]}):g.jsx("p",{style:{color:"var(--kb-gold)",fontWeight:"600"},children:" Maximum tier reached! You're a Village Patron!"})]}),g.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[g.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:[" Businesses Visited (",C.length,")"]}),C.length>0?g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:C.map((V,Q)=>g.jsxs("span",{style:{background:"#d4edda",color:"var(--kb-green)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem"},children:[" ",V]},Q))}):g.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"No businesses visited yet"})]}),k.length>0&&g.jsxs("div",{className:"card",children:[g.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:[" Still to Explore (",k.length,")"]}),g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[k.slice(0,12).map(V=>g.jsx("span",{style:{background:"var(--kb-gray-100)",color:"var(--kb-gray-600)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem"},children:V.name},V.code)),k.length>12&&g.jsxs("span",{style:{color:"var(--kb-gray-500)",padding:"0.4rem"},children:["+",k.length-12," more"]})]})]})]}),h==="history"&&g.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:g.jsxs("div",{className:"card",children:[g.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange History"}),o.length>0?g.jsx("div",{children:o.map((V,Q)=>{var J,se,j,I;return g.jsxs("div",{style:{padding:"1rem 0",borderBottom:Q<o.length-1?"1px solid var(--kb-gray-100)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",V.usdAmount,"  $",(J=V.kinderbucksAmount)==null?void 0:J.toFixed(2)," KB"]}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:[((I=(j=(se=V.createdAt)==null?void 0:se.toDate)==null?void 0:j.call(se))==null?void 0:I.toLocaleDateString())||"Pending","  ",Math.round(V.bonusRate*100),"% bonus"]})]}),g.jsx("span",{className:"badge",style:{background:V.status==="completed"?"#d4edda":"#fff3cd",color:V.status==="completed"?"var(--kb-green)":"#856404"},children:V.status})]},V.id)})}):g.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--kb-gray-500)"},children:[g.jsx("p",{style:{marginBottom:"1rem"},children:"No exchanges yet"}),g.jsx(_e,{to:"/exchange",className:"btn btn-gold",children:"Make Your First Exchange"})]})]})})]})}),g.jsx(Ds,{})]})}function hN(){var w,S;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState(!0);if(N.useEffect(()=>{async function C(){const k=$l(),R=await Wl(k),U=await Lh();e(R),i(U),a(!1)}C()},[]),o)return g.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:g.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:""})});if(!t)return g.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:g.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),g.jsx("h1",{style:{color:"#1a5f2a",marginBottom:"1rem"},children:"Kinderhooker"}),g.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Start exploring local businesses to build your profile!"}),g.jsx("p",{style:{color:"#888",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Scan a QR code at any participating business to check in and earn rewards."}),g.jsx(_e,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Find Businesses"})]})});const u=t.tier||"curious",f=js[u],h=((w=t.businessesVisited)==null?void 0:w.length)||0,m=Ep(h),p=((S=t.businessesVisited)==null?void 0:S.map(C=>{const k=n.find(R=>R.code===C);return k?k.name:C}))||[],v=n.filter(C=>{var k;return C.isActive&&!((k=t.businessesVisited)!=null&&k.includes(C.code))});return g.jsx("div",{className:"page",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:g.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[g.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:"2rem"},children:g.jsx("h1",{style:{color:"#1a5f2a",fontSize:"1.5rem",marginBottom:"0.5rem"},children:" KINDERHOOKER PROFILE"})}),g.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${f.color} 0%, ${f.color}dd 100%)`,borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:f.emoji}),g.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"0.25rem"},children:f.name}),g.jsxs("div",{style:{opacity:.9,fontSize:"0.9rem"},children:[Math.round(f.bonus*100),"% Kinderbuck Match Bonus"]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[g.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:["You've supported ",h," local business",h!==1?"es":"","!"]}),m.nextTier&&g.jsxs(g.Fragment,{children:[g.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginBottom:"0.5rem"},children:["Progress to ",g.jsx("strong",{style:{color:m.nextTier.color},children:m.nextTier.name}),":"]}),g.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"24px",overflow:"hidden",marginBottom:"0.5rem"},children:g.jsxs(Ve.div,{initial:{width:0},animate:{width:`${m.progress}%`},transition:{delay:.5,duration:.8},style:{background:`linear-gradient(90deg, ${f.color}, ${m.nextTier.color})`,height:"100%",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:[h,"/",m.nextTier.threshold]})}),g.jsxs("p",{style:{color:"#888",fontSize:"0.85rem",textAlign:"center"},children:[m.remaining," more business",m.remaining!==1?"es":""," to go!"]})]}),!m.nextTier&&g.jsx("p",{style:{color:"#c9a227",fontWeight:"bold",textAlign:"center"},children:" Maximum tier reached! You're a true Village Patron!"})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[g.jsx("h3",{style:{color:"#2c3e50",marginBottom:"1rem"},children:" Businesses Visited"}),p.length>0?g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:p.map((C,k)=>g.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+k*.05},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#e8f5e9",borderRadius:"8px"},children:[g.jsx("span",{style:{color:"#2e7d32"},children:""}),g.jsx("span",{style:{color:"#2c3e50"},children:C})]},k))}):g.jsx("p",{style:{color:"#888"},children:"No businesses visited yet"})]}),v.length>0&&g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[g.jsx("h3",{style:{color:"#2c3e50",marginBottom:"1rem"},children:" Still to Explore"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map((C,k)=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#f5f5f5",borderRadius:"8px"},children:[g.jsx("span",{style:{color:"#888"},children:""}),g.jsx("span",{style:{color:"#5a6c7d"},children:C.name})]},C.code))})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{textAlign:"center",color:"#888",marginBottom:"1.5rem"},children:["Total check-ins: ",t.totalCheckins||0]}),g.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:g.jsx(_e,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Home"})})]})})}const su="kinderbucks",dN="scans";async function fN(t){const e=Zn($t,su,t),n=await Nh(e);return n.exists()?{serial:n.id,...n.data()}:null}async function Mm(){const t=Vh(zs($t,su),jh("serial"));return(await Mh(t)).docs.map(n=>({serial:n.id,...n.data()}))}async function mN(t,e){const n=t.map(i=>cg(Zn($t,su,i),{serial:i,denomination:e,status:"draft",scanCount:0,createdAt:Tr()}));await Promise.all(n)}async function pN(t,e,n=null){const i=Zn($t,su,t),o={status:e,issuedAt:Tr(),...n&&{issuedTo:n}};await ru(i,o)}async function gN(t){const e=Zn($t,su,t);await ru(e,{scanCount:ig(1),lastScanned:Tr(),status:"active"}),await hg(zs($t,dN),{serial:t,scannedAt:Tr(),userAgent:navigator.userAgent||null})}function aT(){const[t,e]=N.useState([]);return N.useEffect(()=>{const n=["#2d5a27","#c9a227","#4a7c43","#d4af37","#5c4033"],i=Array.from({length:50},(o,a)=>({id:a,x:Math.random()*100,color:n[Math.floor(Math.random()*n.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:8+Math.random()*8}));e(i)},[]),g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden",zIndex:100},children:t.map(n=>g.jsx(Ve.div,{initial:{y:-20,x:`${n.x}vw`,opacity:1,rotate:0},animate:{y:"110vh",rotate:360*(Math.random()>.5?1:-1),opacity:[1,1,0]},transition:{duration:n.duration,delay:n.delay,ease:"linear"},style:{position:"absolute",width:n.size,height:n.size,background:n.color,borderRadius:Math.random()>.5?"50%":"2px"}},n.id))})}const o_={1:{bg:"#d4edda",text:"#155724"},5:{bg:"#cce5ff",text:"#004085"},10:{bg:"#e2d5e7",text:"#4a235a"},20:{bg:"#fff3cd",text:"#856404"}};function yN({kinderbuck:t}){const e=o_[t.denomination]||o_[5];return g.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"card",style:{textAlign:"center",maxWidth:"400px",background:e.bg},children:[g.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[g.jsxs("h1",{style:{color:e.text,fontSize:"3rem",marginBottom:"0.5rem"},children:["$",t.denomination]}),g.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.5rem",color:e.text},children:t.serial})]}),g.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{marginTop:"1.5rem"},children:g.jsx("div",{style:{display:"inline-block",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.7)",borderRadius:"20px",color:"var(--kb-green)",fontWeight:"bold"},children:"VERIFIED AUTHENTIC"})}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{marginTop:"1.5rem",fontSize:"0.9rem",opacity:.8},children:[g.jsxs("p",{children:["Status: ",g.jsx("strong",{children:t.status})]}),t.issuedAt&&g.jsxs("p",{children:["Issued: ",new Date(t.issuedAt.seconds*1e3).toLocaleDateString()]}),g.jsxs("p",{children:["Scans: ",t.scanCount||1]})]}),g.jsx(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,type:"spring"},style:{marginTop:"1.5rem"},children:g.jsx("iframe",{src:"https://giphy.com/embed/B1txHfofr9y08bDB8b",width:"200",height:"200",frameBorder:"0",style:{borderRadius:"12px",pointerEvents:"none"},allowFullScreen:!0})})]})}function vN(){const{serial:t}=T_(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null);return N.useEffect(()=>{async function f(){try{const h=await fN(t);h?(n(h),await gN(t)):u("not_found")}catch(h){console.error("Verification error:",h),u("error")}finally{o(!1)}}f()},[t]),i?g.jsxs("div",{className:"page page-center",children:[g.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:"$"}),g.jsxs("p",{style:{marginTop:"1rem"},children:["Verifying ",t,"..."]})]}):a==="not_found"?g.jsxs("div",{className:"page page-center",children:[g.jsx("h1",{style:{color:"#c0392b"},children:"Not Found"}),g.jsxs("p",{children:["Serial ",g.jsx("strong",{children:t})," is not a valid Kinderbuck."]})]}):a?g.jsxs("div",{className:"page page-center",children:[g.jsx("h1",{style:{color:"#c0392b"},children:"Error"}),g.jsx("p",{children:"Something went wrong verifying this Kinderbuck."})]}):g.jsxs("div",{className:"page page-center",children:[g.jsx(aT,{}),g.jsx(yN,{kinderbuck:e})]})}const lT="checkins",xN=3600*1e3;async function _N(t,e){var f;const n=new Date(Date.now()-xN),i=Vh(zs($t,lT),Nm("visitorId","==",t),Nm("businessCode","==",e),jh("timestamp","desc"),Xj(1)),o=await Mh(i);return o.empty?!1:(((f=o.docs[0].data().timestamp)==null?void 0:f.toDate())||new Date(0))>n}async function wN(t,e,n){await hg(zs($t,lT),{visitorId:t,businessCode:e,timestamp:Tr(),kinderbucksMatched:!1,boostApplied:0,memberTier:n||"curious"})}function EN(){var U;const{businessCode:t}=T_(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null),[f,h]=N.useState(null),[m,p]=N.useState(!1),[v,w]=N.useState(!1);if(N.useEffect(()=>{async function L(){try{const V=await iN(t);if(!V){u("not_found"),o(!1);return}if(!V.isActive){u("inactive"),o(!1);return}n(V);const Q=$l();if(await _N(Q,t)){p(!0);const b=await Wl(Q);b&&h({tierChanged:!1,newTier:b.tier,businessesVisited:b.businessesVisited||[],totalCheckins:b.totalCheckins||0,isNewBusiness:!1}),o(!1);return}const se=await Wl(Q),j=(se==null?void 0:se.tier)||null,I=await lN(Q,t);await wN(Q,t,I.newTier),await sN(t),h(I),I.tierChanged&&I.newTier&&w(!0),o(!1)}catch(V){console.error("Check-in error:",V),u("error"),o(!1)}}L()},[t]),i)return g.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[g.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:""}),g.jsx("p",{style:{marginTop:"1rem",color:"#5a6c7d"},children:"Checking in..."})]});if(a==="not_found")return g.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[g.jsx("h1",{style:{color:"#c0392b"},children:"Business Not Found"}),g.jsx("p",{style:{color:"#5a6c7d"},children:"This check-in code doesn't match any participating business."}),g.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a==="inactive")return g.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[g.jsx("h1",{style:{color:"#e67e22"},children:"Business Not Active"}),g.jsx("p",{style:{color:"#5a6c7d"},children:"This business is not currently participating in Kinderhooker."}),g.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a)return g.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[g.jsx("h1",{style:{color:"#c0392b"},children:"Something went wrong"}),g.jsx("p",{style:{color:"#5a6c7d"},children:"Please try scanning again."}),g.jsx(_e,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});const S=(f==null?void 0:f.newTier)||"curious",C=js[S],k=((U=f==null?void 0:f.businessesVisited)==null?void 0:U.length)||0,R=Ep(k);return g.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:[v&&g.jsx(aT,{}),g.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[m?g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),g.jsx("h2",{style:{color:"#5a6c7d",marginBottom:"0.5rem"},children:"Already Checked In!"}),g.jsxs("p",{style:{color:"#888",marginBottom:"1.5rem"},children:["You visited ",g.jsx("strong",{children:e.name})," recently.",g.jsx("br",{}),"Come back in an hour for another check-in!"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[g.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),g.jsxs("h2",{style:{color:"#1a5f2a",marginBottom:"0.5rem"},children:["Welcome to ",e.name,"!"]}),g.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Check-in recorded!"})]}),(f==null?void 0:f.tierChanged)&&(f==null?void 0:f.newTier)&&g.jsxs(Ve.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},style:{background:C.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[g.jsx("div",{style:{fontSize:"1.5rem"},children:C.emoji}),g.jsx("div",{style:{color:C.color,fontWeight:"bold",fontSize:"1.2rem"},children:f.oldTier?"NEW TIER UNLOCKED!":"WELCOME, KINDERHOOKER!"}),g.jsx("div",{style:{color:C.color,fontSize:"1.5rem",fontWeight:"bold"},children:C.name})]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:C.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[g.jsx("div",{style:{fontSize:"2rem"},children:C.emoji}),g.jsx("div",{style:{color:C.color,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:C.name}),g.jsxs("div",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginTop:"0.5rem"},children:[Math.round(C.bonus*100),"% Kinderbuck Match Bonus"]})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[g.jsxs("p",{style:{color:"#2c3e50",marginBottom:"0.5rem"},children:["You've visited ",g.jsx("strong",{children:k})," business",k!==1?"es":""]}),R.nextTier&&g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"0.5rem"},children:g.jsx(Ve.div,{initial:{width:0},animate:{width:`${R.progress}%`},transition:{delay:.7,duration:.5},style:{background:`linear-gradient(90deg, ${C.color}, ${R.nextTier.color})`,height:"100%",borderRadius:"10px"}})}),g.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.85rem"},children:[R.remaining," more to reach ",g.jsx("strong",{style:{color:R.nextTier.color},children:R.nextTier.name}),"!"]})]}),!R.nextTier&&g.jsx("p",{style:{color:"#c9a227",fontWeight:"bold"},children:" Maximum tier reached! You're a true Village Patron!"})]}),g.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[g.jsx(_e,{to:"/profile",className:"btn",style:{background:"#1a5f2a"},children:"View My Profile"}),g.jsx(_e,{to:"/",className:"btn btn-secondary",children:"Home"})]})]})]})}function Oh(){const t=ti(),e=[{to:"/admin/dashboard",label:"Dashboard"},{to:"/admin/generate",label:"Generate"},{to:"/admin/issue",label:"Issue"},{to:"/admin/businesses",label:"Businesses"}];return g.jsxs("nav",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd",flexWrap:"wrap",alignItems:"center"},children:[g.jsx(_e,{to:"/",style:{fontWeight:"bold",color:"var(--kb-green)",textDecoration:"none"},children:"Kinderbucks"}),g.jsx("span",{style:{opacity:.3},children:"|"}),e.map(n=>g.jsx(_e,{to:n.to,style:{color:t.pathname===n.to?"var(--kb-green)":"var(--kb-brown)",textDecoration:t.pathname===n.to?"underline":"none"},children:n.label},n.to))]})}function TN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState({status:"all",denomination:"all"});N.useEffect(()=>{async function h(){const m=await Mm();e(m),i(!1)}h()},[]);const u=t.filter(h=>!(o.status!=="all"&&h.status!==o.status||o.denomination!=="all"&&h.denomination!==Number(o.denomination))),f={total:t.length,issued:t.filter(h=>h.status==="issued"||h.status==="active").length,totalValue:t.reduce((h,m)=>h+(m.denomination||0),0)};return g.jsxs("div",{className:"page",children:[g.jsx(Oh,{}),g.jsx("h1",{children:"Dashboard"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Total Kinderbucks"}),g.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.total})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"In Circulation"}),g.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:f.issued})]}),g.jsxs("div",{className:"card",children:[g.jsx("h3",{children:"Total Value"}),g.jsxs("p",{style:{fontSize:"2rem",color:"var(--kb-gold)"},children:["$",f.totalValue]})]})]}),g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[g.jsxs("select",{value:o.status,onChange:h=>a(m=>({...m,status:h.target.value})),style:{padding:"0.5rem"},children:[g.jsx("option",{value:"all",children:"All Statuses"}),g.jsx("option",{value:"draft",children:"Draft"}),g.jsx("option",{value:"issued",children:"Issued"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"redeemed",children:"Redeemed"}),g.jsx("option",{value:"retired",children:"Retired"})]}),g.jsxs("select",{value:o.denomination,onChange:h=>a(m=>({...m,denomination:h.target.value})),style:{padding:"0.5rem"},children:[g.jsx("option",{value:"all",children:"All Denominations"}),g.jsx("option",{value:"1",children:"$1"}),g.jsx("option",{value:"5",children:"$5"}),g.jsx("option",{value:"10",children:"$10"}),g.jsx("option",{value:"20",children:"$20"})]})]}),n?g.jsx("p",{children:"Loading..."}):u.length===0?g.jsxs("p",{children:["No Kinderbucks found. ",g.jsx(_e,{to:"/admin/generate",children:"Generate some!"})]}):g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"2px solid var(--kb-green)"},children:[g.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Serial"}),g.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Denomination"}),g.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Status"}),g.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Scans"})]})}),g.jsx("tbody",{children:u.slice(0,50).map(h=>g.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[g.jsx("td",{style:{padding:"0.5rem",fontFamily:"monospace"},children:h.serial}),g.jsxs("td",{style:{padding:"0.5rem"},children:["$",h.denomination]}),g.jsx("td",{style:{padding:"0.5rem"},children:g.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",background:h.status==="active"?"#d4edda":h.status==="draft"?"#f8f9fa":"#fff3cd"},children:h.status})}),g.jsx("td",{style:{padding:"0.5rem"},children:h.scanCount||0})]},h.serial))})]}),u.length>50&&g.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",u.length]})]})]})}var SN=Object.defineProperty,ch=Object.getOwnPropertySymbols,uT=Object.prototype.hasOwnProperty,cT=Object.prototype.propertyIsEnumerable,a_=(t,e,n)=>e in t?SN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lm=(t,e)=>{for(var n in e||(e={}))uT.call(e,n)&&a_(t,n,e[n]);if(ch)for(var n of ch(e))cT.call(e,n)&&a_(t,n,e[n]);return t},Om=(t,e)=>{var n={};for(var i in t)uT.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&ch)for(var i of ch(t))e.indexOf(i)<0&&cT.call(t,i)&&(n[i]=t[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Os;(t=>{const e=class Pe{constructor(h,m,p,v){if(this.version=h,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],h<Pe.MIN_VERSION||h>Pe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let w=[];for(let C=0;C<this.size;C++)w.push(!1);for(let C=0;C<this.size;C++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(p);if(this.drawCodewords(S),v==-1){let C=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const R=this.getPenaltyScore();R<C&&(v=k,C=R),this.applyMask(k)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(h,m){const p=t.QrSegment.makeSegments(h);return Pe.encodeSegments(p,m)}static encodeBinary(h,m){const p=t.QrSegment.makeBytes(h);return Pe.encodeSegments([p],m)}static encodeSegments(h,m,p=1,v=40,w=-1,S=!0){if(!(Pe.MIN_VERSION<=p&&p<=v&&v<=Pe.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let C,k;for(C=p;;C++){const V=Pe.getNumDataCodewords(C,m)*8,Q=u.getTotalBits(h,C);if(Q<=V){k=Q;break}if(C>=v)throw new RangeError("Data too long")}for(const V of[Pe.Ecc.MEDIUM,Pe.Ecc.QUARTILE,Pe.Ecc.HIGH])S&&k<=Pe.getNumDataCodewords(C,V)*8&&(m=V);let R=[];for(const V of h){n(V.mode.modeBits,4,R),n(V.numChars,V.mode.numCharCountBits(C),R);for(const Q of V.getData())R.push(Q)}o(R.length==k);const U=Pe.getNumDataCodewords(C,m)*8;o(R.length<=U),n(0,Math.min(4,U-R.length),R),n(0,(8-R.length%8)%8,R),o(R.length%8==0);for(let V=236;R.length<U;V^=253)n(V,8,R);let L=[];for(;L.length*8<R.length;)L.push(0);return R.forEach((V,Q)=>L[Q>>>3]|=V<<7-(Q&7)),new Pe(C,m,L,w)}getModule(h,m){return 0<=h&&h<this.size&&0<=m&&m<this.size&&this.modules[m][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),m=h.length;for(let p=0;p<m;p++)for(let v=0;v<m;v++)p==0&&v==0||p==0&&v==m-1||p==m-1&&v==0||this.drawAlignmentPattern(h[p],h[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const m=this.errorCorrectionLevel.formatBits<<3|h;let p=m;for(let w=0;w<10;w++)p=p<<1^(p>>>9)*1335;const v=(m<<10|p)^21522;o(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(v,w));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let p=0;p<12;p++)h=h<<1^(h>>>11)*7973;const m=this.version<<12|h;o(m>>>18==0);for(let p=0;p<18;p++){const v=i(m,p),w=this.size-11+p%3,S=Math.floor(p/3);this.setFunctionModule(w,S,v),this.setFunctionModule(S,w,v)}}drawFinderPattern(h,m){for(let p=-4;p<=4;p++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(p)),S=h+v,C=m+p;0<=S&&S<this.size&&0<=C&&C<this.size&&this.setFunctionModule(S,C,w!=2&&w!=4)}}drawAlignmentPattern(h,m){for(let p=-2;p<=2;p++)for(let v=-2;v<=2;v++)this.setFunctionModule(h+v,m+p,Math.max(Math.abs(v),Math.abs(p))!=1)}setFunctionModule(h,m,p){this.modules[m][h]=p,this.isFunction[m][h]=!0}addEccAndInterleave(h){const m=this.version,p=this.errorCorrectionLevel;if(h.length!=Pe.getNumDataCodewords(m,p))throw new RangeError("Invalid argument");const v=Pe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m],w=Pe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m],S=Math.floor(Pe.getNumRawDataModules(m)/8),C=v-S%v,k=Math.floor(S/v);let R=[];const U=Pe.reedSolomonComputeDivisor(w);for(let V=0,Q=0;V<v;V++){let J=h.slice(Q,Q+k-w+(V<C?0:1));Q+=J.length;const se=Pe.reedSolomonComputeRemainder(J,U);V<C&&J.push(0),R.push(J.concat(se))}let L=[];for(let V=0;V<R[0].length;V++)R.forEach((Q,J)=>{(V!=k-w||J>=C)&&L.push(Q[V])});return o(L.length==S),L}drawCodewords(h){if(h.length!=Math.floor(Pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const S=p-w,k=(p+1&2)==0?this.size-1-v:v;!this.isFunction[k][S]&&m<h.length*8&&(this.modules[k][S]=i(h[m>>>3],7-(m&7)),m++)}}o(m==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let p=0;p<this.size;p++){let v;switch(h){case 0:v=(p+m)%2==0;break;case 1:v=m%2==0;break;case 2:v=p%3==0;break;case 3:v=(p+m)%3==0;break;case 4:v=(Math.floor(p/3)+Math.floor(m/2))%2==0;break;case 5:v=p*m%2+p*m%3==0;break;case 6:v=(p*m%2+p*m%3)%2==0;break;case 7:v=((p+m)%2+p*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][p]&&v&&(this.modules[m][p]=!this.modules[m][p])}}getPenaltyScore(){let h=0;for(let w=0;w<this.size;w++){let S=!1,C=0,k=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[w][R]==S?(C++,C==5?h+=Pe.PENALTY_N1:C>5&&h++):(this.finderPenaltyAddHistory(C,k),S||(h+=this.finderPenaltyCountPatterns(k)*Pe.PENALTY_N3),S=this.modules[w][R],C=1);h+=this.finderPenaltyTerminateAndCount(S,C,k)*Pe.PENALTY_N3}for(let w=0;w<this.size;w++){let S=!1,C=0,k=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[R][w]==S?(C++,C==5?h+=Pe.PENALTY_N1:C>5&&h++):(this.finderPenaltyAddHistory(C,k),S||(h+=this.finderPenaltyCountPatterns(k)*Pe.PENALTY_N3),S=this.modules[R][w],C=1);h+=this.finderPenaltyTerminateAndCount(S,C,k)*Pe.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let S=0;S<this.size-1;S++){const C=this.modules[w][S];C==this.modules[w][S+1]&&C==this.modules[w+1][S]&&C==this.modules[w+1][S+1]&&(h+=Pe.PENALTY_N2)}let m=0;for(const w of this.modules)m=w.reduce((S,C)=>S+(C?1:0),m);const p=this.size*this.size,v=Math.ceil(Math.abs(m*20-p*10)/p)-1;return o(0<=v&&v<=9),h+=v*Pe.PENALTY_N4,o(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let p=[6];for(let v=this.size-7;p.length<h;v-=m)p.splice(1,0,v);return p}}static getNumRawDataModules(h){if(h<Pe.MIN_VERSION||h>Pe.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*h+128)*h+64;if(h>=2){const p=Math.floor(h/7)+2;m-=(25*p-10)*p-55,h>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(h,m){return Math.floor(Pe.getNumRawDataModules(h)/8)-Pe.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h]*Pe.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let m=[];for(let v=0;v<h-1;v++)m.push(0);m.push(1);let p=1;for(let v=0;v<h;v++){for(let w=0;w<m.length;w++)m[w]=Pe.reedSolomonMultiply(m[w],p),w+1<m.length&&(m[w]^=m[w+1]);p=Pe.reedSolomonMultiply(p,2)}return m}static reedSolomonComputeRemainder(h,m){let p=m.map(v=>0);for(const v of h){const w=v^p.shift();p.push(0),m.forEach((S,C)=>p[C]^=Pe.reedSolomonMultiply(S,w))}return p}static reedSolomonMultiply(h,m){if(h>>>8||m>>>8)throw new RangeError("Byte out of range");let p=0;for(let v=7;v>=0;v--)p=p<<1^(p>>>7)*285,p^=(m>>>v&1)*h;return o(p>>>8==0),p}finderPenaltyCountPatterns(h){const m=h[1];o(m<=this.size*3);const p=m>0&&h[2]==m&&h[3]==m*3&&h[4]==m&&h[5]==m;return(p&&h[0]>=m*4&&h[6]>=m?1:0)+(p&&h[6]>=m*4&&h[0]>=m?1:0)}finderPenaltyTerminateAndCount(h,m,p){return h&&(this.finderPenaltyAddHistory(m,p),m=0),m+=this.size,this.finderPenaltyAddHistory(m,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(h,m){m[0]==0&&(h+=this.size),m.pop(),m.unshift(h)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(f,h,m){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let p=h-1;p>=0;p--)m.push(f>>>p&1)}function i(f,h){return(f>>>h&1)!=0}function o(f){if(!f)throw new Error("Assertion error")}const a=class ht{constructor(h,m,p){if(this.mode=h,this.numChars=m,this.bitData=p,m<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(h){let m=[];for(const p of h)n(p,8,m);return new ht(ht.Mode.BYTE,h.length,m)}static makeNumeric(h){if(!ht.isNumeric(h))throw new RangeError("String contains non-numeric characters");let m=[];for(let p=0;p<h.length;){const v=Math.min(h.length-p,3);n(parseInt(h.substring(p,p+v),10),v*3+1,m),p+=v}return new ht(ht.Mode.NUMERIC,h.length,m)}static makeAlphanumeric(h){if(!ht.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],p;for(p=0;p+2<=h.length;p+=2){let v=ht.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p))*45;v+=ht.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p+1)),n(v,11,m)}return p<h.length&&n(ht.ALPHANUMERIC_CHARSET.indexOf(h.charAt(p)),6,m),new ht(ht.Mode.ALPHANUMERIC,h.length,m)}static makeSegments(h){return h==""?[]:ht.isNumeric(h)?[ht.makeNumeric(h)]:ht.isAlphanumeric(h)?[ht.makeAlphanumeric(h)]:[ht.makeBytes(ht.toUtf8ByteArray(h))]}static makeEci(h){let m=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)n(h,8,m);else if(h<16384)n(2,2,m),n(h,14,m);else if(h<1e6)n(6,3,m),n(h,21,m);else throw new RangeError("ECI assignment value out of range");return new ht(ht.Mode.ECI,0,m)}static isNumeric(h){return ht.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return ht.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,m){let p=0;for(const v of h){const w=v.mode.numCharCountBits(m);if(v.numChars>=1<<w)return 1/0;p+=4+w+v.bitData.length}return p}static toUtf8ByteArray(h){h=encodeURI(h);let m=[];for(let p=0;p<h.length;p++)h.charAt(p)!="%"?m.push(h.charCodeAt(p)):(m.push(parseInt(h.substring(p+1,p+3),16)),p+=2);return m}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(Os||(Os={}));(t=>{(e=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Os||(Os={}));(t=>{(e=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Os||(Os={}));var Bo=Os;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var AN={L:Bo.QrCode.Ecc.LOW,M:Bo.QrCode.Ecc.MEDIUM,Q:Bo.QrCode.Ecc.QUARTILE,H:Bo.QrCode.Ecc.HIGH},hT=128,dT="L",fT="#FFFFFF",mT="#000000",pT=!1,gT=1,CN=4,IN=0,RN=.1;function yT(t,e=0){const n=[];return t.forEach(function(i,o){let a=null;i.forEach(function(u,f){if(!u&&a!==null){n.push(`M${a+e} ${o+e}h${f-a}v1H${a+e}z`),a=null;return}if(f===i.length-1){if(!u)return;a===null?n.push(`M${f+e},${o+e} h1v1H${f+e}z`):n.push(`M${a+e},${o+e} h${f+1-a}v1H${a+e}z`);return}u&&a===null&&(a=f)})}),n.join("")}function vT(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((o,a)=>a<e.x||a>=e.x+e.w?o:!1))}function kN(t,e,n,i){if(i==null)return null;const o=t.length+n*2,a=Math.floor(e*RN),u=o/e,f=(i.width||a)*u,h=(i.height||a)*u,m=i.x==null?t.length/2-f/2:i.x*u,p=i.y==null?t.length/2-h/2:i.y*u,v=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let C=Math.floor(m),k=Math.floor(p),R=Math.ceil(f+m-C),U=Math.ceil(h+p-k);w={x:C,y:k,w:R,h:U}}const S=i.crossOrigin;return{x:m,y:p,h,w:f,excavation:w,opacity:v,crossOrigin:S}}function bN(t,e){return e!=null?Math.max(Math.floor(e),0):t?CN:IN}function xT({value:t,level:e,minVersion:n,includeMargin:i,marginSize:o,imageSettings:a,size:u,boostLevel:f}){let h=kt.useMemo(()=>{const C=(Array.isArray(t)?t:[t]).reduce((k,R)=>(k.push(...Bo.QrSegment.makeSegments(R)),k),[]);return Bo.QrCode.encodeSegments(C,AN[e],n,void 0,void 0,f)},[t,e,n,f]);const{cells:m,margin:p,numCells:v,calculatedImageSettings:w}=kt.useMemo(()=>{let S=h.getModules();const C=bN(i,o),k=S.length+C*2,R=kN(S,u,C,a);return{cells:S,margin:C,numCells:k,calculatedImageSettings:R}},[h,u,a,i,o]);return{qrcode:h,margin:p,cells:m,numCells:v,calculatedImageSettings:w}}var PN=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),VN=kt.forwardRef(function(e,n){const i=e,{value:o,size:a=hT,level:u=dT,bgColor:f=fT,fgColor:h=mT,includeMargin:m=pT,minVersion:p=gT,boostLevel:v,marginSize:w,imageSettings:S}=i,k=Om(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:R}=k,U=Om(k,["style"]),L=S==null?void 0:S.src,V=kt.useRef(null),Q=kt.useRef(null),J=kt.useCallback(be=>{V.current=be,typeof n=="function"?n(be):n&&(n.current=be)},[n]),[se,j]=kt.useState(!1),{margin:I,cells:b,numCells:O,calculatedImageSettings:M}=xT({value:o,level:u,minVersion:p,boostLevel:v,includeMargin:m,marginSize:w,imageSettings:S,size:a});kt.useEffect(()=>{if(V.current!=null){const be=V.current,$e=be.getContext("2d");if(!$e)return;let vt=b;const Ee=Q.current,re=M!=null&&Ee!==null&&Ee.complete&&Ee.naturalHeight!==0&&Ee.naturalWidth!==0;re&&M.excavation!=null&&(vt=vT(b,M.excavation));const fe=window.devicePixelRatio||1;be.height=be.width=a*fe;const ae=a/O*fe;$e.scale(ae,ae),$e.fillStyle=f,$e.fillRect(0,0,O,O),$e.fillStyle=h,PN?$e.fill(new Path2D(yT(vt,I))):b.forEach(function(z,Z){z.forEach(function(Ae,Ce){Ae&&$e.fillRect(Ce+I,Z+I,1,1)})}),M&&($e.globalAlpha=M.opacity),re&&$e.drawImage(Ee,M.x+I,M.y+I,M.w,M.h)}}),kt.useEffect(()=>{j(!1)},[L]);const $=Lm({height:a,width:a},R);let D=null;return L!=null&&(D=kt.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{j(!0)},ref:Q,crossOrigin:M==null?void 0:M.crossOrigin})),kt.createElement(kt.Fragment,null,kt.createElement("canvas",Lm({style:$,height:a,width:a,ref:J,role:"img"},U)),D)});VN.displayName="QRCodeCanvas";var Fm=kt.forwardRef(function(e,n){const i=e,{value:o,size:a=hT,level:u=dT,bgColor:f=fT,fgColor:h=mT,includeMargin:m=pT,minVersion:p=gT,boostLevel:v,title:w,marginSize:S,imageSettings:C}=i,k=Om(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:R,cells:U,numCells:L,calculatedImageSettings:V}=xT({value:o,level:u,minVersion:p,boostLevel:v,includeMargin:m,marginSize:S,imageSettings:C,size:a});let Q=U,J=null;C!=null&&V!=null&&(V.excavation!=null&&(Q=vT(U,V.excavation)),J=kt.createElement("image",{href:C.src,height:V.h,width:V.w,x:V.x+R,y:V.y+R,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const se=yT(Q,R);return kt.createElement("svg",Lm({height:a,width:a,viewBox:`0 0 ${L} ${L}`,ref:n,role:"img"},k),!!w&&kt.createElement("title",null,w),kt.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),kt.createElement("path",{fill:h,d:se,shapeRendering:"crispEdges"}),J)});Fm.displayName="QRCodeSVG";const l_={1:{color:"#2d5a27",gradient:["#3d7a37","#2d5a27"],label:"ONE",accent:"#90c695"},5:{color:"#1e3a5f",gradient:["#2e5a8f","#1e3a5f"],label:"FIVE",accent:"#7ba3cc"},10:{color:"#5c2d5c",gradient:["#7c4d7c","#5c2d5c"],label:"TEN",accent:"#b89db8"},20:{color:"#8b6914",gradient:["#c9a227","#8b6914"],label:"TWENTY",accent:"#e8d48a"}};function _T({value:t,size:e=128,denomination:n=5,showFrame:i=!0}){const o=l_[n]||l_[5],a=e+48,u=16;return i?g.jsx("div",{style:{width:a,background:`linear-gradient(135deg, ${o.gradient[0]} 0%, ${o.gradient[1]} 100%)`,borderRadius:u,padding:"3px",display:"inline-block",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:g.jsxs("div",{style:{background:"linear-gradient(135deg, #fefefe 0%, #f5f5f0 100%)",borderRadius:u-2,padding:"8px",position:"relative"},children:[g.jsx("div",{style:{textAlign:"center",marginBottom:"6px",fontFamily:'"Georgia", serif',fontSize:"10px",fontWeight:"bold",color:o.color,letterSpacing:"3px",textTransform:"uppercase"},children:"KINDERBUCKS"}),g.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"8px",border:`2px solid ${o.accent}`,position:"relative"},children:[g.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"2px 0 0 0"}}),g.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 2px 0 0"}}),g.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"0 0 0 2px"}}),g.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 0 2px 0"}}),g.jsx(Fm,{value:t,size:e,level:"H",fgColor:o.color,style:{display:"block"},imageSettings:{src:`data:image/svg+xml,${encodeURIComponent(`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${o.color}">
                  <circle cx="12" cy="12" r="11" fill="white" stroke="${o.color}" stroke-width="1.5"/>
                  <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="${o.color}" font-family="Georgia">K</text>
                </svg>
              `)}`,height:e*.2,width:e*.2,excavate:!0}})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px",padding:"0 4px"},children:[g.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]}),g.jsx("span",{style:{fontFamily:'"Georgia", serif',fontSize:"9px",color:o.color,letterSpacing:"1px",opacity:.8},children:o.label}),g.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]})]})]})}):g.jsx(Fm,{value:t,size:e,level:"M",fgColor:o.color,style:{display:"block"}})}function DN(){const[t,e]=N.useState({start:1,end:100}),[n,i]=N.useState(5),[o,a]=N.useState([]),[u,f]=N.useState(!1),[h,m]=N.useState(!1),p=()=>{const S=[];for(let C=t.start;C<=t.end;C++)S.push(`KB-${String(C).padStart(4,"0")}`);a(S),m(!1)},v=async()=>{f(!0);try{await mN(o,n),m(!0)}catch(S){console.error("Error saving:",S),alert("Error saving to database")}f(!1)},w="https://harmonicsystems.github.io/kinderbucks/#/scan/";return g.jsxs("div",{className:"page",children:[g.jsx(Oh,{}),g.jsx("h1",{children:"Generate QR Codes"}),g.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[g.jsx("h2",{children:"Settings"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Start Number"}),g.jsx("input",{type:"number",value:t.start,onChange:S=>e(C=>({...C,start:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"End Number"}),g.jsx("input",{type:"number",value:t.end,onChange:S=>e(C=>({...C,end:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Denomination"}),g.jsxs("select",{value:n,onChange:S=>i(Number(S.target.value)),style:{padding:"0.5rem"},children:[g.jsx("option",{value:1,children:"$1"}),g.jsx("option",{value:5,children:"$5"}),g.jsx("option",{value:10,children:"$10"}),g.jsx("option",{value:20,children:"$20"})]})]}),g.jsxs("button",{className:"btn",onClick:p,children:["Generate ",t.end-t.start+1," Codes"]})]})]}),o.length>0&&g.jsxs("div",{className:"card",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[g.jsxs("h2",{children:["Generated: ",o.length," Kinderbucks ($",n," each)"]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[!h&&g.jsx("button",{className:"btn",onClick:v,disabled:u,children:u?"Saving...":"Save to Database"}),h&&g.jsx("span",{style:{color:"var(--kb-green)"},children:"Saved!"}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>window.print(),children:"Print"})]})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:o.slice(0,50).map(S=>g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(_T,{value:`${w}${S}`,size:120,denomination:n}),g.jsx("p",{style:{fontFamily:"monospace",marginTop:"0.5rem",fontSize:"0.85rem"},children:S})]},S))}),o.length>50&&g.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",o.length,". All will be saved and printable."]})]})]})}function jN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState([]),[u,f]=N.useState("");N.useEffect(()=>{async function v(){const w=await Mm();e(w.filter(S=>S.status==="draft"||S.status==="issued")),i(!1)}v()},[]);const h=v=>{a(w=>w.includes(v)?w.filter(S=>S!==v):[...w,v])},m=async()=>{if(o.length!==0)try{for(const w of o)await pN(w,"issued",u);const v=await Mm();e(v.filter(w=>w.status==="draft"||w.status==="issued")),a([]),f(""),alert(`Issued ${o.length} Kinderbucks!`)}catch(v){console.error("Error issuing:",v),alert("Error issuing Kinderbucks")}},p=t.filter(v=>v.status==="draft");return g.jsxs("div",{className:"page",children:[g.jsx(Oh,{}),g.jsx("h1",{children:"Issue Kinderbucks"}),g.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[g.jsx("h2",{children:"Issue Selected"}),g.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Issued To (optional)"}),g.jsx("input",{type:"text",value:u,onChange:v=>f(v.target.value),placeholder:"Business or recipient name",style:{padding:"0.5rem",width:"250px"}})]}),g.jsxs("button",{className:"btn",onClick:m,disabled:o.length===0,children:["Issue ",o.length," Selected"]})]})]}),g.jsxs("div",{className:"card",children:[g.jsxs("h2",{children:["Available to Issue (",p.length," draft)"]}),n?g.jsx("p",{children:"Loading..."}):p.length===0?g.jsx("p",{children:"No draft Kinderbucks available. Generate some first!"}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("button",{className:"btn btn-secondary",onClick:()=>a(p.map(v=>v.serial)),style:{marginRight:"0.5rem"},children:"Select All"}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>a([]),children:"Clear"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"0.5rem"},children:p.map(v=>g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:o.includes(v.serial)?"#d4edda":"#f8f9fa",borderRadius:"4px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:o.includes(v.serial),onChange:()=>h(v.serial)}),g.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem"},children:v.serial}),g.jsxs("span",{style:{opacity:.7},children:["$",v.denomination]})]},v.serial))})]})]})]})}const NN=[{code:"AVIARY",name:"The Aviary",category:"food"},{code:"MORNINGBIRD",name:"Morningbird Cafe",category:"food"},{code:"SAISONNIER",name:"Saisonnier",category:"food"},{code:"BROADST-BAGEL",name:"Broad Street Bagel Co.",category:"food"},{code:"BROOKLYN-PIZZA",name:"The Brooklyn Pizzeria",category:"food"},{code:"ISOLA",name:"Isola Wine Bar",category:"food"},{code:"HAMRAHS",name:"Hamrah's Lebanese Foods",category:"food"},{code:"OK-PANTRY",name:"OK Pantry",category:"retail"},{code:"BOTTLE-SHOP",name:"Kinderhook Bottle Shop",category:"retail"},{code:"BOOKS",name:"Kinderhook Books",category:"retail"},{code:"SAMASCOTTS",name:"Samascott's Garden Market",category:"retail"},{code:"SCHOOL-GALLERY",name:"The School | Jack Shainman Gallery",category:"arts"},{code:"SEPTEMBER",name:"September Gallery",category:"arts"},{code:"OLD-DUTCH",name:"Old Dutch Inn",category:"services"},{code:"MUSE",name:"Muse Aesthetics",category:"services"},{code:"PILATES",name:"Julia Jayne Pilates",category:"services"},{code:"HISTORICAL",name:"Columbia County Historical Society",category:"arts"}],u_=[{value:"food",label:"Food & Drink",emoji:""},{value:"retail",label:"Retail",emoji:""},{value:"services",label:"Services",emoji:""},{value:"arts",label:"Arts & Culture",emoji:""}];function MN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState({code:"",name:"",category:"food"}),[u,f]=N.useState(!1),[h,m]=N.useState(null),[p,v]=N.useState(!1),w=async()=>{const L=await Lh();e(L),i(!1)};N.useEffect(()=>{w()},[]);const S=async L=>{if(L.preventDefault(),!(!o.code||!o.name)){f(!0);try{await s_(o.code.toUpperCase(),o.name,o.category),a({code:"",name:"",category:"food"}),await w()}catch(V){console.error("Error creating business:",V),alert("Error creating business")}f(!1)}},C=async(L,V)=>{await oN(L,!V),await w()},k=async()=>{if(confirm("This will add all Kinderhook businesses. Continue?")){v(!0);try{for(const L of NN)t.find(Q=>Q.code===L.code)||await s_(L.code,L.name,L.category);await w(),alert("Businesses seeded successfully!")}catch(L){console.error("Error seeding:",L),alert("Error seeding businesses")}v(!1)}},R="https://harmonicsystems.github.io/kinderbucks/#/checkin/",U=L=>{const V=u_.find(Q=>Q.value===L);return V?V.emoji:""};return g.jsxs("div",{className:"page",children:[g.jsx(Oh,{}),g.jsx("h1",{children:"Business Directory"}),g.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[g.jsx("h2",{children:"Add Business"}),g.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Code"}),g.jsx("input",{type:"text",value:o.code,onChange:L=>a(V=>({...V,code:L.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"")})),placeholder:"CAFE-01",style:{padding:"0.5rem",width:"120px",fontFamily:"monospace"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Name"}),g.jsx("input",{type:"text",value:o.name,onChange:L=>a(V=>({...V,name:L.target.value})),placeholder:"Village Caf",style:{padding:"0.5rem",width:"200px"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Category"}),g.jsx("select",{value:o.category,onChange:L=>a(V=>({...V,category:L.target.value})),style:{padding:"0.5rem"},children:u_.map(L=>g.jsxs("option",{value:L.value,children:[L.emoji," ",L.label]},L.value))})]}),g.jsx("button",{type:"submit",className:"btn",disabled:u||!o.code||!o.name,children:u?"Adding...":"Add Business"}),g.jsx("button",{type:"button",className:"btn btn-secondary",onClick:k,disabled:p,children:p?"Seeding...":"Seed All Kinderhook"})]})]}),g.jsxs("div",{className:"card",children:[g.jsxs("h2",{children:["Participating Businesses (",t.length,")"]}),n?g.jsx("p",{children:"Loading..."}):t.length===0?g.jsx("p",{children:'No businesses yet. Add one above or click "Seed All Kinderhook"!'}):g.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(L=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:L.isActive?"#f8fff8":"#f5f5f5",borderRadius:"8px",border:`1px solid ${L.isActive?"#d4edda":"#ddd"}`,flexWrap:"wrap"},children:[g.jsx("div",{style:{fontSize:"1.5rem"},children:U(L.category)}),g.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[g.jsx("div",{style:{fontWeight:"bold",color:L.isActive?"#2c3e50":"#888"},children:L.name}),g.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:"#888"},children:L.code})]}),g.jsxs("div",{style:{textAlign:"center",minWidth:"80px"},children:[g.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1a5f2a"},children:L.checkinCount||0}),g.jsx("div",{style:{fontSize:"0.75rem",color:"#888"},children:"check-ins"})]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[g.jsx("button",{className:"btn btn-secondary",onClick:()=>m(h===L.code?null:L.code),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem"},children:h===L.code?"Hide QR":"Show QR"}),g.jsx("button",{className:"btn",onClick:()=>C(L.code,L.isActive),style:{fontSize:"0.85rem",padding:"0.4rem 0.8rem",background:L.isActive?"#e74c3c":"#27ae60"},children:L.isActive?"Deactivate":"Activate"})]}),h===L.code&&g.jsxs("div",{style:{width:"100%",marginTop:"1rem",padding:"1rem",background:"white",borderRadius:"8px",textAlign:"center"},children:[g.jsx(_T,{value:`${R}${L.code}`,size:150,denomination:5,showFrame:!1}),g.jsxs("p",{style:{fontFamily:"monospace",fontSize:"0.75rem",marginTop:"0.5rem",color:"#888",wordBreak:"break-all"},children:[R,L.code]}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard.writeText(`${R}${L.code}`),alert("URL copied!")},style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Copy URL"})]})]},L.code))})]})]})}function LN(){return g.jsx(iC,{children:g.jsxs(jA,{children:[g.jsx(hn,{path:"/",element:g.jsx(Gb,{})}),g.jsx(hn,{path:"/about",element:g.jsx(qb,{})}),g.jsx(hn,{path:"/benefits",element:g.jsx(Yb,{})}),g.jsx(hn,{path:"/businesses",element:g.jsx(aN,{})}),g.jsx(hn,{path:"/exchange",element:g.jsx(uN,{})}),g.jsx(hn,{path:"/account",element:g.jsx(cN,{})}),g.jsx(hn,{path:"/profile",element:g.jsx(hN,{})}),g.jsx(hn,{path:"/scan/:serial",element:g.jsx(vN,{})}),g.jsx(hn,{path:"/checkin/:businessCode",element:g.jsx(EN,{})}),g.jsx(hn,{path:"/admin/dashboard",element:g.jsx(TN,{})}),g.jsx(hn,{path:"/admin/generate",element:g.jsx(DN,{})}),g.jsx(hn,{path:"/admin/issue",element:g.jsx(jN,{})}),g.jsx(hn,{path:"/admin/businesses",element:g.jsx(MN,{})})]})})}MS.createRoot(document.getElementById("root")).render(g.jsx(N.StrictMode,{children:g.jsx(LN,{})}));
