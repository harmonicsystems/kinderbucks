(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function eA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kf={exports:{}},Ja={},qf={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function tA(){if(Yy)return Pe;Yy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function R(j,X,Ae){this.props=j,this.context=X,this.refs=k,this.updater=Ae||S}R.prototype.isReactComponent={},R.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=R.prototype;function H(j,X,Ae){this.props=j,this.context=X,this.refs=k,this.updater=Ae||S}var b=H.prototype=new U;b.constructor=H,C(b,R.prototype),b.isPureReactComponent=!0;var te=Array.isArray,Z=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(j,X,Ae){var Ie,ke={},De=null,$e=null;if(X!=null)for(Ie in X.ref!==void 0&&($e=X.ref),X.key!==void 0&&(De=""+X.key),X)Z.call(X,Ie)&&!D.hasOwnProperty(Ie)&&(ke[Ie]=X[Ie]);var Fe=arguments.length-2;if(Fe===1)ke.children=Ae;else if(1<Fe){for(var Ke=Array(Fe),Yt=0;Yt<Fe;Yt++)Ke[Yt]=arguments[Yt+2];ke.children=Ke}if(j&&j.defaultProps)for(Ie in Fe=j.defaultProps,Fe)ke[Ie]===void 0&&(ke[Ie]=Fe[Ie]);return{$$typeof:t,type:j,key:De,ref:$e,props:ke,_owner:ae.current}}function x(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function N(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ae){return X[Ae]})}var B=/\/+/g;function V(j,X){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):X.toString(36)}function xe(j,X,Ae,Ie,ke){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var $e=!1;if(j===null)$e=!0;else switch(De){case"string":case"number":$e=!0;break;case"object":switch(j.$$typeof){case t:case e:$e=!0}}if($e)return $e=j,ke=ke($e),j=Ie===""?"."+V($e,0):Ie,te(ke)?(Ae="",j!=null&&(Ae=j.replace(B,"$&/")+"/"),xe(ke,X,Ae,"",function(Yt){return Yt})):ke!=null&&(M(ke)&&(ke=x(ke,Ae+(!ke.key||$e&&$e.key===ke.key?"":(""+ke.key).replace(B,"$&/")+"/")+j)),X.push(ke)),1;if($e=0,Ie=Ie===""?".":Ie+":",te(j))for(var Fe=0;Fe<j.length;Fe++){De=j[Fe];var Ke=Ie+V(De,Fe);$e+=xe(De,X,Ae,Ke,ke)}else if(Ke=E(j),typeof Ke=="function")for(j=Ke.call(j),Fe=0;!(De=j.next()).done;)De=De.value,Ke=Ie+V(De,Fe++),$e+=xe(De,X,Ae,Ke,ke);else if(De==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ue(j,X,Ae){if(j==null)return j;var Ie=[],ke=0;return xe(j,Ie,"","",function(De){return X.call(Ae,De,ke++)}),Ie}function gt(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(Ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ae)},function(Ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ae)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var we={current:null},re={transition:null},de={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Ue,forEach:function(j,X,Ae){Ue(j,function(){X.apply(this,arguments)},Ae)},count:function(j){var X=0;return Ue(j,function(){X++}),X},toArray:function(j){return Ue(j,function(X){return X})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Pe.Component=R,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=H,Pe.StrictMode=i,Pe.Suspense=f,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Pe.act=oe,Pe.cloneElement=function(j,X,Ae){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ie=C({},j.props),ke=j.key,De=j.ref,$e=j._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,$e=ae.current),X.key!==void 0&&(ke=""+X.key),j.type&&j.type.defaultProps)var Fe=j.type.defaultProps;for(Ke in X)Z.call(X,Ke)&&!D.hasOwnProperty(Ke)&&(Ie[Ke]=X[Ke]===void 0&&Fe!==void 0?Fe[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)Ie.children=Ae;else if(1<Ke){Fe=Array(Ke);for(var Yt=0;Yt<Ke;Yt++)Fe[Yt]=arguments[Yt+2];Ie.children=Fe}return{$$typeof:t,type:j.type,key:ke,ref:De,props:Ie,_owner:$e}},Pe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Pe.createElement=I,Pe.createFactory=function(j){var X=I.bind(null,j);return X.type=j,X},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(j){return{$$typeof:d,render:j}},Pe.isValidElement=M,Pe.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:gt}},Pe.memo=function(j,X){return{$$typeof:p,type:j,compare:X===void 0?null:X}},Pe.startTransition=function(j){var X=re.transition;re.transition={};try{j()}finally{re.transition=X}},Pe.unstable_act=oe,Pe.useCallback=function(j,X){return we.current.useCallback(j,X)},Pe.useContext=function(j){return we.current.useContext(j)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(j){return we.current.useDeferredValue(j)},Pe.useEffect=function(j,X){return we.current.useEffect(j,X)},Pe.useId=function(){return we.current.useId()},Pe.useImperativeHandle=function(j,X,Ae){return we.current.useImperativeHandle(j,X,Ae)},Pe.useInsertionEffect=function(j,X){return we.current.useInsertionEffect(j,X)},Pe.useLayoutEffect=function(j,X){return we.current.useLayoutEffect(j,X)},Pe.useMemo=function(j,X){return we.current.useMemo(j,X)},Pe.useReducer=function(j,X,Ae){return we.current.useReducer(j,X,Ae)},Pe.useRef=function(j){return we.current.useRef(j)},Pe.useState=function(j){return we.current.useState(j)},Pe.useSyncExternalStore=function(j,X,Ae){return we.current.useSyncExternalStore(j,X,Ae)},Pe.useTransition=function(){return we.current.useTransition()},Pe.version="18.3.1",Pe}var Xy;function Ep(){return Xy||(Xy=1,qf.exports=tA()),qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function nA(){if(Jy)return Ja;Jy=1;var t=Ep(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var m,y={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)i.call(f,m)&&!a.hasOwnProperty(m)&&(y[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:d,key:E,ref:S,props:y,_owner:o.current}}return Ja.Fragment=n,Ja.jsx=u,Ja.jsxs=u,Ja}var Zy;function rA(){return Zy||(Zy=1,Kf.exports=nA()),Kf.exports}var W=rA(),F=Ep();const Rt=eA(F);var hc={},Gf={exports:{}},an={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function iA(){return ev||(ev=1,(function(t){function e(re,de){var oe=re.length;re.push(de);e:for(;0<oe;){var j=oe-1>>>1,X=re[j];if(0<o(X,de))re[j]=de,re[oe]=X,oe=j;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var de=re[0],oe=re.pop();if(oe!==de){re[0]=oe;e:for(var j=0,X=re.length,Ae=X>>>1;j<Ae;){var Ie=2*(j+1)-1,ke=re[Ie],De=Ie+1,$e=re[De];if(0>o(ke,oe))De<X&&0>o($e,ke)?(re[j]=$e,re[De]=oe,j=De):(re[j]=ke,re[Ie]=oe,j=Ie);else if(De<X&&0>o($e,oe))re[j]=$e,re[De]=oe,j=De;else break e}}return de}function o(re,de){var oe=re.sortIndex-de.sortIndex;return oe!==0?oe:re.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],m=1,y=null,E=3,S=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(re){for(var de=n(p);de!==null;){if(de.callback===null)i(p);else if(de.startTime<=re)i(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=n(p)}}function te(re){if(k=!1,b(re),!C)if(n(f)!==null)C=!0,gt(Z);else{var de=n(p);de!==null&&we(te,de.startTime-re)}}function Z(re,de){C=!1,k&&(k=!1,U(I),I=-1),S=!0;var oe=E;try{for(b(de),y=n(f);y!==null&&(!(y.expirationTime>de)||re&&!N());){var j=y.callback;if(typeof j=="function"){y.callback=null,E=y.priorityLevel;var X=j(y.expirationTime<=de);de=t.unstable_now(),typeof X=="function"?y.callback=X:y===n(f)&&i(f),b(de)}else i(f);y=n(f)}if(y!==null)var Ae=!0;else{var Ie=n(p);Ie!==null&&we(te,Ie.startTime-de),Ae=!1}return Ae}finally{y=null,E=oe,S=!1}}var ae=!1,D=null,I=-1,x=5,M=-1;function N(){return!(t.unstable_now()-M<x)}function B(){if(D!==null){var re=t.unstable_now();M=re;var de=!0;try{de=D(!0,re)}finally{de?V():(ae=!1,D=null)}}else ae=!1}var V;if(typeof H=="function")V=function(){H(B)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ue=xe.port2;xe.port1.onmessage=B,V=function(){Ue.postMessage(null)}}else V=function(){R(B,0)};function gt(re){D=re,ae||(ae=!0,V())}function we(re,de){I=R(function(){re(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,gt(Z))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var oe=E;E=de;try{return re()}finally{E=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=E;E=re;try{return de()}finally{E=oe}},t.unstable_scheduleCallback=function(re,de,oe){var j=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,re={id:m++,callback:de,priorityLevel:re,startTime:oe,expirationTime:X,sortIndex:-1},oe>j?(re.sortIndex=oe,e(p,re),n(f)===null&&re===n(p)&&(k?(U(I),I=-1):k=!0,we(te,oe-j))):(re.sortIndex=X,e(f,re),C||S||(C=!0,gt(Z))),re},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(re){var de=E;return function(){var oe=E;E=de;try{return re.apply(this,arguments)}finally{E=oe}}}})(Yf)),Yf}var tv;function sA(){return tv||(tv=1,Qf.exports=iA()),Qf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function oA(){if(nv)return an;nv=1;var t=Ep(),e=sA();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function E(r){return f.call(y,r)?!0:f.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function S(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,l,h){if(s===null||typeof s>"u"||S(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(r,s,l,h,g,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new k(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,H);R[s]=new k(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,H);R[s]=new k(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,H);R[s]=new k(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,s,l,h){var g=R.hasOwnProperty(s)?R[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,g,h)&&(l=null),h||g===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,h=g.attributeNamespace,l===null?r.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),re=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,j;function X(r){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var Ae=!1;function Ie(r,s){if(!r||Ae)return"";Ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var h=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){h=q}r.call(s.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),v=h.stack.split(`
`),T=g.length-1,P=v.length-1;1<=T&&0<=P&&g[T]!==v[P];)P--;for(;1<=T&&0<=P;T--,P--)if(g[T]!==v[P]){if(T!==1||P!==1)do if(T--,P--,0>P||g[T]!==v[P]){var L=`
`+g[T].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=T&&0<=P);break}}}finally{Ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function ke(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ae:return"Portal";case x:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ue:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case gt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yt(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ns(r){r._valueTracker||(r._valueTracker=Yt(r))}function ia(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ms(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Yl(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ls(r,s){s=s.checked,s!=null&&b(r,"checked",s,!1)}function Wi(r,s){Ls(r,s);var l=Fe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?yt(r,s.type,l):s.hasOwnProperty("defaultValue")&&yt(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function sa(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function yt(r,s,l){(s!=="number"||Qr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ht=Array.isArray;function Mn(r,s,l,h){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function oa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function aa(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(ht(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Fe(l)}}function Xl(r,s){var l=Fe(s.value),h=Fe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Yr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function la(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bs(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?la(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xr,Jl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,g){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,g)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Hi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zl=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(r){Zl.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Jr[s]=Jr[r]})});function Zr(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Jr.hasOwnProperty(r)&&Jr[r]?(""+s).trim():s+"px"}function Os(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=Zr(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,g):r[l]=g}}var ua=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(r,s){if(s){if(ua[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Fs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Tr=null,Sr=null,at=null;function ca(r){if(r=Oa(r)){if(typeof Tr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Cu(s),Tr(r.stateNode,r.type,s))}}function ti(r){Sr?at?at.push(r):at=[r]:Sr=r}function ni(){if(Sr){var r=Sr,s=at;if(at=Sr=null,ca(r),s)for(r=0;r<s.length;r++)ca(s[r])}}function eu(r,s){return r(s)}function tu(){}var Qn=!1;function nu(r,s,l){if(Qn)return r(s,l);Qn=!0;try{return eu(r,s,l)}finally{Qn=!1,(Sr!==null||at!==null)&&(tu(),ni())}}function Ki(r,s){var l=r.stateNode;if(l===null)return null;var h=Cu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ri=!1;if(d)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ri=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ri=!1}function ru(r,s,l,h,g,v,T,P,L){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(ee){this.onError(ee)}}var Ar=!1,Yn=null,Bs=!1,En=null,iu={onError:function(r){Ar=!0,Yn=r}};function su(r,s,l,h,g,v,T,P,L){Ar=!1,Yn=null,ru.apply(iu,arguments)}function ha(r,s,l,h,g,v,T,P,L){if(su.apply(this,arguments),Ar){if(Ar){var q=Yn;Ar=!1,Yn=null}else throw Error(n(198));Bs||(Bs=!0,En=q)}}function bn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function fa(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ou(r){if(bn(r)!==r)throw Error(n(188))}function au(r){var s=r.alternate;if(!s){if(s=bn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return ou(g),r;if(v===h)return ou(g),s;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=g,h=v;else{for(var T=!1,P=g.child;P;){if(P===l){T=!0,l=g,h=v;break}if(P===h){T=!0,h=g,l=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===l){T=!0,l=v,h=g;break}if(P===h){T=!0,h=v,l=g;break}P=P.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function lu(r){return r=au(r),r!==null?qi(r):null}function qi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=qi(r);if(s!==null)return s;r=r.sibling}return null}var da=e.unstable_scheduleCallback,Us=e.unstable_cancelCallback,Gi=e.unstable_shouldYield,Ir=e.unstable_requestPaint,Ye=e.unstable_now,Th=e.unstable_getCurrentPriorityLevel,zs=e.unstable_ImmediatePriority,pa=e.unstable_UserBlockingPriority,Qi=e.unstable_NormalPriority,ma=e.unstable_LowPriority,$s=e.unstable_IdlePriority,Yi=null,cn=null;function uu(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Yi,r,void 0,(r.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Xi,Xn=Math.log,wn=Math.LN2;function Xi(r){return r>>>=0,r===0?32:31-(Xn(r)/wn|0)|0}var Jn=64,si=4194304;function ze(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Cr(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,g=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var P=T&~g;P!==0?h=ze(P):(v&=T,v!==0&&(h=ze(v)))}else T=l&~g,T!==0?h=ze(T):v!==0&&(h=ze(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,v=s&-s,g>=v||g===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-hn(s),g=1<<l,h|=r[l],s&=~g;return h}function Ji(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-hn(v),P=1<<T,L=g[T];L===-1?((P&l)===0||(P&h)!==0)&&(g[T]=Ji(P,s)):L<=s&&(r.expiredLanes|=P),v&=~P}}function ga(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ya(){var r=Jn;return Jn<<=1,(Jn&4194240)===0&&(Jn=64),r}function va(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function es(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-hn(s),r[s]=l}function Sh(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-hn(l),v=1<<g;s[g]=0,h[g]=-1,r[g]=-1,l&=~v}}function _a(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-hn(l),g=1<<h;g&s|r[h]&s&&(r[h]|=s),l&=~g}}var Le=0;function Zn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ea,Ws,wa,Ta,Sa,er=!1,Hs=[],tr=null,nr=null,Nt=null,ts=new Map,Rr=new Map,fn=[],cu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oi(r,s){switch(r){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":ts.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(s.pointerId)}}function On(r,s,l,h,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},s!==null&&(s=Oa(s),s!==null&&Ws(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function hu(r,s,l,h,g){switch(s){case"focusin":return tr=On(tr,r,s,l,h,g),!0;case"dragenter":return nr=On(nr,r,s,l,h,g),!0;case"mouseover":return Nt=On(Nt,r,s,l,h,g),!0;case"pointerover":var v=g.pointerId;return ts.set(v,On(ts.get(v)||null,r,s,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Rr.set(v,On(Rr.get(v)||null,r,s,l,h,g)),!0}return!1}function Ks(r){var s=ss(r.target);if(s!==null){var l=bn(s);if(l!==null){if(s=l.tag,s===13){if(s=fa(l),s!==null){r.blockedOn=s,Sa(r.priority,function(){wa(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qe(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ei=h,l.target.dispatchEvent(h),ei=null}else return s=Oa(l),s!==null&&Ws(s),r.blockedOn=l,!1;s.shift()}return!0}function fu(r,s,l){qe(r)&&l.delete(s)}function Ah(){er=!1,tr!==null&&qe(tr)&&(tr=null),nr!==null&&qe(nr)&&(nr=null),Nt!==null&&qe(Nt)&&(Nt=null),ts.forEach(fu),Rr.forEach(fu)}function ai(r,s){r.blockedOn===s&&(r.blockedOn=null,er||(er=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ah)))}function li(r){function s(g){return ai(g,r)}if(0<Hs.length){ai(Hs[0],r);for(var l=1;l<Hs.length;l++){var h=Hs[l];h.blockedOn===r&&(h.blockedOn=null)}}for(tr!==null&&ai(tr,r),nr!==null&&ai(nr,r),Nt!==null&&ai(Nt,r),ts.forEach(s),Rr.forEach(s),l=0;l<fn.length;l++)h=fn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<fn.length&&(l=fn[0],l.blockedOn===null);)Ks(l),l.blockedOn===null&&fn.shift()}var Pr=te.ReactCurrentBatchConfig,xr=!0;function rr(r,s,l,h){var g=Le,v=Pr.transition;Pr.transition=null;try{Le=1,Aa(r,s,l,h)}finally{Le=g,Pr.transition=v}}function du(r,s,l,h){var g=Le,v=Pr.transition;Pr.transition=null;try{Le=4,Aa(r,s,l,h)}finally{Le=g,Pr.transition=v}}function Aa(r,s,l,h){if(xr){var g=qs(r,s,l,h);if(g===null)Lh(r,s,h,ir,l),oi(r,h);else if(hu(g,r,s,l,h))h.stopPropagation();else if(oi(r,h),s&4&&-1<cu.indexOf(r)){for(;g!==null;){var v=Oa(g);if(v!==null&&Ea(v),v=qs(r,s,l,h),v===null&&Lh(r,s,h,ir,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Lh(r,s,h,null,l)}}var ir=null;function qs(r,s,l,h){if(ir=null,r=js(h),r=ss(r),r!==null)if(s=bn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=fa(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ir=r,null}function Gs(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Th()){case zs:return 1;case pa:return 4;case Qi:case ma:return 16;case $s:return 536870912;default:return 16}default:return 16}}var dn=null,Qs=null,Vr=null;function pu(){if(Vr)return Vr;var r,s=Qs,l=s.length,h,g="value"in dn?dn.value:dn.textContent,v=g.length;for(r=0;r<l&&s[r]===g[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===g[v-h];h++);return Vr=g.slice(r,1<h?1-h:void 0)}function ns(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Ia(){return!1}function Ut(r){function s(l,h,g,v,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sr:Ia,this.isPropagationStopped=Ia,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ut(or),ui=oe({},or,{view:0,detail:0}),Ys=Ut(ui),Xs,Js,pn,is=oe({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pn&&(pn&&r.type==="mousemove"?(Xs=r.screenX-pn.screenX,Js=r.screenY-pn.screenY):Js=Xs=0,pn=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Js}}),Ca=Ut(is),mu=oe({},is,{dataTransfer:0}),gu=Ut(mu),Zs=oe({},ui,{relatedTarget:0}),Mt=Ut(Zs),yu=oe({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Ut(yu),ci=oe({},or,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Ut(ci),_=oe({},or,{data:0}),w=Ut(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=G[r])?!!s[r]:!1}function Ce(){return se}var ft=oe({},ui,{key:function(r){if(r.key){var s=A[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),He=Ut(ft),vt=oe({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Ut(vt),kr=oe({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),ar=Ut(kr),lr=oe({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),eo=Ut(lr),Ra=oe({},is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=Ut(Ra),Q1=[9,13,27,32],Ih=d&&"CompositionEvent"in window,Pa=null;d&&"documentMode"in document&&(Pa=document.documentMode);var Y1=d&&"TextEvent"in window&&!Pa,zm=d&&(!Ih||Pa&&8<Pa&&11>=Pa),$m=" ",Wm=!1;function Hm(r,s){switch(r){case"keyup":return Q1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Km(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var to=!1;function X1(r,s){switch(r){case"compositionend":return Km(s);case"keypress":return s.which!==32?null:(Wm=!0,$m);case"textInput":return r=s.data,r===$m&&Wm?null:r;default:return null}}function J1(r,s){if(to)return r==="compositionend"||!Ih&&Hm(r,s)?(r=pu(),Vr=Qs=dn=null,to=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zm&&s.locale!=="ko"?null:s.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Z1[r.type]:s==="textarea"}function Gm(r,s,l,h){ti(h),s=Su(s,"onChange"),0<s.length&&(l=new rs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var xa=null,Va=null;function eS(r){fg(r,0)}function _u(r){var s=oo(r);if(ia(s))return r}function tS(r,s){if(r==="change")return s}var Qm=!1;if(d){var Ch;if(d){var Rh="oninput"in document;if(!Rh){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Rh=typeof Ym.oninput=="function"}Ch=Rh}else Ch=!1;Qm=Ch&&(!document.documentMode||9<document.documentMode)}function Xm(){xa&&(xa.detachEvent("onpropertychange",Jm),Va=xa=null)}function Jm(r){if(r.propertyName==="value"&&_u(Va)){var s=[];Gm(s,Va,r,js(r)),nu(eS,s)}}function nS(r,s,l){r==="focusin"?(Xm(),xa=s,Va=l,xa.attachEvent("onpropertychange",Jm)):r==="focusout"&&Xm()}function rS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _u(Va)}function iS(r,s){if(r==="click")return _u(s)}function sS(r,s){if(r==="input"||r==="change")return _u(s)}function oS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:oS;function ka(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!f.call(s,g)||!Fn(r[g],s[g]))return!1}return!0}function Zm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eg(r,s){var l=Zm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zm(l)}}function tg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?tg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ng(){for(var r=window,s=Qr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Qr(r.document)}return s}function Ph(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function aS(r){var s=ng(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(h!==null&&Ph(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!r.extend&&v>h&&(g=h,h=v,v=g),g=eg(l,v);var T=eg(l,h);g&&T&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),r.removeAllRanges(),v>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lS=d&&"documentMode"in document&&11>=document.documentMode,no=null,xh=null,Da=null,Vh=!1;function rg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vh||no==null||no!==Qr(h)||(h=no,"selectionStart"in h&&Ph(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&ka(Da,h)||(Da=h,h=Su(xh,"onSelect"),0<h.length&&(s=new rs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=no)))}function Eu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ro={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},kh={},ig={};d&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function wu(r){if(kh[r])return kh[r];if(!ro[r])return r;var s=ro[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ig)return kh[r]=s[l];return r}var sg=wu("animationend"),og=wu("animationiteration"),ag=wu("animationstart"),lg=wu("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){ug.set(r,s),a(s,[r])}for(var Dh=0;Dh<cg.length;Dh++){var Nh=cg[Dh],uS=Nh.toLowerCase(),cS=Nh[0].toUpperCase()+Nh.slice(1);hi(uS,"on"+cS)}hi(sg,"onAnimationEnd"),hi(og,"onAnimationIteration"),hi(ag,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function hg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,ha(h,s,void 0,r),r.currentTarget=null}function fg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var P=h[T],L=P.instance,q=P.currentTarget;if(P=P.listener,L!==v&&g.isPropagationStopped())break e;hg(g,P,q),v=L}else for(T=0;T<h.length;T++){if(P=h[T],L=P.instance,q=P.currentTarget,P=P.listener,L!==v&&g.isPropagationStopped())break e;hg(g,P,q),v=L}}}if(Bs)throw r=En,Bs=!1,En=null,r}function Xe(r,s){var l=s[Uh];l===void 0&&(l=s[Uh]=new Set);var h=r+"__bubble";l.has(h)||(dg(s,r,2,!1),l.add(h))}function Mh(r,s,l){var h=0;s&&(h|=4),dg(l,r,h,s)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Ma(r){if(!r[Tu]){r[Tu]=!0,i.forEach(function(l){l!=="selectionchange"&&(hS.has(l)||Mh(l,!1,r),Mh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tu]||(s[Tu]=!0,Mh("selectionchange",!1,s))}}function dg(r,s,l,h){switch(Gs(s)){case 1:var g=rr;break;case 4:g=du;break;default:g=Aa}l=g.bind(null,s,l,r),g=void 0,!ri||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function Lh(r,s,l,h,g){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;T=T.return}for(;P!==null;){if(T=ss(P),T===null)return;if(L=T.tag,L===5||L===6){h=v=T;continue e}P=P.parentNode}}h=h.return}nu(function(){var q=v,ee=js(l),ne=[];e:{var J=ug.get(r);if(J!==void 0){var ue=rs,pe=r;switch(r){case"keypress":if(ns(l)===0)break e;case"keydown":case"keyup":ue=He;break;case"focusin":pe="focus",ue=Mt;break;case"focusout":pe="blur",ue=Mt;break;case"beforeblur":case"afterblur":ue=Mt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=ar;break;case sg:case og:case ag:ue=vu;break;case lg:ue=eo;break;case"scroll":ue=Ys;break;case"wheel":ue=G1;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=mn}var me=(s&4)!==0,dt=!me&&r==="scroll",z=me?J!==null?J+"Capture":null:J;me=[];for(var O=q,K;O!==null;){K=O;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,z!==null&&(ie=Ki(O,z),ie!=null&&me.push(La(O,ie,K)))),dt)break;O=O.return}0<me.length&&(J=new ue(J,pe,null,l,ee),ne.push({event:J,listeners:me}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",J&&l!==ei&&(pe=l.relatedTarget||l.fromElement)&&(ss(pe)||pe[Dr]))break e;if((ue||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(pe=l.relatedTarget||l.toElement,ue=q,pe=pe?ss(pe):null,pe!==null&&(dt=bn(pe),pe!==dt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=q),ue!==pe)){if(me=Ca,ie="onMouseLeave",z="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(me=mn,ie="onPointerLeave",z="onPointerEnter",O="pointer"),dt=ue==null?J:oo(ue),K=pe==null?J:oo(pe),J=new me(ie,O+"leave",ue,l,ee),J.target=dt,J.relatedTarget=K,ie=null,ss(ee)===q&&(me=new me(z,O+"enter",pe,l,ee),me.target=K,me.relatedTarget=dt,ie=me),dt=ie,ue&&pe)t:{for(me=ue,z=pe,O=0,K=me;K;K=io(K))O++;for(K=0,ie=z;ie;ie=io(ie))K++;for(;0<O-K;)me=io(me),O--;for(;0<K-O;)z=io(z),K--;for(;O--;){if(me===z||z!==null&&me===z.alternate)break t;me=io(me),z=io(z)}me=null}else me=null;ue!==null&&pg(ne,J,ue,me,!1),pe!==null&&dt!==null&&pg(ne,dt,pe,me,!0)}}e:{if(J=q?oo(q):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ge=tS;else if(qm(J))if(Qm)ge=sS;else{ge=rS;var ve=nS}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=iS);if(ge&&(ge=ge(r,q))){Gm(ne,ge,l,ee);break e}ve&&ve(r,J,q),r==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&yt(J,"number",J.value)}switch(ve=q?oo(q):window,r){case"focusin":(qm(ve)||ve.contentEditable==="true")&&(no=ve,xh=q,Da=null);break;case"focusout":Da=xh=no=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,rg(ne,l,ee);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":rg(ne,l,ee)}var _e;if(Ih)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else to?Hm(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(zm&&l.locale!=="ko"&&(to||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&to&&(_e=pu()):(dn=ee,Qs="value"in dn?dn.value:dn.textContent,to=!0)),ve=Su(q,Te),0<ve.length&&(Te=new w(Te,r,null,l,ee),ne.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=Km(l),_e!==null&&(Te.data=_e)))),(_e=Y1?X1(r,l):J1(r,l))&&(q=Su(q,"onBeforeInput"),0<q.length&&(ee=new w("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:q}),ee.data=_e))}fg(ne,s)})}function La(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Su(r,s){for(var l=s+"Capture",h=[];r!==null;){var g=r,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Ki(r,l),v!=null&&h.unshift(La(r,v,g)),v=Ki(r,s),v!=null&&h.push(La(r,v,g))),r=r.return}return h}function io(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pg(r,s,l,h,g){for(var v=s._reactName,T=[];l!==null&&l!==h;){var P=l,L=P.alternate,q=P.stateNode;if(L!==null&&L===h)break;P.tag===5&&q!==null&&(P=q,g?(L=Ki(l,v),L!=null&&T.unshift(La(l,L,P))):g||(L=Ki(l,v),L!=null&&T.push(La(l,L,P)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var fS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function mg(r){return(typeof r=="string"?r:""+r).replace(fS,`
`).replace(dS,"")}function Au(r,s,l){if(s=mg(s),mg(r)!==s&&l)throw Error(n(425))}function Iu(){}var bh=null,Oh=null;function Fh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(r){return gg.resolve(null).then(r).catch(gS)}:jh;function gS(r){setTimeout(function(){throw r})}function Bh(r,s){var l=s,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){r.removeChild(g),li(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);li(s)}function fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function yg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var so=Math.random().toString(36).slice(2),ur="__reactFiber$"+so,ba="__reactProps$"+so,Dr="__reactContainer$"+so,Uh="__reactEvents$"+so,yS="__reactListeners$"+so,vS="__reactHandles$"+so;function ss(r){var s=r[ur];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Dr]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=yg(r);r!==null;){if(l=r[ur])return l;r=yg(r)}return s}r=l,l=r.parentNode}return null}function Oa(r){return r=r[ur]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Cu(r){return r[ba]||null}var zh=[],ao=-1;function di(r){return{current:r}}function Je(r){0>ao||(r.current=zh[ao],zh[ao]=null,ao--)}function Ge(r,s){ao++,zh[ao]=r.current,r.current=s}var pi={},zt=di(pi),tn=di(!1),os=pi;function lo(r,s){var l=r.type.contextTypes;if(!l)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=s[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=g),g}function nn(r){return r=r.childContextTypes,r!=null}function Ru(){Je(tn),Je(zt)}function vg(r,s,l){if(zt.current!==pi)throw Error(n(168));Ge(zt,s),Ge(tn,l)}function _g(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(n(108,$e(r)||"Unknown",g));return oe({},l,h)}function Pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,os=zt.current,Ge(zt,r),Ge(tn,tn.current),!0}function Eg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=_g(r,s,os),h.__reactInternalMemoizedMergedChildContext=r,Je(tn),Je(zt),Ge(zt,r)):Je(tn),Ge(tn,l)}var Nr=null,xu=!1,$h=!1;function wg(r){Nr===null?Nr=[r]:Nr.push(r)}function _S(r){xu=!0,wg(r)}function mi(){if(!$h&&Nr!==null){$h=!0;var r=0,s=Le;try{var l=Nr;for(Le=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Nr=null,xu=!1}catch(g){throw Nr!==null&&(Nr=Nr.slice(r+1)),da(zs,mi),g}finally{Le=s,$h=!1}}return null}var uo=[],co=0,Vu=null,ku=0,Tn=[],Sn=0,as=null,Mr=1,Lr="";function ls(r,s){uo[co++]=ku,uo[co++]=Vu,Vu=r,ku=s}function Tg(r,s,l){Tn[Sn++]=Mr,Tn[Sn++]=Lr,Tn[Sn++]=as,as=r;var h=Mr;r=Lr;var g=32-hn(h)-1;h&=~(1<<g),l+=1;var v=32-hn(s)+g;if(30<v){var T=g-g%5;v=(h&(1<<T)-1).toString(32),h>>=T,g-=T,Mr=1<<32-hn(s)+g|l<<g|h,Lr=v+r}else Mr=1<<v|l<<g|h,Lr=r}function Wh(r){r.return!==null&&(ls(r,1),Tg(r,1,0))}function Hh(r){for(;r===Vu;)Vu=uo[--co],uo[co]=null,ku=uo[--co],uo[co]=null;for(;r===as;)as=Tn[--Sn],Tn[Sn]=null,Lr=Tn[--Sn],Tn[Sn]=null,Mr=Tn[--Sn],Tn[Sn]=null}var gn=null,yn=null,tt=!1,jn=null;function Sg(r,s){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ag(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,gn=r,yn=fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,gn=r,yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=as!==null?{id:Mr,overflow:Lr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,gn=r,yn=null,!0):!1;default:return!1}}function Kh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function qh(r){if(tt){var s=yn;if(s){var l=s;if(!Ag(r,s)){if(Kh(r))throw Error(n(418));s=fi(l.nextSibling);var h=gn;s&&Ag(r,s)?Sg(h,l):(r.flags=r.flags&-4097|2,tt=!1,gn=r)}}else{if(Kh(r))throw Error(n(418));r.flags=r.flags&-4097|2,tt=!1,gn=r}}}function Ig(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gn=r}function Du(r){if(r!==gn)return!1;if(!tt)return Ig(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Fh(r.type,r.memoizedProps)),s&&(s=yn)){if(Kh(r))throw Cg(),Error(n(418));for(;s;)Sg(r,s),s=fi(s.nextSibling)}if(Ig(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){yn=fi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}yn=null}}else yn=gn?fi(r.stateNode.nextSibling):null;return!0}function Cg(){for(var r=yn;r;)r=fi(r.nextSibling)}function ho(){yn=gn=null,tt=!1}function Gh(r){jn===null?jn=[r]:jn.push(r)}var ES=te.ReactCurrentBatchConfig;function Fa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var g=h,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var P=g.refs;T===null?delete P[v]:P[v]=T},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Nu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Rg(r){var s=r._init;return s(r._payload)}function Pg(r){function s(z,O){if(r){var K=z.deletions;K===null?(z.deletions=[O],z.flags|=16):K.push(O)}}function l(z,O){if(!r)return null;for(;O!==null;)s(z,O),O=O.sibling;return null}function h(z,O){for(z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function g(z,O){return z=Si(z,O),z.index=0,z.sibling=null,z}function v(z,O,K){return z.index=K,r?(K=z.alternate,K!==null?(K=K.index,K<O?(z.flags|=2,O):K):(z.flags|=2,O)):(z.flags|=1048576,O)}function T(z){return r&&z.alternate===null&&(z.flags|=2),z}function P(z,O,K,ie){return O===null||O.tag!==6?(O=Bf(K,z.mode,ie),O.return=z,O):(O=g(O,K),O.return=z,O)}function L(z,O,K,ie){var ge=K.type;return ge===D?ee(z,O,K.props.children,ie,K.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===gt&&Rg(ge)===O.type)?(ie=g(O,K.props),ie.ref=Fa(z,O,K),ie.return=z,ie):(ie=rc(K.type,K.key,K.props,null,z.mode,ie),ie.ref=Fa(z,O,K),ie.return=z,ie)}function q(z,O,K,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==K.containerInfo||O.stateNode.implementation!==K.implementation?(O=Uf(K,z.mode,ie),O.return=z,O):(O=g(O,K.children||[]),O.return=z,O)}function ee(z,O,K,ie,ge){return O===null||O.tag!==7?(O=gs(K,z.mode,ie,ge),O.return=z,O):(O=g(O,K),O.return=z,O)}function ne(z,O,K){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Bf(""+O,z.mode,K),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Z:return K=rc(O.type,O.key,O.props,null,z.mode,K),K.ref=Fa(z,null,O),K.return=z,K;case ae:return O=Uf(O,z.mode,K),O.return=z,O;case gt:var ie=O._init;return ne(z,ie(O._payload),K)}if(ht(O)||de(O))return O=gs(O,z.mode,K,null),O.return=z,O;Nu(z,O)}return null}function J(z,O,K,ie){var ge=O!==null?O.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:P(z,O,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===ge?L(z,O,K,ie):null;case ae:return K.key===ge?q(z,O,K,ie):null;case gt:return ge=K._init,J(z,O,ge(K._payload),ie)}if(ht(K)||de(K))return ge!==null?null:ee(z,O,K,ie,null);Nu(z,K)}return null}function ue(z,O,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(K)||null,P(O,z,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Z:return z=z.get(ie.key===null?K:ie.key)||null,L(O,z,ie,ge);case ae:return z=z.get(ie.key===null?K:ie.key)||null,q(O,z,ie,ge);case gt:var ve=ie._init;return ue(z,O,K,ve(ie._payload),ge)}if(ht(ie)||de(ie))return z=z.get(K)||null,ee(O,z,ie,ge,null);Nu(O,ie)}return null}function pe(z,O,K,ie){for(var ge=null,ve=null,_e=O,Te=O=0,kt=null;_e!==null&&Te<K.length;Te++){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var Be=J(z,_e,K[Te],ie);if(Be===null){_e===null&&(_e=kt);break}r&&_e&&Be.alternate===null&&s(z,_e),O=v(Be,O,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be,_e=kt}if(Te===K.length)return l(z,_e),tt&&ls(z,Te),ge;if(_e===null){for(;Te<K.length;Te++)_e=ne(z,K[Te],ie),_e!==null&&(O=v(_e,O,Te),ve===null?ge=_e:ve.sibling=_e,ve=_e);return tt&&ls(z,Te),ge}for(_e=h(z,_e);Te<K.length;Te++)kt=ue(_e,z,Te,K[Te],ie),kt!==null&&(r&&kt.alternate!==null&&_e.delete(kt.key===null?Te:kt.key),O=v(kt,O,Te),ve===null?ge=kt:ve.sibling=kt,ve=kt);return r&&_e.forEach(function(Ai){return s(z,Ai)}),tt&&ls(z,Te),ge}function me(z,O,K,ie){var ge=de(K);if(typeof ge!="function")throw Error(n(150));if(K=ge.call(K),K==null)throw Error(n(151));for(var ve=ge=null,_e=O,Te=O=0,kt=null,Be=K.next();_e!==null&&!Be.done;Te++,Be=K.next()){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var Ai=J(z,_e,Be.value,ie);if(Ai===null){_e===null&&(_e=kt);break}r&&_e&&Ai.alternate===null&&s(z,_e),O=v(Ai,O,Te),ve===null?ge=Ai:ve.sibling=Ai,ve=Ai,_e=kt}if(Be.done)return l(z,_e),tt&&ls(z,Te),ge;if(_e===null){for(;!Be.done;Te++,Be=K.next())Be=ne(z,Be.value,ie),Be!==null&&(O=v(Be,O,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be);return tt&&ls(z,Te),ge}for(_e=h(z,_e);!Be.done;Te++,Be=K.next())Be=ue(_e,z,Te,Be.value,ie),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?Te:Be.key),O=v(Be,O,Te),ve===null?ge=Be:ve.sibling=Be,ve=Be);return r&&_e.forEach(function(ZS){return s(z,ZS)}),tt&&ls(z,Te),ge}function dt(z,O,K,ie){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var ge=K.key,ve=O;ve!==null;){if(ve.key===ge){if(ge=K.type,ge===D){if(ve.tag===7){l(z,ve.sibling),O=g(ve,K.props.children),O.return=z,z=O;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===gt&&Rg(ge)===ve.type){l(z,ve.sibling),O=g(ve,K.props),O.ref=Fa(z,ve,K),O.return=z,z=O;break e}l(z,ve);break}else s(z,ve);ve=ve.sibling}K.type===D?(O=gs(K.props.children,z.mode,ie,K.key),O.return=z,z=O):(ie=rc(K.type,K.key,K.props,null,z.mode,ie),ie.ref=Fa(z,O,K),ie.return=z,z=ie)}return T(z);case ae:e:{for(ve=K.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===K.containerInfo&&O.stateNode.implementation===K.implementation){l(z,O.sibling),O=g(O,K.children||[]),O.return=z,z=O;break e}else{l(z,O);break}else s(z,O);O=O.sibling}O=Uf(K,z.mode,ie),O.return=z,z=O}return T(z);case gt:return ve=K._init,dt(z,O,ve(K._payload),ie)}if(ht(K))return pe(z,O,K,ie);if(de(K))return me(z,O,K,ie);Nu(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,O!==null&&O.tag===6?(l(z,O.sibling),O=g(O,K),O.return=z,z=O):(l(z,O),O=Bf(K,z.mode,ie),O.return=z,z=O),T(z)):l(z,O)}return dt}var fo=Pg(!0),xg=Pg(!1),Mu=di(null),Lu=null,po=null,Qh=null;function Yh(){Qh=po=Lu=null}function Xh(r){var s=Mu.current;Je(Mu),r._currentValue=s}function Jh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function mo(r,s){Lu=r,Qh=po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(rn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(Qh!==r)if(r={context:r,memoizedValue:s,next:null},po===null){if(Lu===null)throw Error(n(308));po=r,Lu.dependencies={lanes:0,firstContext:r}}else po=po.next=r;return s}var us=null;function Zh(r){us===null?us=[r]:us.push(r)}function Vg(r,s,l,h){var g=s.interleaved;return g===null?(l.next=l,Zh(s)):(l.next=g.next,g.next=l),s.interleaved=l,br(r,h)}function br(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var gi=!1;function ef(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Or(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,br(r,l)}return g=h.interleaved,g===null?(s.next=s,Zh(h)):(s.next=g.next,g.next=s),h.interleaved=s,br(r,l)}function bu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,_a(r,l)}}function Dg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Ou(r,s,l,h){var g=r.updateQueue;gi=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var L=P,q=L.next;L.next=null,T===null?v=q:T.next=q,T=L;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==T&&(P===null?ee.firstBaseUpdate=q:P.next=q,ee.lastBaseUpdate=L))}if(v!==null){var ne=g.baseState;T=0,ee=q=L=null,P=v;do{var J=P.lane,ue=P.eventTime;if((h&J)===J){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var pe=r,me=P;switch(J=s,ue=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(ue,ne,J);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,J=typeof pe=="function"?pe.call(ue,ne,J):pe,J==null)break e;ne=oe({},ne,J);break e;case 2:gi=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,J=g.effects,J===null?g.effects=[P]:J.push(P))}else ue={eventTime:ue,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(q=ee=ue,L=ne):ee=ee.next=ue,T|=J;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;J=P,P=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(ee===null&&(L=ne),g.baseState=L,g.firstBaseUpdate=q,g.lastBaseUpdate=ee,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else v===null&&(g.shared.lanes=0);fs|=T,r.lanes=T,r.memoizedState=ne}}function Ng(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var ja={},cr=di(ja),Ba=di(ja),Ua=di(ja);function cs(r){if(r===ja)throw Error(n(174));return r}function tf(r,s){switch(Ge(Ua,s),Ge(Ba,r),Ge(cr,ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:bs(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=bs(s,r)}Je(cr),Ge(cr,s)}function go(){Je(cr),Je(Ba),Je(Ua)}function Mg(r){cs(Ua.current);var s=cs(cr.current),l=bs(s,r.type);s!==l&&(Ge(Ba,r),Ge(cr,l))}function nf(r){Ba.current===r&&(Je(cr),Je(Ba))}var nt=di(0);function Fu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rf=[];function sf(){for(var r=0;r<rf.length;r++)rf[r]._workInProgressVersionPrimary=null;rf.length=0}var ju=te.ReactCurrentDispatcher,of=te.ReactCurrentBatchConfig,hs=0,rt=null,At=null,xt=null,Bu=!1,za=!1,$a=0,wS=0;function $t(){throw Error(n(321))}function af(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Fn(r[l],s[l]))return!1;return!0}function lf(r,s,l,h,g,v){if(hs=v,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ju.current=r===null||r.memoizedState===null?IS:CS,r=l(h,g),za){v=0;do{if(za=!1,$a=0,25<=v)throw Error(n(301));v+=1,xt=At=null,s.updateQueue=null,ju.current=RS,r=l(h,g)}while(za)}if(ju.current=$u,s=At!==null&&At.next!==null,hs=0,xt=At=rt=null,Bu=!1,s)throw Error(n(300));return r}function uf(){var r=$a!==0;return $a=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?rt.memoizedState=xt=r:xt=xt.next=r,xt}function In(){if(At===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=xt===null?rt.memoizedState:xt.next;if(s!==null)xt=s,At=r;else{if(r===null)throw Error(n(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},xt===null?rt.memoizedState=xt=r:xt=xt.next=r}return xt}function Wa(r,s){return typeof s=="function"?s(r):s}function cf(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=At,g=h.baseQueue,v=l.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}h.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,h=h.baseState;var P=T=null,L=null,q=v;do{var ee=q.lane;if((hs&ee)===ee)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(P=L=ne,T=h):L=L.next=ne,rt.lanes|=ee,fs|=ee}q=q.next}while(q!==null&&q!==v);L===null?T=h:L.next=P,Fn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=L,l.lastRenderedState=h}if(r=l.interleaved,r!==null){g=r;do v=g.lane,rt.lanes|=v,fs|=v,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function hf(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do v=r(v,T.action),T=T.next;while(T!==g);Fn(v,s.memoizedState)||(rn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function Lg(){}function bg(r,s){var l=rt,h=In(),g=s(),v=!Fn(h.memoizedState,g);if(v&&(h.memoizedState=g,rn=!0),h=h.queue,ff(jg.bind(null,l,h,r),[r]),h.getSnapshot!==s||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Fg.bind(null,l,h,g,s),void 0,null),Vt===null)throw Error(n(349));(hs&30)!==0||Og(l,s,g)}return g}function Og(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Fg(r,s,l,h){s.value=l,s.getSnapshot=h,Bg(s)&&Ug(r)}function jg(r,s,l){return l(function(){Bg(s)&&Ug(r)})}function Bg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Fn(r,l)}catch{return!0}}function Ug(r){var s=br(r,1);s!==null&&$n(s,r,1,-1)}function zg(r){var s=hr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},s.queue=r,r=r.dispatch=AS.bind(null,rt,r),[s.memoizedState,r]}function Ha(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function $g(){return In().memoizedState}function Uu(r,s,l,h){var g=hr();rt.flags|=r,g.memoizedState=Ha(1|s,l,void 0,h===void 0?null:h)}function zu(r,s,l,h){var g=In();h=h===void 0?null:h;var v=void 0;if(At!==null){var T=At.memoizedState;if(v=T.destroy,h!==null&&af(h,T.deps)){g.memoizedState=Ha(s,l,v,h);return}}rt.flags|=r,g.memoizedState=Ha(1|s,l,v,h)}function Wg(r,s){return Uu(8390656,8,r,s)}function ff(r,s){return zu(2048,8,r,s)}function Hg(r,s){return zu(4,2,r,s)}function Kg(r,s){return zu(4,4,r,s)}function qg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Gg(r,s,l){return l=l!=null?l.concat([r]):null,zu(4,4,qg.bind(null,s,r),l)}function df(){}function Qg(r,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&af(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Yg(r,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&af(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Xg(r,s,l){return(hs&21)===0?(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=l):(Fn(l,s)||(l=ya(),rt.lanes|=l,fs|=l,r.baseState=!0),s)}function TS(r,s){var l=Le;Le=l!==0&&4>l?l:4,r(!0);var h=of.transition;of.transition={};try{r(!1),s()}finally{Le=l,of.transition=h}}function Jg(){return In().memoizedState}function SS(r,s,l){var h=wi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Zg(r))ey(s,l);else if(l=Vg(r,s,l,h),l!==null){var g=Jt();$n(l,r,h,g),ty(l,s,h)}}function AS(r,s,l){var h=wi(r),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zg(r))ey(s,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,P=v(T,l);if(g.hasEagerState=!0,g.eagerState=P,Fn(P,T)){var L=s.interleaved;L===null?(g.next=g,Zh(s)):(g.next=L.next,L.next=g),s.interleaved=g;return}}catch{}finally{}l=Vg(r,s,g,h),l!==null&&(g=Jt(),$n(l,r,h,g),ty(l,s,h))}}function Zg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function ey(r,s){za=Bu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ty(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,_a(r,l)}}var $u={readContext:An,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},IS={readContext:An,useCallback:function(r,s){return hr().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:Wg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Uu(4194308,4,qg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Uu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Uu(4,2,r,s)},useMemo:function(r,s){var l=hr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=hr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=SS.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=hr();return r={current:r},s.memoizedState=r},useState:zg,useDebugValue:df,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=zg(!1),s=r[0];return r=TS.bind(null,r[1]),hr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=rt,g=hr();if(tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Vt===null)throw Error(n(349));(hs&30)!==0||Og(h,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Wg(jg.bind(null,h,v,r),[r]),h.flags|=2048,Ha(9,Fg.bind(null,h,v,l,s),void 0,null),l},useId:function(){var r=hr(),s=Vt.identifierPrefix;if(tt){var l=Lr,h=Mr;l=(h&~(1<<32-hn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=$a++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=wS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},CS={readContext:An,useCallback:Qg,useContext:An,useEffect:ff,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Kg,useMemo:Yg,useReducer:cf,useRef:$g,useState:function(){return cf(Wa)},useDebugValue:df,useDeferredValue:function(r){var s=In();return Xg(s,At.memoizedState,r)},useTransition:function(){var r=cf(Wa)[0],s=In().memoizedState;return[r,s]},useMutableSource:Lg,useSyncExternalStore:bg,useId:Jg,unstable_isNewReconciler:!1},RS={readContext:An,useCallback:Qg,useContext:An,useEffect:ff,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Kg,useMemo:Yg,useReducer:hf,useRef:$g,useState:function(){return hf(Wa)},useDebugValue:df,useDeferredValue:function(r){var s=In();return At===null?s.memoizedState=r:Xg(s,At.memoizedState,r)},useTransition:function(){var r=hf(Wa)[0],s=In().memoizedState;return[r,s]},useMutableSource:Lg,useSyncExternalStore:bg,useId:Jg,unstable_isNewReconciler:!1};function Bn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function pf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Wu={isMounted:function(r){return(r=r._reactInternals)?bn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Jt(),g=wi(r),v=Or(h,g);v.payload=s,l!=null&&(v.callback=l),s=yi(r,v,g),s!==null&&($n(s,r,g,h),bu(s,r,g))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Jt(),g=wi(r),v=Or(h,g);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=yi(r,v,g),s!==null&&($n(s,r,g,h),bu(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Jt(),h=wi(r),g=Or(l,h);g.tag=2,s!=null&&(g.callback=s),s=yi(r,g,h),s!==null&&($n(s,r,h,l),bu(s,r,h))}};function ny(r,s,l,h,g,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!ka(l,h)||!ka(g,v):!0}function ry(r,s,l){var h=!1,g=pi,v=s.contextType;return typeof v=="object"&&v!==null?v=An(v):(g=nn(s)?os:zt.current,h=s.contextTypes,v=(h=h!=null)?lo(r,g):pi),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=v),s}function iy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Wu.enqueueReplaceState(s,s.state,null)}function mf(r,s,l,h){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},ef(r);var v=s.contextType;typeof v=="object"&&v!==null?g.context=An(v):(v=nn(s)?os:zt.current,g.context=lo(r,v)),g.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(pf(r,s,v,l),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&Wu.enqueueReplaceState(g,g.state,null),Ou(r,l,g,h),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var l="",h=s;do l+=ke(h),h=h.return;while(h);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:g,digest:null}}function gf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function yf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var PS=typeof WeakMap=="function"?WeakMap:Map;function sy(r,s,l){l=Or(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Xu||(Xu=!0,Df=h),yf(r,s)},l}function oy(r,s,l){l=Or(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;l.payload=function(){return h(g)},l.callback=function(){yf(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){yf(r,s),typeof h!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function ay(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new PS;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(g.add(l),r=zS.bind(null,r,s,l),s.then(r,r))}function ly(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function uy(r,s,l,h,g){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Or(-1,1),s.tag=2,yi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var xS=te.ReactCurrentOwner,rn=!1;function Xt(r,s,l,h){s.child=r===null?xg(s,null,l,h):fo(s,r.child,l,h)}function cy(r,s,l,h,g){l=l.render;var v=s.ref;return mo(s,g),h=lf(r,s,l,h,v,g),l=uf(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~g,Fr(r,s,g)):(tt&&l&&Wh(s),s.flags|=1,Xt(r,s,h,g),s.child)}function hy(r,s,l,h,g){if(r===null){var v=l.type;return typeof v=="function"&&!jf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,fy(r,s,v,h,g)):(r=rc(l.type,null,h,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&g)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(T,h)&&r.ref===s.ref)return Fr(r,s,g)}return s.flags|=1,r=Si(v,h),r.ref=s.ref,r.return=s,s.child=r}function fy(r,s,l,h,g){if(r!==null){var v=r.memoizedProps;if(ka(v,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=v,(r.lanes&g)!==0)(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,Fr(r,s,g)}return vf(r,s,l,h,g)}function dy(r,s,l){var h=s.pendingProps,g=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(_o,vn),vn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(_o,vn),vn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ge(_o,vn),vn|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,Ge(_o,vn),vn|=h;return Xt(r,s,g,l),s.child}function py(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function vf(r,s,l,h,g){var v=nn(l)?os:zt.current;return v=lo(s,v),mo(s,g),l=lf(r,s,l,h,v,g),h=uf(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~g,Fr(r,s,g)):(tt&&h&&Wh(s),s.flags|=1,Xt(r,s,l,g),s.child)}function my(r,s,l,h,g){if(nn(l)){var v=!0;Pu(s)}else v=!1;if(mo(s,g),s.stateNode===null)Ku(r,s),ry(s,l,h),mf(s,l,h,g),h=!0;else if(r===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var L=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=An(q):(q=nn(l)?os:zt.current,q=lo(s,q));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||L!==q)&&iy(s,T,h,q),gi=!1;var J=s.memoizedState;T.state=J,Ou(s,h,T,g),L=s.memoizedState,P!==h||J!==L||tn.current||gi?(typeof ee=="function"&&(pf(s,l,ee,h),L=s.memoizedState),(P=gi||ny(s,l,P,h,J,L,q))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),T.props=h,T.state=L,T.context=q,h=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,kg(r,s),P=s.memoizedProps,q=s.type===s.elementType?P:Bn(s.type,P),T.props=q,ne=s.pendingProps,J=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=An(L):(L=nn(l)?os:zt.current,L=lo(s,L));var ue=l.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ne||J!==L)&&iy(s,T,h,L),gi=!1,J=s.memoizedState,T.state=J,Ou(s,h,T,g);var pe=s.memoizedState;P!==ne||J!==pe||tn.current||gi?(typeof ue=="function"&&(pf(s,l,ue,h),pe=s.memoizedState),(q=gi||ny(s,l,q,h,J,pe,L)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,L)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),T.props=h,T.state=pe,T.context=L,h=q):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return _f(r,s,l,h,v,g)}function _f(r,s,l,h,g,v){py(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&Eg(s,l,!1),Fr(r,s,v);h=s.stateNode,xS.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=fo(s,r.child,null,v),s.child=fo(s,null,P,v)):Xt(r,s,P,v),s.memoizedState=h.state,g&&Eg(s,l,!0),s.child}function gy(r){var s=r.stateNode;s.pendingContext?vg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&vg(r,s.context,!1),tf(r,s.containerInfo)}function yy(r,s,l,h,g){return ho(),Gh(g),s.flags|=256,Xt(r,s,l,h),s.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function wf(r){return{baseLanes:r,cachePool:null,transitions:null}}function vy(r,s,l){var h=s.pendingProps,g=nt.current,v=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=r!==null&&r.memoizedState===null?!1:(g&2)!==0),P?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Ge(nt,g&1),r===null)return qh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=ic(T,h,0,null),r=gs(r,h,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=wf(l),s.memoizedState=Ef,r):Tf(s,T));if(g=r.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return VS(r,s,T,h,P,g,l);if(v){v=h.fallback,T=s.mode,g=r.child,P=g.sibling;var L={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Si(g,L),h.subtreeFlags=g.subtreeFlags&14680064),P!==null?v=Si(P,v):(v=gs(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=r.child.memoizedState,T=T===null?wf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,s.memoizedState=Ef,h}return v=r.child,r=v.sibling,h=Si(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Tf(r,s){return s=ic({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Hu(r,s,l,h){return h!==null&&Gh(h),fo(s,r.child,null,l),r=Tf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function VS(r,s,l,h,g,v,T){if(l)return s.flags&256?(s.flags&=-257,h=gf(Error(n(422))),Hu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=h.fallback,g=s.mode,h=ic({mode:"visible",children:h.children},g,0,null),v=gs(v,g,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&fo(s,r.child,null,T),s.child.memoizedState=wf(T),s.memoizedState=Ef,v);if((s.mode&1)===0)return Hu(r,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var P=h.dgst;return h=P,v=Error(n(419)),h=gf(v,h,void 0),Hu(r,s,T,h)}if(P=(T&r.childLanes)!==0,rn||P){if(h=Vt,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,br(r,g),$n(h,r,g,-1))}return Ff(),h=gf(Error(n(421))),Hu(r,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=r.child,s=$S.bind(null,r),g._reactRetry=s,null):(r=v.treeContext,yn=fi(g.nextSibling),gn=s,tt=!0,jn=null,r!==null&&(Tn[Sn++]=Mr,Tn[Sn++]=Lr,Tn[Sn++]=as,Mr=r.id,Lr=r.overflow,as=s),s=Tf(s,h.children),s.flags|=4096,s)}function _y(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Jh(r.return,s,l)}function Sf(r,s,l,h,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function Ey(r,s,l){var h=s.pendingProps,g=h.revealOrder,v=h.tail;if(Xt(r,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_y(r,l,s);else if(r.tag===19)_y(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ge(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&Fu(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Sf(s,!1,g,l,v);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&Fu(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Sf(s,!0,l,null,v);break;case"together":Sf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ku(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Fr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Si(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Si(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function kS(r,s,l){switch(s.tag){case 3:gy(s),ho();break;case 5:Mg(s);break;case 1:nn(s.type)&&Pu(s);break;case 4:tf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;Ge(Mu,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ge(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?vy(r,s,l):(Ge(nt,nt.current&1),r=Fr(r,s,l),r!==null?r.sibling:null);Ge(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Ey(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ge(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,dy(r,s,l)}return Fr(r,s,l)}var wy,Af,Ty,Sy;wy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Af=function(){},Ty=function(r,s,l,h){var g=r.memoizedProps;if(g!==h){r=s.stateNode,cs(cr.current);var v=null;switch(l){case"input":g=Ms(r,g),h=Ms(r,h),v=[];break;case"select":g=oe({},g,{value:void 0}),h=oe({},h,{value:void 0}),v=[];break;case"textarea":g=oa(r,g),h=oa(r,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Iu)}Ln(l,h);var T;l=null;for(q in g)if(!h.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var P=g[q];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in h){var L=h[q];if(P=g!=null?g[q]:void 0,h.hasOwnProperty(q)&&L!==P&&(L!=null||P!=null))if(q==="style")if(P){for(T in P)!P.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&P[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(v||(v=[]),v.push(q,l)),l=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(v=v||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&Xe("scroll",r),v||P===L||(v=[])):(v=v||[]).push(q,L))}l&&(v=v||[]).push("style",l);var q=v;(s.updateQueue=q)&&(s.flags|=4)}},Sy=function(r,s,l,h){l!==h&&(s.flags|=4)};function Ka(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function DS(r,s,l){var h=s.pendingProps;switch(Hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return nn(s.type)&&Ru(),Wt(s),null;case 3:return h=s.stateNode,go(),Je(tn),Je(zt),sf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jn!==null&&(Lf(jn),jn=null))),Af(r,s),Wt(s),null;case 5:nf(s);var g=cs(Ua.current);if(l=s.type,r!==null&&s.stateNode!=null)Ty(r,s,l,h,g),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Wt(s),null}if(r=cs(cr.current),Du(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[ur]=s,h[ba]=v,r=(s.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(g=0;g<Na.length;g++)Xe(Na[g],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Yl(h,v),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Xe("invalid",h);break;case"textarea":aa(h,v),Xe("invalid",h)}Ln(l,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var P=v[T];T==="children"?typeof P=="string"?h.textContent!==P&&(v.suppressHydrationWarning!==!0&&Au(h.textContent,P,r),g=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&Au(h.textContent,P,r),g=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Ns(h),sa(h,v,!0);break;case"textarea":Ns(h),Yr(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Iu)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=la(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[ur]=s,r[ba]=h,wy(r,s,!1,!1),s.stateNode=r;e:{switch(T=Fs(l,h),l){case"dialog":Xe("cancel",r),Xe("close",r),g=h;break;case"iframe":case"object":case"embed":Xe("load",r),g=h;break;case"video":case"audio":for(g=0;g<Na.length;g++)Xe(Na[g],r);g=h;break;case"source":Xe("error",r),g=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),g=h;break;case"details":Xe("toggle",r),g=h;break;case"input":Yl(r,h),g=Ms(r,h),Xe("invalid",r);break;case"option":g=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},g=oe({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":aa(r,h),g=oa(r,h),Xe("invalid",r);break;default:g=h}Ln(l,g),P=g;for(v in P)if(P.hasOwnProperty(v)){var L=P[v];v==="style"?Os(r,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Jl(r,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Hi(r,L):typeof L=="number"&&Hi(r,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Xe("scroll",r):L!=null&&b(r,v,L,T))}switch(l){case"input":Ns(r),sa(r,h,!1);break;case"textarea":Ns(r),Yr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Fe(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?Mn(r,!!h.multiple,v,!1):h.defaultValue!=null&&Mn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Iu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(r&&s.stateNode!=null)Sy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=cs(Ua.current),cs(cr.current),Du(s)){if(h=s.stateNode,l=s.memoizedProps,h[ur]=s,(v=h.nodeValue!==l)&&(r=gn,r!==null))switch(r.tag){case 3:Au(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Au(h.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return Wt(s),null;case 13:if(Je(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cg(),ho(),s.flags|=98560,v=!1;else if(v=Du(s),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[ur]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),v=!1}else jn!==null&&(Lf(jn),jn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?It===0&&(It=3):Ff())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return go(),Af(r,s),r===null&&Ma(s.stateNode.containerInfo),Wt(s),null;case 10:return Xh(s.type._context),Wt(s),null;case 17:return nn(s.type)&&Ru(),Wt(s),null;case 19:if(Je(nt),v=s.memoizedState,v===null)return Wt(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)Ka(v,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Fu(r),T!==null){for(s.flags|=128,Ka(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,r=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(nt,nt.current&1|2),s.child}r=r.sibling}v.tail!==null&&Ye()>Eo&&(s.flags|=128,h=!0,Ka(v,!1),s.lanes=4194304)}else{if(!h)if(r=Fu(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ka(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!tt)return Wt(s),null}else 2*Ye()-v.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,h=!0,Ka(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Ye(),s.sibling=null,l=nt.current,Ge(nt,h?l&1|2:l&1),s):(Wt(s),null);case 22:case 23:return Of(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(vn&1073741824)!==0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function NS(r,s){switch(Hh(s),s.tag){case 1:return nn(s.type)&&Ru(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return go(),Je(tn),Je(zt),sf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return nf(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ho()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return go(),null;case 10:return Xh(s.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var qu=!1,Ht=!1,MS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function vo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(r,s,h)}else l.current=null}function If(r,s,l){try{l()}catch(h){lt(r,s,h)}}var Ay=!1;function LS(r,s){if(bh=xr,r=ng(),Ph(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,P=-1,L=-1,q=0,ee=0,ne=r,J=null;t:for(;;){for(var ue;ne!==l||g!==0&&ne.nodeType!==3||(P=T+g),ne!==v||h!==0&&ne.nodeType!==3||(L=T+h),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)J=ne,ne=ue;for(;;){if(ne===r)break t;if(J===l&&++q===g&&(P=T),J===v&&++ee===h&&(L=T),(ue=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=ue}l=P===-1||L===-1?null:{start:P,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Oh={focusedElem:r,selectionRange:l},xr=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,dt=pe.memoizedState,z=s.stateNode,O=z.getSnapshotBeforeUpdate(s.elementType===s.type?me:Bn(s.type,me),dt);z.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return pe=Ay,Ay=!1,pe}function qa(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&r)===r){var v=g.destroy;g.destroy=void 0,v!==void 0&&If(s,l,v)}g=g.next}while(g!==h)}}function Gu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Cf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Iy(r){var s=r.alternate;s!==null&&(r.alternate=null,Iy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[ba],delete s[Uh],delete s[yS],delete s[vS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Cy(r){return r.tag===5||r.tag===3||r.tag===4}function Ry(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Iu));else if(h!==4&&(r=r.child,r!==null))for(Rf(r,s,l),r=r.sibling;r!==null;)Rf(r,s,l),r=r.sibling}function Pf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Pf(r,s,l),r=r.sibling;r!==null;)Pf(r,s,l),r=r.sibling}var Lt=null,Un=!1;function vi(r,s,l){for(l=l.child;l!==null;)Py(r,s,l),l=l.sibling}function Py(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Yi,l)}catch{}switch(l.tag){case 5:Ht||vo(l,s);case 6:var h=Lt,g=Un;Lt=null,vi(r,s,l),Lt=h,Un=g,Lt!==null&&(Un?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Un?(r=Lt,l=l.stateNode,r.nodeType===8?Bh(r.parentNode,l):r.nodeType===1&&Bh(r,l),li(r)):Bh(Lt,l.stateNode));break;case 4:h=Lt,g=Un,Lt=l.stateNode.containerInfo,Un=!0,vi(r,s,l),Lt=h,Un=g;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&If(l,s,T),g=g.next}while(g!==h)}vi(r,s,l);break;case 1:if(!Ht&&(vo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){lt(l,s,P)}vi(r,s,l);break;case 21:vi(r,s,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,vi(r,s,l),Ht=h):vi(r,s,l);break;default:vi(r,s,l)}}function xy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new MS),s.forEach(function(h){var g=WS.bind(null,r,h);l.has(h)||(l.add(h),h.then(g,g))})}}function zn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var v=r,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Lt=P.stateNode,Un=!1;break e;case 3:Lt=P.stateNode.containerInfo,Un=!0;break e;case 4:Lt=P.stateNode.containerInfo,Un=!0;break e}P=P.return}if(Lt===null)throw Error(n(160));Py(v,T,g),Lt=null,Un=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(q){lt(g,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Vy(s,r),s=s.sibling}function Vy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),fr(r),h&4){try{qa(3,r,r.return),Gu(3,r)}catch(me){lt(r,r.return,me)}try{qa(5,r,r.return)}catch(me){lt(r,r.return,me)}}break;case 1:zn(s,r),fr(r),h&512&&l!==null&&vo(l,l.return);break;case 5:if(zn(s,r),fr(r),h&512&&l!==null&&vo(l,l.return),r.flags&32){var g=r.stateNode;try{Hi(g,"")}catch(me){lt(r,r.return,me)}}if(h&4&&(g=r.stateNode,g!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,P=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&Ls(g,v),Fs(P,T);var q=Fs(P,v);for(T=0;T<L.length;T+=2){var ee=L[T],ne=L[T+1];ee==="style"?Os(g,ne):ee==="dangerouslySetInnerHTML"?Jl(g,ne):ee==="children"?Hi(g,ne):b(g,ee,ne,q)}switch(P){case"input":Wi(g,v);break;case"textarea":Xl(g,v);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Mn(g,!!v.multiple,ue,!1):J!==!!v.multiple&&(v.defaultValue!=null?Mn(g,!!v.multiple,v.defaultValue,!0):Mn(g,!!v.multiple,v.multiple?[]:"",!1))}g[ba]=v}catch(me){lt(r,r.return,me)}}break;case 6:if(zn(s,r),fr(r),h&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,v=r.memoizedProps;try{g.nodeValue=v}catch(me){lt(r,r.return,me)}}break;case 3:if(zn(s,r),fr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{li(s.containerInfo)}catch(me){lt(r,r.return,me)}break;case 4:zn(s,r),fr(r);break;case 13:zn(s,r),fr(r),g=r.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(kf=Ye())),h&4&&xy(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Ht=(q=Ht)||ee,zn(s,r),Ht=q):zn(s,r),fr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&(r.mode&1)!==0)for(fe=r,ee=r.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(J=fe,ue=J.child,J.tag){case 0:case 11:case 14:case 15:qa(4,J,J.return);break;case 1:vo(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){lt(h,l,me)}}break;case 5:vo(J,J.return);break;case 22:if(J.memoizedState!==null){Ny(ne);continue}}ue!==null?(ue.return=J,fe=ue):Ny(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{g=ne.stateNode,q?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=ne.stateNode,L=ne.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=Zr("display",T))}catch(me){lt(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){lt(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:zn(s,r),fr(r),h&4&&xy(r);break;case 21:break;default:zn(s,r),fr(r)}}function fr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Cy(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Hi(g,""),h.flags&=-33);var v=Ry(r);Pf(r,v,g);break;case 3:case 4:var T=h.stateNode.containerInfo,P=Ry(r);Rf(r,P,T);break;default:throw Error(n(161))}}catch(L){lt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bS(r,s,l){fe=r,ky(r)}function ky(r,s,l){for(var h=(r.mode&1)!==0;fe!==null;){var g=fe,v=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||qu;if(!T){var P=g.alternate,L=P!==null&&P.memoizedState!==null||Ht;P=qu;var q=Ht;if(qu=T,(Ht=L)&&!q)for(fe=g;fe!==null;)T=fe,L=T.child,T.tag===22&&T.memoizedState!==null?My(g):L!==null?(L.return=T,fe=L):My(g);for(;v!==null;)fe=v,ky(v),v=v.sibling;fe=g,qu=P,Ht=q}Dy(r)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,fe=v):Dy(r)}}function Dy(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||Gu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:Bn(s.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Ng(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ng(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&li(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ht||s.flags&512&&Cf(s)}catch(J){lt(s,s.return,J)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Ny(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function My(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Gu(4,s)}catch(L){lt(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(L){lt(s,g,L)}}var v=s.return;try{Cf(s)}catch(L){lt(s,v,L)}break;case 5:var T=s.return;try{Cf(s)}catch(L){lt(s,T,L)}}}catch(L){lt(s,s.return,L)}if(s===r){fe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,fe=P;break}fe=s.return}}var OS=Math.ceil,Qu=te.ReactCurrentDispatcher,xf=te.ReactCurrentOwner,Cn=te.ReactCurrentBatchConfig,je=0,Vt=null,_t=null,bt=0,vn=0,_o=di(0),It=0,Ga=null,fs=0,Yu=0,Vf=0,Qa=null,sn=null,kf=0,Eo=1/0,jr=null,Xu=!1,Df=null,_i=null,Ju=!1,Ei=null,Zu=0,Ya=0,Nf=null,ec=-1,tc=0;function Jt(){return(je&6)!==0?Ye():ec!==-1?ec:ec=Ye()}function wi(r){return(r.mode&1)===0?1:(je&2)!==0&&bt!==0?bt&-bt:ES.transition!==null?(tc===0&&(tc=ya()),tc):(r=Le,r!==0||(r=window.event,r=r===void 0?16:Gs(r.type)),r)}function $n(r,s,l,h){if(50<Ya)throw Ya=0,Nf=null,Error(n(185));es(r,l,h),((je&2)===0||r!==Vt)&&(r===Vt&&((je&2)===0&&(Yu|=l),It===4&&Ti(r,bt)),on(r,h),l===1&&je===0&&(s.mode&1)===0&&(Eo=Ye()+500,xu&&mi()))}function on(r,s){var l=r.callbackNode;Zi(r,s);var h=Cr(r,r===Vt?bt:0);if(h===0)l!==null&&Us(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Us(l),s===1)r.tag===0?_S(by.bind(null,r)):wg(by.bind(null,r)),mS(function(){(je&6)===0&&mi()}),l=null;else{switch(Zn(h)){case 1:l=zs;break;case 4:l=pa;break;case 16:l=Qi;break;case 536870912:l=$s;break;default:l=Qi}l=Wy(l,Ly.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ly(r,s){if(ec=-1,tc=0,(je&6)!==0)throw Error(n(327));var l=r.callbackNode;if(wo()&&r.callbackNode!==l)return null;var h=Cr(r,r===Vt?bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=nc(r,h);else{s=h;var g=je;je|=2;var v=Fy();(Vt!==r||bt!==s)&&(jr=null,Eo=Ye()+500,ps(r,s));do try{BS();break}catch(P){Oy(r,P)}while(!0);Yh(),Qu.current=v,je=g,_t!==null?s=0:(Vt=null,bt=0,s=It)}if(s!==0){if(s===2&&(g=ga(r),g!==0&&(h=g,s=Mf(r,g))),s===1)throw l=Ga,ps(r,0),Ti(r,h),on(r,Ye()),l;if(s===6)Ti(r,h);else{if(g=r.current.alternate,(h&30)===0&&!FS(g)&&(s=nc(r,h),s===2&&(v=ga(r),v!==0&&(h=v,s=Mf(r,v))),s===1))throw l=Ga,ps(r,0),Ti(r,h),on(r,Ye()),l;switch(r.finishedWork=g,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:ms(r,sn,jr);break;case 3:if(Ti(r,h),(h&130023424)===h&&(s=kf+500-Ye(),10<s)){if(Cr(r,0)!==0)break;if(g=r.suspendedLanes,(g&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=jh(ms.bind(null,r,sn,jr),s);break}ms(r,sn,jr);break;case 4:if(Ti(r,h),(h&4194240)===h)break;for(s=r.eventTimes,g=-1;0<h;){var T=31-hn(h);v=1<<T,T=s[T],T>g&&(g=T),h&=~v}if(h=g,h=Ye()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*OS(h/1960))-h,10<h){r.timeoutHandle=jh(ms.bind(null,r,sn,jr),h);break}ms(r,sn,jr);break;case 5:ms(r,sn,jr);break;default:throw Error(n(329))}}}return on(r,Ye()),r.callbackNode===l?Ly.bind(null,r):null}function Mf(r,s){var l=Qa;return r.current.memoizedState.isDehydrated&&(ps(r,s).flags|=256),r=nc(r,s),r!==2&&(s=sn,sn=l,s!==null&&Lf(s)),r}function Lf(r){sn===null?sn=r:sn.push.apply(sn,r)}function FS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!Fn(v(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(r,s){for(s&=~Vf,s&=~Yu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-hn(s),h=1<<l;r[l]=-1,s&=~h}}function by(r){if((je&6)!==0)throw Error(n(327));wo();var s=Cr(r,0);if((s&1)===0)return on(r,Ye()),null;var l=nc(r,s);if(r.tag!==0&&l===2){var h=ga(r);h!==0&&(s=h,l=Mf(r,h))}if(l===1)throw l=Ga,ps(r,0),Ti(r,s),on(r,Ye()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ms(r,sn,jr),on(r,Ye()),null}function bf(r,s){var l=je;je|=1;try{return r(s)}finally{je=l,je===0&&(Eo=Ye()+500,xu&&mi())}}function ds(r){Ei!==null&&Ei.tag===0&&(je&6)===0&&wo();var s=je;je|=1;var l=Cn.transition,h=Le;try{if(Cn.transition=null,Le=1,r)return r()}finally{Le=h,Cn.transition=l,je=s,(je&6)===0&&mi()}}function Of(){vn=_o.current,Je(_o)}function ps(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,pS(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(Hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ru();break;case 3:go(),Je(tn),Je(zt),sf();break;case 5:nf(h);break;case 4:go();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Xh(h.type._context);break;case 22:case 23:Of()}l=l.return}if(Vt=r,_t=r=Si(r.current,null),bt=vn=s,It=0,Ga=null,Vf=Yu=fs=0,sn=Qa=null,us!==null){for(s=0;s<us.length;s++)if(l=us[s],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=g,h.next=T}l.pending=h}us=null}return r}function Oy(r,s){do{var l=_t;try{if(Yh(),ju.current=$u,Bu){for(var h=rt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Bu=!1}if(hs=0,xt=At=rt=null,za=!1,$a=0,xf.current=null,l===null||l.return===null){It=1,Ga=s,_t=null;break}e:{var v=r,T=l.return,P=l,L=s;if(s=bt,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,ee=P,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=ly(T);if(ue!==null){ue.flags&=-257,uy(ue,T,P,v,s),ue.mode&1&&ay(v,q,s),s=ue,L=q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(L),s.updateQueue=me}else pe.add(L);break e}else{if((s&1)===0){ay(v,q,s),Ff();break e}L=Error(n(426))}}else if(tt&&P.mode&1){var dt=ly(T);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),uy(dt,T,P,v,s),Gh(yo(L,P));break e}}v=L=yo(L,P),It!==4&&(It=2),Qa===null?Qa=[v]:Qa.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var z=sy(v,L,s);Dg(v,z);break e;case 1:P=L;var O=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_i===null||!_i.has(K)))){v.flags|=65536,s&=-s,v.lanes|=s;var ie=oy(v,P,s);Dg(v,ie);break e}}v=v.return}while(v!==null)}By(l)}catch(ge){s=ge,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function Fy(){var r=Qu.current;return Qu.current=$u,r===null?$u:r}function Ff(){(It===0||It===3||It===2)&&(It=4),Vt===null||(fs&268435455)===0&&(Yu&268435455)===0||Ti(Vt,bt)}function nc(r,s){var l=je;je|=2;var h=Fy();(Vt!==r||bt!==s)&&(jr=null,ps(r,s));do try{jS();break}catch(g){Oy(r,g)}while(!0);if(Yh(),je=l,Qu.current=h,_t!==null)throw Error(n(261));return Vt=null,bt=0,It}function jS(){for(;_t!==null;)jy(_t)}function BS(){for(;_t!==null&&!Gi();)jy(_t)}function jy(r){var s=$y(r.alternate,r,vn);r.memoizedProps=r.pendingProps,s===null?By(r):_t=s,xf.current=null}function By(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=DS(l,s,vn),l!==null){_t=l;return}}else{if(l=NS(l,s),l!==null){l.flags&=32767,_t=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);It===0&&(It=5)}function ms(r,s,l){var h=Le,g=Cn.transition;try{Cn.transition=null,Le=1,US(r,s,l,h)}finally{Cn.transition=g,Le=h}return null}function US(r,s,l,h){do wo();while(Ei!==null);if((je&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Sh(r,v),r===Vt&&(_t=Vt=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ju||(Ju=!0,Wy(Qi,function(){return wo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Cn.transition,Cn.transition=null;var T=Le;Le=1;var P=je;je|=4,xf.current=null,LS(r,l),Vy(l,r),aS(Oh),xr=!!bh,Oh=bh=null,r.current=l,bS(l),Ir(),je=P,Le=T,Cn.transition=v}else r.current=l;if(Ju&&(Ju=!1,Ei=r,Zu=g),v=r.pendingLanes,v===0&&(_i=null),uu(l.stateNode),on(r,Ye()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)g=s[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(Xu)throw Xu=!1,r=Df,Df=null,r;return(Zu&1)!==0&&r.tag!==0&&wo(),v=r.pendingLanes,(v&1)!==0?r===Nf?Ya++:(Ya=0,Nf=r):Ya=0,mi(),null}function wo(){if(Ei!==null){var r=Zn(Zu),s=Cn.transition,l=Le;try{if(Cn.transition=null,Le=16>r?16:r,Ei===null)var h=!1;else{if(r=Ei,Ei=null,Zu=0,(je&6)!==0)throw Error(n(331));var g=je;for(je|=4,fe=r.current;fe!==null;){var v=fe,T=v.child;if((fe.flags&16)!==0){var P=v.deletions;if(P!==null){for(var L=0;L<P.length;L++){var q=P[L];for(fe=q;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:qa(8,ee,v)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var J=ee.sibling,ue=ee.return;if(Iy(ee),ee===q){fe=null;break}if(J!==null){J.return=ue,fe=J;break}fe=ue}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var dt=me.sibling;me.sibling=null,me=dt}while(me!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:qa(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,fe=z;break e}fe=v.return}}var O=r.current;for(fe=O;fe!==null;){T=fe;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,fe=K;else e:for(T=O;fe!==null;){if(P=fe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Gu(9,P)}}catch(ge){lt(P,P.return,ge)}if(P===T){fe=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,fe=ie;break e}fe=P.return}}if(je=g,mi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Yi,r)}catch{}h=!0}return h}finally{Le=l,Cn.transition=s}}return!1}function Uy(r,s,l){s=yo(l,s),s=sy(r,s,1),r=yi(r,s,1),s=Jt(),r!==null&&(es(r,1,s),on(r,s))}function lt(r,s,l){if(r.tag===3)Uy(r,r,l);else for(;s!==null;){if(s.tag===3){Uy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_i===null||!_i.has(h))){r=yo(l,r),r=oy(s,r,1),s=yi(s,r,1),r=Jt(),s!==null&&(es(s,1,r),on(s,r));break}}s=s.return}}function zS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&l,Vt===r&&(bt&l)===l&&(It===4||It===3&&(bt&130023424)===bt&&500>Ye()-kf?ps(r,0):Vf|=l),on(r,s)}function zy(r,s){s===0&&((r.mode&1)===0?s=1:(s=si,si<<=1,(si&130023424)===0&&(si=4194304)));var l=Jt();r=br(r,s),r!==null&&(es(r,s,l),on(r,l))}function $S(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),zy(r,l)}function WS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),zy(r,l)}var $y;$y=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return rn=!1,kS(r,s,l);rn=(r.flags&131072)!==0}else rn=!1,tt&&(s.flags&1048576)!==0&&Tg(s,ku,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ku(r,s),r=s.pendingProps;var g=lo(s,zt.current);mo(s,l),g=lf(null,s,h,r,g,l);var v=uf();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(v=!0,Pu(s)):v=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ef(s),g.updater=Wu,s.stateNode=g,g._reactInternals=s,mf(s,h,r,l),s=_f(null,s,h,!0,v,l)):(s.tag=0,tt&&v&&Wh(s),Xt(null,s,g,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Ku(r,s),r=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=KS(h),r=Bn(h,r),g){case 0:s=vf(null,s,h,r,l);break e;case 1:s=my(null,s,h,r,l);break e;case 11:s=cy(null,s,h,r,l);break e;case 14:s=hy(null,s,h,Bn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Bn(h,g),vf(r,s,h,g,l);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Bn(h,g),my(r,s,h,g,l);case 3:e:{if(gy(s),r===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,g=v.element,kg(r,s),Ou(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){g=yo(Error(n(423)),s),s=yy(r,s,h,l,g);break e}else if(h!==g){g=yo(Error(n(424)),s),s=yy(r,s,h,l,g);break e}else for(yn=fi(s.stateNode.containerInfo.firstChild),gn=s,tt=!0,jn=null,l=xg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ho(),h===g){s=Fr(r,s,l);break e}Xt(r,s,h,l)}s=s.child}return s;case 5:return Mg(s),r===null&&qh(s),h=s.type,g=s.pendingProps,v=r!==null?r.memoizedProps:null,T=g.children,Fh(h,g)?T=null:v!==null&&Fh(h,v)&&(s.flags|=32),py(r,s),Xt(r,s,T,l),s.child;case 6:return r===null&&qh(s),null;case 13:return vy(r,s,l);case 4:return tf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=fo(s,null,h,l):Xt(r,s,h,l),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Bn(h,g),cy(r,s,h,g,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,v=s.memoizedProps,T=g.value,Ge(Mu,h._currentValue),h._currentValue=T,v!==null)if(Fn(v.value,T)){if(v.children===g.children&&!tn.current){s=Fr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var P=v.dependencies;if(P!==null){T=v.child;for(var L=P.firstContext;L!==null;){if(L.context===h){if(v.tag===1){L=Or(-1,l&-l),L.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),q.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),Jh(v.return,l,s),P.lanes|=l;break}L=L.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),Jh(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Xt(r,s,g.children,l),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,mo(s,l),g=An(g),h=h(g),s.flags|=1,Xt(r,s,h,l),s.child;case 14:return h=s.type,g=Bn(h,s.pendingProps),g=Bn(h.type,g),hy(r,s,h,g,l);case 15:return fy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Bn(h,g),Ku(r,s),s.tag=1,nn(h)?(r=!0,Pu(s)):r=!1,mo(s,l),ry(s,h,g),mf(s,h,g,l),_f(null,s,h,!0,r,l);case 19:return Ey(r,s,l);case 22:return dy(r,s,l)}throw Error(n(156,s.tag))};function Wy(r,s){return da(r,s)}function HS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,s,l,h){return new HS(r,s,l,h)}function jf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function KS(r){if(typeof r=="function")return jf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Ue)return 14}return 2}function Si(r,s){var l=r.alternate;return l===null?(l=Rn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function rc(r,s,l,h,g,v){var T=2;if(h=r,typeof r=="function")jf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case D:return gs(l.children,g,v,s);case I:T=8,g|=8;break;case x:return r=Rn(12,l,s,g|2),r.elementType=x,r.lanes=v,r;case V:return r=Rn(13,l,s,g),r.elementType=V,r.lanes=v,r;case xe:return r=Rn(19,l,s,g),r.elementType=xe,r.lanes=v,r;case we:return ic(l,g,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:T=10;break e;case N:T=9;break e;case B:T=11;break e;case Ue:T=14;break e;case gt:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Rn(T,l,s,g),s.elementType=r,s.type=h,s.lanes=v,s}function gs(r,s,l,h){return r=Rn(7,r,h,s),r.lanes=l,r}function ic(r,s,l,h){return r=Rn(22,r,h,s),r.elementType=we,r.lanes=l,r.stateNode={isHidden:!1},r}function Bf(r,s,l){return r=Rn(6,r,null,s),r.lanes=l,r}function Uf(r,s,l){return s=Rn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function qS(r,s,l,h,g){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function zf(r,s,l,h,g,v,T,P,L){return r=new qS(r,s,l,P,L),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Rn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(v),r}function GS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Hy(r){if(!r)return pi;r=r._reactInternals;e:{if(bn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(nn(l))return _g(r,l,s)}return s}function Ky(r,s,l,h,g,v,T,P,L){return r=zf(l,h,!0,r,g,v,T,P,L),r.context=Hy(null),l=r.current,h=Jt(),g=wi(l),v=Or(h,g),v.callback=s??null,yi(l,v,g),r.current.lanes=g,es(r,g,h),on(r,h),r}function sc(r,s,l,h){var g=s.current,v=Jt(),T=wi(g);return l=Hy(l),s.context===null?s.context=l:s.pendingContext=l,s=Or(v,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=yi(g,s,T),r!==null&&($n(r,g,T,v),bu(r,g,T)),T}function oc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function qy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function $f(r,s){qy(r,s),(r=r.alternate)&&qy(r,s)}function QS(){return null}var Gy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Wf(r){this._internalRoot=r}ac.prototype.render=Wf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));sc(r,s,null,null)},ac.prototype.unmount=Wf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ds(function(){sc(null,r,null,null)}),s[Dr]=null}};function ac(r){this._internalRoot=r}ac.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ta();r={blockedOn:null,target:r,priority:s};for(var l=0;l<fn.length&&s!==0&&s<fn[l].priority;l++);fn.splice(l,0,r),l===0&&Ks(r)}};function Hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function YS(r,s,l,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var q=oc(T);v.call(q)}}var T=Ky(s,h,r,0,null,!1,!1,"",Qy);return r._reactRootContainer=T,r[Dr]=T.current,Ma(r.nodeType===8?r.parentNode:r),ds(),T}for(;g=r.lastChild;)r.removeChild(g);if(typeof h=="function"){var P=h;h=function(){var q=oc(L);P.call(q)}}var L=zf(r,0,!1,null,null,!1,!1,"",Qy);return r._reactRootContainer=L,r[Dr]=L.current,Ma(r.nodeType===8?r.parentNode:r),ds(function(){sc(s,L,l,h)}),L}function uc(r,s,l,h,g){var v=l._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var P=g;g=function(){var L=oc(T);P.call(L)}}sc(s,T,r,g)}else T=YS(l,s,r,g,h);return oc(T)}Ea=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ze(s.pendingLanes);l!==0&&(_a(s,l|1),on(s,Ye()),(je&6)===0&&(Eo=Ye()+500,mi()))}break;case 13:ds(function(){var h=br(r,1);if(h!==null){var g=Jt();$n(h,r,1,g)}}),$f(r,1)}},Ws=function(r){if(r.tag===13){var s=br(r,134217728);if(s!==null){var l=Jt();$n(s,r,134217728,l)}$f(r,134217728)}},wa=function(r){if(r.tag===13){var s=wi(r),l=br(r,s);if(l!==null){var h=Jt();$n(l,r,s,h)}$f(r,s)}},Ta=function(){return Le},Sa=function(r,s){var l=Le;try{return Le=r,s()}finally{Le=l}},Tr=function(r,s,l){switch(s){case"input":if(Wi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var g=Cu(h);if(!g)throw Error(n(90));ia(h),Wi(h,g)}}}break;case"textarea":Xl(r,l);break;case"select":s=l.value,s!=null&&Mn(r,!!l.multiple,s,!1)}},eu=bf,tu=ds;var XS={usingClientEntryPoint:!1,Events:[Oa,oo,Cu,ti,ni,bf]},Xa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=lu(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||QS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Yi=cc.inject(JS),cn=cc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS,an.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(s))throw Error(n(200));return GS(r,s,null,l)},an.createRoot=function(r,s){if(!Hf(r))throw Error(n(299));var l=!1,h="",g=Gy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=zf(r,1,!1,null,null,l,!1,h,g),r[Dr]=s.current,Ma(r.nodeType===8?r.parentNode:r),new Wf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=lu(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return ds(r)},an.hydrate=function(r,s,l){if(!lc(s))throw Error(n(200));return uc(null,r,s,!0,l)},an.hydrateRoot=function(r,s,l){if(!Hf(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,g=!1,v="",T=Gy;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Ky(s,null,r,1,l??null,g,!1,v,T),r[Dr]=s.current,Ma(r),h)for(r=0;r<h.length;r++)l=h[r],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new ac(s)},an.render=function(r,s,l){if(!lc(s))throw Error(n(200));return uc(null,r,s,!1,l)},an.unmountComponentAtNode=function(r){if(!lc(r))throw Error(n(40));return r._reactRootContainer?(ds(function(){uc(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},an.unstable_batchedUpdates=bf,an.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!lc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return uc(r,s,l,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var rv;function aA(){if(rv)return Gf.exports;rv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gf.exports=oA(),Gf.exports}var iv;function lA(){if(iv)return hc;iv=1;var t=aA();return hc.createRoot=t.createRoot,hc.hydrateRoot=t.hydrateRoot,hc}var uA=lA();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function cA(t={}){function e(o,a){let{pathname:u="/",search:d="",hash:f=""}=xs(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Id("",{pathname:u,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=o.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof a=="string"?a:yl(a))}function i(o,a){Dn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return fA(e,n,i,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hA(){return Math.random().toString(36).substring(2,10)}function ov(t,e){return{usr:t.state,key:t.key,idx:e}}function Id(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:n,key:e&&e.key||i||hA()}}function yl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function fA(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function y(){d="POP";let R=m(),U=R==null?null:R-p;p=R,f&&f({action:d,location:k.location,delta:U})}function E(R,U){d="PUSH";let H=Id(k.location,R,U);n&&n(H,R),p=m()+1;let b=ov(H,p),te=k.createHref(H);try{u.pushState(b,"",te)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(te)}a&&f&&f({action:d,location:k.location,delta:1})}function S(R,U){d="REPLACE";let H=Id(k.location,R,U);n&&n(H,R),p=m();let b=ov(H,p),te=k.createHref(H);u.replaceState(b,"",te),a&&f&&f({action:d,location:k.location,delta:0})}function C(R){return dA(R)}let k={get action(){return d},get location(){return t(o,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,y),f=R,()=>{o.removeEventListener(sv,y),f=null}},createHref(R){return e(o,R)},createURL:C,encodeLocation(R){let U=C(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:S,go(R){return u.go(R)}};return k}function dA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:yl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function O_(t,e,n="/"){return pA(t,e,n,!1)}function pA(t,e,n,i){let o=typeof e=="string"?xs(e):e,a=$r(o.pathname||"/",n);if(a==null)return null;let u=F_(t);mA(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=CA(a);d=AA(u[f],p,i)}return d}function F_(t,e=[],n=[],i="",o=!1){let a=(u,d,f=o,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;st(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=Br([i,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),F_(u.children,e,E,y,f)),!(u.path==null&&!u.index)&&e.push({path:y,score:TA(y,u.index),routesMeta:E})};return t.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,d);else for(let p of j_(u.path))a(u,d,!0,p)}),e}function j_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=j_(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function mA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var gA=/^:[\w-]+$/,yA=3,vA=2,_A=1,EA=10,wA=-2,av=t=>t==="*";function TA(t,e){let n=t.split("/"),i=n.length;return n.some(av)&&(i+=wA),e&&(i+=vA),n.filter(o=>!av(o)).reduce((o,a)=>o+(gA.test(a)?yA:a===""?_A:EA),i)}function SA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function AA(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),E=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Br([a,y.pathname]),pathnameBase:VA(Br([a,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(a=Br([a,y.pathnameBase]))}return u}function Nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=IA(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},E)=>{if(m==="*"){let C=d[E]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[E];return y&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function IA(t,e=!1,n=!0){Dn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function CA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $r(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var B_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RA=t=>B_.test(t);function PA(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?xs(t):t,a;if(n)if(RA(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=lv(n.substring(1),"/"):a=lv(n,e)}else a=e;return{pathname:a,search:kA(i),hash:DA(o)}}function lv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U_(t){let e=xA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function z_(t,e,n,i=!1){let o;typeof t=="string"?o=xs(t):(o={...t},st(!o.pathname||!o.pathname.includes("?"),Xf("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Xf("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Xf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),y-=1;o.pathname=E.join("/")}d=y>=0?e[y]:"/"}let f=PA(o,d),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),VA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,NA=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function LA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function W_(t,e){let n=t;if(typeof n!="string"||!B_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if($_)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),d=$r(u.pathname,e);u.origin===a.origin&&d!=null?n=d+u.search+u.hash:o=!0}catch{Dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H_=["POST","PUT","PATCH","DELETE"];new Set(H_);var bA=["GET",...H_];new Set(bA);var qo=F.createContext(null);qo.displayName="DataRouter";var nh=F.createContext(null);nh.displayName="DataRouterState";var OA=F.createContext(!1),K_=F.createContext({isTransitioning:!1});K_.displayName="ViewTransition";var FA=F.createContext(new Map);FA.displayName="Fetchers";var jA=F.createContext(null);jA.displayName="Await";var Nn=F.createContext(null);Nn.displayName="Navigation";var Ml=F.createContext(null);Ml.displayName="Location";var wr=F.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var wp=F.createContext(null);wp.displayName="RouteError";var q_="REACT_ROUTER_ERROR",BA="REDIRECT",UA="ROUTE_ERROR_RESPONSE";function zA(t){if(t.startsWith(`${q_}:${BA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $A(t){if(t.startsWith(`${q_}:${UA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new NA(e.status,e.statusText,e.data)}catch{}}function WA(t,{relative:e}={}){st(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(Nn),{hash:o,pathname:a,search:u}=bl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Br([n,a])),i.createHref({pathname:d,search:u,hash:o})}function Ll(){return F.useContext(Ml)!=null}function Bi(){return st(Ll(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ml).location}var G_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q_(t){F.useContext(Nn).static||F.useLayoutEffect(t)}function HA(){let{isDataRoute:t}=F.useContext(wr);return t?sI():KA()}function KA(){st(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(qo),{basename:e,navigator:n}=F.useContext(Nn),{matches:i}=F.useContext(wr),{pathname:o}=Bi(),a=JSON.stringify(U_(i)),u=F.useRef(!1);return Q_(()=>{u.current=!0}),F.useCallback((f,p={})=>{if(Dn(u.current,G_),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=z_(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Br([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,o,t])}F.createContext(null);function qA(){let{matches:t}=F.useContext(wr),e=t[t.length-1];return e?e.params:{}}function bl(t,{relative:e}={}){let{matches:n}=F.useContext(wr),{pathname:i}=Bi(),o=JSON.stringify(U_(n));return F.useMemo(()=>z_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function GA(t,e){return Y_(t,e)}function Y_(t,e,n,i,o){var H;st(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Nn),{matches:u}=F.useContext(wr),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",y=d&&d.route;{let b=y&&y.path||"";J_(p,!y||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let E=Bi(),S;if(e){let b=typeof e=="string"?xs(e):e;st(m==="/"||((H=b.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${b.pathname}" was given in the \`location\` prop.`),S=b}else S=E;let C=S.pathname||"/",k=C;if(m!=="/"){let b=m.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(b.length).join("/")}let R=O_(t,{pathname:k});Dn(y||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Dn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=ZA(R&&R.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:Br([m,a.encodeLocation?a.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?m:Br([m,a.encodeLocation?a.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),u,n,i,o);return e&&U?F.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function QA(){let t=iI(),e=MA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,u)}var YA=F.createElement(QA,null),X_=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=$A(t.digest);n&&(t=n)}let e=t!==void 0?F.createElement(wr.Provider,{value:this.props.routeContext},F.createElement(wp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?F.createElement(XA,{error:t},e):e}};X_.contextType=OA;var Jf=new WeakMap;function XA({children:t,error:e}){let{basename:n}=F.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=zA(e.digest);if(i){let o=Jf.get(e);if(o)throw o;let a=W_(i.location,n);if($_&&!Jf.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Jf.set(e,u),u}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function JA({routeContext:t,match:e,children:n}){let i=F.useContext(qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(wr.Provider,{value:t},n)}function ZA(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let m=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);st(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:E,errors:S}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=n&&i?(m,y)=>{var E,S;i(m,{location:n.location,params:((S=(E=n.matches)==null?void 0:E[0])==null?void 0:S.params)??{},unstable_pattern:LA(n.matches),errorInfo:y})}:void 0;return a.reduceRight((m,y,E)=>{let S,C=!1,k=null,R=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||YA,d&&(f<0&&E===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):f===E&&(C=!0,R=y.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,E+1)),H=()=>{let b;return S?b=k:C?b=R:y.route.Component?b=F.createElement(y.route.Component,null):y.route.element?b=y.route.element:b=m,F.createElement(JA,{match:y,routeContext:{outlet:m,matches:U,isDataRoute:n!=null},children:b})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?F.createElement(X_,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:H(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):H()},null)}function Tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eI(t){let e=F.useContext(qo);return st(e,Tp(t)),e}function tI(t){let e=F.useContext(nh);return st(e,Tp(t)),e}function nI(t){let e=F.useContext(wr);return st(e,Tp(t)),e}function Sp(t){let e=nI(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rI(){return Sp("useRouteId")}function iI(){var i;let t=F.useContext(wp),e=tI("useRouteError"),n=Sp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function sI(){let{router:t}=eI("useNavigate"),e=Sp("useNavigate"),n=F.useRef(!1);return Q_(()=>{n.current=!0}),F.useCallback(async(o,a={})=>{Dn(n.current,G_),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var uv={};function J_(t,e,n){!e&&!uv[t]&&(uv[t]=!0,Dn(!1,n))}F.memo(oI);function oI({routes:t,future:e,state:n,onError:i}){return Y_(t,void 0,n,i,e)}function To(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){st(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:d,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[d,o,a,u]);typeof n=="string"&&(n=xs(n));let{pathname:p="/",search:m="",hash:y="",state:E=null,key:S="default"}=n,C=F.useMemo(()=>{let k=$r(p,d);return k==null?null:{location:{pathname:k,search:m,hash:y,state:E,key:S},navigationType:i}},[d,p,m,y,E,S,i]);return Dn(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement(Nn.Provider,{value:f},F.createElement(Ml.Provider,{children:e,value:C}))}function lI({children:t,location:e}){return GA(Cd(t),e)}function Cd(t,e=[]){let n=[];return F.Children.forEach(t,(i,o)=>{if(!F.isValidElement(i))return;let a=[...e,o];if(i.type===F.Fragment){n.push.apply(n,Cd(i.props.children,a));return}st(i.type===To,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Cd(i.props.children,a)),n.push(u)}),n}var wc="get",Tc="application/x-www-form-urlencoded";function rh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function uI(t){return rh(t)&&t.tagName.toLowerCase()==="button"}function cI(t){return rh(t)&&t.tagName.toLowerCase()==="form"}function hI(t){return rh(t)&&t.tagName.toLowerCase()==="input"}function fI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dI(t,e){return t.button===0&&(!e||e==="_self")&&!fI(t)}var fc=null;function pI(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zf(t){return t!=null&&!mI.has(t)?(Dn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):t}function gI(t,e){let n,i,o,a,u;if(cI(t)){let d=t.getAttribute("action");i=d?$r(d,e):null,n=t.getAttribute("method")||wc,o=Zf(t.getAttribute("enctype"))||Tc,a=new FormData(t)}else if(uI(t)||hI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?$r(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||wc,o=Zf(t.getAttribute("formenctype"))||Zf(d.getAttribute("enctype"))||Tc,a=new FormData(d,t),!pI()){let{name:p,type:m,value:y}=t;if(m==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,y)}}else{if(rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,i=null,o=Tc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yI(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&$r(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function vI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _I(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function EI(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await vI(a,n);return u.links?u.links():[]}return[]}));return AI(i.flat(1).filter(_I).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cv(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var m;return n[p].pathname!==f.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var y;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function wI(t,e,{includeHydrateFallback:n}={}){return TI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function TI(t){return[...new Set(t)]}function SI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function AI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(SI(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Z_(){let t=F.useContext(qo);return Ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function II(){let t=F.useContext(nh);return Ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ip=F.createContext(void 0);Ip.displayName="FrameworkContext";function eE(){let t=F.useContext(Ip);return Ap(t,"You must render this element inside a <HydratedRouter> element"),t}function CI(t,e){let n=F.useContext(Ip),[i,o]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,E=F.useRef(null);F.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=U=>{U.forEach(H=>{u(H.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),F.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let S=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Za(d,S),onBlur:Za(f,C),onMouseEnter:Za(p,S),onMouseLeave:Za(m,C),onTouchStart:Za(y,S)}]:[!1,E,{}]}function Za(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RI({page:t,...e}){let{router:n}=Z_(),i=F.useMemo(()=>O_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?F.createElement(xI,{page:t,matches:i,...e}):null}function PI(t){let{manifest:e,routeModules:n}=eE(),[i,o]=F.useState([]);return F.useEffect(()=>{let a=!1;return EI(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function xI({page:t,matches:e,...n}){let i=Bi(),{future:o,manifest:a,routeModules:u}=eE(),{basename:d}=Z_(),{loaderData:f,matches:p}=II(),m=F.useMemo(()=>cv(t,e,p,a,i,"data"),[t,e,p,a,i]),y=F.useMemo(()=>cv(t,e,p,a,i,"assets"),[t,e,p,a,i]),E=F.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,R=!1;if(e.forEach(H=>{var te;let b=a.routes[H.route.id];!b||!b.hasLoader||(!m.some(Z=>Z.route.id===H.route.id)&&H.route.id in f&&((te=u[H.route.id])!=null&&te.shouldRevalidate)||b.hasClientLoader?R=!0:k.add(H.route.id))}),k.size===0)return[];let U=yI(t,d,o.unstable_trailingSlashAwareDataRequests,"data");return R&&k.size>0&&U.searchParams.set("_routes",e.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[U.pathname+U.search]},[d,o.unstable_trailingSlashAwareDataRequests,f,i,a,m,e,t,u]),S=F.useMemo(()=>wI(y,a),[y,a]),C=PI(y);return F.createElement(F.Fragment,null,E.map(k=>F.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>F.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),C.map(({key:k,link:R})=>F.createElement("link",{key:k,nonce:n.nonce,...R})))}function VI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kI&&(window.__reactRouterVersion="7.12.0")}catch{}function DI({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=F.useRef();o.current==null&&(o.current=cA({window:i,v5Compat:!0}));let a=o.current,[u,d]=F.useState({action:a.action,location:a.location}),f=F.useCallback(p=>{n===!1?d(p):F.startTransition(()=>d(p))},[n]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(aI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:E,...S},C){let{basename:k,unstable_useTransitions:R}=F.useContext(Nn),U=typeof p=="string"&&tE.test(p),H=W_(p,k);p=H.to;let b=WA(p,{relative:o}),[te,Z,ae]=CI(i,S),D=bI(p,{replace:u,state:d,target:f,preventScrollReset:m,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:E,unstable_useTransitions:R});function I(M){e&&e(M),M.defaultPrevented||D(M)}let x=F.createElement("a",{...S,...ae,href:H.absoluteURL||b,onClick:H.isExternal||a?e:I,ref:VI(C,Z),target:f,"data-discover":!U&&n==="render"?"true":void 0});return te&&!U?F.createElement(F.Fragment,null,x,F.createElement(RI,{page:b})):x});Is.displayName="Link";var NI=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},m){let y=bl(u,{relative:p.relative}),E=Bi(),S=F.useContext(nh),{navigator:C,basename:k}=F.useContext(Nn),R=S!=null&&UI(y)&&d===!0,U=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,H=E.pathname,b=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),b=b?b.toLowerCase():null,U=U.toLowerCase()),b&&k&&(b=$r(b,k)||b);const te=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=H===U||!o&&H.startsWith(U)&&H.charAt(te)==="/",ae=b!=null&&(b===U||!o&&b.startsWith(U)&&b.charAt(U.length)==="/"),D={isActive:Z,isPending:ae,isTransitioning:R},I=Z?e:void 0,x;typeof i=="function"?x=i(D):x=[i,Z?"active":null,ae?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return F.createElement(Is,{...p,"aria-current":I,className:x,ref:m,style:M,to:u,viewTransition:d},typeof f=="function"?f(D):f)});NI.displayName="NavLink";var MI=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=wc,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:E,...S},C)=>{let{unstable_useTransitions:k}=F.useContext(Nn),R=jI(),U=BI(d,{relative:p}),H=u.toLowerCase()==="get"?"get":"post",b=typeof d=="string"&&tE.test(d),te=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let ae=Z.nativeEvent.submitter,D=(ae==null?void 0:ae.getAttribute("formmethod"))||u,I=()=>R(ae||Z.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:a,relative:p,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:E});k&&n!==!1?F.startTransition(()=>I()):I()};return F.createElement("form",{ref:C,method:H,action:U,onSubmit:i?f:te,...S,"data-discover":!b&&t==="render"?"true":void 0})});MI.displayName="Form";function LI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(t){let e=F.useContext(qo);return st(e,LI(t)),e}function bI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=HA(),m=Bi(),y=bl(t,{relative:a});return F.useCallback(E=>{if(dI(E,e)){E.preventDefault();let S=n!==void 0?n:yl(m)===yl(y),C=()=>p(t,{replace:S,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});f?F.startTransition(()=>C()):C()}},[m,p,y,n,i,e,t,o,a,u,d,f])}var OI=0,FI=()=>`__${String(++OI)}__`;function jI(){let{router:t}=nE("useSubmit"),{basename:e}=F.useContext(Nn),n=rI(),i=t.fetch,o=t.navigate;return F.useCallback(async(a,u={})=>{let{action:d,method:f,encType:p,formData:m,body:y}=gI(a,e);if(u.navigate===!1){let E=u.fetcherKey||FI();await i(E,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function BI(t,{relative:e}={}){let{basename:n}=F.useContext(Nn),i=F.useContext(wr);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...bl(t||".",{relative:e})},u=Bi();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let m=d.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Br([n,a.pathname])),yl(a)}function UI(t,{relative:e}={}){let n=F.useContext(K_);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nE("useViewTransitionState"),o=bl(t,{relative:e});if(!n.isTransitioning)return!1;let a=$r(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=$r(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nc(o.pathname,u)!=null||Nc(o.pathname,a)!=null}function zI(){return W.jsxs("div",{className:"page page-center",children:[W.jsx("h1",{children:"Kinderbucks"}),W.jsx("p",{style:{fontSize:"1.25rem",marginBottom:"2rem",maxWidth:"500px"},children:"Village currency verification system. Scan a Kinderbuck to verify its authenticity."}),W.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[W.jsx(Is,{to:"/admin/dashboard",className:"btn",children:"Admin Dashboard"}),W.jsx(Is,{to:"/admin/generate",className:"btn btn-secondary",children:"Generate QR Codes"})]}),W.jsx("p",{style:{marginTop:"3rem",opacity:.7},children:"Scan a Kinderbuck QR code to verify it"})]})}const rE=F.createContext({});function $I(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const iE=typeof window<"u",WI=iE?F.useLayoutEffect:F.useEffect,Cp=F.createContext(null);function Rp(t,e){t.indexOf(e)===-1&&t.push(e)}function Pp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let xp=()=>{};const Wr={},sE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oE(t){return typeof t=="object"&&t!==null}const aE=t=>/^0[^.\s]+$/u.test(t);function Vp(t){let e;return()=>(e===void 0&&(e=t()),e)}const kn=t=>t,HI=(t,e)=>n=>e(t(n)),Ol=(...t)=>t.reduce(HI),vl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class kp{constructor(){this.subscriptions=[]}add(e){return Rp(this.subscriptions,e),()=>Pp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ur=t=>t*1e3,Vn=t=>t/1e3;function lE(t,e){return e?t*(1e3/e):0}const uE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KI=1e-7,qI=12;function GI(t,e,n,i,o){let a,u,d=0;do u=e+(n-e)/2,a=uE(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>KI&&++d<qI);return u}function Fl(t,e,n,i){if(t===e&&n===i)return kn;const o=a=>GI(a,0,1,t,n);return a=>a===0||a===1?a:uE(o(a),e,i)}const cE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hE=t=>e=>1-t(1-e),fE=Fl(.33,1.53,.69,.99),Dp=hE(fE),dE=cE(Dp),pE=t=>(t*=2)<1?.5*Dp(t):.5*(2-Math.pow(2,-10*(t-1))),Np=t=>1-Math.sin(Math.acos(t)),mE=hE(Np),gE=cE(Np),QI=Fl(.42,0,1,1),YI=Fl(0,0,.58,1),yE=Fl(.42,0,.58,1),XI=t=>Array.isArray(t)&&typeof t[0]!="number",vE=t=>Array.isArray(t)&&typeof t[0]=="number",JI={linear:kn,easeIn:QI,easeInOut:yE,easeOut:YI,circIn:Np,circInOut:gE,circOut:mE,backIn:Dp,backInOut:dE,backOut:fE,anticipate:pE},ZI=t=>typeof t=="string",hv=t=>{if(vE(t)){xp(t.length===4);const[e,n,i,o]=t;return Fl(e,n,i,o)}else if(ZI(t))return JI[t];return t},dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eC(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(m){u.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,y=!1,E=!1)=>{const C=E&&o?n:i;return y&&u.add(m),C.has(m)||C.add(m),m},cancel:m=>{i.delete(m),u.delete(m)},process:m=>{if(d=m,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const tC=40;function _E(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=dc.reduce((b,te)=>(b[te]=eC(a),b),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:m,update:y,preRender:E,render:S,postRender:C}=u,k=()=>{const b=Wr.useManualTiming?o.timestamp:performance.now();n=!1,Wr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(b-o.timestamp,tC),1)),o.timestamp=b,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),m.process(o),y.process(o),E.process(o),S.process(o),C.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(k))},R=()=>{n=!0,i=!0,o.isProcessing||t(k)};return{schedule:dc.reduce((b,te)=>{const Z=u[te];return b[te]=(ae,D=!1,I=!1)=>(n||R(),Z.schedule(ae,D,I)),b},{}),cancel:b=>{for(let te=0;te<dc.length;te++)u[dc[te]].cancel(b)},state:o,steps:u}}const{schedule:et,cancel:Di,state:Ot,steps:ed}=_E(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0);let Sc;function nC(){Sc=void 0}const Zt={now:()=>(Sc===void 0&&Zt.set(Ot.isProcessing||Wr.useManualTiming?Ot.timestamp:performance.now()),Sc),set:t=>{Sc=t,queueMicrotask(nC)}},EE=t=>e=>typeof e=="string"&&e.startsWith(t),wE=EE("--"),rC=EE("var(--"),Mp=t=>rC(t)?iC.test(t.split("/*")[0].trim()):!1,iC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_l={...Go,transform:t=>vr(0,1,t)},pc={...Go,default:1},ll=t=>Math.round(t*1e5)/1e5,Lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sC(t){return t==null}const oC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bp=(t,e)=>n=>!!(typeof n=="string"&&oC.test(n)&&n.startsWith(t)||e&&!sC(n)&&Object.prototype.hasOwnProperty.call(n,e)),TE=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,d]=i.match(Lp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},aC=t=>vr(0,255,t),td={...Go,transform:t=>Math.round(aC(t))},Es={test:bp("rgb","red"),parse:TE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+td.transform(t)+", "+td.transform(e)+", "+td.transform(n)+", "+ll(_l.transform(i))+")"};function lC(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Rd={test:bp("#"),parse:lC,transform:Es.transform},jl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ii=jl("deg"),pr=jl("%"),he=jl("px"),uC=jl("vh"),cC=jl("vw"),dv={...pr,parse:t=>pr.parse(t)/100,transform:t=>pr.transform(t*100)},Ro={test:bp("hsl","hue"),parse:TE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+pr.transform(ll(e))+", "+pr.transform(ll(n))+", "+ll(_l.transform(i))+")"},wt={test:t=>Es.test(t)||Rd.test(t)||Ro.test(t),parse:t=>Es.test(t)?Es.parse(t):Ro.test(t)?Ro.parse(t):Rd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Es.transform(t):Ro.transform(t),getAnimatableNone:t=>{const e=wt.parse(t);return e.alpha=0,wt.transform(e)}},hC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fC(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lp))==null?void 0:e.length)||0)+(((n=t.match(hC))==null?void 0:n.length)||0)>0}const SE="number",AE="color",dC="var",pC="var(",pv="${}",mC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(mC,f=>(wt.test(f)?(i.color.push(a),o.push(AE),n.push(wt.parse(f))):f.startsWith(pC)?(i.var.push(a),o.push(dC),n.push(f)):(i.number.push(a),o.push(SE),n.push(parseFloat(f))),++a,pv)).split(pv);return{values:n,split:d,indexes:i,types:o}}function IE(t){return El(t).values}function CE(t){const{split:e,types:n}=El(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const d=n[u];d===SE?a+=ll(o[u]):d===AE?a+=wt.transform(o[u]):a+=o[u]}return a}}const gC=t=>typeof t=="number"?0:wt.test(t)?wt.getAnimatableNone(t):t;function yC(t){const e=IE(t);return CE(t)(e.map(gC))}const Ni={test:fC,parse:IE,createTransformer:CE,getAnimatableNone:yC};function nd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vC({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=nd(f,d,t+1/3),a=nd(f,d,t),u=nd(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Mc(t,e){return n=>n>0?e:t}const it=(t,e,n)=>t+(e-t)*n,rd=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},_C=[Rd,Es,Ro],EC=t=>_C.find(e=>e.test(t));function mv(t){const e=EC(t);if(!e)return!1;let n=e.parse(t);return e===Ro&&(n=vC(n)),n}const gv=(t,e)=>{const n=mv(t),i=mv(e);if(!n||!i)return Mc(t,e);const o={...n};return a=>(o.red=rd(n.red,i.red,a),o.green=rd(n.green,i.green,a),o.blue=rd(n.blue,i.blue,a),o.alpha=it(n.alpha,i.alpha,a),Es.transform(o))},Pd=new Set(["none","hidden"]);function wC(t,e){return Pd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TC(t,e){return n=>it(t,e,n)}function Op(t){return typeof t=="number"?TC:typeof t=="string"?Mp(t)?Mc:wt.test(t)?gv:IC:Array.isArray(t)?RE:typeof t=="object"?wt.test(t)?gv:SC:Mc}function RE(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>Op(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function SC(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Op(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function AC(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],d=t.values[u]??0;n[o]=d,i[a]++}return n}const IC=(t,e)=>{const n=Ni.createTransformer(e),i=El(t),o=El(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Pd.has(t)&&!o.values.length||Pd.has(e)&&!i.values.length?wC(t,e):Ol(RE(AC(i,o),o.values),n):Mc(t,e)};function PE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):Op(t)(t,e)}const CC=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>et.update(e,n),stop:()=>Di(e),now:()=>Ot.isProcessing?Ot.timestamp:Zt.now()}},xE=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Lc=2e4;function Fp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Lc;)e+=n,i=t.next(e);return e>=Lc?1/0:e}function RC(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Fp(i),Lc);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Vn(o)}}const PC=5;function VE(t,e,n){const i=Math.max(e-PC,0);return lE(n-t(i),e-i)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},id=.001;function xC({duration:t=ct.duration,bounce:e=ct.bounce,velocity:n=ct.velocity,mass:i=ct.mass}){let o,a,u=1-e;u=vr(ct.minDamping,ct.maxDamping,u),t=vr(ct.minDuration,ct.maxDuration,Vn(t)),u<1?(o=p=>{const m=p*u,y=m*t,E=m-n,S=xd(p,u),C=Math.exp(-y);return id-E/S*C},a=p=>{const y=p*u*t,E=y*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-y),k=xd(Math.pow(p,2),u);return(-o(p)+id>0?-1:1)*((E-S)*C)/k}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-id+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const d=5/t,f=kC(o,a,d);if(t=Ur(t),isNaN(f))return{stiffness:ct.stiffness,damping:ct.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const VC=12;function kC(t,e,n){let i=n;for(let o=1;o<VC;o++)i=i-t(i)/e(i);return i}function xd(t,e){return t*Math.sqrt(1-e*e)}const DC=["duration","bounce"],NC=["stiffness","damping","mass"];function yv(t,e){return e.some(n=>t[n]!==void 0)}function MC(t){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...t};if(!yv(t,NC)&&yv(t,DC))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ct.mass,stiffness:o,damping:a}}else{const n=xC(t);e={...e,...n,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function bc(t=ct.visualDuration,e=ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:y,velocity:E,isResolvedFromDuration:S}=MC({...n,velocity:-Vn(n.velocity||0)}),C=E||0,k=p/(2*Math.sqrt(f*m)),R=u-a,U=Vn(Math.sqrt(f/m)),H=Math.abs(R)<5;i||(i=H?ct.restSpeed.granular:ct.restSpeed.default),o||(o=H?ct.restDelta.granular:ct.restDelta.default);let b;if(k<1){const Z=xd(U,k);b=ae=>{const D=Math.exp(-k*U*ae);return u-D*((C+k*U*R)/Z*Math.sin(Z*ae)+R*Math.cos(Z*ae))}}else if(k===1)b=Z=>u-Math.exp(-U*Z)*(R+(C+U*R)*Z);else{const Z=U*Math.sqrt(k*k-1);b=ae=>{const D=Math.exp(-k*U*ae),I=Math.min(Z*ae,300);return u-D*((C+k*U*R)*Math.sinh(I)+Z*R*Math.cosh(I))/Z}}const te={calculatedDuration:S&&y||null,next:Z=>{const ae=b(Z);if(S)d.done=Z>=y;else{let D=Z===0?C:0;k<1&&(D=Z===0?Ur(C):VE(b,Z,ae));const I=Math.abs(D)<=i,x=Math.abs(u-ae)<=o;d.done=I&&x}return d.value=d.done?u:ae,d},toString:()=>{const Z=Math.min(Fp(te),Lc),ae=xE(D=>te.next(Z*D).value,Z,30);return Z+"ms "+ae},toTransition:()=>{}};return te}bc.applyToOptions=t=>{const e=RC(t,100,bc);return t.ease=e.ease,t.duration=Ur(e.duration),t.type="keyframes",t};function Vd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:m}){const y=t[0],E={done:!1,value:y},S=I=>d!==void 0&&I<d||f!==void 0&&I>f,C=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let k=n*e;const R=y+k,U=u===void 0?R:u(R);U!==R&&(k=U-y);const H=I=>-k*Math.exp(-I/i),b=I=>U+H(I),te=I=>{const x=H(I),M=b(I);E.done=Math.abs(x)<=p,E.value=E.done?U:M};let Z,ae;const D=I=>{S(E.value)&&(Z=I,ae=bc({keyframes:[E.value,C(E.value)],velocity:VE(b,I,E.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:I=>{let x=!1;return!ae&&Z===void 0&&(x=!0,te(I),D(I)),Z!==void 0&&I>=Z?ae.next(I-Z):(!x&&te(I),E)}}}function LC(t,e,n){const i=[],o=n||Wr.mix||PE,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||kn:e;d=Ol(f,d)}i.push(d)}return i}function bC(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(xp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=LC(e,i,o),f=d.length,p=m=>{if(u&&m<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const E=vl(t[y],t[y+1],m);return d[y](E)};return n?m=>p(vr(t[0],t[a-1],m)):p}function OC(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=vl(0,e,i);t.push(it(n,1,o))}}function FC(t){const e=[0];return OC(e,t.length-1),e}function jC(t,e){return t.map(n=>n*e)}function BC(t,e){return t.map(()=>e||yE).splice(0,t.length-1)}function ul({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=XI(i)?i.map(hv):hv(i),a={done:!1,value:e[0]},u=jC(n&&n.length===e.length?n:FC(e),t),d=bC(u,e,{ease:Array.isArray(o)?o:BC(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const UC=t=>t!==null;function jp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(UC),d=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||i===void 0?a[d]:i}const zC={decay:Vd,inertia:Vd,tween:ul,keyframes:ul,spring:bc};function kE(t){typeof t.type=="string"&&(t.type=zC[t.type])}class Bp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $C=t=>t/100;class Up extends Bp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kE(e);const{type:n=ul,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=n||ul;f!==ul&&typeof d[0]!="number"&&(this.mixKeyframes=Ol($C,PE(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Fp(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:E,repeatDelay:S,type:C,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let b=this.currentTime,te=i;if(y){const I=Math.min(this.currentTime,o)/d;let x=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&x--,x=Math.min(x,y+1),!!(x%2)&&(E==="reverse"?(M=1-M,S&&(M-=S/d)):E==="mirror"&&(te=u)),b=vr(0,1,M)*d}const Z=H?{done:!1,value:m[0]}:te.next(b);a&&(Z.value=a(Z.value));let{done:ae}=Z;!H&&f!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return D&&C!==Vd&&(Z.value=jp(m,this.options,R,this.speed)),k&&k(Z.value),D&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(this.currentTime)}set time(e){var n;e=Ur(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=CC,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function WC(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ws=t=>t*180/Math.PI,kd=t=>{const e=ws(Math.atan2(t[1],t[0]));return Dd(e)},HC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kd,rotateZ:kd,skewX:t=>ws(Math.atan(t[1])),skewY:t=>ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dd=t=>(t=t%360,t<0&&(t+=360),t),vv=kd,_v=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ev=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),KC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_v,scaleY:Ev,scale:t=>(_v(t)+Ev(t))/2,rotateX:t=>Dd(ws(Math.atan2(t[6],t[5]))),rotateY:t=>Dd(ws(Math.atan2(-t[2],t[0]))),rotateZ:vv,rotate:vv,skewX:t=>ws(Math.atan(t[4])),skewY:t=>ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Nd(t){return t.includes("scale")?1:0}function Md(t,e){if(!t||t==="none")return Nd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=KC,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=HC,o=d}if(!o)return Nd(e);const a=i[e],u=o[1].split(",").map(GC);return typeof a=="function"?a(u):u[a]}const qC=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Md(n,e)};function GC(t){return parseFloat(t.trim())}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Qo),wv=t=>t===Go||t===he,QC=new Set(["x","y","z"]),YC=Qo.filter(t=>!QC.has(t));function XC(t){const e=[];return YC.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ci={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Md(e,"x"),y:(t,{transform:e})=>Md(e,"y")};Ci.translateX=Ci.x;Ci.translateY=Ci.y;const Ss=new Set;let Ld=!1,bd=!1,Od=!1;function DE(){if(bd){const t=Array.from(Ss).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=XC(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var d;(d=i.getValue(a))==null||d.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}bd=!1,Ld=!1,Ss.forEach(t=>t.complete(Od)),Ss.clear()}function NE(){Ss.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bd=!0)})}function JC(){Od=!0,NE(),DE(),Od=!1}class zp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ss.add(this),Ld||(Ld=!0,et.read(NE),et.resolveKeyframes(DE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}WC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ss.delete(this)}cancel(){this.state==="scheduled"&&(Ss.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZC=t=>t.startsWith("--");function eR(t,e,n){ZC(e)?t.style.setProperty(e,n):t.style[e]=n}const tR=Vp(()=>window.ScrollTimeline!==void 0),nR={};function rR(t,e){const n=Vp(t);return()=>nR[e]??n()}const ME=rR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function LE(t,e){if(t)return typeof t=="function"?ME()?xE(t,e):"ease-out":vE(t)?nl(t):Array.isArray(t)?t.map(n=>LE(n,e)||Tv.easeOut):Tv[t]}function iR(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const y=LE(d,o);Array.isArray(y)&&(m.easing=y);const E={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(m,E)}function bE(t){return typeof t=="function"&&"applyToOptions"in t}function sR({type:t,...e}){return bE(t)&&ME()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oR extends Bp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,xp(typeof e.type!="string");const p=sR(e);this.animation=iR(n,i,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=jp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):eR(n,i,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Vn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ur(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tR()?(this.animation.timeline=e,kn):n(this)}}const OE={anticipate:pE,backInOut:dE,circInOut:gE};function aR(t){return t in OE}function lR(t){typeof t.ease=="string"&&aR(t.ease)&&(t.ease=OE[t.ease])}const sd=10;class uR extends oR{constructor(e){lR(e),kE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Up({...u,autoplay:!1}),f=Math.max(sd,Zt.now()-this.startTime),p=vr(0,sd,f-sd);n.setWithVelocity(d.sample(Math.max(0,f-p)).value,d.sample(f).value,p),d.stop()}}const Sv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ni.test(t)||t==="0")&&!t.startsWith("url("));function cR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hR(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Sv(o,e),d=Sv(a,e);return!u||!d?!1:cR(t)||(n==="spring"||bE(n))&&i}function Fd(t){t.duration=0,t.type="keyframes"}const fR=new Set(["opacity","clipPath","filter","transform"]),dR=Vp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pR(t){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return dR()&&n&&fR.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const mR=40;class gR extends Bp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:m,...y}){var C;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Zt.now();const E={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:m,...y},S=(m==null?void 0:m.KeyframeResolver)||zp;this.keyframeResolver=new S(d,(k,R,U)=>this.onKeyframesResolved(k,R,E,!U),f,p,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,i,o){var R,U;this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:m}=i;this.resolvedAt=Zt.now(),hR(e,a,u,d)||((Wr.instantAnimations||!f)&&(m==null||m(jp(e,i,n))),e[0]=e[e.length-1],Fd(i),i.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>mR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&pR(E),C=(U=(R=E.motionValue)==null?void 0:R.owner)==null?void 0:U.current,k=S?new uR({...E,element:C}):new Up(E);k.finished.then(()=>{this.notifyFinished()}).catch(kn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),JC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function FE(t,e,n,i=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:d-a*i}const yR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vR(t){const e=yR.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function jE(t,e,n=1){const[i,o]=vR(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return sE(u)?parseFloat(u):u}return Mp(o)?jE(o,e,n+1):o}const _R={type:"spring",stiffness:500,damping:25,restSpeed:10},ER=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wR={type:"keyframes",duration:.8},TR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SR=(t,{keyframes:e})=>e.length>2?wR:Yo.has(t)?t.startsWith("scale")?ER(e[1]):_R:TR,AR=t=>t!==null;function IR(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(AR),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function $p(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function CR({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const Wp=(t,e,n,i={},o,a)=>u=>{const d=$p(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ur(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};CR(d)||Object.assign(m,SR(t,m)),m.duration&&(m.duration=Ur(m.duration)),m.repeatDelay&&(m.repeatDelay=Ur(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Fd(m),m.delay===0&&(y=!0)),(Wr.instantAnimations||Wr.skipAnimations)&&(y=!0,Fd(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,y&&!a&&e.get()!==void 0){const E=IR(m.keyframes,d);if(E!==void 0){et.update(()=>{m.onUpdate(E),m.onComplete()});return}}return d.isSync?new Up(m):new gR(m)};function Av(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Hp(t,e,n,i){if(typeof e=="function"){const[o,a]=Av(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Av(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function No(t,e,n){const i=t.getProps();return Hp(i,e,n!==void 0?n:i.custom,t)}const BE=new Set(["width","height","top","left","right","bottom",...Qo]),Iv=30,RR=t=>!isNaN(parseFloat(t));class PR{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=Zt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kp);const i=this.events[e].add(n);return e==="change"?()=>{i(),et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Iv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Iv);return lE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(t,e){return new PR(t,e)}const jd=t=>Array.isArray(t);function xR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fo(n))}function VR(t){return jd(t)?t[t.length-1]||0:t}function kR(t,e){const n=No(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const d=VR(a[u]);xR(t,u,d)}}const Qt=t=>!!(t&&t.getVelocity);function DR(t){return!!(Qt(t)&&t.add)}function Bd(t,e){const n=t.getValue("willChange");if(DR(n))return n.add(e);if(!n&&Wr.WillChange){const i=new Wr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Kp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const NR="framerAppearId",UE="data-"+Kp(NR);function zE(t){return t.props[UE]}function MR({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function $E(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(a=i);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in d){const y=t.getValue(m,t.latestValues[m]??null),E=d[m];if(E===void 0||p&&MR(p,m))continue;const S={delay:n,...$p(a||{},m)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(E)&&E===C&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const U=zE(t);if(U){const H=window.MotionHandoffAnimation(U,m,et);H!==null&&(S.startTime=H,k=!0)}}Bd(t,m),y.start(Wp(m,y,E,t.shouldReduceMotion&&BE.has(m)?{type:!1}:S,t,k));const R=y.animation;R&&f.push(R)}return u&&Promise.all(f).then(()=>{et.update(()=>{u&&kR(t,u)})}),f}function Ud(t,e,n={}){var f;const i=No(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all($E(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:E}=o;return LR(t,e,p,m,y,E,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,m]=d==="beforeChildren"?[a,u]:[u,a];return p().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function LR(t,e,n=0,i=0,o=0,a=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Ud(f,e,{...u,delay:n+(typeof i=="function"?0:i)+FE(t.variantChildren,f,i,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function bR(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Ud(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Ud(t,e,n);else{const o=typeof e=="function"?No(t,e,n.custom):e;i=Promise.all($E(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const OR={test:t=>t==="auto",parse:t=>t},WE=t=>e=>e.test(t),HE=[Go,he,pr,Ii,cC,uC,OR],Cv=t=>HE.find(WE(t));function FR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aE(t):!0}const jR=new Set(["brightness","contrast","saturate","opacity"]);function BR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Lp)||[];if(!i)return t;const o=n.replace(i,"");let a=jR.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const UR=/\b([a-z-]*)\(.*?\)/gu,zd={...Ni,getAnimatableNone:t=>{const e=t.match(UR);return e?e.map(BR).join(" "):t}},Rv={...Go,transform:Math.round},zR={rotate:Ii,rotateX:Ii,rotateY:Ii,rotateZ:Ii,scale:pc,scaleX:pc,scaleY:pc,scaleZ:pc,skew:Ii,skewX:Ii,skewY:Ii,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:_l,originX:dv,originY:dv,originZ:he},qp={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,inset:he,insetBlock:he,insetBlockStart:he,insetBlockEnd:he,insetInline:he,insetInlineStart:he,insetInlineEnd:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,paddingBlock:he,paddingBlockStart:he,paddingBlockEnd:he,paddingInline:he,paddingInlineStart:he,paddingInlineEnd:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,marginBlock:he,marginBlockStart:he,marginBlockEnd:he,marginInline:he,marginInlineStart:he,marginInlineEnd:he,backgroundPositionX:he,backgroundPositionY:he,...zR,zIndex:Rv,fillOpacity:_l,strokeOpacity:_l,numOctaves:Rv},$R={...qp,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:zd,WebkitFilter:zd},KE=t=>$R[t];function qE(t,e){let n=KE(t);return n!==zd&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WR=new Set(["auto","none","0"]);function HR(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!WR.has(a)&&El(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=qE(n,o)}class KR extends zp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),Mp(y))){const E=jE(y,n.current);E!==void 0&&(e[m]=E),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!BE.has(i)||e.length!==2)return;const[o,a]=e,u=Cv(o),d=Cv(a),f=fv(o),p=fv(a);if(f!==p&&Ci[i]){this.needsMeasurement=!0;return}if(u!==d)if(wv(u)&&wv(d))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else Ci[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||FR(e[o]))&&i.push(o);i.length&&HR(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ci[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=Ci[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function qR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const GE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function GR(t){return oE(t)&&"offsetHeight"in t}const{schedule:Gp}=_E(queueMicrotask,!1),Hn={x:!1,y:!1};function QE(){return Hn.x||Hn.y}function QR(t){return t==="x"||t==="y"?Hn[t]?null:(Hn[t]=!0,()=>{Hn[t]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function YE(t,e){const n=qR(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Pv(t){return!(t.pointerType==="touch"||QE())}function YR(t,e,n={}){const[i,o,a]=YE(t,n),u=d=>{if(!Pv(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const m=y=>{Pv(y)&&(p(y),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const XE=(t,e)=>e?t===e?!0:XE(t,e.parentElement):!1,Qp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JE(t){return XR.has(t.tagName)||t.isContentEditable===!0}const Ac=new WeakSet;function xv(t){return e=>{e.key==="Enter"&&t(e)}}function od(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JR=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=xv(()=>{if(Ac.has(n))return;od(n,"down");const o=xv(()=>{od(n,"up")}),a=()=>od(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Vv(t){return Qp(t)&&!QE()}function ZR(t,e,n={}){const[i,o,a]=YE(t,n),u=d=>{const f=d.currentTarget;if(!Vv(d))return;Ac.add(f);const p=e(f,d),m=(S,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",E),Ac.has(f)&&Ac.delete(f),Vv(S)&&typeof p=="function"&&p(S,{success:C})},y=S=>{m(S,f===window||f===document||n.useGlobalTarget||XE(f,S.target))},E=S=>{m(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",E,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),GR(d)&&(d.addEventListener("focus",p=>JR(p,o)),!JE(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function ZE(t){return oE(t)&&"ownerSVGElement"in t}function eP(t){return ZE(t)&&t.tagName==="svg"}const tP=[...HE,wt,Ni],nP=t=>tP.find(WE(t)),kv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Po=()=>({x:kv(),y:kv()}),Dv=()=>({min:0,max:0}),Ct=()=>({x:Dv(),y:Dv()}),$d={current:null},ew={current:!1},rP=typeof window<"u";function iP(){if(ew.current=!0,!!rP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$d.current=t.matches;t.addEventListener("change",e),e()}else $d.current=!1}const sP=new WeakMap;function ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wl(t){return typeof t=="string"||Array.isArray(t)}const Yp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xp=["initial",...Yp];function sh(t){return ih(t.animate)||Xp.some(e=>wl(t[e]))}function tw(t){return!!(sh(t)||t.variants)}function oP(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Qt(o))t.addValue(i,o);else if(Qt(a))t.addValue(i,Fo(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Fo(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Oc={};function nw(t){Oc=t}function aP(){return Oc}class lP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Zt.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,et.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=sh(n),this.isVariantNode=tw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in y){const S=y[E];f[E]!==void 0&&Qt(S)&&S.set(f[E])}}mount(e){var n;this.current=e,sP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ew.current||iP(),this.shouldReduceMotion=$d.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Yo.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oc){const n=Oc[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Nv.length;i++){const o=Nv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=oP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Fo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sE(i)||aE(i))?i=parseFloat(i):!nP(i)&&Ni.test(n)&&(i=qE(e,n)),this.setBaseTarget(e,Qt(i)?i.get():i)),Qt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Hp(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Qt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Gp.render(this.render)}}class rw extends lP{constructor(){super(...arguments),this.KeyframeResolver=KR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}function iw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function uP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ad(t){return t===void 0||t===1}function Wd({scale:t,scaleX:e,scaleY:n}){return!ad(t)||!ad(e)||!ad(n)}function vs(t){return Wd(t)||sw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sw(t){return Mv(t.x)||Mv(t.y)}function Mv(t){return t&&t!=="0%"}function Fc(t,e,n){const i=t-n,o=e*i;return n+o}function Lv(t,e,n,i,o){return o!==void 0&&(t=Fc(t,o,i)),Fc(t,n,i)+e}function Hd(t,e=0,n=1,i,o){t.min=Lv(t.min,e,n,i,o),t.max=Lv(t.max,e,n,i,o)}function ow(t,{x:e,y:n}){Hd(t.x,e.translate,e.scale,e.originPoint),Hd(t.y,n.translate,n.scale,n.originPoint)}const bv=.999999999999,Ov=1.0000000000001;function hP(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ow(t,u)),i&&vs(a.latestValues)&&Vo(t,a.latestValues))}e.x<Ov&&e.x>bv&&(e.x=1),e.y<Ov&&e.y>bv&&(e.y=1)}function xo(t,e){t.min=t.min+e,t.max=t.max+e}function Fv(t,e,n,i,o=.5){const a=it(t.min,t.max,o);Hd(t,e,n,a,i)}function Vo(t,e){Fv(t.x,e.x,e.scaleX,e.scale,e.originX),Fv(t.y,e.y,e.scaleY,e.scale,e.originY)}function aw(t,e){return iw(cP(t.getBoundingClientRect(),e))}function fP(t,e,n){const i=aw(t,n),{scroll:o}=e;return o&&(xo(i.x,o.offset.x),xo(i.y,o.offset.y)),i}const dP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=Qo.length;function mP(t,e,n){let i="",o=!0;for(let a=0;a<pP;a++){const u=Qo[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=GE(d,qp[u]);if(!f){o=!1;const m=dP[u]||u;i+=`${m}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Jp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Yo.has(f)){u=!0;continue}else if(wE(f)){o[f]=p;continue}else{const m=GE(p,qp[f]);f.startsWith("origin")?(d=!0,a[f]=m):i[f]=m}}if(e.transform||(u||n?i.transform=mP(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}function lw(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function jv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=jv(t,e.target.x),i=jv(t,e.target.y);return`${n}% ${i}%`}},gP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Ni.parse(t);if(o.length>5)return i;const a=Ni.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=it(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}},Kd={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:gP};function uw(t,{layout:e,layoutId:n}){return Yo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kd[t]||t==="opacity")}function Zp(t,e,n){var u;const i=t.style,o=e==null?void 0:e.style,a={};if(!i)return a;for(const d in i)(Qt(i[d])||o&&Qt(o[d])||uw(d,t)||((u=n==null?void 0:n.getValue(d))==null?void 0:u.liveStyle)!==void 0)&&(a[d]=i[d]);return a}function yP(t){return window.getComputedStyle(t)}class vP extends rw{constructor(){super(...arguments),this.type="html",this.renderInstance=lw}readValueFromInstance(e,n){var i;if(Yo.has(n))return(i=this.projection)!=null&&i.isProjecting?Nd(n):qC(e,n);{const o=yP(e),a=(wE(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return aw(e,n)}build(e,n,i){Jp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Zp(e,n,i)}}const _P={offset:"stroke-dashoffset",array:"stroke-dasharray"},EP={offset:"strokeDashoffset",array:"strokeDasharray"};function wP(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?_P:EP;t[a.offset]=he.transform(-i);const u=he.transform(e),d=he.transform(n);t[a.array]=`${u} ${d}`}const TP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function cw(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,m){if(Jp(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E}=t;y.transform&&(E.transform=y.transform,delete y.transform),(E.transform||y.transformOrigin)&&(E.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),E.transform&&(E.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox);for(const S of TP)y[S]!==void 0&&(E[S]=y[S],delete y[S]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&wP(y,o,a,u,!1)}const hw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),fw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SP(t,e,n,i){lw(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(hw.has(o)?o:Kp(o),e.attrs[o])}function dw(t,e,n){const i=Zp(t,e,n);for(const o in t)if(Qt(t[o])||Qt(e[o])){const a=Qo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}class AP extends rw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yo.has(n)){const i=KE(n);return i&&i.default||0}return n=hw.has(n)?n:Kp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return dw(e,n,i)}build(e,n,i){cw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){SP(e,n,i,o)}mount(e){this.isSVGTag=fw(e.tagName),super.mount(e)}}const IP=Xp.length;function pw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IP;n++){const i=Xp[n],o=t.props[i];(wl(o)||o===!1)&&(e[i]=o)}return e}function mw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const CP=[...Yp].reverse(),RP=Yp.length;function PP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>bR(t,n,i)))}function xP(t){let e=PP(t),n=Bv(),i=!0;const o=f=>(p,m)=>{var E;const y=No(t,m,f==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(y){const{transition:S,transitionEnd:C,...k}=y;p={...p,...k,...C}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,m=pw(t.parent)||{},y=[],E=new Set;let S={},C=1/0;for(let R=0;R<RP;R++){const U=CP[R],H=n[U],b=p[U]!==void 0?p[U]:m[U],te=wl(b),Z=U===f?H.isActive:null;Z===!1&&(C=R);let ae=b===m[U]&&b!==p[U]&&te;if(ae&&i&&t.manuallyAnimateOnMount&&(ae=!1),H.protectedKeys={...S},!H.isActive&&Z===null||!b&&!H.prevProp||ih(b)||typeof b=="boolean")continue;const D=VP(H.prevProp,b);let I=D||U===f&&H.isActive&&!ae&&te||R>C&&te,x=!1;const M=Array.isArray(b)?b:[b];let N=M.reduce(o(U),{});Z===!1&&(N={});const{prevResolvedValues:B={}}=H,V={...B,...N},xe=we=>{I=!0,E.has(we)&&(x=!0,E.delete(we)),H.needsAnimating[we]=!0;const re=t.getValue(we);re&&(re.liveStyle=!1)};for(const we in V){const re=N[we],de=B[we];if(S.hasOwnProperty(we))continue;let oe=!1;jd(re)&&jd(de)?oe=!mw(re,de):oe=re!==de,oe?re!=null?xe(we):E.add(we):re!==void 0&&E.has(we)?xe(we):H.protectedKeys[we]=!0}H.prevProp=b,H.prevResolvedValues=N,H.isActive&&(S={...S,...N}),i&&t.blockInitialAnimation&&(I=!1);const Ue=ae&&D;I&&(!Ue||x)&&y.push(...M.map(we=>{const re={type:U};if(typeof we=="string"&&i&&!Ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:de}=t,oe=No(de,we);if(de.enteringChildren&&oe){const{delayChildren:j}=oe.transition||{};re.delay=FE(de.enteringChildren,t,j)}}return{animation:we,options:re}}))}if(E.size){const R={};if(typeof p.initial!="boolean"){const U=No(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(R.transition=U.transition)}E.forEach(U=>{const H=t.getBaseTarget(U),b=t.getValue(U);b&&(b.liveStyle=!0),R[U]=H??null}),y.push({animation:R})}let k=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(y):Promise.resolve()}function d(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(E=>{var S;return(S=E.animationState)==null?void 0:S.setActive(f,p)}),n[f].isActive=p;const m=u(f);for(const E in n)n[E].protectedKeys={};return m}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Bv()}}}function VP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mw(e,t):!1}function ys(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bv(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}function Uv(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){Uv(t.x,e.x),Uv(t.y,e.y)}function zv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const gw=1e-4,kP=1-gw,DP=1+gw,yw=.01,NP=0-yw,MP=0+yw;function en(t){return t.max-t.min}function LP(t,e,n){return Math.abs(t-e)<=n}function $v(t,e,n,i=.5){t.origin=i,t.originPoint=it(e.min,e.max,t.origin),t.scale=en(n)/en(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kP&&t.scale<=DP||isNaN(t.scale))&&(t.scale=1),(t.translate>=NP&&t.translate<=MP||isNaN(t.translate))&&(t.translate=0)}function cl(t,e,n,i){$v(t.x,e.x,n.x,i?i.originX:void 0),$v(t.y,e.y,n.y,i?i.originY:void 0)}function Wv(t,e,n){t.min=n.min+e.min,t.max=t.min+en(e)}function bP(t,e,n){Wv(t.x,e.x,n.x),Wv(t.y,e.y,n.y)}function Hv(t,e,n){t.min=e.min-n.min,t.max=t.min+en(e)}function jc(t,e,n){Hv(t.x,e.x,n.x),Hv(t.y,e.y,n.y)}function Kv(t,e,n,i,o){return t-=e,t=Fc(t,1/n,i),o!==void 0&&(t=Fc(t,1/o,i)),t}function OP(t,e=0,n=1,i=.5,o,a=t,u=t){if(pr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=it(a.min,a.max,i);t===a&&(d-=e),t.min=Kv(t.min,e,n,d,o),t.max=Kv(t.max,e,n,d,o)}function qv(t,e,[n,i,o],a,u){OP(t,e[n],e[i],e[o],e.scale,a,u)}const FP=["x","scaleX","originX"],jP=["y","scaleY","originY"];function Gv(t,e,n,i){qv(t.x,e,FP,n?n.x:void 0,i?i.x:void 0),qv(t.y,e,jP,n?n.y:void 0,i?i.y:void 0)}function Qv(t){return t.translate===0&&t.scale===1}function vw(t){return Qv(t.x)&&Qv(t.y)}function Yv(t,e){return t.min===e.min&&t.max===e.max}function BP(t,e){return Yv(t.x,e.x)&&Yv(t.y,e.y)}function Xv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _w(t,e){return Xv(t.x,e.x)&&Xv(t.y,e.y)}function Jv(t){return en(t.x)/en(t.y)}function Zv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Pn(t){return[t("x"),t("y")]}function UP(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:E,skewX:S,skewY:C}=n;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),E&&(i+=`rotateY(${E}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Ew=["TopLeft","TopRight","BottomLeft","BottomRight"],zP=Ew.length,e0=t=>typeof t=="string"?parseFloat(t):t,t0=t=>typeof t=="number"||he.test(t);function $P(t,e,n,i,o,a){o?(t.opacity=it(0,n.opacity??1,WP(i)),t.opacityExit=it(e.opacity??1,0,HP(i))):a&&(t.opacity=it(e.opacity??1,n.opacity??1,i));for(let u=0;u<zP;u++){const d=`border${Ew[u]}Radius`;let f=n0(e,d),p=n0(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||t0(f)===t0(p)?(t[d]=Math.max(it(e0(f),e0(p),i),0),(pr.test(p)||pr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,i))}function n0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WP=ww(0,.5,mE),HP=ww(.5,.95,kn);function ww(t,e,n){return i=>i<t?0:i>e?1:n(vl(t,e,i))}function KP(t,e,n){const i=Qt(t)?t:Fo(t);return i.start(Wp("",i,e,n)),i.animation}function Tl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const qP=(t,e)=>t.depth-e.depth;class GP{constructor(){this.children=[],this.isDirty=!1}add(e){Rp(this.children,e),this.isDirty=!0}remove(e){Pp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qP),this.isDirty=!1,this.children.forEach(e)}}function QP(t,e){const n=Zt.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Di(i),t(a-e))};return et.setup(i,!0),()=>Di(i)}function Ic(t){return Qt(t)?t.get():t}class YP{constructor(){this.members=[]}add(e){Rp(this.members,e),e.scheduleRender()}remove(e){if(Pp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ld=["","X","Y","Z"],XP=1e3;let JP=0;function ud(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Tw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Tw(i)}function Sw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=JP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tx),this.nodes.forEach(sx),this.nodes.forEach(ox),this.nodes.forEach(nx)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new GP)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new kp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZE(u)&&!eP(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let m,y=0;const E=()=>this.root.updateBlockedByResize=!1;et.read(()=>{y=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,m&&m(),m=QP(E,250),Cc.hasAnimatedSinceResize&&(Cc.hasAnimatedSinceResize=!1,this.nodes.forEach(s0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||hx,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=p.getProps(),U=!this.targetLayout||!_w(this.targetLayout,S),H=!y&&E;if(this.options.layoutRoot||this.resumeFrom||H||y&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...$p(C,"layout"),onPlay:k,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(m,H)}else y||s0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ax),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ix),this.nodes.forEach(ZP),this.nodes.forEach(ex)):this.nodes.forEach(i0),this.clearAllSnapshots();const d=Zt.now();Ot.delta=vr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,ed.update.process(Ot),ed.preRender.process(Ot),ed.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rx),this.sharedNodes.forEach(lx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vw(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||vs(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),fx(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Ct();const d=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(dx))){const{scroll:m}=this.root;m&&(xo(d.x,m.offset.x),xo(d.y,m.offset.y))}return d}removeElementScroll(u){var f;const d=Ct();if(Wn(d,u),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:E}=m;m!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&Wn(d,u),xo(d.x,y.offset.x),xo(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const f=Ct();Wn(f,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Vo(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),vs(m.latestValues)&&Vo(f,m.latestValues)}return vs(this.latestValues)&&Vo(f,this.latestValues),f}removeTransform(u){const d=Ct();Wn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!vs(p.latestValues))continue;Wd(p.latestValues)&&p.updateSnapshot();const m=Ct(),y=p.measurePageBox();Wn(m,y),Gv(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return vs(this.latestValues)&&Gv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=Ot.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),ow(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wd(this.parent.latestValues)||sw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),jc(this.relativeTargetOrigin,d,f),Wn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Wn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;hP(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zv(this.prevProjectionDelta.x,this.projectionDelta.x),zv(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!Zv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Po(),this.projectionDelta=Po(),this.projectionDeltaWithTransform=Po()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},y=Po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Ct(),S=f?f.source:void 0,C=this.layout?this.layout.source:void 0,k=S!==C,R=this.getStack(),U=!R||R.members.length<=1,H=!!(k&&!U&&this.options.crossfade===!0&&!this.path.some(cx));this.animationProgress=0;let b;this.mixTargetDelta=te=>{const Z=te/1e3;o0(y.x,u.x,Z),o0(y.y,u.y,Z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jc(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ux(this.relativeTarget,this.relativeTargetOrigin,E,Z),b&&BP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),Wn(b,this.relativeTarget)),k&&(this.animationValues=m,$P(m,p,this.latestValues,Z,H,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Cc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=KP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:m}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&Aw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ct();const y=en(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const E=en(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Wn(d,f),Vo(d,m),cl(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new YP),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&ud("z",u,p,this.animationValues);for(let m=0;m<ld.length;m++)ud(`rotate${ld[m]}`,u,p,this.animationValues),ud(`skew${ld[m]}`,u,p,this.animationValues);u.render();for(const m in p)u.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ic(d==null?void 0:d.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ic(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=UP(this.projectionDeltaWithTransform,this.treeScale,m);f&&(y=f(m,y)),u.transform=y;const{x:E,y:S}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Kd){if(m[C]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:U}=Kd[C],H=y==="none"?m[C]:k(m[C],p);if(R){const b=R.length;for(let te=0;te<b;te++)u[R[te]]=H}else U?this.options.visualElement.renderState.vars[C]=H:u[C]=H}this.options.layoutId&&(u.pointerEvents=p===this?Ic(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(r0),this.root.sharedNodes.clear()}}}function ZP(t){t.updateLayout()}function ex(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Pn(y=>{const E=u?e.measuredBox[y]:e.layoutBox[y],S=en(E);E.min=i[y].min,E.max=E.min+S}):Aw(a,e.layoutBox,i)&&Pn(y=>{const E=u?e.measuredBox[y]:e.layoutBox[y],S=en(i[y]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const d=Po();cl(d,i,e.layoutBox);const f=Po();u?cl(f,t.applyTransform(o,!0),e.measuredBox):cl(f,i,e.layoutBox);const p=!vw(d);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:S}=y;if(E&&S){const C=Ct();jc(C,e.layoutBox,E.layoutBox);const k=Ct();jc(k,i,S.layoutBox),_w(C,k)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function tx(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rx(t){t.clearSnapshot()}function r0(t){t.clearMeasurements()}function i0(t){t.isLayoutDirty=!1}function ix(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sx(t){t.resolveTargetDelta()}function ox(t){t.calcProjection()}function ax(t){t.resetSkewAndRotation()}function lx(t){t.removeLeadSnapshot()}function o0(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function a0(t,e,n,i){t.min=it(e.min,n.min,i),t.max=it(e.max,n.max,i)}function ux(t,e,n,i){a0(t.x,e.x,n.x,i),a0(t.y,e.y,n.y,i)}function cx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hx={duration:.45,ease:[.4,0,.1,1]},l0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),u0=l0("applewebkit/")&&!l0("chrome/")?Math.round:kn;function c0(t){t.min=u0(t.min),t.max=u0(t.max)}function fx(t){c0(t.x),c0(t.y)}function Aw(t,e,n){return t==="position"||t==="preserve-aspect"&&!LP(Jv(e),Jv(n),.2)}function dx(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const px=Sw({attachResizeListener:(t,e)=>Tl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cd={current:void 0},Iw=Sw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cd.current){const t=new px({});t.mount(window),t.setOptions({layoutScroll:!0}),cd.current=t}return cd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cw=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mx(t=!0){const e=F.useContext(Cp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=F.useId();F.useEffect(()=>{if(t)return o(a)},[t]);const u=F.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const Rw=F.createContext({strict:!1}),h0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let f0=!1;function gx(){if(f0)return;const t={};for(const e in h0)t[e]={isEnabled:n=>h0[e].some(i=>!!n[i])};nw(t),f0=!0}function Pw(){return gx(),aP()}function yx(t){const e=Pw();for(const n in t)e[n]={...e[n],...t[n]};nw(e)}const vx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vx.has(t)}let xw=t=>!Bc(t);function _x(t){typeof t=="function"&&(xw=e=>e.startsWith("on")?!Bc(e):t(e))}try{_x(require("@emotion/is-prop-valid").default)}catch{}function Ex(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(xw(o)||n===!0&&Bc(o)||!e&&!Bc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const oh=F.createContext({});function wx(t,e){if(sh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||wl(n)?n:void 0,animate:wl(i)?i:void 0}}return t.inherit!==!1?e:{}}function Tx(t){const{initial:e,animate:n}=wx(t,F.useContext(oh));return F.useMemo(()=>({initial:e,animate:n}),[d0(e),d0(n)])}function d0(t){return Array.isArray(t)?t.join(" "):t}const em=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vw(t,e,n){for(const i in e)!Qt(e[i])&&!uw(i,n)&&(t[i]=e[i])}function Sx({transformTemplate:t},e){return F.useMemo(()=>{const n=em();return Jp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Ax(t,e){const n=t.style||{},i={};return Vw(i,n,t),Object.assign(i,Sx(t,e)),i}function Ix(t,e){const n={},i=Ax(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const kw=()=>({...em(),attrs:{}});function Cx(t,e,n,i){const o=F.useMemo(()=>{const a=kw();return cw(a,e,fw(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Vw(a,t.style,t),o.style={...a,...o.style}}return o}const Rx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tm(t){return typeof t!="string"||t.includes("-")?!1:!!(Rx.indexOf(t)>-1||/[A-Z]/u.test(t))}function Px(t,e,n,{latestValues:i},o,a=!1,u){const f=(u??tm(t)?Cx:Ix)(e,i,o,t),p=Ex(e,typeof t=="string",a),m=t!==F.Fragment?{...p,...f,ref:n}:{},{children:y}=e,E=F.useMemo(()=>Qt(y)?y.get():y,[y]);return F.createElement(t,{...m,children:E})}function xx({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:Vx(n,i,o,t),renderState:e()}}function Vx(t,e,n,i){const o={},a=i(t,{});for(const E in a)o[E]=Ic(a[E]);let{initial:u,animate:d}=t;const f=sh(t),p=tw(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const y=m?d:u;if(y&&typeof y!="boolean"&&!ih(y)){const E=Array.isArray(y)?y:[y];for(let S=0;S<E.length;S++){const C=Hp(t,E[S]);if(C){const{transitionEnd:k,transition:R,...U}=C;for(const H in U){let b=U[H];if(Array.isArray(b)){const te=m?b.length-1:0;b=b[te]}b!==null&&(o[H]=b)}for(const H in k)o[H]=k[H]}}}return o}const Dw=t=>(e,n)=>{const i=F.useContext(oh),o=F.useContext(Cp),a=()=>xx(t,e,i,o);return n?a():$I(a)},kx=Dw({scrapeMotionValuesFromProps:Zp,createRenderState:em}),Dx=Dw({scrapeMotionValuesFromProps:dw,createRenderState:kw}),Nx=Symbol.for("motionComponentSymbol");function Mx(t,e,n){const i=F.useRef(n);F.useInsertionEffect(()=>{i.current=n});const o=F.useRef(null);return F.useCallback(a=>{var d;a&&((d=t.onMount)==null||d.call(t,a)),e&&(a?e.mount(a):e.unmount());const u=i.current;if(typeof u=="function")if(a){const f=u(a);typeof f=="function"&&(o.current=f)}else o.current?(o.current(),o.current=null):u(a);else u&&(u.current=a)},[e])}const Nw=F.createContext({});function rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Lx(t,e,n,i,o,a){var R,U;const{visualElement:u}=F.useContext(oh),d=F.useContext(Rw),f=F.useContext(Cp),p=F.useContext(Cw).reducedMotion,m=F.useRef(null);i=i||d.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const y=m.current,E=F.useContext(Nw);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&bx(m.current,n,o,E);const S=F.useRef(!1);F.useInsertionEffect(()=>{y&&S.current&&y.update(n,f)});const C=n[UE],k=F.useRef(!!C&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,C))&&((U=window.MotionHasOptimisedAnimation)==null?void 0:U.call(window,C)));return WI(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),F.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)==null||H.call(window,C)}),k.current=!1),y.enteringChildren=void 0)}),y}function bx(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Mw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&rl(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:f,layoutRoot:p})}function Mw(t){if(t)return t.options.allowProjection!==!1?t.projection:Mw(t.parent)}function hd(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&yx(i);const a=n?n==="svg":tm(t),u=a?Dx:kx;function d(p,m){let y;const E={...F.useContext(Cw),...p,layoutId:Ox(p)},{isStatic:S}=E,C=Tx(p),k=u(p,S);if(!S&&iE){Fx();const R=jx(E);y=R.MeasureLayout,C.visualElement=Lx(t,k,E,o,R.ProjectionNode,a)}return W.jsxs(oh.Provider,{value:C,children:[y&&C.visualElement?W.jsx(y,{visualElement:C.visualElement,...E}):null,Px(t,p,Mx(k,C.visualElement,m),k,S,e,a)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=F.forwardRef(d);return f[Nx]=t,f}function Ox({layoutId:t}){const e=F.useContext(rE).id;return e&&t!==void 0?e+"-"+t:t}function Fx(t,e){F.useContext(Rw).strict}function jx(t){const e=Pw(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Bx(t,e){if(typeof Proxy>"u")return hd;const n=new Map,i=(a,u)=>hd(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,hd(u,void 0,t,e)),n.get(u))})}const Ux=(t,e)=>e.isSVG??tm(t)?new AP(e):new vP(e,{allowProjection:t!==F.Fragment});class zx extends Ui{constructor(e){super(e),e.animationState||(e.animationState=xP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ih(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $x=0;class Wx extends Ui{constructor(){super(...arguments),this.id=$x++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hx={animation:{Feature:zx},exit:{Feature:Wx}};function Bl(t){return{point:{x:t.pageX,y:t.pageY}}}const Kx=t=>e=>Qp(e)&&t(e,Bl(e));function hl(t,e,n,i){return Tl(t,e,Kx(n),i)}const Lw=({current:t})=>t?t.ownerDocument.defaultView:null,p0=(t,e)=>Math.abs(t-e);function qx(t,e){const n=p0(t.x,e.x),i=p0(t.y,e.y);return Math.sqrt(n**2+i**2)}const m0=new Set(["auto","scroll"]);class bw{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dd(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=qx(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:R}=S,{timestamp:U}=Ot;this.history.push({...R,timestamp:U});const{onStart:H,onMove:b}=this.handlers;C||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=fd(C,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:k,onSessionEnd:R,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=dd(S.type==="pointercancel"?this.lastMoveEventInfo:fd(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,H),R&&R(S,H)},!Qp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=Bl(e),p=fd(f,this.transformPagePoint),{point:m}=p,{timestamp:y}=Ot;this.history=[{...m,timestamp:y}];const{onSessionStart:E}=n;E&&E(e,dd(p,this.history)),this.removeListeners=Ol(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(m0.has(i.overflowX)||m0.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),et.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Di(this.updatePoint)}}function fd(t,e){return e?{point:e(t.point)}:t}function g0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dd({point:t},e){return{point:t,delta:g0(t,Ow(e)),offset:g0(t,Gx(e)),velocity:Qx(e,.1)}}function Gx(t){return t[0]}function Ow(t){return t[t.length-1]}function Qx(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Ow(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Ur(e)));)n--;if(!i)return{x:0,y:0};const a=Vn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Yx(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?it(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?it(n,t,i.max):Math.min(t,n)),t}function y0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Xx(t,{top:e,left:n,bottom:i,right:o}){return{x:y0(t.x,n,o),y:y0(t.y,e,i)}}function v0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Jx(t,e){return{x:v0(t.x,e.x),y:v0(t.y,e.y)}}function Zx(t,e){let n=.5;const i=en(t),o=en(e);return o>i?n=vl(e.min,e.max-i,t.min):i>o&&(n=vl(t.min,t.max-o,e.min)),vr(0,1,n)}function e2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qd=.35;function t2(t=qd){return t===!1?t=0:t===!0&&(t=qd),{x:_0(t,"left","right"),y:_0(t,"top","bottom")}}function _0(t,e,n){return{min:E0(t,e),max:E0(t,n)}}function E0(t,e){return typeof t=="number"?t:t[e]||0}const n2=new WeakMap;class r2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{n?(this.stopAnimation(),this.snapToCursor(Bl(y).point)):this.pauseAnimation()},u=(y,E)=>{this.stopAnimation();const{drag:S,dragPropagation:C,onDragStart:k}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QR(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(U=>{let H=this.getAxisMotionValue(U).get()||0;if(pr.test(H)){const{projection:b}=this.visualElement;if(b&&b.layout){const te=b.layout.layoutBox[U];te&&(H=en(te)*(parseFloat(H)/100))}}this.originPoint[U]=H}),k&&et.postRender(()=>k(y,E)),Bd(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},d=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:k,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:U}=E;if(C&&this.currentDirection===null){this.currentDirection=i2(U),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),R&&R(y,E)},f=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E,this.stop(y,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Pn(y=>{var E;return this.getAnimationState(y)==="paused"&&((E=this.getAxisMotionValue(y).animation)==null?void 0:E.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new bw(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:Lw(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&et.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!mc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Yx(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Xx(i.layoutBox,e):this.constraints=!1,this.elastic=t2(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=e2(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rl(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=fP(i,o.root,this.visualElement.getTransformPagePoint());let u=Jx(o.layout.layoutBox,a);if(n){const d=n(uP(u));this.hasMutatedConstraints=!!d,d&&(u=iw(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Pn(m=>{if(!mc(m,n,this.currentDirection))return;let y=f&&f[m]||{};u&&(y={min:0,max:0});const E=o?200:1e6,S=o?40:1e7,C={type:"inertia",velocity:i?e[m]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Bd(this.visualElement,e),i.start(Wp(e,i,0,n,this.visualElement,!1))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Pn(n=>{const{drag:i}=this.getProps();if(!mc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-it(u,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!rl(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Pn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=Zx({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pn(u=>{if(!mc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(it(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;n2.set(this.visualElement,this);const e=this.visualElement.current,n=hl(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&!JE(f.target)&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();rl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(i);const u=Tl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Pn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=f[m].translate,y.set(y.get()+f[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=qd,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function mc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class s2 extends Ui{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new r2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const w0=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class o2 extends Ui{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new bw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:w0(e),onStart:w0(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&et.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let pd=!1;class a2 extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),pd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,pd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||et.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;pd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fw(t){const[e,n]=mx(),i=F.useContext(rE);return W.jsx(a2,{...t,layoutGroup:i,switchLayoutGroup:F.useContext(Nw),isPresent:e,safeToRemove:n})}const l2={pan:{Feature:o2},drag:{Feature:s2,ProjectionNode:Iw,MeasureLayout:Fw}};function T0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&et.postRender(()=>a(e,Bl(e)))}class u2 extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=YR(e,(n,i)=>(T0(this.node,i,"Start"),o=>T0(this.node,o,"End"))))}unmount(){}}class c2 extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(Tl(this.node.current,"focus",()=>this.onFocus()),Tl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&et.postRender(()=>a(e,Bl(e)))}class h2 extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=ZR(e,(n,i)=>(S0(this.node,i,"Start"),(o,{success:a})=>S0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gd=new WeakMap,md=new WeakMap,f2=t=>{const e=Gd.get(t.target);e&&e(t)},d2=t=>{t.forEach(f2)};function p2({root:t,...e}){const n=t||document;md.has(n)||md.set(n,{});const i=md.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(d2,{root:t,...e})),i[o]}function m2(t,e,n){const i=p2(e);return Gd.set(t,n),i.observe(t),()=>{Gd.delete(t),i.unobserve(t)}}const g2={some:0,all:1};class y2 extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:g2[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),E=p?m:y;E&&E(f)};return m2(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(v2(e,n))&&this.startObserver()}unmount(){}}function v2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _2={inView:{Feature:y2},tap:{Feature:h2},focus:{Feature:c2},hover:{Feature:u2}},E2={layout:{ProjectionNode:Iw,MeasureLayout:Fw}},w2={...Hx,..._2,...l2,...E2},ko=Bx(w2,Ux),T2=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},S2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,m=a>>2,y=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;f||(S=64,u||(E=64)),i.push(n[m],n[y],n[E],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||p==null||y==null)throw new A2;const E=a<<2|d>>4;if(i.push(E),p!==64){const S=d<<4&240|p>>2;if(i.push(S),y!==64){const C=p<<6&192|y;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I2=function(t){const e=jw(t);return Bw.encodeByteArray(e,!0)},Uc=function(t){return I2(t).replace(/\./g,"")},C2=function(t){try{return Bw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=()=>R2().__FIREBASE_DEFAULTS__,x2=()=>{if(typeof process>"u"||typeof A0>"u")return;const t=A0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C2(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return T2()||P2()||x2()||V2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k2=t=>{var e,n;return(n=(e=nm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},D2=t=>{const e=k2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Uw=()=>{var t;return(t=nm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uc(JSON.stringify(n)),Uc(JSON.stringify(u)),""].join(".")}const fl={};function b2(){const t={prod:[],emulator:[]};for(const e of Object.keys(fl))fl[e]?t.emulator.push(e):t.prod.push(e);return t}function O2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let I0=!1;function F2(t,e){if(typeof window>"u"||typeof document>"u"||!rm(window.location.host)||fl[t]===e||fl[t]||I0)return;fl[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=b2().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{I0=!0,u()},E}function m(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=O2(i),S=n("text"),C=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),U=n("preprendIcon"),H=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const b=E.element;d(b),m(R,k);const te=p();f(H,U),b.append(H,C,R,te),document.body.appendChild(b)}a?(C.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B2(){var e;const t=(e=nm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z2(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="FirebaseError";class Xo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=W2,Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zw.prototype.create)}}class zw{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?H2(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Xo(o,d,i)}}function H2(t,e){return t.replace(K2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const K2=/\{\$([^}]+)}/g;function zc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(C0(a)&&C0(u)){if(!zc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function C0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new N2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:G2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G2(t){return t===_s?void 0:t}function Q2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const X2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},J2=Oe.INFO,Z2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},eV=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Z2[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $w{constructor(e){this.name=e,this._logLevel=J2,this._logHandler=eV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const tV=(t,e)=>e.some(n=>t instanceof n);let R0,P0;function nV(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rV(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ww=new WeakMap,Qd=new WeakMap,Hw=new WeakMap,gd=new WeakMap,im=new WeakMap;function iV(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Pi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Ww.set(n,t)}).catch(()=>{}),im.set(e,t),e}function sV(t){if(Qd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Qd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oV(t){Yd=t(Yd)}function aV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yd(this),e,...n);return Hw.set(i,e.sort?e.sort():[e]),Pi(i)}:rV().includes(t)?function(...e){return t.apply(yd(this),e),Pi(Ww.get(this))}:function(...e){return Pi(t.apply(yd(this),e))}}function lV(t){return typeof t=="function"?aV(t):(t instanceof IDBTransaction&&sV(t),tV(t,nV())?new Proxy(t,Yd):t)}function Pi(t){if(t instanceof IDBRequest)return iV(t);if(gd.has(t))return gd.get(t);const e=lV(t);return e!==t&&(gd.set(t,e),im.set(e,t)),e}const yd=t=>im.get(t);function uV(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=Pi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Pi(u.result),f.oldVersion,f.newVersion,Pi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cV=["get","getKey","getAll","getAllKeys","count"],hV=["put","add","delete","clear"],vd=new Map;function x0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=hV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cV.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return vd.set(e,a),a}oV(t=>({...t,get:(e,n,i)=>x0(e,n)||t.get(e,n,i),has:(e,n)=>!!x0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",V0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new $w("@firebase/app"),pV="@firebase/app-compat",mV="@firebase/analytics-compat",gV="@firebase/analytics",yV="@firebase/app-check-compat",vV="@firebase/app-check",_V="@firebase/auth",EV="@firebase/auth-compat",wV="@firebase/database",TV="@firebase/data-connect",SV="@firebase/database-compat",AV="@firebase/functions",IV="@firebase/functions-compat",CV="@firebase/installations",RV="@firebase/installations-compat",PV="@firebase/messaging",xV="@firebase/messaging-compat",VV="@firebase/performance",kV="@firebase/performance-compat",DV="@firebase/remote-config",NV="@firebase/remote-config-compat",MV="@firebase/storage",LV="@firebase/storage-compat",bV="@firebase/firestore",OV="@firebase/ai",FV="@firebase/firestore-compat",jV="firebase",BV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",UV={[Xd]:"fire-core",[pV]:"fire-core-compat",[gV]:"fire-analytics",[mV]:"fire-analytics-compat",[vV]:"fire-app-check",[yV]:"fire-app-check-compat",[_V]:"fire-auth",[EV]:"fire-auth-compat",[wV]:"fire-rtdb",[TV]:"fire-data-connect",[SV]:"fire-rtdb-compat",[AV]:"fire-fn",[IV]:"fire-fn-compat",[CV]:"fire-iid",[RV]:"fire-iid-compat",[PV]:"fire-fcm",[xV]:"fire-fcm-compat",[VV]:"fire-perf",[kV]:"fire-perf-compat",[DV]:"fire-rc",[NV]:"fire-rc-compat",[MV]:"fire-gcs",[LV]:"fire-gcs-compat",[bV]:"fire-fst",[FV]:"fire-fst-compat",[OV]:"fire-vertex","fire-js":"fire-js",[jV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,zV=new Map,Zd=new Map;function k0(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wc(t){const e=t.name;if(Zd.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,t);for(const n of $c.values())k0(n,t);for(const n of zV.values())k0(n,t);return!0}function $V(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function WV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new zw("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=BV;function Kw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Jd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(n||(n=Uw()),!n)throw xi.create("no-options");const a=$c.get(o);if(a){if(zc(n,a.options)&&zc(i,a.config))return a;throw xi.create("duplicate-app",{appName:o})}const u=new Y2(o);for(const f of Zd.values())u.addComponent(f);const d=new KV(n,i,u);return $c.set(o,d),d}function GV(t=Jd){const e=$c.get(t);if(!e&&t===Jd&&Uw())return Kw();if(!e)throw xi.create("no-app",{appName:t});return e}function Mo(t,e,n){let i=UV[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}Wc(new Sl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="firebase-heartbeat-database",YV=1,Al="firebase-heartbeat-store";let _d=null;function qw(){return _d||(_d=uV(QV,YV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),_d}async function XV(t){try{const n=(await qw()).transaction(Al),i=await n.objectStore(Al).get(Gw(t));return await n.done,i}catch(e){if(e instanceof Xo)Kr.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function D0(t,e){try{const i=(await qw()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,Gw(t)),await i.done}catch(n){if(n instanceof Xo)Kr.warn(n.message);else{const i=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(i.message)}}}function Gw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=1024,ZV=30;class ek{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>ZV){const u=rk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N0(),{heartbeatsToSend:i,unsentEntries:o}=tk(this._heartbeatsCache.heartbeats),a=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Kr.warn(n),""}}}function N0(){return new Date().toISOString().substring(0,10)}function tk(t,e=JV){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),M0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2()?$2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M0(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}function rk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){Wc(new Sl("platform-logger",e=>new fV(e),"PRIVATE")),Wc(new Sl("heartbeat",e=>new ek(e),"PRIVATE")),Mo(Xd,V0,t),Mo(Xd,V0,"esm2020"),Mo("fire-js","")}ik("");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,Qw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function x(){}x.prototype=I.prototype,D.F=I.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(M,N,B){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return I.prototype[N].apply(M,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,x){x||(x=0);const M=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)M[N]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(N=0;N<16;++N)M[N]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=D.g[0],x=D.g[1],N=D.g[2];let B=D.g[3],V;V=I+(B^x&(N^B))+M[0]+3614090360&4294967295,I=x+(V<<7&4294967295|V>>>25),V=B+(N^I&(x^N))+M[1]+3905402710&4294967295,B=I+(V<<12&4294967295|V>>>20),V=N+(x^B&(I^x))+M[2]+606105819&4294967295,N=B+(V<<17&4294967295|V>>>15),V=x+(I^N&(B^I))+M[3]+3250441966&4294967295,x=N+(V<<22&4294967295|V>>>10),V=I+(B^x&(N^B))+M[4]+4118548399&4294967295,I=x+(V<<7&4294967295|V>>>25),V=B+(N^I&(x^N))+M[5]+1200080426&4294967295,B=I+(V<<12&4294967295|V>>>20),V=N+(x^B&(I^x))+M[6]+2821735955&4294967295,N=B+(V<<17&4294967295|V>>>15),V=x+(I^N&(B^I))+M[7]+4249261313&4294967295,x=N+(V<<22&4294967295|V>>>10),V=I+(B^x&(N^B))+M[8]+1770035416&4294967295,I=x+(V<<7&4294967295|V>>>25),V=B+(N^I&(x^N))+M[9]+2336552879&4294967295,B=I+(V<<12&4294967295|V>>>20),V=N+(x^B&(I^x))+M[10]+4294925233&4294967295,N=B+(V<<17&4294967295|V>>>15),V=x+(I^N&(B^I))+M[11]+2304563134&4294967295,x=N+(V<<22&4294967295|V>>>10),V=I+(B^x&(N^B))+M[12]+1804603682&4294967295,I=x+(V<<7&4294967295|V>>>25),V=B+(N^I&(x^N))+M[13]+4254626195&4294967295,B=I+(V<<12&4294967295|V>>>20),V=N+(x^B&(I^x))+M[14]+2792965006&4294967295,N=B+(V<<17&4294967295|V>>>15),V=x+(I^N&(B^I))+M[15]+1236535329&4294967295,x=N+(V<<22&4294967295|V>>>10),V=I+(N^B&(x^N))+M[1]+4129170786&4294967295,I=x+(V<<5&4294967295|V>>>27),V=B+(x^N&(I^x))+M[6]+3225465664&4294967295,B=I+(V<<9&4294967295|V>>>23),V=N+(I^x&(B^I))+M[11]+643717713&4294967295,N=B+(V<<14&4294967295|V>>>18),V=x+(B^I&(N^B))+M[0]+3921069994&4294967295,x=N+(V<<20&4294967295|V>>>12),V=I+(N^B&(x^N))+M[5]+3593408605&4294967295,I=x+(V<<5&4294967295|V>>>27),V=B+(x^N&(I^x))+M[10]+38016083&4294967295,B=I+(V<<9&4294967295|V>>>23),V=N+(I^x&(B^I))+M[15]+3634488961&4294967295,N=B+(V<<14&4294967295|V>>>18),V=x+(B^I&(N^B))+M[4]+3889429448&4294967295,x=N+(V<<20&4294967295|V>>>12),V=I+(N^B&(x^N))+M[9]+568446438&4294967295,I=x+(V<<5&4294967295|V>>>27),V=B+(x^N&(I^x))+M[14]+3275163606&4294967295,B=I+(V<<9&4294967295|V>>>23),V=N+(I^x&(B^I))+M[3]+4107603335&4294967295,N=B+(V<<14&4294967295|V>>>18),V=x+(B^I&(N^B))+M[8]+1163531501&4294967295,x=N+(V<<20&4294967295|V>>>12),V=I+(N^B&(x^N))+M[13]+2850285829&4294967295,I=x+(V<<5&4294967295|V>>>27),V=B+(x^N&(I^x))+M[2]+4243563512&4294967295,B=I+(V<<9&4294967295|V>>>23),V=N+(I^x&(B^I))+M[7]+1735328473&4294967295,N=B+(V<<14&4294967295|V>>>18),V=x+(B^I&(N^B))+M[12]+2368359562&4294967295,x=N+(V<<20&4294967295|V>>>12),V=I+(x^N^B)+M[5]+4294588738&4294967295,I=x+(V<<4&4294967295|V>>>28),V=B+(I^x^N)+M[8]+2272392833&4294967295,B=I+(V<<11&4294967295|V>>>21),V=N+(B^I^x)+M[11]+1839030562&4294967295,N=B+(V<<16&4294967295|V>>>16),V=x+(N^B^I)+M[14]+4259657740&4294967295,x=N+(V<<23&4294967295|V>>>9),V=I+(x^N^B)+M[1]+2763975236&4294967295,I=x+(V<<4&4294967295|V>>>28),V=B+(I^x^N)+M[4]+1272893353&4294967295,B=I+(V<<11&4294967295|V>>>21),V=N+(B^I^x)+M[7]+4139469664&4294967295,N=B+(V<<16&4294967295|V>>>16),V=x+(N^B^I)+M[10]+3200236656&4294967295,x=N+(V<<23&4294967295|V>>>9),V=I+(x^N^B)+M[13]+681279174&4294967295,I=x+(V<<4&4294967295|V>>>28),V=B+(I^x^N)+M[0]+3936430074&4294967295,B=I+(V<<11&4294967295|V>>>21),V=N+(B^I^x)+M[3]+3572445317&4294967295,N=B+(V<<16&4294967295|V>>>16),V=x+(N^B^I)+M[6]+76029189&4294967295,x=N+(V<<23&4294967295|V>>>9),V=I+(x^N^B)+M[9]+3654602809&4294967295,I=x+(V<<4&4294967295|V>>>28),V=B+(I^x^N)+M[12]+3873151461&4294967295,B=I+(V<<11&4294967295|V>>>21),V=N+(B^I^x)+M[15]+530742520&4294967295,N=B+(V<<16&4294967295|V>>>16),V=x+(N^B^I)+M[2]+3299628645&4294967295,x=N+(V<<23&4294967295|V>>>9),V=I+(N^(x|~B))+M[0]+4096336452&4294967295,I=x+(V<<6&4294967295|V>>>26),V=B+(x^(I|~N))+M[7]+1126891415&4294967295,B=I+(V<<10&4294967295|V>>>22),V=N+(I^(B|~x))+M[14]+2878612391&4294967295,N=B+(V<<15&4294967295|V>>>17),V=x+(B^(N|~I))+M[5]+4237533241&4294967295,x=N+(V<<21&4294967295|V>>>11),V=I+(N^(x|~B))+M[12]+1700485571&4294967295,I=x+(V<<6&4294967295|V>>>26),V=B+(x^(I|~N))+M[3]+2399980690&4294967295,B=I+(V<<10&4294967295|V>>>22),V=N+(I^(B|~x))+M[10]+4293915773&4294967295,N=B+(V<<15&4294967295|V>>>17),V=x+(B^(N|~I))+M[1]+2240044497&4294967295,x=N+(V<<21&4294967295|V>>>11),V=I+(N^(x|~B))+M[8]+1873313359&4294967295,I=x+(V<<6&4294967295|V>>>26),V=B+(x^(I|~N))+M[15]+4264355552&4294967295,B=I+(V<<10&4294967295|V>>>22),V=N+(I^(B|~x))+M[6]+2734768916&4294967295,N=B+(V<<15&4294967295|V>>>17),V=x+(B^(N|~I))+M[13]+1309151649&4294967295,x=N+(V<<21&4294967295|V>>>11),V=I+(N^(x|~B))+M[4]+4149444226&4294967295,I=x+(V<<6&4294967295|V>>>26),V=B+(x^(I|~N))+M[11]+3174756917&4294967295,B=I+(V<<10&4294967295|V>>>22),V=N+(I^(B|~x))+M[2]+718787259&4294967295,N=B+(V<<15&4294967295|V>>>17),V=x+(B^(N|~I))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(N+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+B&4294967295}i.prototype.v=function(D,I){I===void 0&&(I=D.length);const x=I-this.blockSize,M=this.C;let N=this.h,B=0;for(;B<I;){if(N==0)for(;B<=x;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<I;)if(M[N++]=D.charCodeAt(B++),N==this.blockSize){o(this,M),N=0;break}}else for(;B<I;)if(M[N++]=D[B++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=I},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)D[I++]=this.g[x]>>>M&255;return D};function a(D,I){var x=d;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=I(D)}function u(D,I){this.h=I;const x=[];let M=!0;for(let N=D.length-1;N>=0;N--){const B=D[N]|0;M&&B==I||(x[N]=B,M=!1)}this.g=x}var d={};function f(D){return-128<=D&&D<128?a(D,function(I){return new u([I|0],I<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return R(p(-D));const I=[];let x=1;for(let M=0;D>=x;M++)I[M]=D/x|0,x*=4294967296;return new u(I,0)}function m(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return R(m(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(I,8));let M=y;for(let B=0;B<D.length;B+=8){var N=Math.min(8,D.length-B);const V=parseInt(D.substring(B,B+N),I);N<8?(N=p(Math.pow(I,N)),M=M.j(N).add(p(V))):(M=M.j(x),M=M.add(p(V)))}return M}var y=f(0),E=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(k(this))return-R(this).m();let D=0,I=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);D+=(M>=0?M:4294967296+M)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(k(this))return"-"+R(this).toString(D);const I=p(Math.pow(D,6));var x=this;let M="";for(;;){const N=te(x,I).g;x=U(x,N.j(I));let B=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=N,C(x))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=U(this,D),k(D)?-1:C(D)?0:1};function R(D){const I=D.g.length,x=[];for(let M=0;M<I;M++)x[M]=~D.g[M];return new u(x,~D.h).add(E)}t.abs=function(){return k(this)?R(this):this},t.add=function(D){const I=Math.max(this.g.length,D.g.length),x=[];let M=0;for(let N=0;N<=I;N++){let B=M+(this.i(N)&65535)+(D.i(N)&65535),V=(B>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);M=V>>>16,B&=65535,V&=65535,x[N]=V<<16|B}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(D,I){return D.add(R(I))}t.j=function(D){if(C(this)||C(D))return y;if(k(this))return k(D)?R(this).j(R(D)):R(R(this).j(D));if(k(D))return R(this.j(R(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const I=this.g.length+D.g.length,x=[];for(var M=0;M<2*I;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<D.g.length;N++){const B=this.i(M)>>>16,V=this.i(M)&65535,xe=D.i(N)>>>16,Ue=D.i(N)&65535;x[2*M+2*N]+=V*Ue,H(x,2*M+2*N),x[2*M+2*N+1]+=B*Ue,H(x,2*M+2*N+1),x[2*M+2*N+1]+=V*xe,H(x,2*M+2*N+1),x[2*M+2*N+2]+=B*xe,H(x,2*M+2*N+2)}for(D=0;D<I;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=I;D<2*I;D++)x[D]=0;return new u(x,0)};function H(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function b(D,I){this.g=D,this.h=I}function te(D,I){if(C(I))throw Error("division by zero");if(C(D))return new b(y,y);if(k(D))return I=te(R(D),I),new b(R(I.g),R(I.h));if(k(I))return I=te(D,R(I)),new b(R(I.g),I.h);if(D.g.length>30){if(k(D)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,M=I;M.l(D)<=0;)x=Z(x),M=Z(M);var N=ae(x,1),B=ae(M,1);for(M=ae(M,2),x=ae(x,2);!C(M);){var V=B.add(M);V.l(D)<=0&&(N=N.add(x),B=V),M=ae(M,1),x=ae(x,1)}return I=U(D,N.j(I)),new b(N,I)}for(N=y;D.l(I)>=0;){for(x=Math.max(1,Math.floor(D.m()/I.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(x),V=B.j(I);k(V)||V.l(D)>0;)x-=M,B=p(x),V=B.j(I);C(B)&&(B=E),N=N.add(B),D=U(D,V)}return new b(N,D)}t.B=function(D){return te(this,D).h},t.and=function(D){const I=Math.max(this.g.length,D.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)&D.i(M);return new u(x,this.h&D.h)},t.or=function(D){const I=Math.max(this.g.length,D.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)|D.i(M);return new u(x,this.h|D.h)},t.xor=function(D){const I=Math.max(this.g.length,D.g.length),x=[];for(let M=0;M<I;M++)x[M]=this.i(M)^D.i(M);return new u(x,this.h^D.h)};function Z(D){const I=D.g.length+1,x=[];for(let M=0;M<I;M++)x[M]=D.i(M)<<1|D.i(M-1)>>>31;return new u(x,D.h)}function ae(D,I){const x=I>>5;I%=32;const M=D.g.length-x,N=[];for(let B=0;B<M;B++)N[B]=I>0?D.i(B+x)>>>I|D.i(B+x+1)<<32-I:D.i(B+x);return new u(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Qw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,Vi=u}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yw,il,Xw,Rc,ep,Jw,Zw,eT;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var _=0;_<c.length;++_){var w=c[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var w=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var $=c[A];if(!($ in w))break e;w=w[$]}c=c[c.length-1],A=w[c],_=_(A),_!=A&&_!=null&&e(w,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var w=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&w.push([A,_[A]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function f(c,_,w){return c.call.apply(c.bind,arguments)}function p(c,_,w){return p=f,p.apply(null,arguments)}function m(c,_){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function y(c,_){function w(){}w.prototype=_.prototype,c.Z=_.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(A,$,G){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return _.prototype[$].apply(A,se)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function S(c){const _=c.length;if(_>0){const w=Array(_);for(let A=0;A<_;A++)w[A]=c[A];return w}return[]}function C(c,_){for(let A=1;A<arguments.length;A++){const $=arguments[A];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=c.length||0;const G=$.length||0;c.length=w+G;for(let se=0;se<G;se++)c[w+se]=$[se]}else c.push($)}}class k{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(c){u.setTimeout(()=>{throw c},0)}function U(){var c=D;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,w){const A=b.get();A.set(_,w),this.h?this.h.next=A:this.g=A,this.h=A}}var b=new k(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ae=!1,D=new H,I=()=>{const c=Promise.resolve(void 0);Z=()=>{c.then(x)}};function x(){for(var c;c=U();){try{c.h.call(c.g)}catch(w){R(w)}var _=b;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return c})();function V(c){return/^[\s\xa0]*$/.test(c)}function xe(c,_){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}y(xe,N),xe.prototype.init=function(c,_){const w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(w=="mouseover"?_=c.fromElement:w=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),gt=0;function we(c,_,w,A,$){this.listener=c,this.proxy=null,this.src=_,this.type=w,this.capture=!!A,this.ha=$,this.key=++gt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,_,w){for(const A in c)_.call(w,c[A],A,c)}function oe(c,_){for(const w in c)_.call(void 0,c[w],w,c)}function j(c){const _={};for(const w in c)_[w]=c[w];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(c,_){let w,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(w in A)c[w]=A[w];for(let G=0;G<X.length;G++)w=X[G],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,_,w,A,$){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=De(c,_,A,$);return se>-1?(_=c[se],w||(_.fa=!1)):(_=new we(_,this.src,G,!!A,$),_.fa=w,c.push(_)),_};function ke(c,_){const w=_.type;if(w in c.g){var A=c.g[w],$=Array.prototype.indexOf.call(A,_,void 0),G;(G=$>=0)&&Array.prototype.splice.call(A,$,1),G&&(re(_),c.g[w].length==0&&(delete c.g[w],c.h--))}}function De(c,_,w,A){for(let $=0;$<c.length;++$){const G=c[$];if(!G.da&&G.listener==_&&G.capture==!!w&&G.ha==A)return $}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ke(c,_,w,A,$){if(Array.isArray(_)){for(let G=0;G<_.length;G++)Ke(c,_[G],w,A,$);return null}return w=sa(w),c&&c[Ue]?c.J(_,w,d(A)?!!A.capture:!1,$):Yt(c,_,w,!1,A,$)}function Yt(c,_,w,A,$,G){if(!_)throw Error("Invalid event type");const se=d($)?!!$.capture:!!$;let Ce=Ls(c);if(Ce||(c[$e]=Ce=new Ie(c)),w=Ce.add(_,w,A,se,G),w.proxy)return w;if(A=Ns(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)B||($=se),$===void 0&&($=!1),c.addEventListener(_.toString(),A,$);else if(c.attachEvent)c.attachEvent(Ms(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ns(){function c(w){return _.call(c.src,c.listener,w)}const _=Yl;return c}function ia(c,_,w,A,$){if(Array.isArray(_))for(var G=0;G<_.length;G++)ia(c,_[G],w,A,$);else A=d(A)?!!A.capture:!!A,w=sa(w),c&&c[Ue]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],w=De(_,w,A,$),w>-1&&(re(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ls(c))&&(_=c.g[_.toString()],c=-1,_&&(c=De(_,w,A,$)),(w=c>-1?_[c]:null)&&Qr(w))}function Qr(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ue])ke(_.i,c);else{var w=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(w,A,c.capture):_.detachEvent?_.detachEvent(Ms(w),A):_.addListener&&_.removeListener&&_.removeListener(A),(w=Ls(_))?(ke(w,c),w.h==0&&(w.src=null,_[$e]=null)):re(c)}}}function Ms(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function Yl(c,_){if(c.da)c=!0;else{_=new xe(_,this);const w=c.listener,A=c.ha||c.src;c.fa&&Qr(c),c=w.call(A,_)}return c}function Ls(c){return c=c[$e],c instanceof Ie?c:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(c){return typeof c=="function"?c:(c[Wi]||(c[Wi]=function(_){return c.handleEvent(_)}),c[Wi])}function yt(){M.call(this),this.i=new Ie(this),this.M=this,this.G=null}y(yt,M),yt.prototype[Ue]=!0,yt.prototype.removeEventListener=function(c,_,w,A){ia(this,c,_,w,A)};function ht(c,_){var w,A=c.G;if(A)for(w=[];A;A=A.G)w.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new N(_,c);else if(_ instanceof N)_.target=_.target||c;else{var $=_;_=new N(A,c),Ae(_,$)}$=!0;let G,se;if(w)for(se=w.length-1;se>=0;se--)G=_.g=w[se],$=Mn(G,A,!0,_)&&$;if(G=_.g=c,$=Mn(G,A,!0,_)&&$,$=Mn(G,A,!1,_)&&$,w)for(se=0;se<w.length;se++)G=_.g=w[se],$=Mn(G,A,!1,_)&&$}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const w=c.g[_];for(let A=0;A<w.length;A++)re(w[A]);delete c.g[_],c.h--}}this.G=null},yt.prototype.J=function(c,_,w,A){return this.i.add(String(c),_,!1,w,A)},yt.prototype.K=function(c,_,w,A){return this.i.add(String(c),_,!0,w,A)};function Mn(c,_,w,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let G=0;G<_.length;++G){const se=_[G];if(se&&!se.da&&se.capture==w){const Ce=se.listener,ft=se.ha||se.src;se.fa&&ke(c.i,se),$=Ce.call(ft,A)!==!1&&$}}return $&&!A.defaultPrevented}function oa(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function aa(c){c.g=oa(()=>{c.g=null,c.i&&(c.i=!1,aa(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Xl extends M{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(c){M.call(this),this.h=c,this.g={}}y(Yr,M);var la=[];function bs(c){de(c.g,function(_,w){this.g.hasOwnProperty(w)&&Qr(_)},c),c.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),bs(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=u.JSON.stringify,Jl=u.JSON.parse,Hi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function Jr(){}function Zl(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Os(){N.call(this,"d")}y(Os,N);function ua(){N.call(this,"c")}y(ua,N);var Ln={},Fs=null;function ei(){return Fs=Fs||new yt}Ln.Ia="serverreachability";function js(c){N.call(this,Ln.Ia,c)}y(js,N);function Tr(c){const _=ei();ht(_,new js(_))}Ln.STAT_EVENT="statevent";function Sr(c,_){N.call(this,Ln.STAT_EVENT,c),this.stat=_}y(Sr,N);function at(c){const _=ei();ht(_,new Sr(_,c))}Ln.Ja="timingevent";function ca(c,_){N.call(this,Ln.Ja,c),this.size=_}y(ca,N);function ti(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function eu(c,_,w,A,$,G){c.info(function(){if(c.g)if(G){var se="",Ce=G.split("&");for(let He=0;He<Ce.length;He++){var ft=Ce[He].split("=");if(ft.length>1){const vt=ft[0];ft=ft[1];const mn=vt.split("_");se=mn.length>=2&&mn[1]=="type"?se+(vt+"="+ft+"&"):se+(vt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+_+`
`+w+`
`+se})}function tu(c,_,w,A,$,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+_+`
`+w+`
`+G+" "+se})}function Qn(c,_,w,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ki(c,w)+(A?" "+A:"")})}function nu(c,_){c.info(function(){return"TIMEOUT: "+_})}ni.prototype.info=function(){};function Ki(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var w=G[c];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var $=A[0];if($!="noop"&&$!="stop"&&$!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Xr(G)}catch{return _}}var ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ii={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ru;function Ar(){}y(Ar,Jr),Ar.prototype.g=function(){return new XMLHttpRequest},ru=new Ar;function Yn(c){return encodeURIComponent(String(c))}function Bs(c){var _=1;c=c.split(":");const w=[];for(;_>0&&c.length;)w.push(c.shift()),_--;return c.length&&w.push(c.join(":")),w}function En(c,_,w,A){this.j=c,this.i=_,this.l=w,this.S=A||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var su={},ha={};function bn(c,_,w){c.M=1,c.A=Cr(wn(_)),c.u=w,c.R=!0,fa(c,null)}function fa(c,_){c.F=Date.now(),qi(c),c.B=wn(c.A);var w=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ta(w.i,"t",A),c.C=0,w=c.j.L,c.h=new iu,c.g=mu(c.j,w?_:null,!c.u),c.P>0&&(c.O=new Xl(p(c.Y,c,c.g),c.P)),_=c.V,w=c.g,A=c.ba;var $="readystatechange";Array.isArray($)||($&&(la[0]=$.toString()),$=la);for(let G=0;G<$.length;G++){const se=Ke(w,$[G],A||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Tr(),eu(c.i,c.v,c.B,c.l,c.S,c.u)}En.prototype.ba=function(c){c=c.target;const _=this.O;_&&rr(c)==3?_.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=rr(this.g),ft=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||du(this.g)))){this.K||Ce!=4||ft==7||(ft==8||He<=0?Tr(3):Tr(2)),Us(this);var _=this.g.ca();this.X=_;var w=ou(this);if(this.o=_==200,tu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,$=this.g;if((A=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(A)){var G=A;break t}}G=null}if(c=G)Qn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,c);else{this.o=!1,this.m=3,at(12),Ir(this),Gi(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<w.length;)if(vt=lu(this,w),vt==ha){Ce==4&&(this.m=4,at(14),c=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==su){this.m=4,at(15),Qn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Qn(this.i,this.l,vt,null),Ye(this,vt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||w.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)Qn(this.i,this.l,w,"[Invalid Chunked Response]"),Ir(this),Gi(this);else if(w.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),rs(se),se.P=!0,at(11))}}else Qn(this.i,this.l,w,null),Ye(this,w);Ce==4&&Ir(this),this.o&&!this.K&&(Ce==4?Xs(this.j,this):(this.o=!1,qi(this)))}else Aa(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Ir(this),Gi(this)}}}catch{}finally{}};function ou(c){if(!au(c))return c.g.la();const _=du(c.g);if(_==="")return"";let w="";const A=_.length,$=rr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ir(c),Gi(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,w+=c.h.i.decode(_[G],{stream:!($&&G==A-1)});return _.length=0,c.h.g+=w,c.C=0,c.h.g}function au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lu(c,_){var w=c.C,A=_.indexOf(`
`,w);return A==-1?ha:(w=Number(_.substring(w,A)),isNaN(w)?su:(A+=1,A+w>_.length?ha:(_=_.slice(A,A+w),c.C=A+w,_)))}En.prototype.cancel=function(){this.K=!0,Ir(this)};function qi(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ti(p(c.aa,c),_)}function Us(c){c.D&&(u.clearTimeout(c.D),c.D=null)}En.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(nu(this.i,this.B),this.M!=2&&(Tr(),at(17)),Ir(this),this.m=2,Gi(this)):da(this,this.T-c)};function Gi(c){c.j.I==0||c.K||Xs(c.j,c)}function Ir(c){Us(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,bs(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ye(c,_){try{var w=c.j;if(w.I!=0&&(w.g==c||ma(w.h,c))){if(!c.L&&ma(w.h,c)&&w.I==3){try{var A=w.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Ys(w),dn(w);else break e;or(w),at(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ti(p(w.Va,w),6e3));Qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else pn(w,11)}else if((c.L||w.g==c)&&Ys(w),!V(_))for($=w.Ba.g.parse(_),_=0;_<$.length;_++){let He=$[_];const vt=He[0];if(!(vt<=w.K))if(w.K=vt,He=He[1],w.I==2)if(He[0]=="c"){w.M=He[1],w.ba=He[2];const mn=He[3];mn!=null&&(w.ka=mn,w.j.info("VER="+w.ka));const kr=He[4];kr!=null&&(w.za=kr,w.j.info("SVER="+w.za));const ar=He[5];ar!=null&&typeof ar=="number"&&ar>0&&(A=1.5*ar,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const lr=c.g;if(lr){const eo=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var G=A.h;G.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&($s(G,G.h),G.h=null))}if(A.G){const Ra=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,ze(A.J,A.G,Ra))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var se=c;if(A.na=Ca(A,A.L?A.ba:null,A.W),se.L){Yi(A.h,se);var Ce=se,ft=A.O;ft&&(Ce.H=ft),Ce.D&&(Us(Ce),qi(Ce)),A.g=se}else Ut(A);w.i.length>0&&Vr(w)}else He[0]!="stop"&&He[0]!="close"||pn(w,7);else w.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?pn(w,7):Gs(w):He[0]!="noop"&&w.l&&w.l.qa(He),w.A=0)}}Tr(4)}catch{}}var Th=class{constructor(c,_){this.g=c,this.map=_}};function zs(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qi(c){return c.h?1:c.g?c.g.size:0}function ma(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function $s(c,_){c.g?c.g.add(_):c.h=_}function Yi(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}zs.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const w of c.g.values())_=_.concat(w.G);return _}return S(c.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(c,_){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const A=c[w].indexOf("=");let $,G=null;A>=0?($=c[w].substring(0,A),G=c[w].substring(A+1)):$=c[w],_($,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Xn?(this.l=c.l,Xi(this,c.j),this.o=c.o,this.g=c.g,Jn(this,c.u),this.h=c.h,si(this,Sa(c.i)),this.m=c.m):c&&(_=String(c).match(uu))?(this.l=!1,Xi(this,_[1]||"",!0),this.o=Ji(_[2]||""),this.g=Ji(_[3]||"",!0),Jn(this,_[4]),this.h=Ji(_[5]||"",!0),si(this,_[6]||"",!0),this.m=Ji(_[7]||"")):(this.l=!1,this.i=new Le(null,this.l))}Xn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Zi(_,ya,!0),":");var w=this.g;return(w||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Zi(_,ya,!0),"@"),c.push(Yn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Zi(w,w.charAt(0)=="/"?es:va,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Zi(w,_a)),c.join("")},Xn.prototype.resolve=function(c){const _=wn(this);let w=!!c.j;w?Xi(_,c.j):w=!!c.o,w?_.o=c.o:w=!!c.g,w?_.g=c.g:w=c.u!=null;var A=c.h;if(w)Jn(_,c.u);else if(w=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var $=_.h.lastIndexOf("/");$!=-1&&(A=_.h.slice(0,$+1)+A)}if($=A,$==".."||$==".")A="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){A=$.lastIndexOf("/",0)==0,$=$.split("/");const G=[];for(let se=0;se<$.length;){const Ce=$[se++];Ce=="."?A&&se==$.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==$.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=$}return w?_.h=A:w=c.i.toString()!=="",w?si(_,Sa(c.i)):w=!!c.m,w&&(_.m=c.m),_};function wn(c){return new Xn(c)}function Xi(c,_,w){c.j=w?Ji(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Jn(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function si(c,_,w){_ instanceof Le?(c.i=_,Hs(c.i,c.l)):(w||(_=Zi(_,Sh)),c.i=new Le(_,c.l))}function ze(c,_,w){c.i.set(_,w)}function Cr(c){return ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ji(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zi(c,_,w){return typeof c=="string"?(c=encodeURI(c).replace(_,ga),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ga(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,va=/[#\?:]/g,es=/[#\?]/g,Sh=/[#\?@]/g,_a=/#/g;function Le(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&hn(c.i,function(_,w){c.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Le.prototype,t.add=function(c,_){Zn(this),this.i=null,c=er(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(_),this.h+=1,this};function Ea(c,_){Zn(c),_=er(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Ws(c,_){return Zn(c),_=er(c,_),c.g.has(_)}t.forEach=function(c,_){Zn(this),this.g.forEach(function(w,A){w.forEach(function($){c.call(_,$,A,this)},this)},this)};function wa(c,_){Zn(c);let w=[];if(typeof _=="string")Ws(c,_)&&(w=w.concat(c.g.get(er(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)w=w.concat(c[_]);return w}t.set=function(c,_){return Zn(this),this.i=null,c=er(this,c),Ws(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=wa(this,c),c.length>0?String(c[0]):_):_};function Ta(c,_,w){Ea(c,_),w.length>0&&(c.i=null,c.g.set(er(c,_),S(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var w=_[A];const $=Yn(w);w=wa(this,w);for(let G=0;G<w.length;G++){let se=$;w[G]!==""&&(se+="="+Yn(w[G])),c.push(se)}}return this.i=c.join("&")};function Sa(c){const _=new Le;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function er(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Hs(c,_){_&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(w,A){const $=A.toLowerCase();A!=$&&(Ea(this,A),Ta(this,$,w))},c)),c.j=_}function tr(c,_){const w=new ni;if(u.Image){const A=new Image;A.onload=m(Nt,w,"TestLoadImage: loaded",!0,_,A),A.onerror=m(Nt,w,"TestLoadImage: error",!1,_,A),A.onabort=m(Nt,w,"TestLoadImage: abort",!1,_,A),A.ontimeout=m(Nt,w,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function nr(c,_){const w=new ni,A=new AbortController,$=setTimeout(()=>{A.abort(),Nt(w,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout($),G.ok?Nt(w,"TestPingServer: ok",!0,_):Nt(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Nt(w,"TestPingServer: error",!1,_)})}function Nt(c,_,w,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(w)}catch{}}function ts(){this.g=new Hi}function Rr(c){this.i=c.Sb||null,this.h=c.ab||!1}y(Rr,Jr),Rr.prototype.g=function(){return new fn(this.i,this.h)};function fn(c,_){yt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(fn,yt),t=fn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,On(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function cu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?oi(this):On(this),this.readyState==3&&cu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,oi(this))},t.Na=function(c){this.g&&(this.response=c,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,On(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=_.next();return c.join(`\r
`)};function On(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hu(c){let _="";return de(c,function(w,A){_+=A,_+=":",_+=w,_+=`\r
`}),_}function Ks(c,_,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=hu(w),typeof c=="string"?w!=null&&Yn(w):ze(c,_,w))}function qe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(qe,yt);var fu=/^https?$/i,Ah=["POST","PUT"];t=qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ru.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){ai(this,G);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)w.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())w.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Ah,_,void 0)>=0)||A||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of w)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ai(this,G)}};function ai(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,li(c),xr(c)}function li(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),xr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},t.Xa=function(){Pr(this)};function Pr(c){if(c.h&&typeof a<"u"){if(c.v&&rr(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),rr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var A;if(A=G===0){let se=String(c.D).match(uu)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),A=!fu.test(se?se.toLowerCase():"")}w=A}if(w)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var $=rr(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",li(c)}}finally{xr(c)}}}}function xr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,_||ht(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Jl(_)}};function du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Aa(c){const _={};c=(c.g&&rr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(V(c[A]))continue;var w=Bs(c[A]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=_[$]||[];_[$]=G,G.push(w)}oe(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||_}function qs(c){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,c),this.Za=ir("retryDelaySeedMs",1e4,c),this.Ta=ir("forwardChannelMaxRetries",2,c),this.va=ir("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zs(c&&c.concurrentRequestLimit),this.Ba=new ts,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qs.prototype,t.ka=8,t.I=1,t.connect=function(c,_,w,A){at(0),this.W=c,this.H=_||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=Ca(this,null,this.W),Vr(this)};function Gs(c){if(Qs(c),c.I==3){var _=c.V++,w=wn(c.J);if(ze(w,"SID",c.M),ze(w,"RID",_),ze(w,"TYPE","terminate"),sr(c,w),_=new En(c,c.j,_),_.M=2,_.A=Cr(wn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=mu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),qi(_)}is(c)}function dn(c){c.g&&(rs(c),c.g.cancel(),c.g=null)}function Qs(c){dn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ys(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Vr(c){if(!pa(c.h)&&!c.m){c.m=!0;var _=c.Ea;Z||I(),ae||(Z(),ae=!0),D.add(_,c),c.D=0}}function pu(c,_){return Qi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ti(p(c.Ea,c,_),Js(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new En(this,this.j,c);let G=this.o;if(this.U&&(G?(G=j(G),Ae(G,this.U)):G=this.U),this.u!==null||this.R||($.J=G,G=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Ia(this,$,_),w=wn(this.J),ze(w,"RID",c),ze(w,"CVER",22),this.G&&ze(w,"X-HTTP-Session-Id",this.G),sr(this,w),G&&(this.R?_="headers="+Yn(hu(G))+"&"+_:this.u&&Ks(w,this.u,G)),$s(this.h,$),this.Ra&&ze(w,"TYPE","init"),this.S?(ze(w,"$req",_),ze(w,"SID","null"),$.U=!0,bn($,w,null)):bn($,w,_),this.I=2}}else this.I==3&&(c?ns(this,c):this.i.length==0||pa(this.h)||ns(this))};function ns(c,_){var w;_?w=_.l:w=c.V++;const A=wn(c.J);ze(A,"SID",c.M),ze(A,"RID",w),ze(A,"AID",c.K),sr(c,A),c.u&&c.o&&Ks(A,c.u,c.o),w=new En(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Ia(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$s(c.h,w),bn(w,A,_)}function sr(c,_){c.H&&de(c.H,function(w,A){ze(_,A,w)}),c.l&&de({},function(w,A){ze(_,A,w)})}function Ia(c,_,w){w=Math.min(c.i.length,w);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var $=c.i;let Ce=-1;for(;;){const ft=["count="+w];Ce==-1?w>0?(Ce=$[0].g,ft.push("ofs="+Ce)):Ce=0:ft.push("ofs="+Ce);let He=!0;for(let vt=0;vt<w;vt++){var G=$[vt].g;const mn=$[vt].map;if(G-=Ce,G<0)Ce=Math.max(0,$[vt].g-100),He=!1;else try{G="req"+G+"_"||"";try{var se=mn instanceof Map?mn:Object.entries(mn);for(const[kr,ar]of se){let lr=ar;d(ar)&&(lr=Xr(ar)),ft.push(G+kr+"="+encodeURIComponent(lr))}}catch(kr){throw ft.push(G+"type="+encodeURIComponent("_badmap")),kr}}catch{A&&A(mn)}}if(He){se=ft.join("&");break e}}se=void 0}return c=c.i.splice(0,w),_.G=c,se}function Ut(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Z||I(),ae||(Z(),ae=!0),D.add(_,c),c.A=0}}function or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ti(p(c.Da,c),Js(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,ui(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ti(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),dn(this),ui(this))};function rs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ui(c){c.g=new En(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=wn(c.na);ze(_,"RID","rpc"),ze(_,"SID",c.M),ze(_,"AID",c.K),ze(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&ze(_,"TO",c.ia),ze(_,"TYPE","xmlhttp"),sr(c,_),c.u&&c.o&&Ks(_,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Cr(wn(_)),w.u=null,w.R=!0,fa(w,c)}t.Va=function(){this.C!=null&&(this.C=null,dn(this),or(this),at(19))};function Ys(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Xs(c,_){var w=null;if(c.g==_){Ys(c),rs(c),c.g=null;var A=2}else if(ma(c.h,_))w=_.G,Yi(c.h,_),A=1;else return;if(c.I!=0){if(_.o)if(A==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var $=c.D;A=ei(),ht(A,new ca(A,w)),Vr(c)}else Ut(c);else if($=_.m,$==3||$==0&&_.X>0||!(A==1&&pu(c,_)||A==2&&or(c)))switch(w&&w.length>0&&(_=c.h,_.i=_.i.concat(w)),$){case 1:pn(c,5);break;case 4:pn(c,10);break;case 3:pn(c,6);break;default:pn(c,2)}}}function Js(c,_){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*_}function pn(c,_){if(c.j.info("Error code "+_),_==2){var w=p(c.bb,c),A=c.Ua;const $=!A;A=new Xn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xi(A,"https"),Cr(A),$?tr(A.toString(),w):nr(A.toString(),w)}else at(2);c.I=0,c.l&&c.l.pa(_),is(c),Qs(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function is(c){if(c.I=0,c.ja=[],c.l){const _=cn(c.h);(_.length!=0||c.i.length!=0)&&(C(c.ja,_),C(c.ja,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.oa()}}function Ca(c,_,w){var A=w instanceof Xn?wn(w):new Xn(w);if(A.g!="")_&&(A.g=_+"."+A.g),Jn(A,A.u);else{var $=u.location;A=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const G=new Xn(null);A&&Xi(G,A),_&&(G.g=_),$&&Jn(G,$),w&&(G.h=w),A=G}return w=c.G,_=c.wa,w&&_&&ze(A,w,_),ze(A,"VER",c.ka),sr(c,A),A}function mu(c,_,w){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new qe(new Rr({ab:w})):new qe(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}t=gu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zs(){}Zs.prototype.g=function(c,_){return new Mt(c,_)};function Mt(c,_){yt.call(this),this.g=new qs(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!V(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new ci(this)}y(Mt,yt),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Gs(this.g)},Mt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=Xr(c),c=w);_.i.push(new Th(_.Ya++,c)),_.I==3&&Vr(_)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,Mt.Z.N.call(this)};function yu(c){Os.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const w in _){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}y(yu,Os);function vu(){ua.call(this),this.status=1}y(vu,ua);function ci(c){this.g=c}y(ci,gu),ci.prototype.ra=function(){ht(this.g,"a")},ci.prototype.qa=function(c){ht(this.g,new yu(c))},ci.prototype.pa=function(c){ht(this.g,new vu)},ci.prototype.oa=function(){ht(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,eT=function(){return new Zs},Zw=function(){return ei()},Jw=Ln,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,Rc=ri,ii.COMPLETE="complete",Xw=ii,Zl.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",yt.prototype.listen=yt.prototype.J,il=Zl,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,Yw=qe}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.8.0";function sk(t){Jo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new $w("@firebase/firestore");function So(){return Cs.logLevel}function ce(t,...e){if(Cs.logLevel<=Oe.DEBUG){const n=e.map(sm);Cs.debug(`Firestore (${Jo}): ${t}`,...n)}}function qr(t,...e){if(Cs.logLevel<=Oe.ERROR){const n=e.map(sm);Cs.error(`Firestore (${Jo}): ${t}`,...n)}}function jo(t,...e){if(Cs.logLevel<=Oe.WARN){const n=e.map(sm);Cs.warn(`Firestore (${Jo}): ${t}`,...n)}}function sm(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,tT(t,i,n)}function tT(t,e,n){let i=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw qr(i),new Error(i)}function We(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||tT(e,o,i)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ok{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qt.UNAUTHENTICATED)))}shutdown(){}}class ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lk{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new nT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class uk{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ck{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new uk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=fk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function tp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Ed(o)===Ed(a)?Ne(o,a):Ed(o)?1:-1}return Ne(t.length,e.length)}const dk=55296,pk=57343;function Ed(t){const e=t.charCodeAt(0);return e>=dk&&e<=pk}function Bo(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class dr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=dr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const i=dr.isNumericId(e),o=dr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class Qe extends dr{construct(e,n,i){return new Qe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Qe(n)}static emptyPath(){return new Qe([])}}const mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends dr{construct(e,n,i){return new jt(e,n,i)}static isValidIdentifier(e){return mk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new jt([O0])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gk(t,e,n,i){if(e===!0&&i===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F0(t){if(!ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if(ye.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ul(t,e){if(!iT(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-62135596800,U0=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*U0);return new Ze(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B0)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:St("string",Ze._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ze(0,0))}static max(){return new Se(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function yk(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Ze(n+1,0):new Ze(n,i));return new Mi(o,ye.empty(),e)}function vk(t){return new Mi(t.readTime,t.key,Il)}class Mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(Se.min(),ye.empty(),Il)}static max(){return new Mi(Se.max(),ye.empty(),Il)}}function _k(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==Ek)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,i)=>{n(e)}))}static reject(e){return new Y(((n,i)=>{i(e)}))}static waitFor(e){return new Y(((n,i)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&n()}),(f=>i(f)))})),u=!0,a===o&&n()}))}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next((o=>o?Y.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new Y(((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((m=>{u[p]=m,++d,d===a&&i(u)}),(m=>o(m)))}}))}static doWhile(e,n){return new Y(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function Tk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function uh(t){return t==null}function Hc(t){return t===0&&1/t==-1/0}function Sk(t){return typeof t=="number"&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="";function Ak(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z0(e)),e=Ik(t.get(n),e);return z0(e)}function Ik(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case sT:n+="";break;default:n+=a}}return n}function z0(t){return t+sT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Ft(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Pt(jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aT("Invalid base64 string: "+a):a}})(e);return new Bt(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const Ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=Ck.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="server_timestamp",uT="__type__",cT="__previous_value__",hT="__local_write_time__";function lm(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uT])==null?void 0:i.stringValue)===lT}function ch(t){const e=t.mapValue.fields[cT];return lm(e)?ch(e):e}function Cl(t){const e=Li(t.mapValue.fields[hT].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,i,o,a,u,d,f,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m,this.apiKey=y}}const Kc="(default)";class Rl{constructor(e,n){this.projectId=e,this.database=n||Kc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}function Pk(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__type__",xk="__max__",vc={mapValue:{}},dT="__vector__",qc="value";function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:kk(t)?9007199254740991:Vk(t)?10:11:Ee(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Li(o.timestampValue),d=Li(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return bi(o.bytesValue).isEqual(bi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),d=pt(a.doubleValue);return u===d?Hc(u)===Hc(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if($0(u)!==$0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Er(u[f],d[f])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Pl(t,e){return(t.values||[]).find((n=>Er(n,e)))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Oi(t),i=Oi(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return H0(t.timestampValue,e.timestampValue);case 4:return H0(Cl(t),Cl(e));case 5:return tp(t.stringValue,e.stringValue);case 6:return(function(a,u){const d=bi(a),f=bi(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const m=Ne(d[p],f[p]);if(m!==0)return m}return Ne(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ne(pt(a.latitude),pt(u.latitude));return d!==0?d:Ne(pt(a.longitude),pt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return K0(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var E,S,C,k;const d=a.fields||{},f=u.fields||{},p=(E=d[qc])==null?void 0:E.arrayValue,m=(S=f[qc])==null?void 0:S.arrayValue,y=Ne(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return y!==0?y:K0(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===vc.mapValue&&u===vc.mapValue)return 0;if(a===vc.mapValue)return 1;if(u===vc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const E=tp(f[y],m[y]);if(E!==0)return E;const S=Uo(d[f[y]],p[m[y]]);if(S!==0)return S}return Ne(f.length,m.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function H0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Li(t),i=Li(e),o=Ne(n.seconds,i.seconds);return o!==0?o:Ne(n.nanos,i.nanos)}function K0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Uo(n[o],i[o]);if(a)return a}return Ne(n.length,i.length)}function zo(t){return np(t)}function np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Li(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return bi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=np(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${np(n.fields[u])}`;return o+"}"})(t.mapValue):Ee(61005,{value:t})}function Pc(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(t);return e?16+Pc(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Pc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return zi(i.fields,((a,u)=>{o+=a.length+Pc(u)})),o})(t.mapValue);default:throw Ee(13486,{value:t})}}function q0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rp(t){return!!t&&"integerValue"in t}function um(t){return!!t&&"arrayValue"in t}function G0(t){return!!t&&"nullValue"in t}function Q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xc(t){return!!t&&"mapValue"in t}function Vk(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fT])==null?void 0:i.stringValue)===dT}function dl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=dl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return{...t}}function kk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=jt.emptyPath(),i={},o=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=d.popLast()}u?i[d.lastSegment()]=dl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){zi(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new un(dl(this.value))}}function pT(t){const e=[];return zi(t.fields,((n,i)=>{const o=new jt([n]);if(xc(i)){const a=pT(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,i,o,a,u,d){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,n,i,o){return new Gt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Gt(e,2,n,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function Y0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),n.key):i=Uo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class Tt extends mT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Mk(e,n,i):n==="array-contains"?new Ok(e,i):n==="in"?new Fk(e,i):n==="not-in"?new jk(e,i):n==="array-contains-any"?new Bk(e,i):new Tt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Lk(e,i):new bk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends mT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gn(e,n)}matches(e){return gT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gT(t){return t.op==="and"}function yT(t){return Nk(t)&&gT(t)}function Nk(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function ip(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(yT(t))return t.filters.map((e=>ip(e))).join(",");{const e=t.filters.map((n=>ip(n))).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&Er(i.value,o.value)})(t,e):t instanceof Gn?(function(i,o){return o instanceof Gn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,d)=>a&&vT(u,o.filters[d])),!0):!1})(t,e):void Ee(19439)}function _T(t){return t instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`})(t):t instanceof Gn?(function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"})(t):"Filter"}class Mk extends Tt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lk extends Tt{constructor(e,n){super(e,"in",n),this.keys=ET("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bk extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=ET("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ET(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class Ok extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&Pl(n.arrayValue,this.value)}}class Fk extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class jk extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class Bk extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Pl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function J0(t,e=null,n=[],i=[],o=null,a=null,u=null){return new Uk(t,e,n,i,o,a,u)}function cm(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ip(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>zo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>zo(i))).join(",")),e.Te=n}return e.Te}function hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}function sp(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zk(t,e,n,i,o,a,u,d){return new ta(t,e,n,i,o,a,u,d)}function fm(t){return new ta(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $k(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wT(t){return t.collectionGroup!==null}function pl(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(jt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xl(a,i))})),n.has(jt.keyField().canonicalString())||e.Ie.push(new xl(jt.keyField(),i))}return e.Ie}function mr(t){const e=Re(t);return e.Ee||(e.Ee=Wk(e,pl(t))),e.Ee}function Wk(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new xl(o.field,a)}));const n=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function op(t,e){const n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hk(t,e){const n=t.explicitOrderBy.concat([e]);return new ta(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return hm(mr(t),mr(e))&&t.limitType===e.limitType}function TT(t){return`${cm(mr(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>_T(o))).join(", ")}]`),uh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>zo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>zo(o))).join(",")),`Target(${i})`})(mr(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ye.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of pl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,d,f){const p=Y0(u,d,f);return u.inclusive?p<=0:p<0})(i.startAt,pl(i),o)||i.endAt&&!(function(u,d,f){const p=Y0(u,d,f);return u.inclusive?p>=0:p>0})(i.endAt,pl(i),o))})(t,e)}function Kk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ST(t){return(e,n)=>{let i=!1;for(const o of pl(t)){const a=qk(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function qk(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Uo(f,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new ot(ye.comparator);function Gr(){return Gk}const AT=new ot(ye.comparator);function sl(...t){let e=AT;for(const n of t)e=e.insert(n.key,n);return e}function IT(t){let e=AT;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ts(){return ml()}function CT(){return ml()}function ml(){return new Vs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Qk=new ot(ye.comparator),Yk=new Pt(ye.comparator);function Me(...t){let e=Yk;for(const n of t)e=e.add(n);return e}const Xk=new Pt(Ne);function Jk(){return Xk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function RT(t){return{integerValue:""+t}}function PT(t,e){return Sk(e)?RT(e):dm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function Zk(t,e,n){return t instanceof Vl?(function(o,a){const u={fields:{[uT]:{stringValue:lT},[hT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&lm(a)&&(a=ch(a)),a&&(u.fields[cT]=a),{mapValue:u}})(n,e):t instanceof kl?VT(t,e):t instanceof Dl?kT(t,e):(function(o,a){const u=xT(o,a),d=e_(u)+e_(o.Ae);return rp(u)&&rp(o.Ae)?RT(d):dm(o.serializer,d)})(t,e)}function eD(t,e,n){return t instanceof kl?VT(t,e):t instanceof Dl?kT(t,e):n}function xT(t,e){return t instanceof Nl?(function(i){return rp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Vl extends dh{}class kl extends dh{constructor(e){super(),this.elements=e}}function VT(t,e){const n=DT(e);for(const i of t.elements)n.some((o=>Er(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Dl extends dh{constructor(e){super(),this.elements=e}}function kT(t,e){let n=DT(e);for(const i of t.elements)n=n.filter((o=>!Er(o,i)));return{arrayValue:{values:n}}}class Nl extends dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e_(t){return pt(t.integerValue||t.doubleValue)}function DT(t){return um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.field=e,this.transform=n}}function tD(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof kl&&o instanceof kl||i instanceof Dl&&o instanceof Dl?Bo(i.elements,o.elements,Er):i instanceof Nl&&o instanceof Nl?Er(i.Ae,o.Ae):i instanceof Vl&&o instanceof Vl})(t.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function MT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bT(t.key,Kn.none()):new zl(t.key,t.data,Kn.none());{const n=t.data,i=un.empty();let o=new Pt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new $i(t.key,i,new _n(o.toArray()),Kn.none())}}function rD(t,e,n){t instanceof zl?(function(o,a,u){const d=o.value.clone(),f=n_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof $i?(function(o,a,u){if(!Vc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=n_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(LT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function gl(t,e,n,i){return t instanceof zl?(function(a,u,d,f){if(!Vc(a.precondition,u))return d;const p=a.value.clone(),m=r_(a.fieldTransforms,f,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof $i?(function(a,u,d,f){if(!Vc(a.precondition,u))return d;const p=r_(a.fieldTransforms,f,u),m=u.data;return m.setAll(LT(a)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,i):(function(a,u,d){return Vc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function iD(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=xT(i.transform,o||null);a!=null&&(n===null&&(n=un.empty()),n.set(i.field,a))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Bo(i,o,((a,u)=>tD(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends ph{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $i extends ph{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function n_(t,e,n){const i=new Map;We(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,eD(u,d,n[o]))}return i}function r_(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,Zk(a,u,e))}return i}class bT extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&rD(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=gl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=gl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=CT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(o.key)?null:d;const f=MT(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,i)=>t_(n,i)))&&Bo(this.baseMutations,e.baseMutations,((n,i)=>t_(n,i)))}}class pm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return Qk})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new pm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,be;function uD(t){switch(t){case Q.OK:return Ee(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function OT(t){if(t===void 0)return qr("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Et.OK:return Q.OK;case Et.CANCELLED:return Q.CANCELLED;case Et.UNKNOWN:return Q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Q.INTERNAL;case Et.UNAVAILABLE:return Q.UNAVAILABLE;case Et.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Et.NOT_FOUND:return Q.NOT_FOUND;case Et.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Et.ABORTED:return Q.ABORTED;case Et.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Et.DATA_LOSS:return Q.DATA_LOSS;default:return Ee(39323,{code:t})}}(be=Et||(Et={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Vi([4294967295,4294967295],0);function i_(t){const e=cD().encode(t),n=new Qw;return n.update(e),new Uint8Array(n.digest())}function s_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vi([n,i],0),new Vi([o,a],0)]}class mm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Vi.fromNumber(i)));return o.compare(hD)===1&&(o=new Vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i_(e),[i,o]=s_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new mm(a,o,n);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=i_(e),[i,o]=s_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mh(Se.min(),o,new ot(Ne),Gr(),Me())}}class $l{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $l(i,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class FT{constructor(e,n){this.targetId=e,this.Ce=n}}class jT{constructor(e,n,i=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class o_{constructor(){this.ve=0,this.Fe=a_(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),i=Me();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:a})}})),new $l(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=a_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.He=_c(),this.Je=_c(),this.Ze=new ot(Ne)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(sp(a))if(i===0){const u=new ye(a.path);this.et(n,u,Gt.newNoDocument(u,Se.min()))}else We(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,d;try{u=bi(i).toUint8Array()}catch(f){if(f instanceof aT)return jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mm(u,o,a)}catch(f){return jo(f instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&sp(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.Ke())}}));let i=Me();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new mh(e,n,this.Ze,this.je,i);return this.je=Gr(),this.He=_c(),this.Je=_c(),this.Ze=new ot(Ne),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new o_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Ne),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Ne),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _c(){return new ot(ye.comparator)}function a_(){return new ot(ye.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},pD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class gD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yD(t,e){return Qc(t,e.toTimestamp())}function gr(t){return We(!!t,49232),Se.fromTimestamp((function(n){const i=Li(n);return new Ze(i.seconds,i.nanos)})(t))}function gm(t,e){return up(t,e).canonicalString()}function up(t,e){const n=(function(o){return new Qe(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UT(t){const e=Qe.fromString(t);return We(KT(e),10190,{key:e.toString()}),e}function cp(t,e){return gm(t.databaseId,e.path)}function wd(t,e){const n=UT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye($T(n))}function zT(t,e){return gm(t.databaseId,e)}function vD(t){const e=UT(t);return e.length===4?Qe.emptyPath():$T(e)}function hp(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $T(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l_(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(We(m===void 0||typeof m=="string",58123),Bt.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Bt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const m=p.code===void 0?Q.UNKNOWN:OT(p.code);return new le(m,p.message||"")})(u);n=new jT(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=wd(t,i.document.name),a=gr(i.document.updateTime),u=i.document.createTime?gr(i.document.createTime):Se.min(),d=new un({mapValue:{fields:i.document.fields}}),f=Gt.newFoundDocument(o,a,u,d),p=i.targetIds||[],m=i.removedTargetIds||[];n=new kc(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=wd(t,i.document),a=i.readTime?gr(i.readTime):Se.min(),u=Gt.newNoDocument(o,a),d=i.removedTargetIds||[];n=new kc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=wd(t,i.document),a=i.removedTargetIds||[];n=new kc([],a,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new lD(o,a),d=i.targetId;n=new FT(d,u)}}return n}function ED(t,e){let n;if(e instanceof zl)n={update:l_(t,e.key,e.value)};else if(e instanceof bT)n={delete:cp(t,e.key)};else if(e instanceof $i)n={update:l_(t,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof sD))return Ee(16599,{dt:e.type});n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Vl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nl)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:yD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)})(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?gr(o.updateTime):gr(a);return u.isEqual(Se.min())&&(u=gr(a)),new nD(u,o.transformResults||[])})(n,e)))):[]}function TD(t,e){return{documents:[zT(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zT(t,o);const a=(function(p){if(p.length!==0)return HT(Gn.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((m=>(function(E){return{field:Io(E.field),direction:CD(E.dir)}})(m)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=lp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function AD(t){let e=vD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){We(i===1,65062);const m=n.from[0];m.allDescendants?o=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(y){const E=WT(y);return E instanceof Gn&&yT(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((E=>(function(C){return new xl(Co(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(y){let E;return E=typeof y=="object"?y.value:y,uh(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(y){const E=!!y.before,S=y.values||[];return new Gc(S,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const E=!y.before,S=y.values||[];return new Gc(S,E)})(n.endAt)),zk(e,o,u,a,d,"F",f,p)}function ID(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Co(n.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Co(n.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Co(n.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tt.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gn.create(n.compositeFilter.filters.map((i=>WT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function CD(t){return dD[t]}function RD(t){return pD[t]}function PD(t){return mD[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Co(t){return jt.fromServerFormat(t.fieldPath)}function HT(t){return t instanceof Tt?(function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:RD(n.op),value:n.value}}})(t):t instanceof Gn?(function(n){const i=n.getFilters().map((o=>HT(o)));return i.length===1?i[0]:{compositeFilter:{op:PD(n.op),filters:i}}})(t):Ee(54877,{filter:t})}function xD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function qT(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,i,o,a=Se.min(),u=Se.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.yt=e}}function kD(t){const e=AD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Sn=new ND}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Mi.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class ND{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Pt(Qe.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Pt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(GT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $o(0)}static ar(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",MD=1048576;function h_([t,e],[n,i]){const o=Ne(t,n);return o===0?Ne(e,i):o}class LD{constructor(e){this.Pr=e,this.buffer=new Pt(h_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();h_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?ce(c_,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Ar(3e5)}))}}class OD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(lh.ce);const i=new LD(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(u_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,a,u,d,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(i=y,d=Date.now(),this.removeTargets(e,i,n)))).next((y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((y=>(p=Date.now(),So()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y}))))}}function FD(t,e){return new OD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.changes=new Vs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&gl(i.mutation,o,_n.empty(),Ze.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Me()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Me()){const o=Ts();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=sl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Ts();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Me())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,i,o){let a=Gr();const u=ml(),d=(function(){return ml()})();return n.forEach(((f,p)=>{const m=i.get(p.key);o.has(p.key)&&(m===void 0||m.mutation instanceof $i)?a=a.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),gl(m.mutation,p,m.mutation.getFieldMask(),Ze.now())):u.set(p.key,_n.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,m)=>u.set(p,m))),n.forEach(((p,m)=>d.set(p,new BD(m,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=ml();let o=new ot(((u,d)=>u-d)),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let m=i.get(f)||_n.empty();m=d.applyToLocalView(p,m),i.set(f,m);const y=(o.get(d.batchId)||Me()).add(f);o=o.insert(d.batchId,y)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,m=f.value,y=CT();m.forEach((E=>{if(!a.has(E)){const S=MT(n.get(E),i.get(E));S!==null&&y.set(E,S),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return Y.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return $k(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Y.resolve(Ts());let d=Il,f=a;return u.next((p=>Y.forEach(p,((m,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{f=f.insert(m,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Me()))).next((m=>({batchId:d,changes:IT(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next((d=>Y.forEach(d,(f=>{const p=(function(y,E){return new ta(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((m=>{m.forEach(((y,E)=>{u=u.insert(y,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((f,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,Gt.newInvalidDocument(m)))}));let d=sl();return u.forEach(((f,p)=>{const m=a.get(f);m!==void 0&&gl(m.mutation,p,_n.empty(),Ze.now()),fh(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:kD(o.bundledQuery),readTime:gr(o.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new ot(ye.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ts();return Y.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.bt(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const o=Ts(),a=n.length+1,u=new ye(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ot(((p,m)=>p-m));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=a.get(p.largestBatchId);m===null&&(m=Ts(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const d=Ts(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,m)=>d.set(p,m))),!(d.size()>=o)););return Y.resolve(d)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new aD(n,i));let a=this.Lr.get(n);a===void 0&&(a=Me(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.kr=new Pt(Dt.Kr),this.qr=new Pt(Dt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Dt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Dt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new Qe([])),i=new Dt(n,e),o=new Dt(n,e+1),a=[];return this.qr.forEachInRange([i,o],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Qe([])),i=new Dt(n,e),o=new Dt(n,e+1);let a=Me();return this.qr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Dt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Dt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Dt.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new oD(a,n,i,o);this.mutationQueue.push(u);for(const d of o)this.Jr=this.Jr.add(new Dt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?am:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Dt(n,0),o=new Dt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,o],(u=>{const d=this.Zr(u.Hr);a.push(d)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pt(Ne);return n.forEach((o=>{const a=new Dt(o,0),u=new Dt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{i=i.add(d.Hr)}))})),Y.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ye.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new ye(a),0);let d=new Pt(Ne);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.Hr)),!0)}),u),Y.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Y.forEach(n.mutations,(o=>{const a=new Dt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Dt(n,0),o=this.Jr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.ti=e,this.docs=(function(){return new ot(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let i=Gr();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Gr();const u=n.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||_k(vk(m),i)<=0||(o.has(m.key)||fh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ni(e,n){return Y.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new qD(this)}getSize(e){return Y.resolve(this.size)}}class qD extends jD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.persistence=e,this.ri=new Vs((n=>cm(n)),hm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new ym,this.targetCount=0,this.oi=$o._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Y.waitFor(a).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this._i={},this.overlays={},this.ai=new lh(0),this.ui=!1,this.ui=!0,this.ci=new WD,this.referenceDelegate=e(this),this.li=new GD(this),this.indexManager=new DD,this.remoteDocumentCache=(function(o){return new KD(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new VD(n),this.Pi=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $D,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new HD(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new QD(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,n){return Y.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class QD extends wk{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ri=new ym,this.Ai=null}static Vi(e){return new vm(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((a=>{a||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.fi=new Vs((i=>Ak(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=FD(this,n)}static Vi(e,n){return new Yc(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return Y.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((a=>a?Y.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((d=>{d||(i++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pc(e.data.value)),n}wr(e,n,i){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Me(),o=Me();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new _m(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return U2()?8:Tk(j2())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.gs(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new YD;return this.ys(e,n,u).next((d=>{if(a.result=d,this.As)return this.ws(e,n,u,d.size)}))})).next((()=>a.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(So()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(So()<=Oe.DEBUG&&ce("QueryEngine","Query:",Ao(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(So()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):Y.resolve())}gs(e,n){if(Z0(n))return Y.resolve(null);let i=mr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ap(n,null,"F"),i=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Me(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,d);return this.Ss(n,p,u,f.readTime)?this.gs(e,ap(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,o){return Z0(n)||o.isEqual(Se.min())?Y.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(n,a);return this.Ss(n,u,i,o)?Y.resolve(null):(So()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.Ds(e,u,n,yk(o,Il)).next((d=>d)))}))}bs(e,n){let i=new Pt(ST(e));return n.forEach(((o,a)=>{fh(e,a)&&(i=i.add(a))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,n,i){return So()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.fs.getDocumentsMatchingQuery(e,n,Mi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",JD=3e8;class ZD{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ot(Ne),this.Fs=new Vs((a=>cm(a)),hm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function eN(t,e,n,i){return new ZD(t,e,n,i)}async function YT(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let f=Me();for(const p of o){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){d.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function tN(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,m){const y=p.batch,E=y.keys();let S=Y.resolve();return E.forEach((C=>{S=S.next((()=>m.getEntry(f,C))).next((k=>{const R=p.docVersions.get(C);We(R!==null,48541),k.version.compareTo(R)<0&&(y.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,y)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Me();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function XT(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function nN(t,e){const n=Re(t),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const d=[];e.targetChanges.forEach(((m,y)=>{const E=o.get(y);if(!E)return;d.push(n.li.removeMatchingKeys(a,m.removedDocuments,y).next((()=>n.li.addMatchingKeys(a,m.addedDocuments,y))));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),o=o.insert(y,S),(function(k,R,U){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=JD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,S,m)&&d.push(n.li.updateTargetData(a,S))}));let f=Gr(),p=Me();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),d.push(rN(a,u,e.documentUpdates).next((m=>{f=m.Bs,p=m.Ls}))),!i.isEqual(Se.min())){const m=n.li.getLastRemoteSnapshotVersion(a).next((y=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(m)}return Y.waitFor(d).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.vs=o,a)))}function rN(t,e,n){let i=Me(),o=Me();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=Gr();return n.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(Em,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Bs:u,Ls:o}}))}function iN(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=am),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function sN(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((a=>a?(o=a,Y.resolve(o)):n.li.allocateTargetId(i).next((u=>(o=new Ri(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function fp(t,e,n){const i=Re(t),o=i.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ea(u))throw u;ce(Em,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function f_(t,e,n){const i=Re(t);let o=Se.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,m){const y=Re(f),E=y.Fs.get(m);return E!==void 0?Y.resolve(y.vs.get(E)):y.li.getTargetData(p,m)})(i,u,mr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:Me()))).next((d=>(oN(i,Kk(e),d),{documents:d,ks:a})))))}function oN(t,e,n){let i=t.Ms.get(e)||Se.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Ms.set(e,i)}class d_{constructor(){this.activeTargetIds=Jk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aN{constructor(){this.vo=new d_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new d_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class m_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(p_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function dp(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RestConnection",uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===Kc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,a){const u=dp(),d=this.Qo(e,n.toUriEncodedString());ce(Td,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,o,a);const{host:p}=new URL(d),m=rm(p);return this.zo(e,d,f,i,m).then((y=>(ce(Td,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw jo(Td,`RPC '${e}' ${u} failed with error: `,y,"url: ",d,"request:",i),y}))}jo(e,n,i,o,a,u){return this.Wo(e,n,i,o,a)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}Qo(e,n){const i=uN[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection",tl=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Lo extends cN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Lo.c_){const e=Zw();tl(e,Jw.STAT_EVENT,(n=>{n.stat===ep.PROXY?ce(Kt,"STAT_EVENT: detected buffering proxy"):n.stat===ep.NOPROXY&&ce(Kt,"STAT_EVENT: detected no buffering proxy")})),Lo.c_=!0}}zo(e,n,i,o,a){const u=dp();return new Promise(((d,f)=>{const p=new Yw;p.setWithCredentials(!0),p.listenOnce(Xw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rc.NO_ERROR:const y=p.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),d(y);break;case Rc.TIMEOUT:ce(Kt,`RPC '${e}' ${u} timed out`),f(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const E=p.getStatus();if(ce(Kt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const k=(function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(H)>=0?H:Q.UNKNOWN})(C.status);f(new le(k,C.message))}else f(new le(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Q.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${u} completed.`)}}));const m=JSON.stringify(o);ce(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",m,i,15)}))}T_(e,n,i){const o=dp(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=a.join("");ce(Kt,`Creating RPC '${e}' stream ${o}: ${p}`,d);const m=u.createWebChannel(p,d);this.I_(m);let y=!1,E=!1;const S=new hN({Ho:C=>{E?ce(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(y||(ce(Kt,`Opening RPC '${e}' stream ${o} transport.`),m.open(),y=!0),ce(Kt,`RPC '${e}' stream ${o} sending:`,C),m.send(C))},Jo:()=>m.close()});return tl(m,il.EventType.OPEN,(()=>{E||(ce(Kt,`RPC '${e}' stream ${o} transport opened.`),S.i_())})),tl(m,il.EventType.CLOSE,(()=>{E||(E=!0,ce(Kt,`RPC '${e}' stream ${o} transport closed`),S.o_(),this.E_(m))})),tl(m,il.EventType.ERROR,(C=>{E||(E=!0,jo(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),S.o_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),tl(m,il.EventType.MESSAGE,(C=>{var k;if(!E){const R=C.data[0];We(!!R,16349);const U=R,H=(U==null?void 0:U.error)||((k=U[0])==null?void 0:k.error);if(H){ce(Kt,`RPC '${e}' stream ${o} received error:`,H);const b=H.status;let te=(function(D){const I=Et[D];if(I!==void 0)return OT(I)})(b),Z=H.message;te===void 0&&(te=Q.INTERNAL,Z="Unknown error status: "+b+" with message "+H.message),E=!0,S.o_(new le(te,Z)),m.close()}else ce(Kt,`RPC '${e}' stream ${o} received:`,R),S.__(R)}})),Lo.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){return new Lo(t)}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new gD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo.c_=!1;class JT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class ZT{constructor(e,n,i,o,a,u,d,f){this.Ci=e,this.b_=i,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dN extends ZT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_D(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?gr(u.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=hp(this.serializer),n.addTarget=(function(a,u){let d;const f=u.target;if(d=sp(f)?{documents:TD(a,f)}:{query:SD(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=BT(a,u.resumeToken);const p=lp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){d.readTime=Qc(a,u.snapshotVersion.toTimestamp());const p=lp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=ID(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.K_(n)}}class pN extends ZT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wD(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=hp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>ED(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class gN extends mN{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,up(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())}))}jo(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,up(n,i),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Q.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yN(t,e,n,i){return new gN(t,e,n,i)}class vN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class _N{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{ks(this)&&(ce(Rs,"Restarting streams for network reachability change."),await(async function(f){const p=Re(f);p.Ea.add(4),await Wl(p),p.Va.set("Unknown"),p.Ea.delete(4),await yh(p)})(this))}))})),this.Va=new vN(i,o)}}async function yh(t){if(ks(t))for(const e of t.Ra)await e(!0)}async function Wl(t){for(const e of t.Ra)await e(!1)}function e1(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Am(n)?Sm(n):na(n).O_()&&Tm(n,e))}function wm(t,e){const n=Re(t),i=na(n);n.Ia.delete(e),i.O_()&&t1(n,e),n.Ia.size===0&&(i.O_()?i.L_():ks(n)&&n.Va.set("Unknown"))}function Tm(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).Z_(e)}function t1(t,e){t.da.$e(e),na(t).X_(e)}function Sm(t){t.da=new fD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),na(t).start(),t.Va.ua()}function Am(t){return ks(t)&&!na(t).x_()&&t.Ia.size>0}function ks(t){return Re(t).Ea.size===0}function n1(t){t.da=void 0}async function EN(t){t.Va.set("Online")}async function wN(t){t.Ia.forEach(((e,n)=>{Tm(t,e)}))}async function TN(t,e){n1(t),Am(t)?(t.Va.ha(e),Sm(t)):t.Va.set("Unknown")}async function SN(t,e,n){if(t.Va.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.da.removeTarget(d))})(t,e)}catch(i){ce(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xc(t,i)}else if(e instanceof kc?t.da.Xe(e):e instanceof FT?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const i=await XT(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Bt.EMPTY_BYTE_STRING,m.snapshotVersion)),t1(a,f);const y=new Ri(m.target,f,p,m.sequenceNumber);Tm(a,y)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ce(Rs,"Failed to raise snapshot:",i),await Xc(t,i)}}async function Xc(t,e,n){if(!ea(e))throw e;t.Ea.add(1),await Wl(t),t.Va.set("Offline"),n||(n=()=>XT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Rs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yh(t)}))}function r1(t,e){return e().catch((n=>Xc(t,n,e)))}async function vh(t){const e=Re(t),n=Fi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;AN(e);)try{const o=await iN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,IN(e,o)}catch(o){await Xc(e,o)}i1(e)&&s1(e)}function AN(t){return ks(t)&&t.Ta.length<10}function IN(t,e){t.Ta.push(e);const n=Fi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function i1(t){return ks(t)&&!Fi(t).x_()&&t.Ta.length>0}function s1(t){Fi(t).start()}async function CN(t){Fi(t).ra()}async function RN(t){const e=Fi(t);for(const n of t.Ta)e.ea(n.mutations)}async function PN(t,e,n){const i=t.Ta.shift(),o=pm.from(i,e,n);await r1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await vh(t)}async function xN(t,e){e&&Fi(t).Y_&&await(async function(i,o){if((function(u){return uD(u)&&u!==Q.ABORTED})(o.code)){const a=i.Ta.shift();Fi(i).B_(),await r1(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await vh(i)}})(t,e),i1(t)&&s1(t)}async function y_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ce(Rs,"RemoteStore received new credentials");const i=ks(n);n.Ea.add(3),await Wl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function VN(t,e){const n=Re(t);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Wl(n),n.Va.set("Unknown"))}function na(t){return t.ma||(t.ma=(function(n,i,o){const a=Re(n);return a.sa(),new dN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:EN.bind(null,t),Yo:wN.bind(null,t),t_:TN.bind(null,t),J_:SN.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Am(t)?Sm(t):t.Va.set("Unknown")):(await t.ma.stop(),n1(t))}))),t.ma}function Fi(t){return t.fa||(t.fa=(function(n,i,o){const a=Re(n);return a.sa(),new pN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CN.bind(null,t),t_:xN.bind(null,t),ta:RN.bind(null,t),na:PN.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await vh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Rs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,d=new Im(e,n,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(t,e){if(qr("AsyncQueue",`${e}: ${t}`),ea(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=sl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new ot(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Wo{constructor(e,n,i,o,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Wo(e,n,bo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class DN{constructor(){this.queries=__(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Re(n),a=o.queries;o.queries=__(),a.forEach(((u,d)=>{for(const f of d.ba)f.onError(i)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function __(){return new Vs((t=>TT(t)),hh)}async function o1(t,e){const n=Re(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Sa()&&e.Da()&&(i=2):(a=new kN,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=Cm(u,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Rm(n)}async function a1(t,e){const n=Re(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function NN(t,e){const n=Re(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const d of u.ba)d.Fa(o)&&(i=!0);u.wa=o}}i&&Rm(n)}function MN(t,e,n){const i=Re(t),o=i.queries.get(e);if(o)for(const a of o.ba)a.onError(n);i.queries.delete(e)}function Rm(t){t.Ca.forEach((e=>{e.next()}))}var pp,E_;(E_=pp||(pp={})).Ma="default",E_.Cache="cache";class l1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class LN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=ST(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new v_,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((m,y)=>{const E=o.get(m),S=fh(this.query,y)?y:null,C=!!E&&this.mutatedKeys.has(E.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?C!==k&&(i.track({type:3,doc:S}),R=!0):this.su(E,S)||(i.track({type:2,doc:S}),R=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(d=!0)):!E&&S?(i.track({type:0,doc:S}),R=!0):E&&!S&&(i.track({type:1,doc:E}),R=!0,(f||p)&&(d=!0)),R&&(S?(u=u.add(S),a=k?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:u,iu:i,Ss:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((m,y)=>(function(S,C){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:R})}};return k(S)-k(C)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(i),o=o??!1;const d=n&&!o?this._u():[],f=this.Ya.size===0&&this.current&&!o?1:0,p=f!==this.Xa;return this.Xa=f,u.length!==0||p?{snapshot:new Wo(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new c1(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new u1(i))})),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pm="SyncEngine";class bN{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class ON{constructor(e){this.key=e,this.hu=!1}}class FN{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Vs((d=>TT(d)),hh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ot(ye.comparator),this.Au=new Map,this.Vu=new ym,this.du={},this.mu=new Map,this.fu=$o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jN(t,e,n=!0){const i=g1(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await h1(i,e,n,!0),o}async function BN(t,e){const n=g1(t);await h1(n,e,!0,!1)}async function h1(t,e,n,i){const o=await sN(t.localStore,mr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return i&&(d=await UN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&e1(t.remoteStore,o),d}async function UN(t,e,n,i,o){t.pu=(y,E,S)=>(async function(k,R,U,H){let b=R.view.ru(U);b.Ss&&(b=await f_(k.localStore,R.query,!1).then((({documents:D})=>R.view.ru(D,b))));const te=H&&H.targetChanges.get(R.targetId),Z=H&&H.targetMismatches.get(R.targetId)!=null,ae=R.view.applyChanges(b,k.isPrimaryClient,te,Z);return T_(k,R.targetId,ae.au),ae.snapshot})(t,y,E,S);const a=await f_(t.localStore,e,!0),u=new LN(e,a.ks),d=u.ru(a.documents),f=$l.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(d,t.isPrimaryClient,f);T_(t,n,p.au);const m=new bN(e,n,u);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function zN(t,e,n){const i=Re(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!hh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&wm(i.remoteStore,o.targetId),mp(i,o.targetId)})).catch(Zo)):(mp(i,o.targetId),await fp(i.localStore,o.targetId,!0))}async function $N(t,e){const n=Re(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wm(n.remoteStore,i.targetId))}async function WN(t,e,n){const i=XN(t);try{const o=await(function(u,d){const f=Re(u),p=Ze.now(),m=d.reduce(((S,C)=>S.add(C.key)),Me());let y,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=Gr(),k=Me();return f.xs.getEntries(S,m).next((R=>{C=R,C.forEach(((U,H)=>{H.isValidDocument()||(k=k.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,C))).next((R=>{y=R;const U=[];for(const H of d){const b=iD(H,y.get(H.key).overlayedDocument);b!=null&&U.push(new $i(H.key,b,pT(b.value.mapValue),Kn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,U,d)})).next((R=>{E=R;const U=R.applyToLocalDocumentSet(y,k);return f.documentOverlayCache.saveOverlays(S,R.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:IT(y)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let p=u.du[u.currentUser.toKey()];p||(p=new ot(Ne)),p=p.insert(d,f),u.du[u.currentUser.toKey()]=p})(i,o.batchId,n),await Hl(i,o.changes),await vh(i.remoteStore)}catch(o){const a=Cm(o,"Failed to persist write");n.reject(a)}}async function f1(t,e){const n=Re(t);try{const i=await nN(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?We(u.hu,14607):o.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await Hl(n,i,e)}catch(i){await Zo(i)}}function w_(t,e,n){const i=Re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Re(u);f.onlineState=d;let p=!1;f.queries.forEach(((m,y)=>{for(const E of y.ba)E.va(d)&&(p=!0)})),p&&Rm(f)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HN(t,e,n){const i=Re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new ot(ye.comparator);u=u.insert(a,Gt.newNoDocument(a,Se.min()));const d=Me().add(a),f=new mh(Se.min(),new Map,new ot(Ne),u,d);await f1(i,f),i.Ru=i.Ru.remove(a),i.Au.delete(e),xm(i)}else await fp(i.localStore,e,!1).then((()=>mp(i,e,n))).catch(Zo)}async function KN(t,e){const n=Re(t),i=e.batch.batchId;try{const o=await tN(n.localStore,e);p1(n,i,null),d1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hl(n,o)}catch(o){await Zo(o)}}async function qN(t,e,n){const i=Re(t);try{const o=await(function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return f.mutationQueue.lookupMutationBatch(p,d).next((y=>(We(y!==null,37113),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>f.localDocuments.getDocuments(p,m)))}))})(i.localStore,e);p1(i,e,n),d1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hl(i,o)}catch(o){await Zo(o)}}function d1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function p1(t,e,n){const i=Re(t);let o=i.du[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function mp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||m1(t,i)}))}function m1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(wm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),xm(t))}function T_(t,e,n){for(const i of n)i instanceof u1?(t.Vu.addReference(i.key,e),GN(t,i)):i instanceof c1?(ce(Pm,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||m1(t,i.key)):Ee(19791,{wu:i})}function GN(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ce(Pm,"New document in limbo: "+n),t.Eu.add(i),xm(t))}function xm(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Qe.fromString(e)),i=t.fu.next();t.Au.set(i,new ON(n)),t.Ru=t.Ru.insert(n,i),e1(t.remoteStore,new Ri(mr(fm(n.path)),i,"TargetPurposeLimboResolution",lh.ce))}}async function Hl(t,e,n){const i=Re(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{u.push(i.pu(f,e,n).then((p=>{var m;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){o.push(p);const y=_m.Es(f.targetId,p);a.push(y)}})))})),await Promise.all(u),i.Pu.J_(o),await(async function(f,p){const m=Re(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Y.forEach(p,(E=>Y.forEach(E.Ts,(S=>m.persistence.referenceDelegate.addReference(y,E.targetId,S))).next((()=>Y.forEach(E.Is,(S=>m.persistence.referenceDelegate.removeReference(y,E.targetId,S)))))))))}catch(y){if(!ea(y))throw y;ce(Em,"Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const S=m.vs.get(E),C=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(C);m.vs=m.vs.insert(E,k)}}})(i.localStore,a))}async function QN(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ce(Pm,"User change. New user:",e.toKey());const i=await YT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new le(Q.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hl(n,i.Ns)}}function YN(t,e){const n=Re(t),i=n.Au.get(e);if(i&&i.hu)return Me().add(i.key);{let o=Me();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const d=n.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function g1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HN.bind(null,e),e.Pu.J_=NN.bind(null,e.eventManager),e.Pu.yu=MN.bind(null,e.eventManager),e}function XN(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eN(this.persistence,new XD,e.initialUser,this.serializer)}Cu(e){return new QT(vm.Vi,this.serializer)}Du(e){return new aN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class JN extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new QT((i=>Yc.Vi(i,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>w_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QN.bind(null,this.syncEngine),await VN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DN})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),i=fN(e.databaseInfo);return yN(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,d){return new _N(i,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>w_(this.syncEngine,n,0)),(function(){return m_.v()?new m_:new lN})())}createSyncEngine(e,n){return(function(o,a,u,d,f,p,m){const y=new FN(o,a,u,d,f,p);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Re(o);ce(Rs,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class ZN{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ce(ji,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ce(ji,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Cm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Ad(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await YT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function S_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eM(t);ce(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>y_(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>y_(e.remoteStore,o))),t._onlineComponents=e}async function eM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ji,"Using user provided OfflineComponentProvider");try{await Ad(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await Ad(t,new Jc)}}else ce(ji,"Using default OfflineComponentProvider"),await Ad(t,new JN(void 0));return t._offlineComponents}async function v1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ji,"Using user provided OnlineComponentProvider"),await S_(t,t._uninitializedComponentsProvider._online)):(ce(ji,"Using default OnlineComponentProvider"),await S_(t,new gp))),t._onlineComponents}function tM(t){return v1(t).then((e=>e.syncEngine))}async function _1(t){const e=await v1(t),n=e.eventManager;return n.onListen=jN.bind(null,e.syncEngine),n.onUnlisten=zN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$N.bind(null,e.syncEngine),n}function nM(t,e,n={}){const i=new zr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const m=new y1({next:E=>{m.Nu(),u.enqueueAndForget((()=>a1(a,y)));const S=E.docs.has(d);!S&&E.fromCache?p.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new l1(fm(d.path),m,{includeMetadataChanges:!0,Ka:!0});return o1(a,y)})(await _1(t),t.asyncQueue,e,n,i))),i.promise}function rM(t,e,n={}){const i=new zr;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const m=new y1({next:E=>{m.Nu(),u.enqueueAndForget((()=>a1(a,y))),E.fromCache&&f.source==="server"?p.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new l1(d,m,{includeMetadataChanges:!0,Ka:!0});return o1(a,y)})(await _1(t),t.asyncQueue,e,n,i))),i.promise}function iM(t,e){const n=new zr;return t.asyncQueue.enqueueAndForget((async()=>WN(await tM(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="ComponentProvider",A_=new Map;function oM(t,e,n,i,o){return new Rk(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,E1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firestore.googleapis.com",I_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MD)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ok;switch(i.type){case"firstParty":return new ck(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=A_.get(n);i&&(ce(sM,"Removing Datastore"),A_.delete(n),i.terminate())})(this),Promise.resolve()}}function aM(t,e,n,i={}){var p;t=_r(t,_h);const o=rm(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(M2(`https://${d}`),F2("Firestore",!0)),a.host!==w1&&a.host!==d&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:i};if(!zc(f,u)&&(t._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=qt.MOCK_USER;else{m=L2(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new qt(E)}t._authCredentials=new ak(new nT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ul(n,mt._jsonSchema))return new mt(e,i||null,new ye(Qe.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:St("string",mt._jsonSchemaVersion),referencePath:St("string")};class ki extends Ds{constructor(e,n,i){super(e,n,fm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function T1(t,e,...n){if(t=Hr(t),rT("collection","path",e),t instanceof _h){const i=Qe.fromString(e,...n);return j0(i),new ki(t,null,i)}{if(!(t instanceof mt||t instanceof ki))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Qe.fromString(e,...n));return j0(i),new ki(t.firestore,null,i)}}function Kl(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=om.newId()),rT("doc","path",e),t instanceof _h){const i=Qe.fromString(e,...n);return F0(i),new mt(t,null,new ye(i))}{if(!(t instanceof mt||t instanceof ki))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Qe.fromString(e,...n));return F0(i),new mt(t.firestore,t instanceof ki?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JT(this,"async_queue_retry"),this._c=()=>{const i=Sd();i&&ce(R_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;ce(R_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",x_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Im.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ra extends _h{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new P_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function lM(t,e){const n=typeof t=="object"?t:GV(),i=typeof t=="string"?t:Kc,o=$V(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=D2("firestore");a&&aM(o,...a)}return o}function Vm(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uM(t),t._firestoreClient}function uM(t){var i,o,a,u;const e=t._freezeSettings(),n=oM(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(o=t._app)==null?void 0:o.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Bt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:St("string",xn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:St("string",yr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qn(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qn._jsonSchemaVersion="firestore/vectorValue/1.0",qn._jsonSchema={type:St("string",qn._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^__.*__$/;class hM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}class S1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:t})}}class Dm{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(A1(this.dataSource)&&cM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||gh(e)}createContext(e,n,i,o=!1){return new Dm({dataSource:e,methodName:n,targetDoc:i,path:jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new fM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I1(t,e,n,i,o,a={}){const u=t.createContext(a.merge||a.mergeFields?2:0,e,n,o);Lm("Data must be an object, but it was:",u,i);const d=C1(i,u);let f,p;if(a.merge)f=new _n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const E=Ho(e,y,n);if(!u.contains(E))throw new le(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);x1(m,E)||m.push(E)}f=new _n(m),p=u.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,p=u.fieldTransforms;return new hM(new un(d),f,p)}class wh extends ql{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}class Nm extends ql{_toFieldTransform(e){return new NT(e.path,new Vl)}isEqual(e){return e instanceof Nm}}class Mm extends ql{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Nl(e.serializer,PT(e.serializer,this.Vc));return new NT(e.path,n)}isEqual(e){return e instanceof Mm&&this.Vc===e.Vc}}function dM(t,e,n,i){const o=t.createContext(1,e,n);Lm("Data must be an object, but it was:",o,i);const a=[],u=un.empty();zi(i,((f,p)=>{const m=P1(e,f,n);p=Hr(p);const y=o.childContextForFieldPath(m);if(p instanceof wh)a.push(m);else{const E=Gl(p,y);E!=null&&(a.push(m),u.set(m,E))}}));const d=new _n(a);return new S1(u,d,o.fieldTransforms)}function pM(t,e,n,i,o,a){const u=t.createContext(1,e,n),d=[Ho(e,i,n)],f=[o];if(a.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Ho(e,a[E])),f.push(a[E+1]);const p=[],m=un.empty();for(let E=d.length-1;E>=0;--E)if(!x1(p,d[E])){const S=d[E];let C=f[E];C=Hr(C);const k=u.childContextForFieldPath(S);if(C instanceof wh)p.push(S);else{const R=Gl(C,k);R!=null&&(p.push(S),m.set(S,R))}}const y=new _n(p);return new S1(m,y,u.fieldTransforms)}function mM(t,e,n,i=!1){return Gl(n,t.createContext(i?4:3,e))}function Gl(t,e){if(R1(t=Hr(t)))return Lm("Unsupported field value:",e,t),C1(t,e);if(t instanceof ql)return(function(i,o){if(!A1(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const d of i){let f=Gl(d,o.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=Hr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PT(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ze.fromDate(i);return{timestampValue:Qc(o.serializer,a)}}if(i instanceof Ze){const a=new Ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qc(o.serializer,a)}}if(i instanceof yr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xn)return{bytesValue:BT(o.serializer,i._byteString)};if(i instanceof mt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof qn)return(function(u,d){const f=u instanceof qn?u.toArray():u;return{mapValue:{fields:{[fT]:{stringValue:dT},[qc]:{arrayValue:{values:f.map((m=>{if(typeof m!="number")throw d.createError("VectorValues must only contain numeric values.");return dm(d.serializer,m)}))}}}}}})(i,o);if(qT(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ah(i)}`)})(t,e)}function C1(t,e){const n={};return oT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,((i,o)=>{const a=Gl(o,e.childContextForField(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function R1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof yr||t instanceof xn||t instanceof mt||t instanceof ql||t instanceof qn||qT(t))}function Lm(t,e,n){if(!R1(n)||!iT(n)){const i=ah(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Ho(t,e,n){if((e=Hr(e))instanceof km)return e._internalPath;if(typeof e=="string")return P1(t,e);throw Zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const gM=new RegExp("[~\\*/\\[\\]]");function P1(t,e,n){if(e.search(gM)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zc(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new le(Q.INVALID_ARGUMENT,d+t+f)}function x1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return zi(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[qc].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>pt(u.doubleValue)));return new qn(n)}convertGeoPoint(e){return new yr(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ch(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Qe.fromString(e);We(KT(i),9688,{name:e});const o=new Rl(i.get(1),i.get(3)),a=new ye(i.popFirst(5));return o.isEqual(n)||qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends yM{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function eh(){return new Nm("serverTimestamp")}function vM(t){return new Mm("increment",t)}const V_="@firebase/firestore",k_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ho("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _M extends k1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class D1 extends bm{}function wM(t,e,...n){let i=[];e instanceof bm&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((f=>f instanceof Fm)).length,d=a.filter((f=>f instanceof Om)).length;if(u>1||u>0&&d>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Om extends D1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Om(e,n,i)}_apply(e){const n=this._parse(e);return N1(e._query,n),new Ds(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=Eh(e.firestore);return(function(a,u,d,f,p,m,y){let E;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){N_(y,m);const C=[];for(const k of y)C.push(D_(f,a,k));E={arrayValue:{values:C}}}else E=D_(f,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||N_(y,m),E=mM(d,u,y,m==="in"||m==="not-in");return Tt.create(p,m,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends bm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fm(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)N1(u,f),u=op(u,f)})(e._query,n),new Ds(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends D1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jm(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(a,u)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,Hk(e._query,n))}}function TM(t,e="asc"){const n=e,i=Ho("orderBy",t);return jm._create(i,n)}function D_(t,e,n){if(typeof(n=Hr(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Qe.fromString(n));if(!ye.isDocumentKey(i))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return q0(t,new ye(i))}if(n instanceof mt)return q0(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N1(t,e){const n=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function M1(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends k1{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ho("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=As._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:St("string",As._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Dc extends As{data(e={}){return super.data(e)}}class Oo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Dc(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new Dc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Dc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,m=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),m=u.indexOf(d.doc.key)),{type:SM(d.type),doc:f,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:St("string",Oo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){t=_r(t,mt);const e=_r(t.firestore,ra),n=Vm(e);return nM(n,t._key).then((i=>PM(e,t,i)))}function IM(t){t=_r(t,Ds);const e=_r(t.firestore,ra),n=Vm(e),i=new V1(e);return EM(t._query),rM(n,t._query).then((o=>new Oo(e,i,t,o)))}function CM(t,e,n){t=_r(t,mt);const i=_r(t.firestore,ra),o=M1(t.converter,e),a=Eh(i);return Bm(i,[I1(a,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Kn.none())])}function L1(t,e,n,...i){t=_r(t,mt);const o=_r(t.firestore,ra),a=Eh(o);let u;return u=typeof(e=Hr(e))=="string"||e instanceof km?pM(a,"updateDoc",t._key,e,n,i):dM(a,"updateDoc",t._key,e),Bm(o,[u.toMutation(t._key,Kn.exists(!0))])}function RM(t,e){const n=_r(t.firestore,ra),i=Kl(t),o=M1(t.converter,e),a=Eh(t.firestore);return Bm(n,[I1(a,"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Kn.exists(!1))]).then((()=>i))}function Bm(t,e){const n=Vm(t);return iM(n,e)}function PM(t,e,n){const i=n.docs.get(e._key),o=new V1(t);return new As(t,o,e._key,i,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){sk(qV),Wc(new Sl("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new ra(new lk(i.getProvider("auth-internal")),new hk(u,i.getProvider("app-check-internal")),Pk(u,o),u);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Mo(V_,k_,e),Mo(V_,k_,"esm2020")})();var xM="firebase",VM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(xM,VM,"app");const kM={apiKey:"AIzaSyCf4uRHqqZtYR3ZvlbHF9w59qGuEjlXcW4",authDomain:"kinderbucks-e3e8c.firebaseapp.com",projectId:"kinderbucks-e3e8c",storageBucket:"kinderbucks-e3e8c.firebasestorage.app",messagingSenderId:"18326874439",appId:"1:18326874439:web:ad902e6a1c794b2b3c4462",measurementId:"G-3JMD9HSMC3"},DM=Kw(kM),Ko=lM(DM),Ql="kinderbucks",NM="scans";async function MM(t){const e=Kl(Ko,Ql,t),n=await AM(e);return n.exists()?{serial:n.id,...n.data()}:null}async function yp(){const t=wM(T1(Ko,Ql),TM("serial"));return(await IM(t)).docs.map(n=>({serial:n.id,...n.data()}))}async function LM(t,e){const n=t.map(i=>CM(Kl(Ko,Ql,i),{serial:i,denomination:e,status:"draft",scanCount:0,createdAt:eh()}));await Promise.all(n)}async function bM(t,e,n=null){const i=Kl(Ko,Ql,t),o={status:e,issuedAt:eh(),...n&&{issuedTo:n}};await L1(i,o)}async function OM(t){const e=Kl(Ko,Ql,t);await L1(e,{scanCount:vM(1),lastScanned:eh(),status:"active"}),await RM(T1(Ko,NM),{serial:t,scannedAt:eh(),userAgent:navigator.userAgent||null})}function FM(){const[t,e]=F.useState([]);return F.useEffect(()=>{const n=["#2d5a27","#c9a227","#4a7c43","#d4af37","#5c4033"],i=Array.from({length:50},(o,a)=>({id:a,x:Math.random()*100,color:n[Math.floor(Math.random()*n.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:8+Math.random()*8}));e(i)},[]),W.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden",zIndex:100},children:t.map(n=>W.jsx(ko.div,{initial:{y:-20,x:`${n.x}vw`,opacity:1,rotate:0},animate:{y:"110vh",rotate:360*(Math.random()>.5?1:-1),opacity:[1,1,0]},transition:{duration:n.duration,delay:n.delay,ease:"linear"},style:{position:"absolute",width:n.size,height:n.size,background:n.color,borderRadius:Math.random()>.5?"50%":"2px"}},n.id))})}const M_={1:{bg:"#d4edda",text:"#155724"},5:{bg:"#cce5ff",text:"#004085"},10:{bg:"#e2d5e7",text:"#4a235a"},20:{bg:"#fff3cd",text:"#856404"}};function jM({kinderbuck:t}){const e=M_[t.denomination]||M_[5];return W.jsxs(ko.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"card",style:{textAlign:"center",maxWidth:"400px",background:e.bg},children:[W.jsxs(ko.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[W.jsxs("h1",{style:{color:e.text,fontSize:"3rem",marginBottom:"0.5rem"},children:["$",t.denomination]}),W.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.5rem",color:e.text},children:t.serial})]}),W.jsx(ko.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{marginTop:"1.5rem"},children:W.jsx("div",{style:{display:"inline-block",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.7)",borderRadius:"20px",color:"var(--kb-green)",fontWeight:"bold"},children:"VERIFIED AUTHENTIC"})}),W.jsxs(ko.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{marginTop:"1.5rem",fontSize:"0.9rem",opacity:.8},children:[W.jsxs("p",{children:["Status: ",W.jsx("strong",{children:t.status})]}),t.issuedAt&&W.jsxs("p",{children:["Issued: ",new Date(t.issuedAt.seconds*1e3).toLocaleDateString()]}),W.jsxs("p",{children:["Scans: ",t.scanCount||1]})]})]})}function BM(){const{serial:t}=qA(),[e,n]=F.useState(null),[i,o]=F.useState(!0),[a,u]=F.useState(null);return F.useEffect(()=>{async function d(){try{const f=await MM(t);f?(n(f),await OM(t)):u("not_found")}catch(f){console.error("Verification error:",f),u("error")}finally{o(!1)}}d()},[t]),i?W.jsxs("div",{className:"page page-center",children:[W.jsx(ko.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:"$"}),W.jsxs("p",{style:{marginTop:"1rem"},children:["Verifying ",t,"..."]})]}):a==="not_found"?W.jsxs("div",{className:"page page-center",children:[W.jsx("h1",{style:{color:"#c0392b"},children:"Not Found"}),W.jsxs("p",{children:["Serial ",W.jsx("strong",{children:t})," is not a valid Kinderbuck."]})]}):a?W.jsxs("div",{className:"page page-center",children:[W.jsx("h1",{style:{color:"#c0392b"},children:"Error"}),W.jsx("p",{children:"Something went wrong verifying this Kinderbuck."})]}):W.jsxs("div",{className:"page page-center",children:[W.jsx(FM,{}),W.jsx(jM,{kinderbuck:e})]})}function Um(){const t=Bi(),e=[{to:"/admin/dashboard",label:"Dashboard"},{to:"/admin/generate",label:"Generate"},{to:"/admin/issue",label:"Issue"}];return W.jsxs("nav",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #ddd",flexWrap:"wrap",alignItems:"center"},children:[W.jsx(Is,{to:"/",style:{fontWeight:"bold",color:"var(--kb-green)",textDecoration:"none"},children:"Kinderbucks"}),W.jsx("span",{style:{opacity:.3},children:"|"}),e.map(n=>W.jsx(Is,{to:n.to,style:{color:t.pathname===n.to?"var(--kb-green)":"var(--kb-brown)",textDecoration:t.pathname===n.to?"underline":"none"},children:n.label},n.to))]})}function UM(){const[t,e]=F.useState([]),[n,i]=F.useState(!0),[o,a]=F.useState({status:"all",denomination:"all"});F.useEffect(()=>{async function f(){const p=await yp();e(p),i(!1)}f()},[]);const u=t.filter(f=>!(o.status!=="all"&&f.status!==o.status||o.denomination!=="all"&&f.denomination!==Number(o.denomination))),d={total:t.length,issued:t.filter(f=>f.status==="issued"||f.status==="active").length,totalValue:t.reduce((f,p)=>f+(p.denomination||0),0)};return W.jsxs("div",{className:"page",children:[W.jsx(Um,{}),W.jsx("h1",{children:"Dashboard"}),W.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[W.jsxs("div",{className:"card",children:[W.jsx("h3",{children:"Total Kinderbucks"}),W.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:d.total})]}),W.jsxs("div",{className:"card",children:[W.jsx("h3",{children:"In Circulation"}),W.jsx("p",{style:{fontSize:"2rem",color:"var(--kb-green)"},children:d.issued})]}),W.jsxs("div",{className:"card",children:[W.jsx("h3",{children:"Total Value"}),W.jsxs("p",{style:{fontSize:"2rem",color:"var(--kb-gold)"},children:["$",d.totalValue]})]})]}),W.jsxs("div",{className:"card",children:[W.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[W.jsxs("select",{value:o.status,onChange:f=>a(p=>({...p,status:f.target.value})),style:{padding:"0.5rem"},children:[W.jsx("option",{value:"all",children:"All Statuses"}),W.jsx("option",{value:"draft",children:"Draft"}),W.jsx("option",{value:"issued",children:"Issued"}),W.jsx("option",{value:"active",children:"Active"}),W.jsx("option",{value:"redeemed",children:"Redeemed"}),W.jsx("option",{value:"retired",children:"Retired"})]}),W.jsxs("select",{value:o.denomination,onChange:f=>a(p=>({...p,denomination:f.target.value})),style:{padding:"0.5rem"},children:[W.jsx("option",{value:"all",children:"All Denominations"}),W.jsx("option",{value:"1",children:"$1"}),W.jsx("option",{value:"5",children:"$5"}),W.jsx("option",{value:"10",children:"$10"}),W.jsx("option",{value:"20",children:"$20"})]})]}),n?W.jsx("p",{children:"Loading..."}):u.length===0?W.jsxs("p",{children:["No Kinderbucks found. ",W.jsx(Is,{to:"/admin/generate",children:"Generate some!"})]}):W.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[W.jsx("thead",{children:W.jsxs("tr",{style:{borderBottom:"2px solid var(--kb-green)"},children:[W.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Serial"}),W.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Denomination"}),W.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Status"}),W.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Scans"})]})}),W.jsx("tbody",{children:u.slice(0,50).map(f=>W.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[W.jsx("td",{style:{padding:"0.5rem",fontFamily:"monospace"},children:f.serial}),W.jsxs("td",{style:{padding:"0.5rem"},children:["$",f.denomination]}),W.jsx("td",{style:{padding:"0.5rem"},children:W.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",background:f.status==="active"?"#d4edda":f.status==="draft"?"#f8f9fa":"#fff3cd"},children:f.status})}),W.jsx("td",{style:{padding:"0.5rem"},children:f.scanCount||0})]},f.serial))})]}),u.length>50&&W.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",u.length]})]})]})}var zM=Object.defineProperty,th=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,O1=Object.prototype.propertyIsEnumerable,L_=(t,e,n)=>e in t?zM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vp=(t,e)=>{for(var n in e||(e={}))b1.call(e,n)&&L_(t,n,e[n]);if(th)for(var n of th(e))O1.call(e,n)&&L_(t,n,e[n]);return t},_p=(t,e)=>{var n={};for(var i in t)b1.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&th)for(var i of th(t))e.indexOf(i)<0&&O1.call(t,i)&&(n[i]=t[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ps;(t=>{const e=class Ve{constructor(f,p,m,y){if(this.version=f,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],f<Ve.MIN_VERSION||f>Ve.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let E=[];for(let C=0;C<this.size;C++)E.push(!1);for(let C=0;C<this.size;C++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(m);if(this.drawCodewords(S),y==-1){let C=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const R=this.getPenaltyScore();R<C&&(y=k,C=R),this.applyMask(k)}}o(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}static encodeText(f,p){const m=t.QrSegment.makeSegments(f);return Ve.encodeSegments(m,p)}static encodeBinary(f,p){const m=t.QrSegment.makeBytes(f);return Ve.encodeSegments([m],p)}static encodeSegments(f,p,m=1,y=40,E=-1,S=!0){if(!(Ve.MIN_VERSION<=m&&m<=y&&y<=Ve.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let C,k;for(C=m;;C++){const b=Ve.getNumDataCodewords(C,p)*8,te=u.getTotalBits(f,C);if(te<=b){k=te;break}if(C>=y)throw new RangeError("Data too long")}for(const b of[Ve.Ecc.MEDIUM,Ve.Ecc.QUARTILE,Ve.Ecc.HIGH])S&&k<=Ve.getNumDataCodewords(C,b)*8&&(p=b);let R=[];for(const b of f){n(b.mode.modeBits,4,R),n(b.numChars,b.mode.numCharCountBits(C),R);for(const te of b.getData())R.push(te)}o(R.length==k);const U=Ve.getNumDataCodewords(C,p)*8;o(R.length<=U),n(0,Math.min(4,U-R.length),R),n(0,(8-R.length%8)%8,R),o(R.length%8==0);for(let b=236;R.length<U;b^=253)n(b,8,R);let H=[];for(;H.length*8<R.length;)H.push(0);return R.forEach((b,te)=>H[te>>>3]|=b<<7-(te&7)),new Ve(C,p,H,E)}getModule(f,p){return 0<=f&&f<this.size&&0<=p&&p<this.size&&this.modules[p][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),p=f.length;for(let m=0;m<p;m++)for(let y=0;y<p;y++)m==0&&y==0||m==0&&y==p-1||m==p-1&&y==0||this.drawAlignmentPattern(f[m],f[y]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const p=this.errorCorrectionLevel.formatBits<<3|f;let m=p;for(let E=0;E<10;E++)m=m<<1^(m>>>9)*1335;const y=(p<<10|m)^21522;o(y>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,i(y,E));this.setFunctionModule(8,7,i(y,6)),this.setFunctionModule(8,8,i(y,7)),this.setFunctionModule(7,8,i(y,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,i(y,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,i(y,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,i(y,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const p=this.version<<12|f;o(p>>>18==0);for(let m=0;m<18;m++){const y=i(p,m),E=this.size-11+m%3,S=Math.floor(m/3);this.setFunctionModule(E,S,y),this.setFunctionModule(S,E,y)}}drawFinderPattern(f,p){for(let m=-4;m<=4;m++)for(let y=-4;y<=4;y++){const E=Math.max(Math.abs(y),Math.abs(m)),S=f+y,C=p+m;0<=S&&S<this.size&&0<=C&&C<this.size&&this.setFunctionModule(S,C,E!=2&&E!=4)}}drawAlignmentPattern(f,p){for(let m=-2;m<=2;m++)for(let y=-2;y<=2;y++)this.setFunctionModule(f+y,p+m,Math.max(Math.abs(y),Math.abs(m))!=1)}setFunctionModule(f,p,m){this.modules[p][f]=m,this.isFunction[p][f]=!0}addEccAndInterleave(f){const p=this.version,m=this.errorCorrectionLevel;if(f.length!=Ve.getNumDataCodewords(p,m))throw new RangeError("Invalid argument");const y=Ve.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p],E=Ve.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p],S=Math.floor(Ve.getNumRawDataModules(p)/8),C=y-S%y,k=Math.floor(S/y);let R=[];const U=Ve.reedSolomonComputeDivisor(E);for(let b=0,te=0;b<y;b++){let Z=f.slice(te,te+k-E+(b<C?0:1));te+=Z.length;const ae=Ve.reedSolomonComputeRemainder(Z,U);b<C&&Z.push(0),R.push(Z.concat(ae))}let H=[];for(let b=0;b<R[0].length;b++)R.forEach((te,Z)=>{(b!=k-E||Z>=C)&&H.push(te[b])});return o(H.length==S),H}drawCodewords(f){if(f.length!=Math.floor(Ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let y=0;y<this.size;y++)for(let E=0;E<2;E++){const S=m-E,k=(m+1&2)==0?this.size-1-y:y;!this.isFunction[k][S]&&p<f.length*8&&(this.modules[k][S]=i(f[p>>>3],7-(p&7)),p++)}}o(p==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let m=0;m<this.size;m++){let y;switch(f){case 0:y=(m+p)%2==0;break;case 1:y=p%2==0;break;case 2:y=m%3==0;break;case 3:y=(m+p)%3==0;break;case 4:y=(Math.floor(m/3)+Math.floor(p/2))%2==0;break;case 5:y=m*p%2+m*p%3==0;break;case 6:y=(m*p%2+m*p%3)%2==0;break;case 7:y=((m+p)%2+m*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][m]&&y&&(this.modules[p][m]=!this.modules[p][m])}}getPenaltyScore(){let f=0;for(let E=0;E<this.size;E++){let S=!1,C=0,k=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[E][R]==S?(C++,C==5?f+=Ve.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,k),S||(f+=this.finderPenaltyCountPatterns(k)*Ve.PENALTY_N3),S=this.modules[E][R],C=1);f+=this.finderPenaltyTerminateAndCount(S,C,k)*Ve.PENALTY_N3}for(let E=0;E<this.size;E++){let S=!1,C=0,k=[0,0,0,0,0,0,0];for(let R=0;R<this.size;R++)this.modules[R][E]==S?(C++,C==5?f+=Ve.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,k),S||(f+=this.finderPenaltyCountPatterns(k)*Ve.PENALTY_N3),S=this.modules[R][E],C=1);f+=this.finderPenaltyTerminateAndCount(S,C,k)*Ve.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let S=0;S<this.size-1;S++){const C=this.modules[E][S];C==this.modules[E][S+1]&&C==this.modules[E+1][S]&&C==this.modules[E+1][S+1]&&(f+=Ve.PENALTY_N2)}let p=0;for(const E of this.modules)p=E.reduce((S,C)=>S+(C?1:0),p);const m=this.size*this.size,y=Math.ceil(Math.abs(p*20-m*10)/m)-1;return o(0<=y&&y<=9),f+=y*Ve.PENALTY_N4,o(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let y=this.size-7;m.length<f;y-=p)m.splice(1,0,y);return m}}static getNumRawDataModules(f){if(f<Ve.MIN_VERSION||f>Ve.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;p-=(25*m-10)*m-55,f>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(f,p){return Math.floor(Ve.getNumRawDataModules(f)/8)-Ve.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f]*Ve.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let p=[];for(let y=0;y<f-1;y++)p.push(0);p.push(1);let m=1;for(let y=0;y<f;y++){for(let E=0;E<p.length;E++)p[E]=Ve.reedSolomonMultiply(p[E],m),E+1<p.length&&(p[E]^=p[E+1]);m=Ve.reedSolomonMultiply(m,2)}return p}static reedSolomonComputeRemainder(f,p){let m=p.map(y=>0);for(const y of f){const E=y^m.shift();m.push(0),p.forEach((S,C)=>m[C]^=Ve.reedSolomonMultiply(S,E))}return m}static reedSolomonMultiply(f,p){if(f>>>8||p>>>8)throw new RangeError("Byte out of range");let m=0;for(let y=7;y>=0;y--)m=m<<1^(m>>>7)*285,m^=(p>>>y&1)*f;return o(m>>>8==0),m}finderPenaltyCountPatterns(f){const p=f[1];o(p<=this.size*3);const m=p>0&&f[2]==p&&f[3]==p*3&&f[4]==p&&f[5]==p;return(m&&f[0]>=p*4&&f[6]>=p?1:0)+(m&&f[6]>=p*4&&f[0]>=p?1:0)}finderPenaltyTerminateAndCount(f,p,m){return f&&(this.finderPenaltyAddHistory(p,m),p=0),p+=this.size,this.finderPenaltyAddHistory(p,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,p){p[0]==0&&(f+=this.size),p.pop(),p.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(d,f,p){if(f<0||f>31||d>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)p.push(d>>>m&1)}function i(d,f){return(d>>>f&1)!=0}function o(d){if(!d)throw new Error("Assertion error")}const a=class ut{constructor(f,p,m){if(this.mode=f,this.numChars=p,this.bitData=m,p<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let p=[];for(const m of f)n(m,8,p);return new ut(ut.Mode.BYTE,f.length,p)}static makeNumeric(f){if(!ut.isNumeric(f))throw new RangeError("String contains non-numeric characters");let p=[];for(let m=0;m<f.length;){const y=Math.min(f.length-m,3);n(parseInt(f.substring(m,m+y),10),y*3+1,p),m+=y}return new ut(ut.Mode.NUMERIC,f.length,p)}static makeAlphanumeric(f){if(!ut.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],m;for(m=0;m+2<=f.length;m+=2){let y=ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;y+=ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),n(y,11,p)}return m<f.length&&n(ut.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,p),new ut(ut.Mode.ALPHANUMERIC,f.length,p)}static makeSegments(f){return f==""?[]:ut.isNumeric(f)?[ut.makeNumeric(f)]:ut.isAlphanumeric(f)?[ut.makeAlphanumeric(f)]:[ut.makeBytes(ut.toUtf8ByteArray(f))]}static makeEci(f){let p=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)n(f,8,p);else if(f<16384)n(2,2,p),n(f,14,p);else if(f<1e6)n(6,3,p),n(f,21,p);else throw new RangeError("ECI assignment value out of range");return new ut(ut.Mode.ECI,0,p)}static isNumeric(f){return ut.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return ut.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,p){let m=0;for(const y of f){const E=y.mode.numCharCountBits(p);if(y.numChars>=1<<E)return 1/0;m+=4+E+y.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let p=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?p.push(f.charCodeAt(m)):(p.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(Ps||(Ps={}));(t=>{(e=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ps||(Ps={}));(t=>{(e=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ps||(Ps={}));var Do=Ps;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $M={L:Do.QrCode.Ecc.LOW,M:Do.QrCode.Ecc.MEDIUM,Q:Do.QrCode.Ecc.QUARTILE,H:Do.QrCode.Ecc.HIGH},F1=128,j1="L",B1="#FFFFFF",U1="#000000",z1=!1,$1=1,WM=4,HM=0,KM=.1;function W1(t,e=0){const n=[];return t.forEach(function(i,o){let a=null;i.forEach(function(u,d){if(!u&&a!==null){n.push(`M${a+e} ${o+e}h${d-a}v1H${a+e}z`),a=null;return}if(d===i.length-1){if(!u)return;a===null?n.push(`M${d+e},${o+e} h1v1H${d+e}z`):n.push(`M${a+e},${o+e} h${d+1-a}v1H${a+e}z`);return}u&&a===null&&(a=d)})}),n.join("")}function H1(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((o,a)=>a<e.x||a>=e.x+e.w?o:!1))}function qM(t,e,n,i){if(i==null)return null;const o=t.length+n*2,a=Math.floor(e*KM),u=o/e,d=(i.width||a)*u,f=(i.height||a)*u,p=i.x==null?t.length/2-d/2:i.x*u,m=i.y==null?t.length/2-f/2:i.y*u,y=i.opacity==null?1:i.opacity;let E=null;if(i.excavate){let C=Math.floor(p),k=Math.floor(m),R=Math.ceil(d+p-C),U=Math.ceil(f+m-k);E={x:C,y:k,w:R,h:U}}const S=i.crossOrigin;return{x:p,y:m,h:f,w:d,excavation:E,opacity:y,crossOrigin:S}}function GM(t,e){return e!=null?Math.max(Math.floor(e),0):t?WM:HM}function K1({value:t,level:e,minVersion:n,includeMargin:i,marginSize:o,imageSettings:a,size:u,boostLevel:d}){let f=Rt.useMemo(()=>{const C=(Array.isArray(t)?t:[t]).reduce((k,R)=>(k.push(...Do.QrSegment.makeSegments(R)),k),[]);return Do.QrCode.encodeSegments(C,$M[e],n,void 0,void 0,d)},[t,e,n,d]);const{cells:p,margin:m,numCells:y,calculatedImageSettings:E}=Rt.useMemo(()=>{let S=f.getModules();const C=GM(i,o),k=S.length+C*2,R=qM(S,u,C,a);return{cells:S,margin:C,numCells:k,calculatedImageSettings:R}},[f,u,a,i,o]);return{qrcode:f,margin:m,cells:p,numCells:y,calculatedImageSettings:E}}var QM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),YM=Rt.forwardRef(function(e,n){const i=e,{value:o,size:a=F1,level:u=j1,bgColor:d=B1,fgColor:f=U1,includeMargin:p=z1,minVersion:m=$1,boostLevel:y,marginSize:E,imageSettings:S}=i,k=_p(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:R}=k,U=_p(k,["style"]),H=S==null?void 0:S.src,b=Rt.useRef(null),te=Rt.useRef(null),Z=Rt.useCallback(xe=>{b.current=xe,typeof n=="function"?n(xe):n&&(n.current=xe)},[n]),[ae,D]=Rt.useState(!1),{margin:I,cells:x,numCells:M,calculatedImageSettings:N}=K1({value:o,level:u,minVersion:m,boostLevel:y,includeMargin:p,marginSize:E,imageSettings:S,size:a});Rt.useEffect(()=>{if(b.current!=null){const xe=b.current,Ue=xe.getContext("2d");if(!Ue)return;let gt=x;const we=te.current,re=N!=null&&we!==null&&we.complete&&we.naturalHeight!==0&&we.naturalWidth!==0;re&&N.excavation!=null&&(gt=H1(x,N.excavation));const de=window.devicePixelRatio||1;xe.height=xe.width=a*de;const oe=a/M*de;Ue.scale(oe,oe),Ue.fillStyle=d,Ue.fillRect(0,0,M,M),Ue.fillStyle=f,QM?Ue.fill(new Path2D(W1(gt,I))):x.forEach(function(j,X){j.forEach(function(Ae,Ie){Ae&&Ue.fillRect(Ie+I,X+I,1,1)})}),N&&(Ue.globalAlpha=N.opacity),re&&Ue.drawImage(we,N.x+I,N.y+I,N.w,N.h)}}),Rt.useEffect(()=>{D(!1)},[H]);const B=vp({height:a,width:a},R);let V=null;return H!=null&&(V=Rt.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{D(!0)},ref:te,crossOrigin:N==null?void 0:N.crossOrigin})),Rt.createElement(Rt.Fragment,null,Rt.createElement("canvas",vp({style:B,height:a,width:a,ref:Z,role:"img"},U)),V)});YM.displayName="QRCodeCanvas";var q1=Rt.forwardRef(function(e,n){const i=e,{value:o,size:a=F1,level:u=j1,bgColor:d=B1,fgColor:f=U1,includeMargin:p=z1,minVersion:m=$1,boostLevel:y,title:E,marginSize:S,imageSettings:C}=i,k=_p(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:R,cells:U,numCells:H,calculatedImageSettings:b}=K1({value:o,level:u,minVersion:m,boostLevel:y,includeMargin:p,marginSize:S,imageSettings:C,size:a});let te=U,Z=null;C!=null&&b!=null&&(b.excavation!=null&&(te=H1(U,b.excavation)),Z=Rt.createElement("image",{href:C.src,height:b.h,width:b.w,x:b.x+R,y:b.y+R,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const ae=W1(te,R);return Rt.createElement("svg",vp({height:a,width:a,viewBox:`0 0 ${H} ${H}`,ref:n,role:"img"},k),!!E&&Rt.createElement("title",null,E),Rt.createElement("path",{fill:d,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Rt.createElement("path",{fill:f,d:ae,shapeRendering:"crispEdges"}),Z)});q1.displayName="QRCodeSVG";const b_={1:"#2d5a27",5:"#1e3a5f",10:"#5c2d5c",20:"#c9a227"};function XM({value:t,size:e=128,denomination:n=5}){const i=b_[n]||b_[5];return W.jsx("div",{style:{background:"white",padding:"8px",borderRadius:"12px",display:"inline-block",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:W.jsx(q1,{value:t,size:e,level:"M",fgColor:i,style:{display:"block"}})})}function JM(){const[t,e]=F.useState({start:1,end:100}),[n,i]=F.useState(5),[o,a]=F.useState([]),[u,d]=F.useState(!1),[f,p]=F.useState(!1),m=()=>{const S=[];for(let C=t.start;C<=t.end;C++)S.push(`KB-${String(C).padStart(4,"0")}`);a(S),p(!1)},y=async()=>{d(!0);try{await LM(o,n),p(!0)}catch(S){console.error("Error saving:",S),alert("Error saving to database")}d(!1)},E="https://harmonicsystems.github.io/kinderbucks/#/scan/";return W.jsxs("div",{className:"page",children:[W.jsx(Um,{}),W.jsx("h1",{children:"Generate QR Codes"}),W.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[W.jsx("h2",{children:"Settings"}),W.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[W.jsxs("div",{children:[W.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Start Number"}),W.jsx("input",{type:"number",value:t.start,onChange:S=>e(C=>({...C,start:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),W.jsxs("div",{children:[W.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"End Number"}),W.jsx("input",{type:"number",value:t.end,onChange:S=>e(C=>({...C,end:Number(S.target.value)})),style:{padding:"0.5rem",width:"100px"},min:1,max:2e3})]}),W.jsxs("div",{children:[W.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Denomination"}),W.jsxs("select",{value:n,onChange:S=>i(Number(S.target.value)),style:{padding:"0.5rem"},children:[W.jsx("option",{value:1,children:"$1"}),W.jsx("option",{value:5,children:"$5"}),W.jsx("option",{value:10,children:"$10"}),W.jsx("option",{value:20,children:"$20"})]})]}),W.jsxs("button",{className:"btn",onClick:m,children:["Generate ",t.end-t.start+1," Codes"]})]})]}),o.length>0&&W.jsxs("div",{className:"card",children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[W.jsxs("h2",{children:["Generated: ",o.length," Kinderbucks ($",n," each)"]}),W.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[!f&&W.jsx("button",{className:"btn",onClick:y,disabled:u,children:u?"Saving...":"Save to Database"}),f&&W.jsx("span",{style:{color:"var(--kb-green)"},children:"Saved!"}),W.jsx("button",{className:"btn btn-secondary",onClick:()=>window.print(),children:"Print"})]})]}),W.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:o.slice(0,50).map(S=>W.jsxs("div",{style:{textAlign:"center"},children:[W.jsx(XM,{value:`${E}${S}`,size:120,denomination:n}),W.jsx("p",{style:{fontFamily:"monospace",marginTop:"0.5rem",fontSize:"0.85rem"},children:S})]},S))}),o.length>50&&W.jsxs("p",{style:{marginTop:"1rem",opacity:.7},children:["Showing 50 of ",o.length,". All will be saved and printable."]})]})]})}function ZM(){const[t,e]=F.useState([]),[n,i]=F.useState(!0),[o,a]=F.useState([]),[u,d]=F.useState("");F.useEffect(()=>{async function y(){const E=await yp();e(E.filter(S=>S.status==="draft"||S.status==="issued")),i(!1)}y()},[]);const f=y=>{a(E=>E.includes(y)?E.filter(S=>S!==y):[...E,y])},p=async()=>{if(o.length!==0)try{for(const E of o)await bM(E,"issued",u);const y=await yp();e(y.filter(E=>E.status==="draft"||E.status==="issued")),a([]),d(""),alert(`Issued ${o.length} Kinderbucks!`)}catch(y){console.error("Error issuing:",y),alert("Error issuing Kinderbucks")}},m=t.filter(y=>y.status==="draft");return W.jsxs("div",{className:"page",children:[W.jsx(Um,{}),W.jsx("h1",{children:"Issue Kinderbucks"}),W.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[W.jsx("h2",{children:"Issue Selected"}),W.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"end"},children:[W.jsxs("div",{children:[W.jsx("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Issued To (optional)"}),W.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"Business or recipient name",style:{padding:"0.5rem",width:"250px"}})]}),W.jsxs("button",{className:"btn",onClick:p,disabled:o.length===0,children:["Issue ",o.length," Selected"]})]})]}),W.jsxs("div",{className:"card",children:[W.jsxs("h2",{children:["Available to Issue (",m.length," draft)"]}),n?W.jsx("p",{children:"Loading..."}):m.length===0?W.jsx("p",{children:"No draft Kinderbucks available. Generate some first!"}):W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{marginBottom:"1rem"},children:[W.jsx("button",{className:"btn btn-secondary",onClick:()=>a(m.map(y=>y.serial)),style:{marginRight:"0.5rem"},children:"Select All"}),W.jsx("button",{className:"btn btn-secondary",onClick:()=>a([]),children:"Clear"})]}),W.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"0.5rem"},children:m.map(y=>W.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:o.includes(y.serial)?"#d4edda":"#f8f9fa",borderRadius:"4px",cursor:"pointer"},children:[W.jsx("input",{type:"checkbox",checked:o.includes(y.serial),onChange:()=>f(y.serial)}),W.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem"},children:y.serial}),W.jsxs("span",{style:{opacity:.7},children:["$",y.denomination]})]},y.serial))})]})]})]})}function eL(){return W.jsx(DI,{children:W.jsxs(lI,{children:[W.jsx(To,{path:"/",element:W.jsx(zI,{})}),W.jsx(To,{path:"/scan/:serial",element:W.jsx(BM,{})}),W.jsx(To,{path:"/admin/dashboard",element:W.jsx(UM,{})}),W.jsx(To,{path:"/admin/generate",element:W.jsx(JM,{})}),W.jsx(To,{path:"/admin/issue",element:W.jsx(ZM,{})})]})})}uA.createRoot(document.getElementById("root")).render(W.jsx(F.StrictMode,{children:W.jsx(eL,{})}));
