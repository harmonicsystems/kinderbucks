(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function a2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sf={exports:{}},_l={},kf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function l2(){if(F0)return Re;F0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function I(U,ee,be){this.props=U,this.context=ee,this.refs=A,this.updater=be||k}I.prototype.isReactComponent={},I.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=I.prototype;function z(U,ee,be){this.props=U,this.context=ee,this.refs=A,this.updater=be||k}var j=z.prototype=new F;j.constructor=z,T(j,I.prototype),j.isPureReactComponent=!0;var Y=Array.isArray,W=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function b(U,ee,be){var Ce,De={},Ne=null,Ke=null;if(ee!=null)for(Ce in ee.ref!==void 0&&(Ke=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)W.call(ee,Ce)&&!R.hasOwnProperty(Ce)&&(De[Ce]=ee[Ce]);var ze=arguments.length-2;if(ze===1)De.children=be;else if(1<ze){for(var Qe=Array(ze),tn=0;tn<ze;tn++)Qe[tn]=arguments[tn+2];De.children=Qe}if(U&&U.defaultProps)for(Ce in ze=U.defaultProps,ze)De[Ce]===void 0&&(De[Ce]=ze[Ce]);return{$$typeof:t,type:U,key:Ne,ref:Ke,props:De,_owner:X.current}}function P(U,ee){return{$$typeof:t,type:U.type,key:ee,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function L(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return ee[be]})}var $=/\/+/g;function D(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):ee.toString(36)}function Pe(U,ee,be,Ce,De){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var Ke=!1;if(U===null)Ke=!0;else switch(Ne){case"string":case"number":Ke=!0;break;case"object":switch(U.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=U,De=De(Ke),U=Ce===""?"."+D(Ke,0):Ce,Y(De)?(be="",U!=null&&(be=U.replace($,"$&/")+"/"),Pe(De,ee,be,"",function(tn){return tn})):De!=null&&(M(De)&&(De=P(De,be+(!De.key||Ke&&Ke.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+U)),ee.push(De)),1;if(Ke=0,Ce=Ce===""?".":Ce+":",Y(U))for(var ze=0;ze<U.length;ze++){Ne=U[ze];var Qe=Ce+D(Ne,ze);Ke+=Pe(Ne,ee,be,Qe,De)}else if(Qe=w(U),typeof Qe=="function")for(U=Qe.call(U),ze=0;!(Ne=U.next()).done;)Ne=Ne.value,Qe=Ce+D(Ne,ze++),Ke+=Pe(Ne,ee,be,Qe,De);else if(Ne==="object")throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ke}function We(U,ee,be){if(U==null)return U;var Ce=[],De=0;return Pe(U,Ce,"","",function(Ne){return ee.call(be,Ne,De++)}),Ce}function _t(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var Ee={current:null},ie={transition:null},fe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ie,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:We,forEach:function(U,ee,be){We(U,function(){ee.apply(this,arguments)},be)},count:function(U){var ee=0;return We(U,function(){ee++}),ee},toArray:function(U){return We(U,function(ee){return ee})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=I,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=z,Re.StrictMode=i,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(U,ee,be){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ce=T({},U.props),De=U.key,Ne=U.ref,Ke=U._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,Ke=X.current),ee.key!==void 0&&(De=""+ee.key),U.type&&U.type.defaultProps)var ze=U.type.defaultProps;for(Qe in ee)W.call(ee,Qe)&&!R.hasOwnProperty(Qe)&&(Ce[Qe]=ee[Qe]===void 0&&ze!==void 0?ze[Qe]:ee[Qe])}var Qe=arguments.length-2;if(Qe===1)Ce.children=be;else if(1<Qe){ze=Array(Qe);for(var tn=0;tn<Qe;tn++)ze[tn]=arguments[tn+2];Ce.children=ze}return{$$typeof:t,type:U.type,key:De,ref:Ne,props:Ce,_owner:Ke}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=b,Re.createFactory=function(U){var ee=b.bind(null,U);return ee.type=U,ee},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:m,render:U}},Re.isValidElement=M,Re.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:_t}},Re.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Re.startTransition=function(U){var ee=ie.transition;ie.transition={};try{U()}finally{ie.transition=ee}},Re.unstable_act=ae,Re.useCallback=function(U,ee){return Ee.current.useCallback(U,ee)},Re.useContext=function(U){return Ee.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Ee.current.useDeferredValue(U)},Re.useEffect=function(U,ee){return Ee.current.useEffect(U,ee)},Re.useId=function(){return Ee.current.useId()},Re.useImperativeHandle=function(U,ee,be){return Ee.current.useImperativeHandle(U,ee,be)},Re.useInsertionEffect=function(U,ee){return Ee.current.useInsertionEffect(U,ee)},Re.useLayoutEffect=function(U,ee){return Ee.current.useLayoutEffect(U,ee)},Re.useMemo=function(U,ee){return Ee.current.useMemo(U,ee)},Re.useReducer=function(U,ee,be){return Ee.current.useReducer(U,ee,be)},Re.useRef=function(U){return Ee.current.useRef(U)},Re.useState=function(U){return Ee.current.useState(U)},Re.useSyncExternalStore=function(U,ee,be){return Ee.current.useSyncExternalStore(U,ee,be)},Re.useTransition=function(){return Ee.current.useTransition()},Re.version="18.3.1",Re}var B0;function np(){return B0||(B0=1,kf.exports=l2()),kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function u2(){if(z0)return _l;z0=1;var t=np(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(m,d,p){var g,v={},w=null,k=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(k=d.ref);for(g in d)i.call(d,g)&&!a.hasOwnProperty(g)&&(v[g]=d[g]);if(m&&m.defaultProps)for(g in d=m.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:m,key:w,ref:k,props:v,_owner:o.current}}return _l.Fragment=n,_l.jsx=u,_l.jsxs=u,_l}var U0;function c2(){return U0||(U0=1,Sf.exports=u2()),Sf.exports}var f=c2(),N=np();const Pt=a2(N);var Nc={},bf={exports:{}},fn={},Cf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function h2(){return $0||($0=1,(function(t){function e(ie,fe){var ae=ie.length;ie.push(fe);e:for(;0<ae;){var U=ae-1>>>1,ee=ie[U];if(0<o(ee,fe))ie[U]=fe,ie[ae]=ee,ae=U;else break e}}function n(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var fe=ie[0],ae=ie.pop();if(ae!==fe){ie[0]=ae;e:for(var U=0,ee=ie.length,be=ee>>>1;U<be;){var Ce=2*(U+1)-1,De=ie[Ce],Ne=Ce+1,Ke=ie[Ne];if(0>o(De,ae))Ne<ee&&0>o(Ke,De)?(ie[U]=Ke,ie[Ne]=ae,U=Ne):(ie[U]=De,ie[Ce]=ae,U=Ce);else if(Ne<ee&&0>o(Ke,ae))ie[U]=Ke,ie[Ne]=ae,U=Ne;else break e}}return fe}function o(ie,fe){var ae=ie.sortIndex-fe.sortIndex;return ae!==0?ae:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var d=[],p=[],g=1,v=null,w=3,k=!1,T=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ie){for(var fe=n(p);fe!==null;){if(fe.callback===null)i(p);else if(fe.startTime<=ie)i(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(p)}}function Y(ie){if(A=!1,j(ie),!T)if(n(d)!==null)T=!0,_t(W);else{var fe=n(p);fe!==null&&Ee(Y,fe.startTime-ie)}}function W(ie,fe){T=!1,A&&(A=!1,F(b),b=-1),k=!0;var ae=w;try{for(j(fe),v=n(d);v!==null&&(!(v.expirationTime>fe)||ie&&!L());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var ee=U(v.expirationTime<=fe);fe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(d)&&i(d),j(fe)}else i(d);v=n(d)}if(v!==null)var be=!0;else{var Ce=n(p);Ce!==null&&Ee(Y,Ce.startTime-fe),be=!1}return be}finally{v=null,w=ae,k=!1}}var X=!1,R=null,b=-1,P=5,M=-1;function L(){return!(t.unstable_now()-M<P)}function $(){if(R!==null){var ie=t.unstable_now();M=ie;var fe=!0;try{fe=R(!0,ie)}finally{fe?D():(X=!1,R=null)}}else X=!1}var D;if(typeof z=="function")D=function(){z($)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,We=Pe.port2;Pe.port1.onmessage=$,D=function(){We.postMessage(null)}}else D=function(){I($,0)};function _t(ie){R=ie,X||(X=!0,D())}function Ee(ie,fe){b=I(function(){ie(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){T||k||(T=!0,_t(W))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ie){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ae=w;w=fe;try{return ie()}finally{w=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=w;w=ie;try{return fe()}finally{w=ae}},t.unstable_scheduleCallback=function(ie,fe,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,ie){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,ie={id:g++,callback:fe,priorityLevel:ie,startTime:ae,expirationTime:ee,sortIndex:-1},ae>U?(ie.sortIndex=ae,e(p,ie),n(d)===null&&ie===n(p)&&(A?(F(b),b=-1):A=!0,Ee(Y,ae-U))):(ie.sortIndex=ee,e(d,ie),T||k||(T=!0,_t(W))),ie},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ie){var fe=w;return function(){var ae=w;w=fe;try{return ie.apply(this,arguments)}finally{w=ae}}}})(Af)),Af}var W0;function d2(){return W0||(W0=1,Cf.exports=h2()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function f2(){if(H0)return fn;H0=1;var t=np(),e=d2();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(r){return d.call(v,r)?!0:d.call(g,r)?!1:p.test(r)?v[r]=!0:(g[r]=!0,!1)}function k(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,s,l,h){if(s===null||typeof s>"u"||k(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(r,s,l,h,y,x,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=x,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];I[s]=new A(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(F,z);I[s]=new A(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(F,z);I[s]=new A(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(F,z);I[s]=new A(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,s,l,h){var y=I.hasOwnProperty(s)?I[s]:null;(y!==null?y.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,l,y,h)&&(l=null),h||y===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):y.mustUseProperty?r[y.propertyName]=l===null?y.type===3?!1:"":l:(s=y.attributeName,h=y.attributeNamespace,l===null?r.removeAttribute(s):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ie=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,U;function ee(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var be=!1;function Ce(r,s){if(!r||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),x=h.stack.split(`
`),S=y.length-1,V=x.length-1;1<=S&&0<=V&&y[S]!==x[V];)V--;for(;1<=S&&0<=V;S--,V--)if(y[S]!==x[V]){if(S!==1||V!==1)do if(S--,V--,0>V||y[S]!==x[V]){var O=`
`+y[S].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=S&&0<=V);break}}}finally{be=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?ee(r):""}function De(r){switch(r.tag){case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case X:return"Portal";case P:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case Pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case We:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case _t:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}function Ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tn(r){var s=Qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return y.call(this)},set:function(S){h=""+S,x.call(this,S)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function eo(r){r._valueTracker||(r._valueTracker=tn(r))}function ba(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Qe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ci(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function to(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function _u(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=ze(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function no(r,s){s=s.checked,s!=null&&j(r,"checked",s,!1)}function os(r,s){no(r,s);var l=ze(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?wt(r,s.type,l):s.hasOwnProperty("defaultValue")&&wt(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ca(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function wt(r,s,l){(s!=="number"||ci(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pt=Array.isArray;function Un(r,s,l,h){if(r=r.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=s.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&h&&(r[l].defaultSelected=!0)}else{for(l=""+ze(l),s=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}s!==null||r[y].disabled||(s=r[y])}s!==null&&(s.selected=!0)}}function Aa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ia(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(pt(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ze(l)}}function wu(r,s){var l=ze(s.value),h=ze(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function hi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ra(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ro(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ra(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var di,Eu=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,y){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,y)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(di=di||document.createElement("div"),di.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=di.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function as(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(r){Tu.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),fi[s]=fi[r]})});function mi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||fi.hasOwnProperty(r)&&fi[r]?(""+s).trim():s+"px"}function io(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,y=mi(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,y):r[l]=y}}var Pa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $n(r,s){if(s){if(Pa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function so(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Dr=null,Nr=null,ht=null;function ja(r){if(r=sl(r)){if(typeof Dr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Yu(s),Dr(r.stateNode,r.type,s))}}function gi(r){Nr?ht?ht.push(r):ht=[r]:Nr=r}function yi(){if(Nr){var r=Nr,s=ht;if(ht=Nr=null,ja(r),s)for(r=0;r<s.length;r++)ja(s[r])}}function Su(r,s){return r(s)}function ku(){}var or=!1;function bu(r,s,l){if(or)return r(s,l);or=!0;try{return Su(r,s,l)}finally{or=!1,(Nr!==null||ht!==null)&&(ku(),yi())}}function ls(r,s){var l=r.stateNode;if(l===null)return null;var h=Yu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var vi=!1;if(m)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){vi=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{vi=!1}function Cu(r,s,l,h,y,x,S,V,O){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(ne){this.onError(ne)}}var Mr=!1,ar=null,ao=!1,bn=null,Au={onError:function(r){Mr=!0,ar=r}};function Iu(r,s,l,h,y,x,S,V,O){Mr=!1,ar=null,Cu.apply(Au,arguments)}function Va(r,s,l,h,y,x,S,V,O){if(Iu.apply(this,arguments),Mr){if(Mr){var G=ar;Mr=!1,ar=null}else throw Error(n(198));ao||(ao=!0,bn=G)}}function Wn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Da(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ru(r){if(Wn(r)!==r)throw Error(n(188))}function Pu(r){var s=r.alternate;if(!s){if(s=Wn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return Ru(y),r;if(x===h)return Ru(y),s;x=x.sibling}throw Error(n(188))}if(l.return!==h.return)l=y,h=x;else{for(var S=!1,V=y.child;V;){if(V===l){S=!0,l=y,h=x;break}if(V===h){S=!0,h=y,l=x;break}V=V.sibling}if(!S){for(V=x.child;V;){if(V===l){S=!0,l=x,h=y;break}if(V===h){S=!0,h=x,l=y;break}V=V.sibling}if(!S)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ju(r){return r=Pu(r),r!==null?us(r):null}function us(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=us(r);if(s!==null)return s;r=r.sibling}return null}var Na=e.unstable_scheduleCallback,lo=e.unstable_cancelCallback,cs=e.unstable_shouldYield,Lr=e.unstable_requestPaint,Ze=e.unstable_now,ed=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,Ma=e.unstable_UserBlockingPriority,hs=e.unstable_NormalPriority,La=e.unstable_LowPriority,co=e.unstable_IdlePriority,ds=null,gn=null;function Vu(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ds,r,void 0,(r.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:fs,lr=Math.log,Cn=Math.LN2;function fs(r){return r>>>=0,r===0?32:31-(lr(r)/Cn|0)|0}var ur=64,_i=4194304;function He(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Or(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,y=r.suspendedLanes,x=r.pingedLanes,S=l&268435455;if(S!==0){var V=S&~y;V!==0?h=He(V):(x&=S,x!==0&&(h=He(x)))}else S=l&~y,S!==0?h=He(S):x!==0&&(h=He(x));if(h===0)return 0;if(s!==0&&s!==h&&(s&y)===0&&(y=h&-h,x=s&-s,y>=x||y===16&&(x&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-yn(s),y=1<<l,h|=r[l],s&=~y;return h}function ms(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes;0<x;){var S=31-yn(x),V=1<<S,O=y[S];O===-1?((V&l)===0||(V&h)!==0)&&(y[S]=ms(V,s)):O<=s&&(r.expiredLanes|=V),x&=~V}}function Oa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Fa(){var r=ur;return ur<<=1,(ur&4194240)===0&&(ur=64),r}function Ba(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function gs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-yn(s),r[s]=l}function td(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var y=31-yn(l),x=1<<y;s[y]=0,h[y]=-1,r[y]=-1,l&=~x}}function za(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-yn(l),y=1<<h;y&s|r[h]&s&&(r[h]|=s),l&=~y}}var Oe=0;function cr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ua,ho,$a,Wa,Ha,hr=!1,fo=[],dr=null,fr=null,Lt=null,ys=new Map,Fr=new Map,vn=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wi(r,s){switch(r){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":ys.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(s.pointerId)}}function Hn(r,s,l,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=sl(s),s!==null&&ho(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),r)}function Nu(r,s,l,h,y){switch(s){case"focusin":return dr=Hn(dr,r,s,l,h,y),!0;case"dragenter":return fr=Hn(fr,r,s,l,h,y),!0;case"mouseover":return Lt=Hn(Lt,r,s,l,h,y),!0;case"pointerover":var x=y.pointerId;return ys.set(x,Hn(ys.get(x)||null,r,s,l,h,y)),!0;case"gotpointercapture":return x=y.pointerId,Fr.set(x,Hn(Fr.get(x)||null,r,s,l,h,y)),!0}return!1}function mo(r){var s=ws(r.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=Da(l),s!==null){r.blockedOn=s,Ha(r.priority,function(){$a(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ye(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);pi=h,l.target.dispatchEvent(h),pi=null}else return s=sl(l),s!==null&&ho(s),r.blockedOn=l,!1;s.shift()}return!0}function Mu(r,s,l){Ye(r)&&l.delete(s)}function nd(){hr=!1,dr!==null&&Ye(dr)&&(dr=null),fr!==null&&Ye(fr)&&(fr=null),Lt!==null&&Ye(Lt)&&(Lt=null),ys.forEach(Mu),Fr.forEach(Mu)}function Ei(r,s){r.blockedOn===s&&(r.blockedOn=null,hr||(hr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nd)))}function Ti(r){function s(y){return Ei(y,r)}if(0<fo.length){Ei(fo[0],r);for(var l=1;l<fo.length;l++){var h=fo[l];h.blockedOn===r&&(h.blockedOn=null)}}for(dr!==null&&Ei(dr,r),fr!==null&&Ei(fr,r),Lt!==null&&Ei(Lt,r),ys.forEach(s),Fr.forEach(s),l=0;l<vn.length;l++)h=vn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<vn.length&&(l=vn[0],l.blockedOn===null);)mo(l),l.blockedOn===null&&vn.shift()}var Br=Y.ReactCurrentBatchConfig,zr=!0;function mr(r,s,l,h){var y=Oe,x=Br.transition;Br.transition=null;try{Oe=1,Ka(r,s,l,h)}finally{Oe=y,Br.transition=x}}function Lu(r,s,l,h){var y=Oe,x=Br.transition;Br.transition=null;try{Oe=4,Ka(r,s,l,h)}finally{Oe=y,Br.transition=x}}function Ka(r,s,l,h){if(zr){var y=po(r,s,l,h);if(y===null)fd(r,s,h,pr,l),wi(r,h);else if(Nu(y,r,s,l,h))h.stopPropagation();else if(wi(r,h),s&4&&-1<Du.indexOf(r)){for(;y!==null;){var x=sl(y);if(x!==null&&Ua(x),x=po(r,s,l,h),x===null&&fd(r,s,h,pr,l),x===y)break;y=x}y!==null&&h.stopPropagation()}else fd(r,s,h,null,l)}}var pr=null;function po(r,s,l,h){if(pr=null,r=oo(h),r=ws(r),r!==null)if(s=Wn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Da(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return pr=r,null}function go(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ed()){case uo:return 1;case Ma:return 4;case hs:case La:return 16;case co:return 536870912;default:return 16}default:return 16}}var xn=null,yo=null,Ur=null;function Ou(){if(Ur)return Ur;var r,s=yo,l=s.length,h,y="value"in xn?xn.value:xn.textContent,x=y.length;for(r=0;r<l&&s[r]===y[r];r++);var S=l-r;for(h=1;h<=S&&s[l-h]===y[x-h];h++);return Ur=y.slice(r,1<h?1-h:void 0)}function vs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function gr(){return!0}function qa(){return!1}function Ht(r){function s(l,h,y,x,S){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(l=r[V],this[V]=l?l(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gr:qa,this.isPropagationStopped=qa,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=Ht(yr),Si=ae({},yr,{view:0,detail:0}),vo=Ht(Si),xo,_o,_n,_s=ae({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ae,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_n&&(_n&&r.type==="mousemove"?(xo=r.screenX-_n.screenX,_o=r.screenY-_n.screenY):_o=xo=0,_n=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:_o}}),Ga=Ht(_s),Fu=ae({},_s,{dataTransfer:0}),Bu=Ht(Fu),wo=ae({},Si,{relatedTarget:0}),Ot=Ht(wo),zu=ae({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Ht(zu),ki=ae({},yr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Ht(ki),_=ae({},yr,{data:0}),E=Ht(_),C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Q[r])?!!s[r]:!1}function Ae(){return oe}var gt=ae({},Si,{key:function(r){if(r.key){var s=C[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?K[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ae,charCode:function(r){return r.type==="keypress"?vs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ge=Ht(gt),Et=ae({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wn=Ht(Et),$r=ae({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ae}),vr=Ht($r),xr=ae({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eo=Ht(xr),Qa=ae({},_s,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tS=Ht(Qa),nS=[9,13,27,32],rd=m&&"CompositionEvent"in window,Ya=null;m&&"documentMode"in document&&(Ya=document.documentMode);var rS=m&&"TextEvent"in window&&!Ya,Pg=m&&(!rd||Ya&&8<Ya&&11>=Ya),jg=" ",Vg=!1;function Dg(r,s){switch(r){case"keyup":return nS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ng(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function iS(r,s){switch(r){case"compositionend":return Ng(s);case"keypress":return s.which!==32?null:(Vg=!0,jg);case"textInput":return r=s.data,r===jg&&Vg?null:r;default:return null}}function sS(r,s){if(To)return r==="compositionend"||!rd&&Dg(r,s)?(r=Ou(),Ur=yo=xn=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pg&&s.locale!=="ko"?null:s.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!oS[r.type]:s==="textarea"}function Lg(r,s,l,h){gi(h),s=qu(s,"onChange"),0<s.length&&(l=new xs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Xa=null,Ja=null;function aS(r){ty(r,0)}function $u(r){var s=Ao(r);if(ba(s))return r}function lS(r,s){if(r==="change")return s}var Og=!1;if(m){var id;if(m){var sd="oninput"in document;if(!sd){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),sd=typeof Fg.oninput=="function"}id=sd}else id=!1;Og=id&&(!document.documentMode||9<document.documentMode)}function Bg(){Xa&&(Xa.detachEvent("onpropertychange",zg),Ja=Xa=null)}function zg(r){if(r.propertyName==="value"&&$u(Ja)){var s=[];Lg(s,Ja,r,oo(r)),bu(aS,s)}}function uS(r,s,l){r==="focusin"?(Bg(),Xa=s,Ja=l,Xa.attachEvent("onpropertychange",zg)):r==="focusout"&&Bg()}function cS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $u(Ja)}function hS(r,s){if(r==="click")return $u(s)}function dS(r,s){if(r==="input"||r==="change")return $u(s)}function fS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:fS;function Za(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!d.call(s,y)||!Kn(r[y],s[y]))return!1}return!0}function Ug(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $g(r,s){var l=Ug(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ug(l)}}function Wg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Wg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Hg(){for(var r=window,s=ci();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ci(r.document)}return s}function od(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function mS(r){var s=Hg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Wg(l.ownerDocument.documentElement,l)){if(h!==null&&od(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var y=l.textContent.length,x=Math.min(h.start,y);h=h.end===void 0?x:Math.min(h.end,y),!r.extend&&x>h&&(y=h,h=x,x=y),y=$g(l,x);var S=$g(l,h);y&&S&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),r.removeAllRanges(),x>h?(r.addRange(s),r.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pS=m&&"documentMode"in document&&11>=document.documentMode,So=null,ad=null,el=null,ld=!1;function Kg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ld||So==null||So!==ci(h)||(h=So,"selectionStart"in h&&od(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),el&&Za(el,h)||(el=h,h=qu(ad,"onSelect"),0<h.length&&(s=new xs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=So)))}function Wu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ko={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},ud={},qg={};m&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Hu(r){if(ud[r])return ud[r];if(!ko[r])return r;var s=ko[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in qg)return ud[r]=s[l];return r}var Gg=Hu("animationend"),Qg=Hu("animationiteration"),Yg=Hu("animationstart"),Xg=Hu("transitionend"),Jg=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,s){Jg.set(r,s),a(s,[r])}for(var cd=0;cd<Zg.length;cd++){var hd=Zg[cd],gS=hd.toLowerCase(),yS=hd[0].toUpperCase()+hd.slice(1);bi(gS,"on"+yS)}bi(Gg,"onAnimationEnd"),bi(Qg,"onAnimationIteration"),bi(Yg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Xg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function ey(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Va(h,s,void 0,r),r.currentTarget=null}function ty(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var S=h.length-1;0<=S;S--){var V=h[S],O=V.instance,G=V.currentTarget;if(V=V.listener,O!==x&&y.isPropagationStopped())break e;ey(y,V,G),x=O}else for(S=0;S<h.length;S++){if(V=h[S],O=V.instance,G=V.currentTarget,V=V.listener,O!==x&&y.isPropagationStopped())break e;ey(y,V,G),x=O}}}if(ao)throw r=bn,ao=!1,bn=null,r}function et(r,s){var l=s[xd];l===void 0&&(l=s[xd]=new Set);var h=r+"__bubble";l.has(h)||(ny(s,r,2,!1),l.add(h))}function dd(r,s,l){var h=0;s&&(h|=4),ny(l,r,h,s)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function nl(r){if(!r[Ku]){r[Ku]=!0,i.forEach(function(l){l!=="selectionchange"&&(vS.has(l)||dd(l,!1,r),dd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ku]||(s[Ku]=!0,dd("selectionchange",!1,s))}}function ny(r,s,l,h){switch(go(s)){case 1:var y=mr;break;case 4:y=Lu;break;default:y=Ka}l=y.bind(null,s,l,r),y=void 0,!vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(s,l,{capture:!0,passive:y}):r.addEventListener(s,l,!0):y!==void 0?r.addEventListener(s,l,{passive:y}):r.addEventListener(s,l,!1)}function fd(r,s,l,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var V=h.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(S===4)for(S=h.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===y||O.nodeType===8&&O.parentNode===y))return;S=S.return}for(;V!==null;){if(S=ws(V),S===null)return;if(O=S.tag,O===5||O===6){h=x=S;continue e}V=V.parentNode}}h=h.return}bu(function(){var G=x,ne=oo(l),re=[];e:{var te=Jg.get(r);if(te!==void 0){var ue=xs,me=r;switch(r){case"keypress":if(vs(l)===0)break e;case"keydown":case"keyup":ue=Ge;break;case"focusin":me="focus",ue=Ot;break;case"focusout":me="blur",ue=Ot;break;case"beforeblur":case"afterblur":ue=Ot;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=vr;break;case Gg:case Qg:case Yg:ue=Uu;break;case Xg:ue=Eo;break;case"scroll":ue=vo;break;case"wheel":ue=tS;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=wn}var pe=(s&4)!==0,yt=!pe&&r==="scroll",H=pe?te!==null?te+"Capture":null:te;pe=[];for(var B=G,q;B!==null;){q=B;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=ls(B,H),se!=null&&pe.push(rl(B,se,q)))),yt)break;B=B.return}0<pe.length&&(te=new ue(te,me,null,l,ne),re.push({event:te,listeners:pe}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",te&&l!==pi&&(me=l.relatedTarget||l.fromElement)&&(ws(me)||me[Wr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(me=l.relatedTarget||l.toElement,ue=G,me=me?ws(me):null,me!==null&&(yt=Wn(me),me!==yt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=G),ue!==me)){if(pe=Ga,se="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(pe=wn,se="onPointerLeave",H="onPointerEnter",B="pointer"),yt=ue==null?te:Ao(ue),q=me==null?te:Ao(me),te=new pe(se,B+"leave",ue,l,ne),te.target=yt,te.relatedTarget=q,se=null,ws(ne)===G&&(pe=new pe(H,B+"enter",me,l,ne),pe.target=q,pe.relatedTarget=yt,se=pe),yt=se,ue&&me)t:{for(pe=ue,H=me,B=0,q=pe;q;q=bo(q))B++;for(q=0,se=H;se;se=bo(se))q++;for(;0<B-q;)pe=bo(pe),B--;for(;0<q-B;)H=bo(H),q--;for(;B--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=bo(pe),H=bo(H)}pe=null}else pe=null;ue!==null&&ry(re,te,ue,pe,!1),me!==null&&yt!==null&&ry(re,yt,me,pe,!0)}}e:{if(te=G?Ao(G):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=lS;else if(Mg(te))if(Og)ge=dS;else{ge=cS;var xe=uS}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=hS);if(ge&&(ge=ge(r,G))){Lg(re,ge,l,ne);break e}xe&&xe(r,te,G),r==="focusout"&&(xe=te._wrapperState)&&xe.controlled&&te.type==="number"&&wt(te,"number",te.value)}switch(xe=G?Ao(G):window,r){case"focusin":(Mg(xe)||xe.contentEditable==="true")&&(So=xe,ad=G,el=null);break;case"focusout":el=ad=So=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Kg(re,l,ne);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Kg(re,l,ne)}var _e;if(rd)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else To?Dg(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Pg&&l.locale!=="ko"&&(To||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&To&&(_e=Ou()):(xn=ne,yo="value"in xn?xn.value:xn.textContent,To=!0)),xe=qu(G,Te),0<xe.length&&(Te=new E(Te,r,null,l,ne),re.push({event:Te,listeners:xe}),_e?Te.data=_e:(_e=Ng(l),_e!==null&&(Te.data=_e)))),(_e=rS?iS(r,l):sS(r,l))&&(G=qu(G,"onBeforeInput"),0<G.length&&(ne=new E("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:G}),ne.data=_e))}ty(re,s)})}function rl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function qu(r,s){for(var l=s+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=ls(r,l),x!=null&&h.unshift(rl(r,x,y)),x=ls(r,s),x!=null&&h.push(rl(r,x,y))),r=r.return}return h}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ry(r,s,l,h,y){for(var x=s._reactName,S=[];l!==null&&l!==h;){var V=l,O=V.alternate,G=V.stateNode;if(O!==null&&O===h)break;V.tag===5&&G!==null&&(V=G,y?(O=ls(l,x),O!=null&&S.unshift(rl(l,O,V))):y||(O=ls(l,x),O!=null&&S.push(rl(l,O,V)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var xS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function iy(r){return(typeof r=="string"?r:""+r).replace(xS,`
`).replace(_S,"")}function Gu(r,s,l){if(s=iy(s),iy(r)!==s&&l)throw Error(n(425))}function Qu(){}var md=null,pd=null;function gd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(r){return sy.resolve(null).then(r).catch(TS)}:yd;function TS(r){setTimeout(function(){throw r})}function vd(r,s){var l=s,h=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(h===0){r.removeChild(y),Ti(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=y}while(l);Ti(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function oy(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Co=Math.random().toString(36).slice(2),_r="__reactFiber$"+Co,il="__reactProps$"+Co,Wr="__reactContainer$"+Co,xd="__reactEvents$"+Co,SS="__reactListeners$"+Co,kS="__reactHandles$"+Co;function ws(r){var s=r[_r];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Wr]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=oy(r);r!==null;){if(l=r[_r])return l;r=oy(r)}return s}r=l,l=r.parentNode}return null}function sl(r){return r=r[_r]||r[Wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Yu(r){return r[il]||null}var _d=[],Io=-1;function Ai(r){return{current:r}}function tt(r){0>Io||(r.current=_d[Io],_d[Io]=null,Io--)}function Xe(r,s){Io++,_d[Io]=r.current,r.current=s}var Ii={},Kt=Ai(Ii),ln=Ai(!1),Es=Ii;function Ro(r,s){var l=r.type.contextTypes;if(!l)return Ii;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in l)y[x]=s[x];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=y),y}function un(r){return r=r.childContextTypes,r!=null}function Xu(){tt(ln),tt(Kt)}function ay(r,s,l){if(Kt.current!==Ii)throw Error(n(168));Xe(Kt,s),Xe(ln,l)}function ly(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var y in h)if(!(y in s))throw Error(n(108,Ke(r)||"Unknown",y));return ae({},l,h)}function Ju(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ii,Es=Kt.current,Xe(Kt,r),Xe(ln,ln.current),!0}function uy(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=ly(r,s,Es),h.__reactInternalMemoizedMergedChildContext=r,tt(ln),tt(Kt),Xe(Kt,r)):tt(ln),Xe(ln,l)}var Hr=null,Zu=!1,wd=!1;function cy(r){Hr===null?Hr=[r]:Hr.push(r)}function bS(r){Zu=!0,cy(r)}function Ri(){if(!wd&&Hr!==null){wd=!0;var r=0,s=Oe;try{var l=Hr;for(Oe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Hr=null,Zu=!1}catch(y){throw Hr!==null&&(Hr=Hr.slice(r+1)),Na(uo,Ri),y}finally{Oe=s,wd=!1}}return null}var Po=[],jo=0,ec=null,tc=0,An=[],In=0,Ts=null,Kr=1,qr="";function Ss(r,s){Po[jo++]=tc,Po[jo++]=ec,ec=r,tc=s}function hy(r,s,l){An[In++]=Kr,An[In++]=qr,An[In++]=Ts,Ts=r;var h=Kr;r=qr;var y=32-yn(h)-1;h&=~(1<<y),l+=1;var x=32-yn(s)+y;if(30<x){var S=y-y%5;x=(h&(1<<S)-1).toString(32),h>>=S,y-=S,Kr=1<<32-yn(s)+y|l<<y|h,qr=x+r}else Kr=1<<x|l<<y|h,qr=r}function Ed(r){r.return!==null&&(Ss(r,1),hy(r,1,0))}function Td(r){for(;r===ec;)ec=Po[--jo],Po[jo]=null,tc=Po[--jo],Po[jo]=null;for(;r===Ts;)Ts=An[--In],An[In]=null,qr=An[--In],An[In]=null,Kr=An[--In],An[In]=null}var En=null,Tn=null,it=!1,qn=null;function dy(r,s){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function fy(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,En=r,Tn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,En=r,Tn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ts!==null?{id:Kr,overflow:qr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,En=r,Tn=null,!0):!1;default:return!1}}function Sd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function kd(r){if(it){var s=Tn;if(s){var l=s;if(!fy(r,s)){if(Sd(r))throw Error(n(418));s=Ci(l.nextSibling);var h=En;s&&fy(r,s)?dy(h,l):(r.flags=r.flags&-4097|2,it=!1,En=r)}}else{if(Sd(r))throw Error(n(418));r.flags=r.flags&-4097|2,it=!1,En=r}}}function my(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;En=r}function nc(r){if(r!==En)return!1;if(!it)return my(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!gd(r.type,r.memoizedProps)),s&&(s=Tn)){if(Sd(r))throw py(),Error(n(418));for(;s;)dy(r,s),s=Ci(s.nextSibling)}if(my(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Tn=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Tn=null}}else Tn=En?Ci(r.stateNode.nextSibling):null;return!0}function py(){for(var r=Tn;r;)r=Ci(r.nextSibling)}function Vo(){Tn=En=null,it=!1}function bd(r){qn===null?qn=[r]:qn.push(r)}var CS=Y.ReactCurrentBatchConfig;function ol(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var y=h,x=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(S){var V=y.refs;S===null?delete V[x]:V[x]=S},s._stringRef=x,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function rc(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function gy(r){var s=r._init;return s(r._payload)}function yy(r){function s(H,B){if(r){var q=H.deletions;q===null?(H.deletions=[B],H.flags|=16):q.push(B)}}function l(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function h(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function y(H,B){return H=Oi(H,B),H.index=0,H.sibling=null,H}function x(H,B,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<B?(H.flags|=2,B):q):(H.flags|=2,B)):(H.flags|=1048576,B)}function S(H){return r&&H.alternate===null&&(H.flags|=2),H}function V(H,B,q,se){return B===null||B.tag!==6?(B=vf(q,H.mode,se),B.return=H,B):(B=y(B,q),B.return=H,B)}function O(H,B,q,se){var ge=q.type;return ge===R?ne(H,B,q.props.children,se,q.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_t&&gy(ge)===B.type)?(se=y(B,q.props),se.ref=ol(H,B,q),se.return=H,se):(se=Cc(q.type,q.key,q.props,null,H.mode,se),se.ref=ol(H,B,q),se.return=H,se)}function G(H,B,q,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=xf(q,H.mode,se),B.return=H,B):(B=y(B,q.children||[]),B.return=H,B)}function ne(H,B,q,se,ge){return B===null||B.tag!==7?(B=js(q,H.mode,se,ge),B.return=H,B):(B=y(B,q),B.return=H,B)}function re(H,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=vf(""+B,H.mode,q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return q=Cc(B.type,B.key,B.props,null,H.mode,q),q.ref=ol(H,null,B),q.return=H,q;case X:return B=xf(B,H.mode,q),B.return=H,B;case _t:var se=B._init;return re(H,se(B._payload),q)}if(pt(B)||fe(B))return B=js(B,H.mode,q,null),B.return=H,B;rc(H,B)}return null}function te(H,B,q,se){var ge=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:V(H,B,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case W:return q.key===ge?O(H,B,q,se):null;case X:return q.key===ge?G(H,B,q,se):null;case _t:return ge=q._init,te(H,B,ge(q._payload),se)}if(pt(q)||fe(q))return ge!==null?null:ne(H,B,q,se,null);rc(H,q)}return null}function ue(H,B,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,V(B,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case W:return H=H.get(se.key===null?q:se.key)||null,O(B,H,se,ge);case X:return H=H.get(se.key===null?q:se.key)||null,G(B,H,se,ge);case _t:var xe=se._init;return ue(H,B,q,xe(se._payload),ge)}if(pt(se)||fe(se))return H=H.get(q)||null,ne(B,H,se,ge,null);rc(B,se)}return null}function me(H,B,q,se){for(var ge=null,xe=null,_e=B,Te=B=0,Nt=null;_e!==null&&Te<q.length;Te++){_e.index>Te?(Nt=_e,_e=null):Nt=_e.sibling;var $e=te(H,_e,q[Te],se);if($e===null){_e===null&&(_e=Nt);break}r&&_e&&$e.alternate===null&&s(H,_e),B=x($e,B,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e,_e=Nt}if(Te===q.length)return l(H,_e),it&&Ss(H,Te),ge;if(_e===null){for(;Te<q.length;Te++)_e=re(H,q[Te],se),_e!==null&&(B=x(_e,B,Te),xe===null?ge=_e:xe.sibling=_e,xe=_e);return it&&Ss(H,Te),ge}for(_e=h(H,_e);Te<q.length;Te++)Nt=ue(_e,H,Te,q[Te],se),Nt!==null&&(r&&Nt.alternate!==null&&_e.delete(Nt.key===null?Te:Nt.key),B=x(Nt,B,Te),xe===null?ge=Nt:xe.sibling=Nt,xe=Nt);return r&&_e.forEach(function(Fi){return s(H,Fi)}),it&&Ss(H,Te),ge}function pe(H,B,q,se){var ge=fe(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var xe=ge=null,_e=B,Te=B=0,Nt=null,$e=q.next();_e!==null&&!$e.done;Te++,$e=q.next()){_e.index>Te?(Nt=_e,_e=null):Nt=_e.sibling;var Fi=te(H,_e,$e.value,se);if(Fi===null){_e===null&&(_e=Nt);break}r&&_e&&Fi.alternate===null&&s(H,_e),B=x(Fi,B,Te),xe===null?ge=Fi:xe.sibling=Fi,xe=Fi,_e=Nt}if($e.done)return l(H,_e),it&&Ss(H,Te),ge;if(_e===null){for(;!$e.done;Te++,$e=q.next())$e=re(H,$e.value,se),$e!==null&&(B=x($e,B,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e);return it&&Ss(H,Te),ge}for(_e=h(H,_e);!$e.done;Te++,$e=q.next())$e=ue(_e,H,Te,$e.value,se),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Te:$e.key),B=x($e,B,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e);return r&&_e.forEach(function(o2){return s(H,o2)}),it&&Ss(H,Te),ge}function yt(H,B,q,se){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case W:e:{for(var ge=q.key,xe=B;xe!==null;){if(xe.key===ge){if(ge=q.type,ge===R){if(xe.tag===7){l(H,xe.sibling),B=y(xe,q.props.children),B.return=H,H=B;break e}}else if(xe.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_t&&gy(ge)===xe.type){l(H,xe.sibling),B=y(xe,q.props),B.ref=ol(H,xe,q),B.return=H,H=B;break e}l(H,xe);break}else s(H,xe);xe=xe.sibling}q.type===R?(B=js(q.props.children,H.mode,se,q.key),B.return=H,H=B):(se=Cc(q.type,q.key,q.props,null,H.mode,se),se.ref=ol(H,B,q),se.return=H,H=se)}return S(H);case X:e:{for(xe=q.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){l(H,B.sibling),B=y(B,q.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else s(H,B);B=B.sibling}B=xf(q,H.mode,se),B.return=H,H=B}return S(H);case _t:return xe=q._init,yt(H,B,xe(q._payload),se)}if(pt(q))return me(H,B,q,se);if(fe(q))return pe(H,B,q,se);rc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(l(H,B.sibling),B=y(B,q),B.return=H,H=B):(l(H,B),B=vf(q,H.mode,se),B.return=H,H=B),S(H)):l(H,B)}return yt}var Do=yy(!0),vy=yy(!1),ic=Ai(null),sc=null,No=null,Cd=null;function Ad(){Cd=No=sc=null}function Id(r){var s=ic.current;tt(ic),r._currentValue=s}function Rd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Mo(r,s){sc=r,Cd=No=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(cn=!0),r.firstContext=null)}function Rn(r){var s=r._currentValue;if(Cd!==r)if(r={context:r,memoizedValue:s,next:null},No===null){if(sc===null)throw Error(n(308));No=r,sc.dependencies={lanes:0,firstContext:r}}else No=No.next=r;return s}var ks=null;function Pd(r){ks===null?ks=[r]:ks.push(r)}function xy(r,s,l,h){var y=s.interleaved;return y===null?(l.next=l,Pd(s)):(l.next=y.next,y.next=l),s.interleaved=l,Gr(r,h)}function Gr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pi=!1;function jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ji(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ue&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,Gr(r,l)}return y=h.interleaved,y===null?(s.next=s,Pd(h)):(s.next=y.next,y.next=s),h.interleaved=s,Gr(r,l)}function oc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,za(r,l)}}function wy(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?y=x=S:x=x.next=S,l=l.next}while(l!==null);x===null?y=x=s:x=x.next=s}else y=x=s;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function ac(r,s,l,h){var y=r.updateQueue;Pi=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var O=V,G=O.next;O.next=null,S===null?x=G:S.next=G,S=O;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==S&&(V===null?ne.firstBaseUpdate=G:V.next=G,ne.lastBaseUpdate=O))}if(x!==null){var re=y.baseState;S=0,ne=G=O=null,V=x;do{var te=V.lane,ue=V.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var me=r,pe=V;switch(te=s,ue=l,pe.tag){case 1:if(me=pe.payload,typeof me=="function"){re=me.call(ue,re,te);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=pe.payload,te=typeof me=="function"?me.call(ue,re,te):me,te==null)break e;re=ae({},re,te);break e;case 2:Pi=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,te=y.effects,te===null?y.effects=[V]:te.push(V))}else ue={eventTime:ue,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(G=ne=ue,O=re):ne=ne.next=ue,S|=te;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;te=V,V=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(O=re),y.baseState=O,y.firstBaseUpdate=G,y.lastBaseUpdate=ne,s=y.shared.interleaved,s!==null){y=s;do S|=y.lane,y=y.next;while(y!==s)}else x===null&&(y.shared.lanes=0);As|=S,r.lanes=S,r.memoizedState=re}}function Ey(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],y=h.callback;if(y!==null){if(h.callback=null,h=l,typeof y!="function")throw Error(n(191,y));y.call(h)}}}var al={},wr=Ai(al),ll=Ai(al),ul=Ai(al);function bs(r){if(r===al)throw Error(n(174));return r}function Vd(r,s){switch(Xe(ul,s),Xe(ll,r),Xe(wr,al),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ro(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ro(s,r)}tt(wr),Xe(wr,s)}function Lo(){tt(wr),tt(ll),tt(ul)}function Ty(r){bs(ul.current);var s=bs(wr.current),l=ro(s,r.type);s!==l&&(Xe(ll,r),Xe(wr,l))}function Dd(r){ll.current===r&&(tt(wr),tt(ll))}var st=Ai(0);function lc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nd=[];function Md(){for(var r=0;r<Nd.length;r++)Nd[r]._workInProgressVersionPrimary=null;Nd.length=0}var uc=Y.ReactCurrentDispatcher,Ld=Y.ReactCurrentBatchConfig,Cs=0,ot=null,At=null,Vt=null,cc=!1,cl=!1,hl=0,AS=0;function qt(){throw Error(n(321))}function Od(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Kn(r[l],s[l]))return!1;return!0}function Fd(r,s,l,h,y,x){if(Cs=x,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,uc.current=r===null||r.memoizedState===null?jS:VS,r=l(h,y),cl){x=0;do{if(cl=!1,hl=0,25<=x)throw Error(n(301));x+=1,Vt=At=null,s.updateQueue=null,uc.current=DS,r=l(h,y)}while(cl)}if(uc.current=fc,s=At!==null&&At.next!==null,Cs=0,Vt=At=ot=null,cc=!1,s)throw Error(n(300));return r}function Bd(){var r=hl!==0;return hl=0,r}function Er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ot.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Pn(){if(At===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=Vt===null?ot.memoizedState:Vt.next;if(s!==null)Vt=s,At=r;else{if(r===null)throw Error(n(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Vt===null?ot.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function dl(r,s){return typeof s=="function"?s(r):s}function zd(r){var s=Pn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=At,y=h.baseQueue,x=l.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}h.baseQueue=y=x,l.pending=null}if(y!==null){x=y.next,h=h.baseState;var V=S=null,O=null,G=x;do{var ne=G.lane;if((Cs&ne)===ne)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(V=O=re,S=h):O=O.next=re,ot.lanes|=ne,As|=ne}G=G.next}while(G!==null&&G!==x);O===null?S=h:O.next=V,Kn(h,s.memoizedState)||(cn=!0),s.memoizedState=h,s.baseState=S,s.baseQueue=O,l.lastRenderedState=h}if(r=l.interleaved,r!==null){y=r;do x=y.lane,ot.lanes|=x,As|=x,y=y.next;while(y!==r)}else y===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ud(r){var s=Pn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,y=l.pending,x=s.memoizedState;if(y!==null){l.pending=null;var S=y=y.next;do x=r(x,S.action),S=S.next;while(S!==y);Kn(x,s.memoizedState)||(cn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,h]}function Sy(){}function ky(r,s){var l=ot,h=Pn(),y=s(),x=!Kn(h.memoizedState,y);if(x&&(h.memoizedState=y,cn=!0),h=h.queue,$d(Ay.bind(null,l,h,r),[r]),h.getSnapshot!==s||x||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,fl(9,Cy.bind(null,l,h,y,s),void 0,null),Dt===null)throw Error(n(349));(Cs&30)!==0||by(l,s,y)}return y}function by(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Cy(r,s,l,h){s.value=l,s.getSnapshot=h,Iy(s)&&Ry(r)}function Ay(r,s,l){return l(function(){Iy(s)&&Ry(r)})}function Iy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Kn(r,l)}catch{return!0}}function Ry(r){var s=Gr(r,1);s!==null&&Xn(s,r,1,-1)}function Py(r){var s=Er();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:r},s.queue=r,r=r.dispatch=PS.bind(null,ot,r),[s.memoizedState,r]}function fl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function jy(){return Pn().memoizedState}function hc(r,s,l,h){var y=Er();ot.flags|=r,y.memoizedState=fl(1|s,l,void 0,h===void 0?null:h)}function dc(r,s,l,h){var y=Pn();h=h===void 0?null:h;var x=void 0;if(At!==null){var S=At.memoizedState;if(x=S.destroy,h!==null&&Od(h,S.deps)){y.memoizedState=fl(s,l,x,h);return}}ot.flags|=r,y.memoizedState=fl(1|s,l,x,h)}function Vy(r,s){return hc(8390656,8,r,s)}function $d(r,s){return dc(2048,8,r,s)}function Dy(r,s){return dc(4,2,r,s)}function Ny(r,s){return dc(4,4,r,s)}function My(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ly(r,s,l){return l=l!=null?l.concat([r]):null,dc(4,4,My.bind(null,s,r),l)}function Wd(){}function Oy(r,s){var l=Pn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Od(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Fy(r,s){var l=Pn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Od(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function By(r,s,l){return(Cs&21)===0?(r.baseState&&(r.baseState=!1,cn=!0),r.memoizedState=l):(Kn(l,s)||(l=Fa(),ot.lanes|=l,As|=l,r.baseState=!0),s)}function IS(r,s){var l=Oe;Oe=l!==0&&4>l?l:4,r(!0);var h=Ld.transition;Ld.transition={};try{r(!1),s()}finally{Oe=l,Ld.transition=h}}function zy(){return Pn().memoizedState}function RS(r,s,l){var h=Mi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Uy(r))$y(s,l);else if(l=xy(r,s,l,h),l!==null){var y=rn();Xn(l,r,h,y),Wy(l,s,h)}}function PS(r,s,l){var h=Mi(r),y={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uy(r))$y(s,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var S=s.lastRenderedState,V=x(S,l);if(y.hasEagerState=!0,y.eagerState=V,Kn(V,S)){var O=s.interleaved;O===null?(y.next=y,Pd(s)):(y.next=O.next,O.next=y),s.interleaved=y;return}}catch{}finally{}l=xy(r,s,y,h),l!==null&&(y=rn(),Xn(l,r,h,y),Wy(l,s,h))}}function Uy(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function $y(r,s){cl=cc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Wy(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,za(r,l)}}var fc={readContext:Rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},jS={readContext:Rn,useCallback:function(r,s){return Er().memoizedState=[r,s===void 0?null:s],r},useContext:Rn,useEffect:Vy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,hc(4194308,4,My.bind(null,s,r),l)},useLayoutEffect:function(r,s){return hc(4194308,4,r,s)},useInsertionEffect:function(r,s){return hc(4,2,r,s)},useMemo:function(r,s){var l=Er();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Er();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=RS.bind(null,ot,r),[h.memoizedState,r]},useRef:function(r){var s=Er();return r={current:r},s.memoizedState=r},useState:Py,useDebugValue:Wd,useDeferredValue:function(r){return Er().memoizedState=r},useTransition:function(){var r=Py(!1),s=r[0];return r=IS.bind(null,r[1]),Er().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ot,y=Er();if(it){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Dt===null)throw Error(n(349));(Cs&30)!==0||by(h,s,l)}y.memoizedState=l;var x={value:l,getSnapshot:s};return y.queue=x,Vy(Ay.bind(null,h,x,r),[r]),h.flags|=2048,fl(9,Cy.bind(null,h,x,l,s),void 0,null),l},useId:function(){var r=Er(),s=Dt.identifierPrefix;if(it){var l=qr,h=Kr;l=(h&~(1<<32-yn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=hl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=AS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},VS={readContext:Rn,useCallback:Oy,useContext:Rn,useEffect:$d,useImperativeHandle:Ly,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Fy,useReducer:zd,useRef:jy,useState:function(){return zd(dl)},useDebugValue:Wd,useDeferredValue:function(r){var s=Pn();return By(s,At.memoizedState,r)},useTransition:function(){var r=zd(dl)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:Sy,useSyncExternalStore:ky,useId:zy,unstable_isNewReconciler:!1},DS={readContext:Rn,useCallback:Oy,useContext:Rn,useEffect:$d,useImperativeHandle:Ly,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Fy,useReducer:Ud,useRef:jy,useState:function(){return Ud(dl)},useDebugValue:Wd,useDeferredValue:function(r){var s=Pn();return At===null?s.memoizedState=r:By(s,At.memoizedState,r)},useTransition:function(){var r=Ud(dl)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:Sy,useSyncExternalStore:ky,useId:zy,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Hd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var mc={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=rn(),y=Mi(r),x=Qr(h,y);x.payload=s,l!=null&&(x.callback=l),s=ji(r,x,y),s!==null&&(Xn(s,r,y,h),oc(s,r,y))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=rn(),y=Mi(r),x=Qr(h,y);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=ji(r,x,y),s!==null&&(Xn(s,r,y,h),oc(s,r,y))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=rn(),h=Mi(r),y=Qr(l,h);y.tag=2,s!=null&&(y.callback=s),s=ji(r,y,h),s!==null&&(Xn(s,r,h,l),oc(s,r,h))}};function Hy(r,s,l,h,y,x,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,S):s.prototype&&s.prototype.isPureReactComponent?!Za(l,h)||!Za(y,x):!0}function Ky(r,s,l){var h=!1,y=Ii,x=s.contextType;return typeof x=="object"&&x!==null?x=Rn(x):(y=un(s)?Es:Kt.current,h=s.contextTypes,x=(h=h!=null)?Ro(r,y):Ii),s=new s(l,x),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=mc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=x),s}function qy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&mc.enqueueReplaceState(s,s.state,null)}function Kd(r,s,l,h){var y=r.stateNode;y.props=l,y.state=r.memoizedState,y.refs={},jd(r);var x=s.contextType;typeof x=="object"&&x!==null?y.context=Rn(x):(x=un(s)?Es:Kt.current,y.context=Ro(r,x)),y.state=r.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Hd(r,s,x,l),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&mc.enqueueReplaceState(y,y.state,null),ac(r,l,y,h),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,s){try{var l="",h=s;do l+=De(h),h=h.return;while(h);var y=l}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:s,stack:y,digest:null}}function qd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Gd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var NS=typeof WeakMap=="function"?WeakMap:Map;function Gy(r,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){wc||(wc=!0,cf=h),Gd(r,s)},l}function Qy(r,s,l){l=Qr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var y=s.value;l.payload=function(){return h(y)},l.callback=function(){Gd(r,s)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Gd(r,s),typeof h!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function Yy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new NS;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(l)||(y.add(l),r=QS.bind(null,r,s,l),s.then(r,r))}function Xy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Jy(r,s,l,h,y){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,ji(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var MS=Y.ReactCurrentOwner,cn=!1;function nn(r,s,l,h){s.child=r===null?vy(s,null,l,h):Do(s,r.child,l,h)}function Zy(r,s,l,h,y){l=l.render;var x=s.ref;return Mo(s,y),h=Fd(r,s,l,h,x,y),l=Bd(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Yr(r,s,y)):(it&&l&&Ed(s),s.flags|=1,nn(r,s,h,y),s.child)}function e0(r,s,l,h,y){if(r===null){var x=l.type;return typeof x=="function"&&!yf(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,t0(r,s,x,h,y)):(r=Cc(l.type,null,h,s,s.mode,y),r.ref=s.ref,r.return=s,s.child=r)}if(x=r.child,(r.lanes&y)===0){var S=x.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(S,h)&&r.ref===s.ref)return Yr(r,s,y)}return s.flags|=1,r=Oi(x,h),r.ref=s.ref,r.return=s,s.child=r}function t0(r,s,l,h,y){if(r!==null){var x=r.memoizedProps;if(Za(x,h)&&r.ref===s.ref)if(cn=!1,s.pendingProps=h=x,(r.lanes&y)!==0)(r.flags&131072)!==0&&(cn=!0);else return s.lanes=r.lanes,Yr(r,s,y)}return Qd(r,s,l,h,y)}function n0(r,s,l){var h=s.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Bo,Sn),Sn|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(Bo,Sn),Sn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:l,Xe(Bo,Sn),Sn|=h}else x!==null?(h=x.baseLanes|l,s.memoizedState=null):h=l,Xe(Bo,Sn),Sn|=h;return nn(r,s,y,l),s.child}function r0(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qd(r,s,l,h,y){var x=un(l)?Es:Kt.current;return x=Ro(s,x),Mo(s,y),l=Fd(r,s,l,h,x,y),h=Bd(),r!==null&&!cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~y,Yr(r,s,y)):(it&&h&&Ed(s),s.flags|=1,nn(r,s,l,y),s.child)}function i0(r,s,l,h,y){if(un(l)){var x=!0;Ju(s)}else x=!1;if(Mo(s,y),s.stateNode===null)gc(r,s),Ky(s,l,h),Kd(s,l,h,y),h=!0;else if(r===null){var S=s.stateNode,V=s.memoizedProps;S.props=V;var O=S.context,G=l.contextType;typeof G=="object"&&G!==null?G=Rn(G):(G=un(l)?Es:Kt.current,G=Ro(s,G));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==h||O!==G)&&qy(s,S,h,G),Pi=!1;var te=s.memoizedState;S.state=te,ac(s,h,S,y),O=s.memoizedState,V!==h||te!==O||ln.current||Pi?(typeof ne=="function"&&(Hd(s,l,ne,h),O=s.memoizedState),(V=Pi||Hy(s,l,V,h,te,O,G))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),S.props=h,S.state=O,S.context=G,h=V):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,_y(r,s),V=s.memoizedProps,G=s.type===s.elementType?V:Gn(s.type,V),S.props=G,re=s.pendingProps,te=S.context,O=l.contextType,typeof O=="object"&&O!==null?O=Rn(O):(O=un(l)?Es:Kt.current,O=Ro(s,O));var ue=l.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==re||te!==O)&&qy(s,S,h,O),Pi=!1,te=s.memoizedState,S.state=te,ac(s,h,S,y);var me=s.memoizedState;V!==re||te!==me||ln.current||Pi?(typeof ue=="function"&&(Hd(s,l,ue,h),me=s.memoizedState),(G=Pi||Hy(s,l,G,h,te,me,O)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,me,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,me,O)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),S.props=h,S.state=me,S.context=O,h=G):(typeof S.componentDidUpdate!="function"||V===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),h=!1)}return Yd(r,s,l,h,x,y)}function Yd(r,s,l,h,y,x){r0(r,s);var S=(s.flags&128)!==0;if(!h&&!S)return y&&uy(s,l,!1),Yr(r,s,x);h=s.stateNode,MS.current=s;var V=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&S?(s.child=Do(s,r.child,null,x),s.child=Do(s,null,V,x)):nn(r,s,V,x),s.memoizedState=h.state,y&&uy(s,l,!0),s.child}function s0(r){var s=r.stateNode;s.pendingContext?ay(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ay(r,s.context,!1),Vd(r,s.containerInfo)}function o0(r,s,l,h,y){return Vo(),bd(y),s.flags|=256,nn(r,s,l,h),s.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Jd(r){return{baseLanes:r,cachePool:null,transitions:null}}function a0(r,s,l){var h=s.pendingProps,y=st.current,x=!1,S=(s.flags&128)!==0,V;if((V=S)||(V=r!==null&&r.memoizedState===null?!1:(y&2)!==0),V?(x=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),Xe(st,y&1),r===null)return kd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=h.children,r=h.fallback,x?(h=s.mode,x=s.child,S={mode:"hidden",children:S},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=Ac(S,h,0,null),r=js(r,h,l,null),x.return=s,r.return=s,x.sibling=r,s.child=x,s.child.memoizedState=Jd(l),s.memoizedState=Xd,r):Zd(s,S));if(y=r.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return LS(r,s,S,h,V,y,l);if(x){x=h.fallback,S=s.mode,y=r.child,V=y.sibling;var O={mode:"hidden",children:h.children};return(S&1)===0&&s.child!==y?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=Oi(y,O),h.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=Oi(V,x):(x=js(x,S,l,null),x.flags|=2),x.return=s,h.return=s,h.sibling=x,s.child=h,h=x,x=s.child,S=r.child.memoizedState,S=S===null?Jd(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=r.childLanes&~l,s.memoizedState=Xd,h}return x=r.child,r=x.sibling,h=Oi(x,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Zd(r,s){return s=Ac({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function pc(r,s,l,h){return h!==null&&bd(h),Do(s,r.child,null,l),r=Zd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function LS(r,s,l,h,y,x,S){if(l)return s.flags&256?(s.flags&=-257,h=qd(Error(n(422))),pc(r,s,S,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(x=h.fallback,y=s.mode,h=Ac({mode:"visible",children:h.children},y,0,null),x=js(x,y,S,null),x.flags|=2,h.return=s,x.return=s,h.sibling=x,s.child=h,(s.mode&1)!==0&&Do(s,r.child,null,S),s.child.memoizedState=Jd(S),s.memoizedState=Xd,x);if((s.mode&1)===0)return pc(r,s,S,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var V=h.dgst;return h=V,x=Error(n(419)),h=qd(x,h,void 0),pc(r,s,S,h)}if(V=(S&r.childLanes)!==0,cn||V){if(h=Dt,h!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|S))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Gr(r,y),Xn(h,r,y,-1))}return gf(),h=qd(Error(n(421))),pc(r,s,S,h)}return y.data==="$?"?(s.flags|=128,s.child=r.child,s=YS.bind(null,r),y._reactRetry=s,null):(r=x.treeContext,Tn=Ci(y.nextSibling),En=s,it=!0,qn=null,r!==null&&(An[In++]=Kr,An[In++]=qr,An[In++]=Ts,Kr=r.id,qr=r.overflow,Ts=s),s=Zd(s,h.children),s.flags|=4096,s)}function l0(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Rd(r.return,s,l)}function ef(r,s,l,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=y)}function u0(r,s,l){var h=s.pendingProps,y=h.revealOrder,x=h.tail;if(nn(r,s,h.children,l),h=st.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&l0(r,l,s);else if(r.tag===19)l0(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Xe(st,h),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(l=s.child,y=null;l!==null;)r=l.alternate,r!==null&&lc(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),ef(s,!1,y,l,x);break;case"backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(r=y.alternate,r!==null&&lc(r)===null){s.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}ef(s,!0,l,null,x);break;case"together":ef(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Yr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),As|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Oi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Oi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function OS(r,s,l){switch(s.tag){case 3:s0(s),Vo();break;case 5:Ty(s);break;case 1:un(s.type)&&Ju(s);break;case 4:Vd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,y=s.memoizedProps.value;Xe(ic,h._currentValue),h._currentValue=y;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Xe(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?a0(r,s,l):(Xe(st,st.current&1),r=Yr(r,s,l),r!==null?r.sibling:null);Xe(st,st.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return u0(r,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Xe(st,st.current),h)break;return null;case 22:case 23:return s.lanes=0,n0(r,s,l)}return Yr(r,s,l)}var c0,tf,h0,d0;c0=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},tf=function(){},h0=function(r,s,l,h){var y=r.memoizedProps;if(y!==h){r=s.stateNode,bs(wr.current);var x=null;switch(l){case"input":y=to(r,y),h=to(r,h),x=[];break;case"select":y=ae({},y,{value:void 0}),h=ae({},h,{value:void 0}),x=[];break;case"textarea":y=Aa(r,y),h=Aa(r,h),x=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Qu)}$n(l,h);var S;l=null;for(G in y)if(!h.hasOwnProperty(G)&&y.hasOwnProperty(G)&&y[G]!=null)if(G==="style"){var V=y[G];for(S in V)V.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?x||(x=[]):(x=x||[]).push(G,null));for(G in h){var O=h[G];if(V=y!=null?y[G]:void 0,h.hasOwnProperty(G)&&O!==V&&(O!=null||V!=null))if(G==="style")if(V){for(S in V)!V.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in O)O.hasOwnProperty(S)&&V[S]!==O[S]&&(l||(l={}),l[S]=O[S])}else l||(x||(x=[]),x.push(G,l)),l=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,V=V?V.__html:void 0,O!=null&&V!==O&&(x=x||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(x=x||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&et("scroll",r),x||V===O||(x=[])):(x=x||[]).push(G,O))}l&&(x=x||[]).push("style",l);var G=x;(s.updateQueue=G)&&(s.flags|=4)}},d0=function(r,s,l,h){l!==h&&(s.flags|=4)};function ml(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function FS(r,s,l){var h=s.pendingProps;switch(Td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return un(s.type)&&Xu(),Gt(s),null;case 3:return h=s.stateNode,Lo(),tt(ln),tt(Kt),Md(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(nc(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(ff(qn),qn=null))),tf(r,s),Gt(s),null;case 5:Dd(s);var y=bs(ul.current);if(l=s.type,r!==null&&s.stateNode!=null)h0(r,s,l,h,y),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Gt(s),null}if(r=bs(wr.current),nc(s)){h=s.stateNode,l=s.type;var x=s.memoizedProps;switch(h[_r]=s,h[il]=x,r=(s.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(y=0;y<tl.length;y++)et(tl[y],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":_u(h,x),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},et("invalid",h);break;case"textarea":Ia(h,x),et("invalid",h)}$n(l,x),y=null;for(var S in x)if(x.hasOwnProperty(S)){var V=x[S];S==="children"?typeof V=="string"?h.textContent!==V&&(x.suppressHydrationWarning!==!0&&Gu(h.textContent,V,r),y=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&Gu(h.textContent,V,r),y=["children",""+V]):o.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&et("scroll",h)}switch(l){case"input":eo(h),Ca(h,x,!0);break;case"textarea":eo(h),hi(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Qu)}h=y,s.updateQueue=h,h!==null&&(s.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ra(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=S.createElement(l,{is:h.is}):(r=S.createElement(l),l==="select"&&(S=r,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):r=S.createElementNS(r,l),r[_r]=s,r[il]=h,c0(r,s,!1,!1),s.stateNode=r;e:{switch(S=so(l,h),l){case"dialog":et("cancel",r),et("close",r),y=h;break;case"iframe":case"object":case"embed":et("load",r),y=h;break;case"video":case"audio":for(y=0;y<tl.length;y++)et(tl[y],r);y=h;break;case"source":et("error",r),y=h;break;case"img":case"image":case"link":et("error",r),et("load",r),y=h;break;case"details":et("toggle",r),y=h;break;case"input":_u(r,h),y=to(r,h),et("invalid",r);break;case"option":y=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},y=ae({},h,{value:void 0}),et("invalid",r);break;case"textarea":Ia(r,h),y=Aa(r,h),et("invalid",r);break;default:y=h}$n(l,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var O=V[x];x==="style"?io(r,O):x==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Eu(r,O)):x==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&as(r,O):typeof O=="number"&&as(r,""+O):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?O!=null&&x==="onScroll"&&et("scroll",r):O!=null&&j(r,x,O,S))}switch(l){case"input":eo(r),Ca(r,h,!1);break;case"textarea":eo(r),hi(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ze(h.value));break;case"select":r.multiple=!!h.multiple,x=h.value,x!=null?Un(r,!!h.multiple,x,!1):h.defaultValue!=null&&Un(r,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(r&&s.stateNode!=null)d0(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=bs(ul.current),bs(wr.current),nc(s)){if(h=s.stateNode,l=s.memoizedProps,h[_r]=s,(x=h.nodeValue!==l)&&(r=En,r!==null))switch(r.tag){case 3:Gu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gu(h.nodeValue,l,(r.mode&1)!==0)}x&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[_r]=s,s.stateNode=h}return Gt(s),null;case 13:if(tt(st),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&Tn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)py(),Vo(),s.flags|=98560,x=!1;else if(x=nc(s),h!==null&&h.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[_r]=s}else Vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),x=!1}else qn!==null&&(ff(qn),qn=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(st.current&1)!==0?It===0&&(It=3):gf())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return Lo(),tf(r,s),r===null&&nl(s.stateNode.containerInfo),Gt(s),null;case 10:return Id(s.type._context),Gt(s),null;case 17:return un(s.type)&&Xu(),Gt(s),null;case 19:if(tt(st),x=s.memoizedState,x===null)return Gt(s),null;if(h=(s.flags&128)!==0,S=x.rendering,S===null)if(h)ml(x,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=lc(r),S!==null){for(s.flags|=128,ml(x,!1),h=S.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)x=l,r=h,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,r=S.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Xe(st,st.current&1|2),s.child}r=r.sibling}x.tail!==null&&Ze()>zo&&(s.flags|=128,h=!0,ml(x,!1),s.lanes=4194304)}else{if(!h)if(r=lc(S),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ml(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!it)return Gt(s),null}else 2*Ze()-x.renderingStartTime>zo&&l!==1073741824&&(s.flags|=128,h=!0,ml(x,!1),s.lanes=4194304);x.isBackwards?(S.sibling=s.child,s.child=S):(l=x.last,l!==null?l.sibling=S:s.child=S,x.last=S)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ze(),s.sibling=null,l=st.current,Xe(st,h?l&1|2:l&1),s):(Gt(s),null);case 22:case 23:return pf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Sn&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function BS(r,s){switch(Td(s),s.tag){case 1:return un(s.type)&&Xu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Lo(),tt(ln),tt(Kt),Md(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Dd(s),null;case 13:if(tt(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(st),null;case 4:return Lo(),null;case 10:return Id(s.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var yc=!1,Qt=!1,zS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Fo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(r,s,h)}else l.current=null}function nf(r,s,l){try{l()}catch(h){dt(r,s,h)}}var f0=!1;function US(r,s){if(md=zr,r=Hg(),od(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var S=0,V=-1,O=-1,G=0,ne=0,re=r,te=null;t:for(;;){for(var ue;re!==l||y!==0&&re.nodeType!==3||(V=S+y),re!==x||h!==0&&re.nodeType!==3||(O=S+h),re.nodeType===3&&(S+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===r)break t;if(te===l&&++G===y&&(V=S),te===x&&++ne===h&&(O=S),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}l=V===-1||O===-1?null:{start:V,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(pd={focusedElem:r,selectionRange:l},zr=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var pe=me.memoizedProps,yt=me.memoizedState,H=s.stateNode,B=H.getSnapshotBeforeUpdate(s.elementType===s.type?pe:Gn(s.type,pe),yt);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){dt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return me=f0,f0=!1,me}function pl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&r)===r){var x=y.destroy;y.destroy=void 0,x!==void 0&&nf(s,l,x)}y=y.next}while(y!==h)}}function vc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function rf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function m0(r){var s=r.alternate;s!==null&&(r.alternate=null,m0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[_r],delete s[il],delete s[xd],delete s[SS],delete s[kS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function p0(r){return r.tag===5||r.tag===3||r.tag===4}function g0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Qu));else if(h!==4&&(r=r.child,r!==null))for(sf(r,s,l),r=r.sibling;r!==null;)sf(r,s,l),r=r.sibling}function of(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(of(r,s,l),r=r.sibling;r!==null;)of(r,s,l),r=r.sibling}var Ft=null,Qn=!1;function Vi(r,s,l){for(l=l.child;l!==null;)y0(r,s,l),l=l.sibling}function y0(r,s,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ds,l)}catch{}switch(l.tag){case 5:Qt||Fo(l,s);case 6:var h=Ft,y=Qn;Ft=null,Vi(r,s,l),Ft=h,Qn=y,Ft!==null&&(Qn?(r=Ft,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Qn?(r=Ft,l=l.stateNode,r.nodeType===8?vd(r.parentNode,l):r.nodeType===1&&vd(r,l),Ti(r)):vd(Ft,l.stateNode));break;case 4:h=Ft,y=Qn,Ft=l.stateNode.containerInfo,Qn=!0,Vi(r,s,l),Ft=h,Qn=y;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var x=y,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&nf(l,s,S),y=y.next}while(y!==h)}Vi(r,s,l);break;case 1:if(!Qt&&(Fo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(V){dt(l,s,V)}Vi(r,s,l);break;case 21:Vi(r,s,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,Vi(r,s,l),Qt=h):Vi(r,s,l);break;default:Vi(r,s,l)}}function v0(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new zS),s.forEach(function(h){var y=XS.bind(null,r,h);l.has(h)||(l.add(h),h.then(y,y))})}}function Yn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];try{var x=r,S=s,V=S;e:for(;V!==null;){switch(V.tag){case 5:Ft=V.stateNode,Qn=!1;break e;case 3:Ft=V.stateNode.containerInfo,Qn=!0;break e;case 4:Ft=V.stateNode.containerInfo,Qn=!0;break e}V=V.return}if(Ft===null)throw Error(n(160));y0(x,S,y),Ft=null,Qn=!1;var O=y.alternate;O!==null&&(O.return=null),y.return=null}catch(G){dt(y,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)x0(s,r),s=s.sibling}function x0(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Yn(s,r),Tr(r),h&4){try{pl(3,r,r.return),vc(3,r)}catch(pe){dt(r,r.return,pe)}try{pl(5,r,r.return)}catch(pe){dt(r,r.return,pe)}}break;case 1:Yn(s,r),Tr(r),h&512&&l!==null&&Fo(l,l.return);break;case 5:if(Yn(s,r),Tr(r),h&512&&l!==null&&Fo(l,l.return),r.flags&32){var y=r.stateNode;try{as(y,"")}catch(pe){dt(r,r.return,pe)}}if(h&4&&(y=r.stateNode,y!=null)){var x=r.memoizedProps,S=l!==null?l.memoizedProps:x,V=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&no(y,x),so(V,S);var G=so(V,x);for(S=0;S<O.length;S+=2){var ne=O[S],re=O[S+1];ne==="style"?io(y,re):ne==="dangerouslySetInnerHTML"?Eu(y,re):ne==="children"?as(y,re):j(y,ne,re,G)}switch(V){case"input":os(y,x);break;case"textarea":wu(y,x);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Un(y,!!x.multiple,ue,!1):te!==!!x.multiple&&(x.defaultValue!=null?Un(y,!!x.multiple,x.defaultValue,!0):Un(y,!!x.multiple,x.multiple?[]:"",!1))}y[il]=x}catch(pe){dt(r,r.return,pe)}}break;case 6:if(Yn(s,r),Tr(r),h&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,x=r.memoizedProps;try{y.nodeValue=x}catch(pe){dt(r,r.return,pe)}}break;case 3:if(Yn(s,r),Tr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ti(s.containerInfo)}catch(pe){dt(r,r.return,pe)}break;case 4:Yn(s,r),Tr(r);break;case 13:Yn(s,r),Tr(r),y=r.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(uf=Ze())),h&4&&v0(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(Qt=(G=Qt)||ne,Yn(s,r),Qt=G):Yn(s,r),Tr(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ne&&(r.mode&1)!==0)for(de=r,ne=r.child;ne!==null;){for(re=de=ne;de!==null;){switch(te=de,ue=te.child,te.tag){case 0:case 11:case 14:case 15:pl(4,te,te.return);break;case 1:Fo(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){h=te,l=te.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(pe){dt(h,l,pe)}}break;case 5:Fo(te,te.return);break;case 22:if(te.memoizedState!==null){E0(re);continue}}ue!==null?(ue.return=te,de=ue):E0(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{y=re.stateNode,G?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=re.stateNode,O=re.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,V.style.display=mi("display",S))}catch(pe){dt(r,r.return,pe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(pe){dt(r,r.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Yn(s,r),Tr(r),h&4&&v0(r);break;case 21:break;default:Yn(s,r),Tr(r)}}function Tr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(p0(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(as(y,""),h.flags&=-33);var x=g0(r);of(r,x,y);break;case 3:case 4:var S=h.stateNode.containerInfo,V=g0(r);sf(r,V,S);break;default:throw Error(n(161))}}catch(O){dt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $S(r,s,l){de=r,_0(r)}function _0(r,s,l){for(var h=(r.mode&1)!==0;de!==null;){var y=de,x=y.child;if(y.tag===22&&h){var S=y.memoizedState!==null||yc;if(!S){var V=y.alternate,O=V!==null&&V.memoizedState!==null||Qt;V=yc;var G=Qt;if(yc=S,(Qt=O)&&!G)for(de=y;de!==null;)S=de,O=S.child,S.tag===22&&S.memoizedState!==null?T0(y):O!==null?(O.return=S,de=O):T0(y);for(;x!==null;)de=x,_0(x),x=x.sibling;de=y,yc=V,Qt=G}w0(r)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,de=x):w0(r)}}function w0(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||vc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var y=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(y,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&Ey(s,x,h);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ey(s,S,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Ti(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||s.flags&512&&rf(s)}catch(te){dt(s,s.return,te)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function E0(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function T0(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{vc(4,s)}catch(O){dt(s,l,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var y=s.return;try{h.componentDidMount()}catch(O){dt(s,y,O)}}var x=s.return;try{rf(s)}catch(O){dt(s,x,O)}break;case 5:var S=s.return;try{rf(s)}catch(O){dt(s,S,O)}}}catch(O){dt(s,s.return,O)}if(s===r){de=null;break}var V=s.sibling;if(V!==null){V.return=s.return,de=V;break}de=s.return}}var WS=Math.ceil,xc=Y.ReactCurrentDispatcher,af=Y.ReactCurrentOwner,jn=Y.ReactCurrentBatchConfig,Ue=0,Dt=null,Tt=null,Bt=0,Sn=0,Bo=Ai(0),It=0,gl=null,As=0,_c=0,lf=0,yl=null,hn=null,uf=0,zo=1/0,Xr=null,wc=!1,cf=null,Di=null,Ec=!1,Ni=null,Tc=0,vl=0,hf=null,Sc=-1,kc=0;function rn(){return(Ue&6)!==0?Ze():Sc!==-1?Sc:Sc=Ze()}function Mi(r){return(r.mode&1)===0?1:(Ue&2)!==0&&Bt!==0?Bt&-Bt:CS.transition!==null?(kc===0&&(kc=Fa()),kc):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:go(r.type)),r)}function Xn(r,s,l,h){if(50<vl)throw vl=0,hf=null,Error(n(185));gs(r,l,h),((Ue&2)===0||r!==Dt)&&(r===Dt&&((Ue&2)===0&&(_c|=l),It===4&&Li(r,Bt)),dn(r,h),l===1&&Ue===0&&(s.mode&1)===0&&(zo=Ze()+500,Zu&&Ri()))}function dn(r,s){var l=r.callbackNode;ps(r,s);var h=Or(r,r===Dt?Bt:0);if(h===0)l!==null&&lo(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&lo(l),s===1)r.tag===0?bS(k0.bind(null,r)):cy(k0.bind(null,r)),ES(function(){(Ue&6)===0&&Ri()}),l=null;else{switch(cr(h)){case 1:l=uo;break;case 4:l=Ma;break;case 16:l=hs;break;case 536870912:l=co;break;default:l=hs}l=V0(l,S0.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function S0(r,s){if(Sc=-1,kc=0,(Ue&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Uo()&&r.callbackNode!==l)return null;var h=Or(r,r===Dt?Bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=bc(r,h);else{s=h;var y=Ue;Ue|=2;var x=C0();(Dt!==r||Bt!==s)&&(Xr=null,zo=Ze()+500,Rs(r,s));do try{qS();break}catch(V){b0(r,V)}while(!0);Ad(),xc.current=x,Ue=y,Tt!==null?s=0:(Dt=null,Bt=0,s=It)}if(s!==0){if(s===2&&(y=Oa(r),y!==0&&(h=y,s=df(r,y))),s===1)throw l=gl,Rs(r,0),Li(r,h),dn(r,Ze()),l;if(s===6)Li(r,h);else{if(y=r.current.alternate,(h&30)===0&&!HS(y)&&(s=bc(r,h),s===2&&(x=Oa(r),x!==0&&(h=x,s=df(r,x))),s===1))throw l=gl,Rs(r,0),Li(r,h),dn(r,Ze()),l;switch(r.finishedWork=y,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Ps(r,hn,Xr);break;case 3:if(Li(r,h),(h&130023424)===h&&(s=uf+500-Ze(),10<s)){if(Or(r,0)!==0)break;if(y=r.suspendedLanes,(y&h)!==h){rn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=yd(Ps.bind(null,r,hn,Xr),s);break}Ps(r,hn,Xr);break;case 4:if(Li(r,h),(h&4194240)===h)break;for(s=r.eventTimes,y=-1;0<h;){var S=31-yn(h);x=1<<S,S=s[S],S>y&&(y=S),h&=~x}if(h=y,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*WS(h/1960))-h,10<h){r.timeoutHandle=yd(Ps.bind(null,r,hn,Xr),h);break}Ps(r,hn,Xr);break;case 5:Ps(r,hn,Xr);break;default:throw Error(n(329))}}}return dn(r,Ze()),r.callbackNode===l?S0.bind(null,r):null}function df(r,s){var l=yl;return r.current.memoizedState.isDehydrated&&(Rs(r,s).flags|=256),r=bc(r,s),r!==2&&(s=hn,hn=l,s!==null&&ff(s)),r}function ff(r){hn===null?hn=r:hn.push.apply(hn,r)}function HS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var y=l[h],x=y.getSnapshot;y=y.value;try{if(!Kn(x(),y))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Li(r,s){for(s&=~lf,s&=~_c,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-yn(s),h=1<<l;r[l]=-1,s&=~h}}function k0(r){if((Ue&6)!==0)throw Error(n(327));Uo();var s=Or(r,0);if((s&1)===0)return dn(r,Ze()),null;var l=bc(r,s);if(r.tag!==0&&l===2){var h=Oa(r);h!==0&&(s=h,l=df(r,h))}if(l===1)throw l=gl,Rs(r,0),Li(r,s),dn(r,Ze()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ps(r,hn,Xr),dn(r,Ze()),null}function mf(r,s){var l=Ue;Ue|=1;try{return r(s)}finally{Ue=l,Ue===0&&(zo=Ze()+500,Zu&&Ri())}}function Is(r){Ni!==null&&Ni.tag===0&&(Ue&6)===0&&Uo();var s=Ue;Ue|=1;var l=jn.transition,h=Oe;try{if(jn.transition=null,Oe=1,r)return r()}finally{Oe=h,jn.transition=l,Ue=s,(Ue&6)===0&&Ri()}}function pf(){Sn=Bo.current,tt(Bo)}function Rs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,wS(l)),Tt!==null)for(l=Tt.return;l!==null;){var h=l;switch(Td(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Xu();break;case 3:Lo(),tt(ln),tt(Kt),Md();break;case 5:Dd(h);break;case 4:Lo();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Id(h.type._context);break;case 22:case 23:pf()}l=l.return}if(Dt=r,Tt=r=Oi(r.current,null),Bt=Sn=s,It=0,gl=null,lf=_c=As=0,hn=yl=null,ks!==null){for(s=0;s<ks.length;s++)if(l=ks[s],h=l.interleaved,h!==null){l.interleaved=null;var y=h.next,x=l.pending;if(x!==null){var S=x.next;x.next=y,h.next=S}l.pending=h}ks=null}return r}function b0(r,s){do{var l=Tt;try{if(Ad(),uc.current=fc,cc){for(var h=ot.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}cc=!1}if(Cs=0,Vt=At=ot=null,cl=!1,hl=0,af.current=null,l===null||l.return===null){It=1,gl=s,Tt=null;break}e:{var x=r,S=l.return,V=l,O=s;if(s=Bt,V.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ne=V,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Xy(S);if(ue!==null){ue.flags&=-257,Jy(ue,S,V,x,s),ue.mode&1&&Yy(x,G,s),s=ue,O=G;var me=s.updateQueue;if(me===null){var pe=new Set;pe.add(O),s.updateQueue=pe}else me.add(O);break e}else{if((s&1)===0){Yy(x,G,s),gf();break e}O=Error(n(426))}}else if(it&&V.mode&1){var yt=Xy(S);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Jy(yt,S,V,x,s),bd(Oo(O,V));break e}}x=O=Oo(O,V),It!==4&&(It=2),yl===null?yl=[x]:yl.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var H=Gy(x,O,s);wy(x,H);break e;case 1:V=O;var B=x.type,q=x.stateNode;if((x.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Di===null||!Di.has(q)))){x.flags|=65536,s&=-s,x.lanes|=s;var se=Qy(x,V,s);wy(x,se);break e}}x=x.return}while(x!==null)}I0(l)}catch(ge){s=ge,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function C0(){var r=xc.current;return xc.current=fc,r===null?fc:r}function gf(){(It===0||It===3||It===2)&&(It=4),Dt===null||(As&268435455)===0&&(_c&268435455)===0||Li(Dt,Bt)}function bc(r,s){var l=Ue;Ue|=2;var h=C0();(Dt!==r||Bt!==s)&&(Xr=null,Rs(r,s));do try{KS();break}catch(y){b0(r,y)}while(!0);if(Ad(),Ue=l,xc.current=h,Tt!==null)throw Error(n(261));return Dt=null,Bt=0,It}function KS(){for(;Tt!==null;)A0(Tt)}function qS(){for(;Tt!==null&&!cs();)A0(Tt)}function A0(r){var s=j0(r.alternate,r,Sn);r.memoizedProps=r.pendingProps,s===null?I0(r):Tt=s,af.current=null}function I0(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=FS(l,s,Sn),l!==null){Tt=l;return}}else{if(l=BS(l,s),l!==null){l.flags&=32767,Tt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);It===0&&(It=5)}function Ps(r,s,l){var h=Oe,y=jn.transition;try{jn.transition=null,Oe=1,GS(r,s,l,h)}finally{jn.transition=y,Oe=h}return null}function GS(r,s,l,h){do Uo();while(Ni!==null);if((Ue&6)!==0)throw Error(n(327));l=r.finishedWork;var y=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(td(r,x),r===Dt&&(Tt=Dt=null,Bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ec||(Ec=!0,V0(hs,function(){return Uo(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=jn.transition,jn.transition=null;var S=Oe;Oe=1;var V=Ue;Ue|=4,af.current=null,US(r,l),x0(l,r),mS(pd),zr=!!md,pd=md=null,r.current=l,$S(l),Lr(),Ue=V,Oe=S,jn.transition=x}else r.current=l;if(Ec&&(Ec=!1,Ni=r,Tc=y),x=r.pendingLanes,x===0&&(Di=null),Vu(l.stateNode),dn(r,Ze()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)y=s[l],h(y.value,{componentStack:y.stack,digest:y.digest});if(wc)throw wc=!1,r=cf,cf=null,r;return(Tc&1)!==0&&r.tag!==0&&Uo(),x=r.pendingLanes,(x&1)!==0?r===hf?vl++:(vl=0,hf=r):vl=0,Ri(),null}function Uo(){if(Ni!==null){var r=cr(Tc),s=jn.transition,l=Oe;try{if(jn.transition=null,Oe=16>r?16:r,Ni===null)var h=!1;else{if(r=Ni,Ni=null,Tc=0,(Ue&6)!==0)throw Error(n(331));var y=Ue;for(Ue|=4,de=r.current;de!==null;){var x=de,S=x.child;if((de.flags&16)!==0){var V=x.deletions;if(V!==null){for(var O=0;O<V.length;O++){var G=V[O];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:pl(8,ne,x)}var re=ne.child;if(re!==null)re.return=ne,de=re;else for(;de!==null;){ne=de;var te=ne.sibling,ue=ne.return;if(m0(ne),ne===G){de=null;break}if(te!==null){te.return=ue,de=te;break}de=ue}}}var me=x.alternate;if(me!==null){var pe=me.child;if(pe!==null){me.child=null;do{var yt=pe.sibling;pe.sibling=null,pe=yt}while(pe!==null)}}de=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,de=S;else e:for(;de!==null;){if(x=de,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:pl(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,de=H;break e}de=x.return}}var B=r.current;for(de=B;de!==null;){S=de;var q=S.child;if((S.subtreeFlags&2064)!==0&&q!==null)q.return=S,de=q;else e:for(S=B;de!==null;){if(V=de,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:vc(9,V)}}catch(ge){dt(V,V.return,ge)}if(V===S){de=null;break e}var se=V.sibling;if(se!==null){se.return=V.return,de=se;break e}de=V.return}}if(Ue=y,Ri(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ds,r)}catch{}h=!0}return h}finally{Oe=l,jn.transition=s}}return!1}function R0(r,s,l){s=Oo(l,s),s=Gy(r,s,1),r=ji(r,s,1),s=rn(),r!==null&&(gs(r,1,s),dn(r,s))}function dt(r,s,l){if(r.tag===3)R0(r,r,l);else for(;s!==null;){if(s.tag===3){R0(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Di===null||!Di.has(h))){r=Oo(l,r),r=Qy(s,r,1),s=ji(s,r,1),r=rn(),s!==null&&(gs(s,1,r),dn(s,r));break}}s=s.return}}function QS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=rn(),r.pingedLanes|=r.suspendedLanes&l,Dt===r&&(Bt&l)===l&&(It===4||It===3&&(Bt&130023424)===Bt&&500>Ze()-uf?Rs(r,0):lf|=l),dn(r,s)}function P0(r,s){s===0&&((r.mode&1)===0?s=1:(s=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var l=rn();r=Gr(r,s),r!==null&&(gs(r,s,l),dn(r,l))}function YS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),P0(r,l)}function XS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),P0(r,l)}var j0;j0=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||ln.current)cn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return cn=!1,OS(r,s,l);cn=(r.flags&131072)!==0}else cn=!1,it&&(s.flags&1048576)!==0&&hy(s,tc,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;gc(r,s),r=s.pendingProps;var y=Ro(s,Kt.current);Mo(s,l),y=Fd(null,s,h,r,y,l);var x=Bd();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,un(h)?(x=!0,Ju(s)):x=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,jd(s),y.updater=mc,s.stateNode=y,y._reactInternals=s,Kd(s,h,r,l),s=Yd(null,s,h,!0,x,l)):(s.tag=0,it&&x&&Ed(s),nn(null,s,y,l),s=s.child),s;case 16:h=s.elementType;e:{switch(gc(r,s),r=s.pendingProps,y=h._init,h=y(h._payload),s.type=h,y=s.tag=ZS(h),r=Gn(h,r),y){case 0:s=Qd(null,s,h,r,l);break e;case 1:s=i0(null,s,h,r,l);break e;case 11:s=Zy(null,s,h,r,l);break e;case 14:s=e0(null,s,h,Gn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Gn(h,y),Qd(r,s,h,y,l);case 1:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Gn(h,y),i0(r,s,h,y,l);case 3:e:{if(s0(s),r===null)throw Error(n(387));h=s.pendingProps,x=s.memoizedState,y=x.element,_y(r,s),ac(s,h,null,l);var S=s.memoizedState;if(h=S.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){y=Oo(Error(n(423)),s),s=o0(r,s,h,l,y);break e}else if(h!==y){y=Oo(Error(n(424)),s),s=o0(r,s,h,l,y);break e}else for(Tn=Ci(s.stateNode.containerInfo.firstChild),En=s,it=!0,qn=null,l=vy(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vo(),h===y){s=Yr(r,s,l);break e}nn(r,s,h,l)}s=s.child}return s;case 5:return Ty(s),r===null&&kd(s),h=s.type,y=s.pendingProps,x=r!==null?r.memoizedProps:null,S=y.children,gd(h,y)?S=null:x!==null&&gd(h,x)&&(s.flags|=32),r0(r,s),nn(r,s,S,l),s.child;case 6:return r===null&&kd(s),null;case 13:return a0(r,s,l);case 4:return Vd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Do(s,null,h,l):nn(r,s,h,l),s.child;case 11:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Gn(h,y),Zy(r,s,h,y,l);case 7:return nn(r,s,s.pendingProps,l),s.child;case 8:return nn(r,s,s.pendingProps.children,l),s.child;case 12:return nn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,y=s.pendingProps,x=s.memoizedProps,S=y.value,Xe(ic,h._currentValue),h._currentValue=S,x!==null)if(Kn(x.value,S)){if(x.children===y.children&&!ln.current){s=Yr(r,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var V=x.dependencies;if(V!==null){S=x.child;for(var O=V.firstContext;O!==null;){if(O.context===h){if(x.tag===1){O=Qr(-1,l&-l),O.tag=2;var G=x.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),G.pending=O}}x.lanes|=l,O=x.alternate,O!==null&&(O.lanes|=l),Rd(x.return,l,s),V.lanes|=l;break}O=O.next}}else if(x.tag===10)S=x.type===s.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=l,V=S.alternate,V!==null&&(V.lanes|=l),Rd(S,l,s),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===s){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}nn(r,s,y.children,l),s=s.child}return s;case 9:return y=s.type,h=s.pendingProps.children,Mo(s,l),y=Rn(y),h=h(y),s.flags|=1,nn(r,s,h,l),s.child;case 14:return h=s.type,y=Gn(h,s.pendingProps),y=Gn(h.type,y),e0(r,s,h,y,l);case 15:return t0(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Gn(h,y),gc(r,s),s.tag=1,un(h)?(r=!0,Ju(s)):r=!1,Mo(s,l),Ky(s,h,y),Kd(s,h,y,l),Yd(null,s,h,!0,r,l);case 19:return u0(r,s,l);case 22:return n0(r,s,l)}throw Error(n(156,s.tag))};function V0(r,s){return Na(r,s)}function JS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,l,h){return new JS(r,s,l,h)}function yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ZS(r){if(typeof r=="function")return yf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===We)return 14}return 2}function Oi(r,s){var l=r.alternate;return l===null?(l=Vn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Cc(r,s,l,h,y,x){var S=2;if(h=r,typeof r=="function")yf(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case R:return js(l.children,y,x,s);case b:S=8,y|=8;break;case P:return r=Vn(12,l,s,y|2),r.elementType=P,r.lanes=x,r;case D:return r=Vn(13,l,s,y),r.elementType=D,r.lanes=x,r;case Pe:return r=Vn(19,l,s,y),r.elementType=Pe,r.lanes=x,r;case Ee:return Ac(l,y,x,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:S=10;break e;case L:S=9;break e;case $:S=11;break e;case We:S=14;break e;case _t:S=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Vn(S,l,s,y),s.elementType=r,s.type=h,s.lanes=x,s}function js(r,s,l,h){return r=Vn(7,r,h,s),r.lanes=l,r}function Ac(r,s,l,h){return r=Vn(22,r,h,s),r.elementType=Ee,r.lanes=l,r.stateNode={isHidden:!1},r}function vf(r,s,l){return r=Vn(6,r,null,s),r.lanes=l,r}function xf(r,s,l){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function e2(r,s,l,h,y){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function _f(r,s,l,h,y,x,S,V,O){return r=new e2(r,s,l,V,O),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Vn(3,null,null,s),r.current=x,x.stateNode=r,x.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(x),r}function t2(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function D0(r){if(!r)return Ii;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(un(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(un(l))return ly(r,l,s)}return s}function N0(r,s,l,h,y,x,S,V,O){return r=_f(l,h,!0,r,y,x,S,V,O),r.context=D0(null),l=r.current,h=rn(),y=Mi(l),x=Qr(h,y),x.callback=s??null,ji(l,x,y),r.current.lanes=y,gs(r,y,h),dn(r,h),r}function Ic(r,s,l,h){var y=s.current,x=rn(),S=Mi(y);return l=D0(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(x,S),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ji(y,s,S),r!==null&&(Xn(r,y,S,x),oc(r,y,S)),S}function Rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function M0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function wf(r,s){M0(r,s),(r=r.alternate)&&M0(r,s)}function n2(){return null}var L0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ef(r){this._internalRoot=r}Pc.prototype.render=Ef.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ic(r,s,null,null)},Pc.prototype.unmount=Ef.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Is(function(){Ic(null,r,null,null)}),s[Wr]=null}};function Pc(r){this._internalRoot=r}Pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wa();r={blockedOn:null,target:r,priority:s};for(var l=0;l<vn.length&&s!==0&&s<vn[l].priority;l++);vn.splice(l,0,r),l===0&&mo(r)}};function Tf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function jc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function O0(){}function r2(r,s,l,h,y){if(y){if(typeof h=="function"){var x=h;h=function(){var G=Rc(S);x.call(G)}}var S=N0(s,h,r,0,null,!1,!1,"",O0);return r._reactRootContainer=S,r[Wr]=S.current,nl(r.nodeType===8?r.parentNode:r),Is(),S}for(;y=r.lastChild;)r.removeChild(y);if(typeof h=="function"){var V=h;h=function(){var G=Rc(O);V.call(G)}}var O=_f(r,0,!1,null,null,!1,!1,"",O0);return r._reactRootContainer=O,r[Wr]=O.current,nl(r.nodeType===8?r.parentNode:r),Is(function(){Ic(s,O,l,h)}),O}function Vc(r,s,l,h,y){var x=l._reactRootContainer;if(x){var S=x;if(typeof y=="function"){var V=y;y=function(){var O=Rc(S);V.call(O)}}Ic(s,S,r,y)}else S=r2(l,s,r,y,h);return Rc(S)}Ua=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=He(s.pendingLanes);l!==0&&(za(s,l|1),dn(s,Ze()),(Ue&6)===0&&(zo=Ze()+500,Ri()))}break;case 13:Is(function(){var h=Gr(r,1);if(h!==null){var y=rn();Xn(h,r,1,y)}}),wf(r,1)}},ho=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var l=rn();Xn(s,r,134217728,l)}wf(r,134217728)}},$a=function(r){if(r.tag===13){var s=Mi(r),l=Gr(r,s);if(l!==null){var h=rn();Xn(l,r,s,h)}wf(r,s)}},Wa=function(){return Oe},Ha=function(r,s){var l=Oe;try{return Oe=r,s()}finally{Oe=l}},Dr=function(r,s,l){switch(s){case"input":if(os(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var y=Yu(h);if(!y)throw Error(n(90));ba(h),os(h,y)}}}break;case"textarea":wu(r,l);break;case"select":s=l.value,s!=null&&Un(r,!!l.multiple,s,!1)}},Su=mf,ku=Is;var i2={usingClientEntryPoint:!1,Events:[sl,Ao,Yu,gi,yi,mf]},xl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ju(r),r===null?null:r.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||n2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ds=Dc.inject(s2),gn=Dc}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2,fn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(s))throw Error(n(200));return t2(r,s,null,l)},fn.createRoot=function(r,s){if(!Tf(r))throw Error(n(299));var l=!1,h="",y=L0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=_f(r,1,!1,null,null,l,!1,h,y),r[Wr]=s.current,nl(r.nodeType===8?r.parentNode:r),new Ef(s)},fn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ju(s),r=r===null?null:r.stateNode,r},fn.flushSync=function(r){return Is(r)},fn.hydrate=function(r,s,l){if(!jc(s))throw Error(n(200));return Vc(null,r,s,!0,l)},fn.hydrateRoot=function(r,s,l){if(!Tf(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,y=!1,x="",S=L0;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=N0(s,null,r,1,l??null,y,!1,x,S),r[Wr]=s.current,nl(r),h)for(r=0;r<h.length;r++)l=h[r],y=l._getVersion,y=y(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,y]:s.mutableSourceEagerHydrationData.push(l,y);return new Pc(s)},fn.render=function(r,s,l){if(!jc(s))throw Error(n(200));return Vc(null,r,s,!1,l)},fn.unmountComponentAtNode=function(r){if(!jc(r))throw Error(n(40));return r._reactRootContainer?(Is(function(){Vc(null,null,r,!1,function(){r._reactRootContainer=null,r[Wr]=null})}),!0):!1},fn.unstable_batchedUpdates=mf,fn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!jc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Vc(r,s,l,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var K0;function m2(){if(K0)return bf.exports;K0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bf.exports=f2(),bf.exports}var q0;function p2(){if(q0)return Nc;q0=1;var t=m2();return Nc.createRoot=t.createRoot,Nc.hydrateRoot=t.hydrateRoot,Nc}var g2=p2();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G0="popstate";function y2(t={}){function e(o,a){let{pathname:u="/",search:m="",hash:d=""}=Xs(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),am("",{pathname:u,search:m,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let d=o.location.href,p=d.indexOf("#");m=p===-1?d:d.slice(0,p)}return m+"#"+(typeof a=="string"?a:Fl(a))}function i(o,a){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return x2(e,n,i,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v2(){return Math.random().toString(36).substring(2,10)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function am(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||i||v2()}}function Fl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function x2(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,m="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){m="POP";let I=g(),F=I==null?null:I-p;p=I,d&&d({action:m,location:A.location,delta:F})}function w(I,F){m="PUSH";let z=am(A.location,I,F);n&&n(z,I),p=g()+1;let j=Q0(z,p),Y=A.createHref(z);try{u.pushState(j,"",Y)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(Y)}a&&d&&d({action:m,location:A.location,delta:1})}function k(I,F){m="REPLACE";let z=am(A.location,I,F);n&&n(z,I),p=g();let j=Q0(z,p),Y=A.createHref(z);u.replaceState(j,"",Y),a&&d&&d({action:m,location:A.location,delta:0})}function T(I){return _2(I)}let A={get action(){return m},get location(){return t(o,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(G0,v),d=I,()=>{o.removeEventListener(G0,v),d=null}},createHref(I){return e(o,I)},createURL:T,encodeLocation(I){let F=T(I);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:k,go(I){return u.go(I)}};return A}function _2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Fl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Vx(t,e,n="/"){return w2(t,e,n,!1)}function w2(t,e,n,i){let o=typeof e=="string"?Xs(e):e,a=ni(o.pathname||"/",n);if(a==null)return null;let u=Dx(t);E2(u);let m=null;for(let d=0;m==null&&d<u.length;++d){let p=V2(a);m=P2(u[d],p,i)}return m}function Dx(t,e=[],n=[],i="",o=!1){let a=(u,m,d=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;lt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Jr([i,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Dx(u.children,e,w,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:I2(v,u.index),routesMeta:w})};return t.forEach((u,m)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,m);else for(let p of Nx(u.path))a(u,m,!0,p)}),e}function Nx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Nx(i.join("/")),m=[];return m.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&m.push(...u),m.map(d=>t.startsWith("/")&&d===""?"/":d)}function E2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var T2=/^:[\w-]+$/,S2=3,k2=2,b2=1,C2=10,A2=-2,Y0=t=>t==="*";function I2(t,e){let n=t.split("/"),i=n.length;return n.some(Y0)&&(i+=A2),e&&(i+=k2),n.filter(o=>!Y0(o)).reduce((o,a)=>o+(T2.test(a)?S2:a===""?b2:C2),i)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function P2(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let m=0;m<i.length;++m){let d=i[m],p=m===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Jr([a,v.pathname]),pathnameBase:L2(Jr([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=Jr([a,v.pathnameBase]))}return u}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=j2(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let T=m[w]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const k=m[w];return v&&!k?p[g]=void 0:p[g]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function j2(t,e=!1,n=!0){Fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,d)=>(i.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function V2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D2=t=>Mx.test(t);function N2(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Xs(t):t,a;if(n)if(D2(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=X0(n.substring(1),"/"):a=X0(n,e)}else a=e;return{pathname:a,search:O2(i),hash:F2(o)}}function X0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function If(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lx(t){let e=M2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ox(t,e,n,i=!1){let o;typeof t=="string"?o=Xs(t):(o={...t},lt(!o.pathname||!o.pathname.includes("?"),If("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),If("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),If("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,m;if(u==null)m=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}m=v>=0?e[v]:"/"}let d=N2(o,m),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Jr=t=>t.join("/").replace(/\/\/+/g,"/"),L2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,B2=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function z2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function U2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bx(t,e){let n=t;if(typeof n!="string"||!Mx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(Fx)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),m=ni(u.pathname,e);u.origin===a.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{Fn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zx=["POST","PUT","PATCH","DELETE"];new Set(zx);var $2=["GET",...zx];new Set($2);var ha=N.createContext(null);ha.displayName="DataRouter";var Ih=N.createContext(null);Ih.displayName="DataRouterState";var W2=N.createContext(!1),Ux=N.createContext({isTransitioning:!1});Ux.displayName="ViewTransition";var H2=N.createContext(new Map);H2.displayName="Fetchers";var K2=N.createContext(null);K2.displayName="Await";var Bn=N.createContext(null);Bn.displayName="Navigation";var su=N.createContext(null);su.displayName="Location";var Vr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var rp=N.createContext(null);rp.displayName="RouteError";var $x="REACT_ROUTER_ERROR",q2="REDIRECT",G2="ROUTE_ERROR_RESPONSE";function Q2(t){if(t.startsWith(`${$x}:${q2}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Y2(t){if(t.startsWith(`${$x}:${G2}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new B2(e.status,e.statusText,e.data)}catch{}}function X2(t,{relative:e}={}){lt(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Bn),{hash:o,pathname:a,search:u}=au(t,{relative:e}),m=a;return n!=="/"&&(m=a==="/"?n:Jr([n,a])),i.createHref({pathname:m,search:u,hash:o})}function ou(){return N.useContext(su)!=null}function ui(){return lt(ou(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(su).location}var Wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(t){N.useContext(Bn).static||N.useLayoutEffect(t)}function J2(){let{isDataRoute:t}=N.useContext(Vr);return t?hk():Z2()}function Z2(){lt(ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(ha),{basename:e,navigator:n}=N.useContext(Bn),{matches:i}=N.useContext(Vr),{pathname:o}=ui(),a=JSON.stringify(Lx(i)),u=N.useRef(!1);return Hx(()=>{u.current=!0}),N.useCallback((d,p={})=>{if(Fn(u.current,Wx),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=Ox(d,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,o,t])}N.createContext(null);function Kx(){let{matches:t}=N.useContext(Vr),e=t[t.length-1];return e?e.params:{}}function au(t,{relative:e}={}){let{matches:n}=N.useContext(Vr),{pathname:i}=ui(),o=JSON.stringify(Lx(n));return N.useMemo(()=>Ox(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function ek(t,e){return qx(t,e)}function qx(t,e,n,i,o){var z;lt(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Bn),{matches:u}=N.useContext(Vr),m=u[u.length-1],d=m?m.params:{},p=m?m.pathname:"/",g=m?m.pathnameBase:"/",v=m&&m.route;{let j=v&&v.path||"";Qx(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=ui(),k;if(e){let j=typeof e=="string"?Xs(e):e;lt(g==="/"||((z=j.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),k=j}else k=w;let T=k.pathname||"/",A=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=Vx(t,{pathname:A});Fn(v||I!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Fn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=sk(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Jr([g,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Jr([g,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,i,o);return e&&F?N.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},F):F}function tk(){let t=ck(),e=z2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,u)}var nk=N.createElement(tk,null),Gx=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Y2(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Vr.Provider,{value:this.props.routeContext},N.createElement(rp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(rk,{error:t},e):e}};Gx.contextType=W2;var Rf=new WeakMap;function rk({children:t,error:e}){let{basename:n}=N.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Q2(e.digest);if(i){let o=Rf.get(e);if(o)throw o;let a=Bx(i.location,n);if(Fx&&!Rf.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Rf.set(e,u),u}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ik({routeContext:t,match:e,children:n}){let i=N.useContext(ha);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Vr.Provider,{value:t},n)}function sk(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let m=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:w,errors:k}=n,T=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!k||k[v.route.id]===void 0);if(v.route.lazy||T){m=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=n&&i?(g,v)=>{var w,k;i(g,{location:n.location,params:((k=(w=n.matches)==null?void 0:w[0])==null?void 0:k.params)??{},unstable_pattern:U2(n.matches),errorInfo:v})}:void 0;return a.reduceRight((g,v,w)=>{let k,T=!1,A=null,I=null;n&&(k=u&&v.route.id?u[v.route.id]:void 0,A=v.route.errorElement||nk,m&&(d<0&&w===0?(Qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===w&&(T=!0,I=v.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,w+1)),z=()=>{let j;return k?j=A:T?j=I:v.route.Component?j=N.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,N.createElement(ik,{match:v,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?N.createElement(Gx,{location:n.location,revalidation:n.revalidation,component:A,error:k,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):z()},null)}function ip(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ok(t){let e=N.useContext(ha);return lt(e,ip(t)),e}function ak(t){let e=N.useContext(Ih);return lt(e,ip(t)),e}function lk(t){let e=N.useContext(Vr);return lt(e,ip(t)),e}function sp(t){let e=lk(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uk(){return sp("useRouteId")}function ck(){var i;let t=N.useContext(rp),e=ak("useRouteError"),n=sp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function hk(){let{router:t}=ok("useNavigate"),e=sp("useNavigate"),n=N.useRef(!1);return Hx(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{Fn(n.current,Wx),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var J0={};function Qx(t,e,n){!e&&!J0[t]&&(J0[t]=!0,Fn(!1,n))}N.memo(dk);function dk({routes:t,future:e,state:n,onError:i}){return qx(t,void 0,n,i,e)}function Xt(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){lt(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:m,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[m,o,a,u]);typeof n=="string"&&(n=Xs(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:k="default"}=n,T=N.useMemo(()=>{let A=ni(p,m);return A==null?null:{location:{pathname:A,search:g,hash:v,state:w,key:k},navigationType:i}},[m,p,g,v,w,k,i]);return Fn(T!=null,`<Router basename="${m}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(Bn.Provider,{value:d},N.createElement(su.Provider,{children:e,value:T}))}function mk({children:t,location:e}){return ek(lm(t),e)}function lm(t,e=[]){let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){n.push.apply(n,lm(i.props.children,a));return}lt(i.type===Xt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=lm(i.props.children,a)),n.push(u)}),n}var Hc="get",Kc="application/x-www-form-urlencoded";function Rh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function pk(t){return Rh(t)&&t.tagName.toLowerCase()==="button"}function gk(t){return Rh(t)&&t.tagName.toLowerCase()==="form"}function yk(t){return Rh(t)&&t.tagName.toLowerCase()==="input"}function vk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xk(t,e){return t.button===0&&(!e||e==="_self")&&!vk(t)}var Mc=null;function _k(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var wk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pf(t){return t!=null&&!wk.has(t)?(Fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):t}function Ek(t,e){let n,i,o,a,u;if(gk(t)){let m=t.getAttribute("action");i=m?ni(m,e):null,n=t.getAttribute("method")||Hc,o=Pf(t.getAttribute("enctype"))||Kc,a=new FormData(t)}else if(pk(t)||yk(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||m.getAttribute("action");if(i=d?ni(d,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Pf(t.getAttribute("formenctype"))||Pf(m.getAttribute("enctype"))||Kc,a=new FormData(m,t),!_k()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,v)}}else{if(Rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,i=null,o=Kc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tk(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&ni(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Sk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bk(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Sk(a,n);return u.links?u.links():[]}return[]}));return Rk(i.flat(1).filter(kk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Z0(t,e,n,i,o,a){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,m=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||m(d,p)):a==="data"?e.filter((d,p)=>{var v;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||m(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Ck(t,e,{includeHydrateFallback:n}={}){return Ak(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Ak(t){return[...new Set(t)]}function Ik(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Rk(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(Ik(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function Yx(){let t=N.useContext(ha);return op(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pk(){let t=N.useContext(Ih);return op(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ap=N.createContext(void 0);ap.displayName="FrameworkContext";function Xx(){let t=N.useContext(ap);return op(t,"You must render this element inside a <HydratedRouter> element"),t}function jk(t,e){let n=N.useContext(ap),[i,o]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:m,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let A=F=>{F.forEach(z=>{u(z.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),N.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let k=()=>{o(!0)},T=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:wl(m,k),onBlur:wl(d,T),onMouseEnter:wl(p,k),onMouseLeave:wl(g,T),onTouchStart:wl(v,k)}]:[!1,w,{}]}function wl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Vk({page:t,...e}){let{router:n}=Yx(),i=N.useMemo(()=>Vx(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(Nk,{page:t,matches:i,...e}):null}function Dk(t){let{manifest:e,routeModules:n}=Xx(),[i,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return bk(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function Nk({page:t,matches:e,...n}){let i=ui(),{future:o,manifest:a,routeModules:u}=Xx(),{basename:m}=Yx(),{loaderData:d,matches:p}=Pk(),g=N.useMemo(()=>Z0(t,e,p,a,i,"data"),[t,e,p,a,i]),v=N.useMemo(()=>Z0(t,e,p,a,i,"assets"),[t,e,p,a,i]),w=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(e.forEach(z=>{var Y;let j=a.routes[z.route.id];!j||!j.hasLoader||(!g.some(W=>W.route.id===z.route.id)&&z.route.id in d&&((Y=u[z.route.id])!=null&&Y.shouldRevalidate)||j.hasClientLoader?I=!0:A.add(z.route.id))}),A.size===0)return[];let F=Tk(t,m,o.unstable_trailingSlashAwareDataRequests,"data");return I&&A.size>0&&F.searchParams.set("_routes",e.filter(z=>A.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[m,o.unstable_trailingSlashAwareDataRequests,d,i,a,g,e,t,u]),k=N.useMemo(()=>Ck(v,a),[v,a]),T=Dk(v);return N.createElement(N.Fragment,null,w.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),k.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:I})=>N.createElement("link",{key:A,nonce:n.nonce,...I})))}function Mk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Lk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lk&&(window.__reactRouterVersion="7.12.0")}catch{}function Ok({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=N.useRef();o.current==null&&(o.current=y2({window:i,v5Compat:!0}));let a=o.current,[u,m]=N.useState({action:a.action,location:a.location}),d=N.useCallback(p=>{n===!1?m(p):N.startTransition(()=>m(p))},[n]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(fk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:m,target:d,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...k},T){let{basename:A,unstable_useTransitions:I}=N.useContext(Bn),F=typeof p=="string"&&Jx.test(p),z=Bx(p,A);p=z.to;let j=X2(p,{relative:o}),[Y,W,X]=jk(i,k),R=Uk(p,{replace:u,state:m,target:d,preventScrollReset:g,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:I});function b(M){e&&e(M),M.defaultPrevented||R(M)}let P=N.createElement("a",{...k,...X,href:z.absoluteURL||j,onClick:z.isExternal||a?e:b,ref:Mk(T,W),target:d,"data-discover":!F&&n==="render"?"true":void 0});return Y&&!F?N.createElement(N.Fragment,null,P,N.createElement(Vk,{page:j})):P});ve.displayName="Link";var Fk=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:m,children:d,...p},g){let v=au(u,{relative:p.relative}),w=ui(),k=N.useContext(Ih),{navigator:T,basename:A}=N.useContext(Bn),I=k!=null&&qk(v)&&m===!0,F=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,z=w.pathname,j=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(z=z.toLowerCase(),j=j?j.toLowerCase():null,F=F.toLowerCase()),j&&A&&(j=ni(j,A)||j);const Y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let W=z===F||!o&&z.startsWith(F)&&z.charAt(Y)==="/",X=j!=null&&(j===F||!o&&j.startsWith(F)&&j.charAt(F.length)==="/"),R={isActive:W,isPending:X,isTransitioning:I},b=W?e:void 0,P;typeof i=="function"?P=i(R):P=[i,W?"active":null,X?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(R):a;return N.createElement(ve,{...p,"aria-current":b,className:P,ref:g,style:M,to:u,viewTransition:m},typeof d=="function"?d(R):d)});Fk.displayName="NavLink";var Bk=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Hc,action:m,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...k},T)=>{let{unstable_useTransitions:A}=N.useContext(Bn),I=Hk(),F=Kk(m,{relative:p}),z=u.toLowerCase()==="get"?"get":"post",j=typeof m=="string"&&Jx.test(m),Y=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let X=W.nativeEvent.submitter,R=(X==null?void 0:X.getAttribute("formmethod"))||u,b=()=>I(X||W.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});A&&n!==!1?N.startTransition(()=>b()):b()};return N.createElement("form",{ref:T,method:z,action:F,onSubmit:i?d:Y,...k,"data-discover":!j&&t==="render"?"true":void 0})});Bk.displayName="Form";function zk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(t){let e=N.useContext(ha);return lt(e,zk(t)),e}function Uk(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:d}={}){let p=J2(),g=ui(),v=au(t,{relative:a});return N.useCallback(w=>{if(xk(w,e)){w.preventDefault();let k=n!==void 0?n:Fl(g)===Fl(v),T=()=>p(t,{replace:k,state:i,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:m});d?N.startTransition(()=>T()):T()}},[g,p,v,n,i,e,t,o,a,u,m,d])}var $k=0,Wk=()=>`__${String(++$k)}__`;function Hk(){let{router:t}=Zx("useSubmit"),{basename:e}=N.useContext(Bn),n=uk(),i=t.fetch,o=t.navigate;return N.useCallback(async(a,u={})=>{let{action:m,method:d,encType:p,formData:g,body:v}=Ek(a,e);if(u.navigate===!1){let w=u.fetcherKey||Wk();await i(w,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,e,n])}function Kk(t,{relative:e}={}){let{basename:n}=N.useContext(Bn),i=N.useContext(Vr);lt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...au(t||".",{relative:e})},u=ui();if(t==null){a.search=u.search;let m=new URLSearchParams(a.search),d=m.getAll("index");if(d.some(g=>g==="")){m.delete("index"),d.filter(v=>v).forEach(v=>m.append("index",v));let g=m.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Jr([n,a.pathname])),Fl(a)}function qk(t,{relative:e}={}){let n=N.useContext(Ux);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zx("useViewTransitionState"),o=au(t,{relative:e});if(!n.isTransitioning)return!1;let a=ni(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=ni(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ih(o.pathname,u)!=null||ih(o.pathname,a)!=null}const e_=N.createContext({});function Gk(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const t_=typeof window<"u",Qk=t_?N.useLayoutEffect:N.useEffect,lp=N.createContext(null);function up(t,e){t.indexOf(e)===-1&&t.push(e)}function cp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rr=(t,e,n)=>n>e?e:n<t?t:n;let hp=()=>{};const ri={},n_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function r_(t){return typeof t=="object"&&t!==null}const i_=t=>/^0[^.\s]+$/u.test(t);function dp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ln=t=>t,Yk=(t,e)=>n=>e(t(n)),lu=(...t)=>t.reduce(Yk),Bl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class fp{constructor(){this.subscriptions=[]}add(e){return up(this.subscriptions,e),()=>cp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zr=t=>t*1e3,Mn=t=>t/1e3;function s_(t,e){return e?t*(1e3/e):0}const o_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Xk=1e-7,Jk=12;function Zk(t,e,n,i,o){let a,u,m=0;do u=e+(n-e)/2,a=o_(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>Xk&&++m<Jk);return u}function uu(t,e,n,i){if(t===e&&n===i)return Ln;const o=a=>Zk(a,0,1,t,n);return a=>a===0||a===1?a:o_(o(a),e,i)}const a_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l_=t=>e=>1-t(1-e),u_=uu(.33,1.53,.69,.99),mp=l_(u_),c_=a_(mp),h_=t=>(t*=2)<1?.5*mp(t):.5*(2-Math.pow(2,-10*(t-1))),pp=t=>1-Math.sin(Math.acos(t)),d_=l_(pp),f_=a_(pp),eb=uu(.42,0,1,1),tb=uu(0,0,.58,1),m_=uu(.42,0,.58,1),nb=t=>Array.isArray(t)&&typeof t[0]!="number",p_=t=>Array.isArray(t)&&typeof t[0]=="number",rb={linear:Ln,easeIn:eb,easeInOut:m_,easeOut:tb,circIn:pp,circInOut:f_,circOut:d_,backIn:mp,backInOut:c_,backOut:u_,anticipate:h_},ib=t=>typeof t=="string",ev=t=>{if(p_(t)){hp(t.length===4);const[e,n,i,o]=t;return uu(e,n,i,o)}else if(ib(t))return rb[t];return t},Lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sb(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function d(g){u.has(g)&&(p.schedule(g),t()),g(m)}const p={schedule:(g,v=!1,w=!1)=>{const T=w&&o?n:i;return v&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(m=g,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const ob=40;function g_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Lc.reduce((j,Y)=>(j[Y]=sb(a),j),{}),{setup:m,read:d,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:k,postRender:T}=u,A=()=>{const j=ri.useManualTiming?o.timestamp:performance.now();n=!1,ri.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(j-o.timestamp,ob),1)),o.timestamp=j,o.isProcessing=!0,m.process(o),d.process(o),p.process(o),g.process(o),v.process(o),w.process(o),k.process(o),T.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(A))},I=()=>{n=!0,i=!0,o.isProcessing||t(A)};return{schedule:Lc.reduce((j,Y)=>{const W=u[Y];return j[Y]=(X,R=!1,b=!1)=>(n||I(),W.schedule(X,R,b)),j},{}),cancel:j=>{for(let Y=0;Y<Lc.length;Y++)u[Lc[Y]].cancel(j)},state:o,steps:u}}const{schedule:rt,cancel:qi,state:zt,steps:jf}=g_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let qc;function ab(){qc=void 0}const sn={now:()=>(qc===void 0&&sn.set(zt.isProcessing||ri.useManualTiming?zt.timestamp:performance.now()),qc),set:t=>{qc=t,queueMicrotask(ab)}},y_=t=>e=>typeof e=="string"&&e.startsWith(t),v_=y_("--"),lb=y_("var(--"),gp=t=>lb(t)?ub.test(t.split("/*")[0].trim()):!1,ub=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tv(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zl={...da,transform:t=>Rr(0,1,t)},Oc={...da,default:1},Rl=t=>Math.round(t*1e5)/1e5,yp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cb(t){return t==null}const hb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vp=(t,e)=>n=>!!(typeof n=="string"&&hb.test(n)&&n.startsWith(t)||e&&!cb(n)&&Object.prototype.hasOwnProperty.call(n,e)),x_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,m]=i.match(yp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},db=t=>Rr(0,255,t),Vf={...da,transform:t=>Math.round(db(t))},Ms={test:vp("rgb","red"),parse:x_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Vf.transform(t)+", "+Vf.transform(e)+", "+Vf.transform(n)+", "+Rl(zl.transform(i))+")"};function fb(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const um={test:vp("#"),parse:fb,transform:Ms.transform},cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bi=cu("deg"),kr=cu("%"),he=cu("px"),mb=cu("vh"),pb=cu("vw"),nv={...kr,parse:t=>kr.parse(t)/100,transform:t=>kr.transform(t*100)},qo={test:vp("hsl","hue"),parse:x_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+kr.transform(Rl(e))+", "+kr.transform(Rl(n))+", "+Rl(zl.transform(i))+")"},kt={test:t=>Ms.test(t)||um.test(t)||qo.test(t),parse:t=>Ms.test(t)?Ms.parse(t):qo.test(t)?qo.parse(t):um.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ms.transform(t):qo.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},gb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yb(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yp))==null?void 0:e.length)||0)+(((n=t.match(gb))==null?void 0:n.length)||0)>0}const __="number",w_="color",vb="var",xb="var(",rv="${}",_b=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ul(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const m=e.replace(_b,d=>(kt.test(d)?(i.color.push(a),o.push(w_),n.push(kt.parse(d))):d.startsWith(xb)?(i.var.push(a),o.push(vb),n.push(d)):(i.number.push(a),o.push(__),n.push(parseFloat(d))),++a,rv)).split(rv);return{values:n,split:m,indexes:i,types:o}}function E_(t){return Ul(t).values}function T_(t){const{split:e,types:n}=Ul(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const m=n[u];m===__?a+=Rl(o[u]):m===w_?a+=kt.transform(o[u]):a+=o[u]}return a}}const wb=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function Eb(t){const e=E_(t);return T_(t)(e.map(wb))}const Gi={test:yb,parse:E_,createTransformer:T_,getAnimatableNone:Eb};function Df(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Tb({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const m=n<.5?n*(1+e):n+e-n*e,d=2*n-m;o=Df(d,m,t+1/3),a=Df(d,m,t),u=Df(d,m,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function sh(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,Nf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},Sb=[um,Ms,qo],kb=t=>Sb.find(e=>e.test(t));function iv(t){const e=kb(t);if(!e)return!1;let n=e.parse(t);return e===qo&&(n=Tb(n)),n}const sv=(t,e)=>{const n=iv(t),i=iv(e);if(!n||!i)return sh(t,e);const o={...n};return a=>(o.red=Nf(n.red,i.red,a),o.green=Nf(n.green,i.green,a),o.blue=Nf(n.blue,i.blue,a),o.alpha=at(n.alpha,i.alpha,a),Ms.transform(o))},cm=new Set(["none","hidden"]);function bb(t,e){return cm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Cb(t,e){return n=>at(t,e,n)}function xp(t){return typeof t=="number"?Cb:typeof t=="string"?gp(t)?sh:kt.test(t)?sv:Rb:Array.isArray(t)?S_:typeof t=="object"?kt.test(t)?sv:Ab:sh}function S_(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>xp(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function Ab(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=xp(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function Ib(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][i[a]],m=t.values[u]??0;n[o]=m,i[a]++}return n}const Rb=(t,e)=>{const n=Gi.createTransformer(e),i=Ul(t),o=Ul(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?cm.has(t)&&!o.values.length||cm.has(e)&&!i.values.length?bb(t,e):lu(S_(Ib(i,o),o.values),n):sh(t,e)};function k_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):xp(t)(t,e)}const Pb=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>qi(e),now:()=>zt.isProcessing?zt.timestamp:sn.now()}},b_=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},oh=2e4;function _p(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<oh;)e+=n,i=t.next(e);return e>=oh?1/0:e}function jb(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(_p(i),oh);return{type:"keyframes",ease:a=>i.next(o*a).value/e,duration:Mn(o)}}const Vb=5;function C_(t,e,n){const i=Math.max(e-Vb,0);return s_(n-t(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mf=.001;function Db({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:i=mt.mass}){let o,a,u=1-e;u=Rr(mt.minDamping,mt.maxDamping,u),t=Rr(mt.minDuration,mt.maxDuration,Mn(t)),u<1?(o=p=>{const g=p*u,v=g*t,w=g-n,k=hm(p,u),T=Math.exp(-v);return Mf-w/k*T},a=p=>{const v=p*u*t,w=v*n+n,k=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-v),A=hm(Math.pow(p,2),u);return(-o(p)+Mf>0?-1:1)*((w-k)*T)/A}):(o=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-Mf+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const m=5/t,d=Mb(o,a,m);if(t=Zr(t),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const Nb=12;function Mb(t,e,n){let i=n;for(let o=1;o<Nb;o++)i=i-t(i)/e(i);return i}function hm(t,e){return t*Math.sqrt(1-e*e)}const Lb=["duration","bounce"],Ob=["stiffness","damping","mass"];function ov(t,e){return e.some(n=>t[n]!==void 0)}function Fb(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!ov(t,Ob)&&ov(t,Lb))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Rr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:mt.mass,stiffness:o,damping:a}}else{const n=Db(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function ah(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],m={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:k}=Fb({...n,velocity:-Mn(n.velocity||0)}),T=w||0,A=p/(2*Math.sqrt(d*g)),I=u-a,F=Mn(Math.sqrt(d/g)),z=Math.abs(I)<5;i||(i=z?mt.restSpeed.granular:mt.restSpeed.default),o||(o=z?mt.restDelta.granular:mt.restDelta.default);let j;if(A<1){const W=hm(F,A);j=X=>{const R=Math.exp(-A*F*X);return u-R*((T+A*F*I)/W*Math.sin(W*X)+I*Math.cos(W*X))}}else if(A===1)j=W=>u-Math.exp(-F*W)*(I+(T+F*I)*W);else{const W=F*Math.sqrt(A*A-1);j=X=>{const R=Math.exp(-A*F*X),b=Math.min(W*X,300);return u-R*((T+A*F*I)*Math.sinh(b)+W*I*Math.cosh(b))/W}}const Y={calculatedDuration:k&&v||null,next:W=>{const X=j(W);if(k)m.done=W>=v;else{let R=W===0?T:0;A<1&&(R=W===0?Zr(T):C_(j,W,X));const b=Math.abs(R)<=i,P=Math.abs(u-X)<=o;m.done=b&&P}return m.value=m.done?u:X,m},toString:()=>{const W=Math.min(_p(Y),oh),X=b_(R=>Y.next(W*R).value,W,30);return W+"ms "+X},toTransition:()=>{}};return Y}ah.applyToOptions=t=>{const e=jb(t,100,ah);return t.ease=e.ease,t.duration=Zr(e.duration),t.type="keyframes",t};function dm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:m,max:d,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},k=b=>m!==void 0&&b<m||d!==void 0&&b>d,T=b=>m===void 0?d:d===void 0||Math.abs(m-b)<Math.abs(d-b)?m:d;let A=n*e;const I=v+A,F=u===void 0?I:u(I);F!==I&&(A=F-v);const z=b=>-A*Math.exp(-b/i),j=b=>F+z(b),Y=b=>{const P=z(b),M=j(b);w.done=Math.abs(P)<=p,w.value=w.done?F:M};let W,X;const R=b=>{k(w.value)&&(W=b,X=ah({keyframes:[w.value,T(w.value)],velocity:C_(j,b,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:b=>{let P=!1;return!X&&W===void 0&&(P=!0,Y(b),R(b)),W!==void 0&&b>=W?X.next(b-W):(!P&&Y(b),w)}}}function Bb(t,e,n){const i=[],o=n||ri.mix||k_,a=t.length-1;for(let u=0;u<a;u++){let m=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Ln:e;m=lu(d,m)}i.push(m)}return i}function zb(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(hp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=Bb(e,i,o),d=m.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Bl(t[v],t[v+1],g);return m[v](w)};return n?g=>p(Rr(t[0],t[a-1],g)):p}function Ub(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Bl(0,e,i);t.push(at(n,1,o))}}function $b(t){const e=[0];return Ub(e,t.length-1),e}function Wb(t,e){return t.map(n=>n*e)}function Hb(t,e){return t.map(()=>e||m_).splice(0,t.length-1)}function Pl({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=nb(i)?i.map(ev):ev(i),a={done:!1,value:e[0]},u=Wb(n&&n.length===e.length?n:$b(e),t),m=zb(u,e,{ease:Array.isArray(o)?o:Hb(e,o)});return{calculatedDuration:t,next:d=>(a.value=m(d),a.done=d>=t,a)}}const Kb=t=>t!==null;function wp(t,{repeat:e,repeatType:n="loop"},i,o=1){const a=t.filter(Kb),m=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!m||i===void 0?a[m]:i}const qb={decay:dm,inertia:dm,tween:Pl,keyframes:Pl,spring:ah};function A_(t){typeof t.type=="string"&&(t.type=qb[t.type])}class Ep{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Gb=t=>t/100;class Tp extends Ep{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;A_(e);const{type:n=Pl,repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:m}=e;const d=n||Pl;d!==Pl&&typeof m[0]!="number"&&(this.mixKeyframes=lu(Gb,k_(m[0],m[1])),m=[0,100]);const p=d({...e,keyframes:m});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...m].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=_p(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:k,type:T,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let j=this.currentTime,Y=i;if(v){const b=Math.min(this.currentTime,o)/m;let P=Math.floor(b),M=b%1;!M&&b>=1&&(M=1),M===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(w==="reverse"?(M=1-M,k&&(M-=k/m)):w==="mirror"&&(Y=u)),j=Rr(0,1,M)*m}const W=z?{done:!1,value:g[0]}:Y.next(j);a&&(W.value=a(W.value));let{done:X}=W;!z&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&T!==dm&&(W.value=wp(g,this.options,I,this.speed)),A&&A(W.value),R&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return Mn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(this.currentTime)}set time(e){var n;e=Zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=Pb,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Qb(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ls=t=>t*180/Math.PI,fm=t=>{const e=Ls(Math.atan2(t[1],t[0]));return mm(e)},Yb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fm,rotateZ:fm,skewX:t=>Ls(Math.atan(t[1])),skewY:t=>Ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mm=t=>(t=t%360,t<0&&(t+=360),t),av=fm,lv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Xb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lv,scaleY:uv,scale:t=>(lv(t)+uv(t))/2,rotateX:t=>mm(Ls(Math.atan2(t[6],t[5]))),rotateY:t=>mm(Ls(Math.atan2(-t[2],t[0]))),rotateZ:av,rotate:av,skewX:t=>Ls(Math.atan(t[4])),skewY:t=>Ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pm(t){return t.includes("scale")?1:0}function gm(t,e){if(!t||t==="none")return pm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=Xb,o=n;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Yb,o=m}if(!o)return pm(e);const a=i[e],u=o[1].split(",").map(Zb);return typeof a=="function"?a(u):u[a]}const Jb=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gm(n,e)};function Zb(t){return parseFloat(t.trim())}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(fa),cv=t=>t===da||t===he,eC=new Set(["x","y","z"]),tC=fa.filter(t=>!eC.has(t));function nC(t){const e=[];return tC.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const zi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gm(e,"x"),y:(t,{transform:e})=>gm(e,"y")};zi.translateX=zi.x;zi.translateY=zi.y;const Fs=new Set;let ym=!1,vm=!1,xm=!1;function I_(){if(vm){const t=Array.from(Fs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=nC(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var m;(m=i.getValue(a))==null||m.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vm=!1,ym=!1,Fs.forEach(t=>t.complete(xm)),Fs.clear()}function R_(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vm=!0)})}function rC(){xm=!0,R_(),I_(),xm=!1}class Sp{constructor(e,n,i,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fs.add(this),ym||(ym=!0,rt.read(R_),rt.resolveKeyframes(I_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const m=i.readValue(n,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}Qb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fs.delete(this)}cancel(){this.state==="scheduled"&&(Fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iC=t=>t.startsWith("--");function sC(t,e,n){iC(e)?t.style.setProperty(e,n):t.style[e]=n}const oC=dp(()=>window.ScrollTimeline!==void 0),aC={};function lC(t,e){const n=dp(t);return()=>aC[e]??n()}const P_=lC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function j_(t,e){if(t)return typeof t=="function"?P_()?b_(t,e):"ease-out":p_(t)?Sl(t):Array.isArray(t)?t.map(n=>j_(n,e)||hv.easeOut):hv[t]}function uC(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:m="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const v=j_(m,o);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function V_(t){return typeof t=="function"&&"applyToOptions"in t}function cC({type:t,...e}){return V_(t)&&P_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hC extends Ep{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:m,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,hp(typeof e.type!="string");const p=cC(e);this.animation=uC(n,i,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=wp(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(g):sC(n,i,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Mn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mn(e)}get time(){return Mn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&oC()?(this.animation.timeline=e,Ln):n(this)}}const D_={anticipate:h_,backInOut:c_,circInOut:f_};function dC(t){return t in D_}function fC(t){typeof t.ease=="string"&&dC(t.ease)&&(t.ease=D_[t.ease])}const Lf=10;class mC extends hC{constructor(e){fC(e),A_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Tp({...u,autoplay:!1}),d=Math.max(Lf,sn.now()-this.startTime),p=Rr(0,Lf,d-Lf);n.setWithVelocity(m.sample(Math.max(0,d-p)).value,m.sample(d).value,p),m.stop()}}const dv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function pC(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gC(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=dv(o,e),m=dv(a,e);return!u||!m?!1:pC(t)||(n==="spring"||V_(n))&&i}function _m(t){t.duration=0,t.type="keyframes"}const yC=new Set(["opacity","clipPath","filter","transform"]),vC=dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xC(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:a,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return vC()&&n&&yC.has(n)&&(n!=="transform"||!p)&&!d&&!i&&o!=="mirror"&&a!==0&&u!=="inertia"}const _C=40;class wC extends Ep{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:m,name:d,motionValue:p,element:g,...v}){var T;super(),this.stop=()=>{var A,I;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=sn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,name:d,motionValue:p,element:g,...v},k=(g==null?void 0:g.KeyframeResolver)||Sp;this.keyframeResolver=new k(m,(A,I,F)=>this.onKeyframesResolved(A,I,w,!F),d,p,g),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,i,o){var I,F;this.keyframeResolver=void 0;const{name:a,type:u,velocity:m,delay:d,isHandoff:p,onUpdate:g}=i;this.resolvedAt=sn.now(),gC(e,a,u,m)||((ri.instantAnimations||!d)&&(g==null||g(wp(e,i,n))),e[0]=e[e.length-1],_m(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_C?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},k=!p&&xC(w),T=(F=(I=w.motionValue)==null?void 0:I.owner)==null?void 0:F.current,A=k?new mC({...w,element:T}):new Tp(w);A.finished.then(()=>{this.notifyFinished()}).catch(Ln),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),rC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function N_(t,e,n,i=0,o=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,m=(u-1)*i;return typeof n=="function"?n(a,u):o===1?a*i:m-a*i}const EC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TC(t){const e=EC.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function M_(t,e,n=1){const[i,o]=TC(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return n_(u)?parseFloat(u):u}return gp(o)?M_(o,e,n+1):o}const SC={type:"spring",stiffness:500,damping:25,restSpeed:10},kC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bC={type:"keyframes",duration:.8},CC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AC=(t,{keyframes:e})=>e.length>2?bC:ma.has(t)?t.startsWith("scale")?kC(e[1]):SC:CC,IC=t=>t!==null;function RC(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(IC),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}function kp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function PC({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:m,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const bp=(t,e,n,i={},o,a)=>u=>{const m=kp(i,t)||{},d=m.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Zr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-p,onUpdate:w=>{e.set(w),m.onUpdate&&m.onUpdate(w)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:a?void 0:o};PC(m)||Object.assign(g,AC(t,g)),g.duration&&(g.duration=Zr(g.duration)),g.repeatDelay&&(g.repeatDelay=Zr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(_m(g),g.delay===0&&(v=!0)),(ri.instantAnimations||ri.skipAnimations)&&(v=!0,_m(g),g.delay=0),g.allowFlatten=!m.type&&!m.ease,v&&!a&&e.get()!==void 0){const w=RC(g.keyframes,m);if(w!==void 0){rt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return m.isSync?new Tp(g):new wC(g)};function fv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Cp(t,e,n,i){if(typeof e=="function"){const[o,a]=fv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=fv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}function Jo(t,e,n){const i=t.getProps();return Cp(i,e,n!==void 0?n:i.custom,t)}const L_=new Set(["width","height","top","left","right","bottom",...fa]),mv=30,jC=t=>!isNaN(parseFloat(t));class VC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const o=sn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fp);const i=this.events[e].add(n);return e==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mv);return s_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new VC(t,e)}const wm=t=>Array.isArray(t);function DC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}function NC(t){return wm(t)?t[t.length-1]||0:t}function MC(t,e){const n=Jo(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const m=NC(a[u]);DC(t,u,m)}}const en=t=>!!(t&&t.getVelocity);function LC(t){return!!(en(t)&&t.add)}function Em(t,e){const n=t.getValue("willChange");if(LC(n))return n.add(e);if(!n&&ri.WillChange){const i=new ri.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Ap(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const OC="framerAppearId",O_="data-"+Ap(OC);function F_(t){return t.props[O_]}function FC({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function B_(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...m}=e;i&&(a=i);const d=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in m){const v=t.getValue(g,t.latestValues[g]??null),w=m[g];if(w===void 0||p&&FC(p,g))continue;const k={delay:n,...kp(a||{},g)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===T&&!k.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const F=F_(t);if(F){const z=window.MotionHandoffAnimation(F,g,rt);z!==null&&(k.startTime=z,A=!0)}}Em(t,g),v.start(bp(g,v,w,t.shouldReduceMotion&&L_.has(g)?{type:!1}:k,t,A));const I=v.animation;I&&d.push(I)}return u&&Promise.all(d).then(()=>{rt.update(()=>{u&&MC(t,u)})}),d}function Tm(t,e,n={}){var d;const i=Jo(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(B_(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=o;return BC(t,e,p,g,v,w,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[a,u]:[u,a];return p().then(()=>g())}else return Promise.all([a(),u(n.delay)])}function BC(t,e,n=0,i=0,o=0,a=1,u){const m=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),m.push(Tm(d,e,{...u,delay:n+(typeof i=="function"?0:i)+N_(t.variantChildren,d,i,o,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(m)}function zC(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Tm(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Tm(t,e,n);else{const o=typeof e=="function"?Jo(t,e,n.custom):e;i=Promise.all(B_(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const UC={test:t=>t==="auto",parse:t=>t},z_=t=>e=>e.test(t),U_=[da,he,kr,Bi,pb,mb,UC],pv=t=>U_.find(z_(t));function $C(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||i_(t):!0}const WC=new Set(["brightness","contrast","saturate","opacity"]);function HC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(yp)||[];if(!i)return t;const o=n.replace(i,"");let a=WC.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const KC=/\b([a-z-]*)\(.*?\)/gu,Sm={...Gi,getAnimatableNone:t=>{const e=t.match(KC);return e?e.map(HC).join(" "):t}},gv={...da,transform:Math.round},qC={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:Bi,skewX:Bi,skewY:Bi,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:zl,originX:nv,originY:nv,originZ:he},Ip={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,inset:he,insetBlock:he,insetBlockStart:he,insetBlockEnd:he,insetInline:he,insetInlineStart:he,insetInlineEnd:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,paddingBlock:he,paddingBlockStart:he,paddingBlockEnd:he,paddingInline:he,paddingInlineStart:he,paddingInlineEnd:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,marginBlock:he,marginBlockStart:he,marginBlockEnd:he,marginInline:he,marginInlineStart:he,marginInlineEnd:he,backgroundPositionX:he,backgroundPositionY:he,...qC,zIndex:gv,fillOpacity:zl,strokeOpacity:zl,numOctaves:gv},GC={...Ip,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Sm,WebkitFilter:Sm},$_=t=>GC[t];function W_(t,e){let n=$_(t);return n!==Sm&&(n=Gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QC=new Set(["auto","none","0"]);function YC(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!QC.has(a)&&Ul(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=W_(n,o)}class XC extends Sp{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),gp(v))){const w=M_(v,n.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!L_.has(i)||e.length!==2)return;const[o,a]=e,u=pv(o),m=pv(a),d=tv(o),p=tv(a);if(d!==p&&zi[i]){this.needsMeasurement=!0;return}if(u!==m)if(cv(u)&&cv(m))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else zi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||$C(e[o]))&&i.push(o);i.length&&YC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var m;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,u=i[a];i[a]=zi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function JC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const H_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZC(t){return r_(t)&&"offsetHeight"in t}const{schedule:Rp}=g_(queueMicrotask,!1),Zn={x:!1,y:!1};function K_(){return Zn.x||Zn.y}function eA(t){return t==="x"||t==="y"?Zn[t]?null:(Zn[t]=!0,()=>{Zn[t]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function q_(t,e){const n=JC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function yv(t){return!(t.pointerType==="touch"||K_())}function tA(t,e,n={}){const[i,o,a]=q_(t,n),u=m=>{if(!yv(m))return;const{target:d}=m,p=e(d,m);if(typeof p!="function"||!d)return;const g=v=>{yv(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,o)};return i.forEach(m=>{m.addEventListener("pointerenter",u,o)}),a}const G_=(t,e)=>e?t===e?!0:G_(t,e.parentElement):!1,Pp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q_(t){return nA.has(t.tagName)||t.isContentEditable===!0}const Gc=new WeakSet;function vv(t){return e=>{e.key==="Enter"&&t(e)}}function Of(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rA=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=vv(()=>{if(Gc.has(n))return;Of(n,"down");const o=vv(()=>{Of(n,"up")}),a=()=>Of(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function xv(t){return Pp(t)&&!K_()}function iA(t,e,n={}){const[i,o,a]=q_(t,n),u=m=>{const d=m.currentTarget;if(!xv(m))return;Gc.add(d);const p=e(d,m),g=(k,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Gc.has(d)&&Gc.delete(d),xv(k)&&typeof p=="function"&&p(k,{success:T})},v=k=>{g(k,d===window||d===document||n.useGlobalTarget||G_(d,k.target))},w=k=>{g(k,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),ZC(m)&&(m.addEventListener("focus",p=>rA(p,o)),!Q_(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),a}function Y_(t){return r_(t)&&"ownerSVGElement"in t}function sA(t){return Y_(t)&&t.tagName==="svg"}const oA=[...U_,kt,Gi],aA=t=>oA.find(z_(t)),_v=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:_v(),y:_v()}),wv=()=>({min:0,max:0}),Rt=()=>({x:wv(),y:wv()}),km={current:null},X_={current:!1},lA=typeof window<"u";function uA(){if(X_.current=!0,!!lA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=t.matches;t.addEventListener("change",e),e()}else km.current=!1}const cA=new WeakMap;function Ph(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const jp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vp=["initial",...jp];function jh(t){return Ph(t.animate)||Vp.some(e=>$l(t[e]))}function J_(t){return!!(jh(t)||t.variants)}function hA(t,e,n){for(const i in e){const o=e[i],a=n[i];if(en(o))t.addValue(i,o);else if(en(a))t.addValue(i,ra(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,ra(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ev=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let lh={};function Z_(t){lh=t}function dA(){return lh}class fA{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=sn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,rt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!a,this.isControllingVariants=jh(n),this.isVariantNode=J_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const k=v[w];d[w]!==void 0&&en(k)&&k.set(d[w])}}mount(e){var n;this.current=e,cA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(X_.current||uA(),this.shouldReduceMotion=km.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ma.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lh){const n=lh[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ev.length;i++){const o=Ev[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=hA(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ra(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(n_(i)||i_(i))?i=parseFloat(i):!aA(i)&&Gi.test(n)&&(i=W_(e,n)),this.setBaseTarget(e,en(i)?i.get():i)),en(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Cp(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!en(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Rp.render(this.render)}}class ew extends fA{constructor(){super(...arguments),this.KeyframeResolver=XC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ts{constructor(e){this.isMounted=!1,this.node=e}update(){}}function tw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function mA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ff(t){return t===void 0||t===1}function bm({scale:t,scaleX:e,scaleY:n}){return!Ff(t)||!Ff(e)||!Ff(n)}function Ds(t){return bm(t)||nw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nw(t){return Tv(t.x)||Tv(t.y)}function Tv(t){return t&&t!=="0%"}function uh(t,e,n){const i=t-n,o=e*i;return n+o}function Sv(t,e,n,i,o){return o!==void 0&&(t=uh(t,o,i)),uh(t,n,i)+e}function Cm(t,e=0,n=1,i,o){t.min=Sv(t.min,e,n,i,o),t.max=Sv(t.max,e,n,i,o)}function rw(t,{x:e,y:n}){Cm(t.x,e.translate,e.scale,e.originPoint),Cm(t.y,n.translate,n.scale,n.originPoint)}const kv=.999999999999,bv=1.0000000000001;function gA(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let m=0;m<o;m++){a=n[m],u=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Yo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,rw(t,u)),i&&Ds(a.latestValues)&&Yo(t,a.latestValues))}e.x<bv&&e.x>kv&&(e.x=1),e.y<bv&&e.y>kv&&(e.y=1)}function Qo(t,e){t.min=t.min+e,t.max=t.max+e}function Cv(t,e,n,i,o=.5){const a=at(t.min,t.max,o);Cm(t,e,n,a,i)}function Yo(t,e){Cv(t.x,e.x,e.scaleX,e.scale,e.originX),Cv(t.y,e.y,e.scaleY,e.scale,e.originY)}function iw(t,e){return tw(pA(t.getBoundingClientRect(),e))}function yA(t,e,n){const i=iw(t,n),{scroll:o}=e;return o&&(Qo(i.x,o.offset.x),Qo(i.y,o.offset.y)),i}const vA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xA=fa.length;function _A(t,e,n){let i="",o=!0;for(let a=0;a<xA;a++){const u=fa[a],m=t[u];if(m===void 0)continue;let d=!0;if(typeof m=="number"?d=m===(u.startsWith("scale")?1:0):d=parseFloat(m)===0,!d||n){const p=H_(m,Ip[u]);if(!d){o=!1;const g=vA[u]||u;i+=`${g}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Dp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,m=!1;for(const d in e){const p=e[d];if(ma.has(d)){u=!0;continue}else if(v_(d)){o[d]=p;continue}else{const g=H_(p,Ip[d]);d.startsWith("origin")?(m=!0,a[d]=g):i[d]=g}}if(e.transform||(u||n?i.transform=_A(e,t.transform,n):i.transform&&(i.transform="none")),m){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${d} ${p} ${g}`}}function sw(t,{style:e,vars:n},i,o){const a=t.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,i);for(u in n)a.setProperty(u,n[u])}function Av(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const El={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=Av(t,e.target.x),i=Av(t,e.target.y);return`${n}% ${i}%`}},wA={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Gi.parse(t);if(o.length>5)return i;const a=Gi.createTransformer(t),u=typeof o[0]!="number"?1:0,m=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=m,o[1+u]/=d;const p=at(m,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}},Am={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:wA};function ow(t,{layout:e,layoutId:n}){return ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Am[t]||t==="opacity")}function Np(t,e,n){var u;const i=t.style,o=e==null?void 0:e.style,a={};if(!i)return a;for(const m in i)(en(i[m])||o&&en(o[m])||ow(m,t)||((u=n==null?void 0:n.getValue(m))==null?void 0:u.liveStyle)!==void 0)&&(a[m]=i[m]);return a}function EA(t){return window.getComputedStyle(t)}class TA extends ew{constructor(){super(...arguments),this.type="html",this.renderInstance=sw}readValueFromInstance(e,n){var i;if(ma.has(n))return(i=this.projection)!=null&&i.isProjecting?pm(n):Jb(e,n);{const o=EA(e),a=(v_(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iw(e,n)}build(e,n,i){Dp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Np(e,n,i)}}const SA={offset:"stroke-dashoffset",array:"stroke-dasharray"},kA={offset:"strokeDashoffset",array:"strokeDasharray"};function bA(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?SA:kA;t[a.offset]=he.transform(-i);const u=he.transform(e),m=he.transform(n);t[a.array]=`${u} ${m}`}const CA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function aw(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...m},d,p,g){if(Dp(t,m,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox);for(const k of CA)v[k]!==void 0&&(w[k]=v[k],delete v[k]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),o!==void 0&&bA(v,o,a,u,!1)}const lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),uw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AA(t,e,n,i){sw(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(lw.has(o)?o:Ap(o),e.attrs[o])}function cw(t,e,n){const i=Np(t,e,n);for(const o in t)if(en(t[o])||en(e[o])){const a=fa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}class IA extends ew{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ma.has(n)){const i=$_(n);return i&&i.default||0}return n=lw.has(n)?n:Ap(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return cw(e,n,i)}build(e,n,i){aw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){AA(e,n,i,o)}mount(e){this.isSVGTag=uw(e.tagName),super.mount(e)}}const RA=Vp.length;function hw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RA;n++){const i=Vp[n],o=t.props[i];($l(o)||o===!1)&&(e[i]=o)}return e}function dw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const PA=[...jp].reverse(),jA=jp.length;function VA(t){return e=>Promise.all(e.map(({animation:n,options:i})=>zC(t,n,i)))}function DA(t){let e=VA(t),n=Iv(),i=!0;const o=d=>(p,g)=>{var w;const v=Jo(t,g,d==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:k,transitionEnd:T,...A}=v;p={...p,...A,...T}}return p};function a(d){e=d(t)}function u(d){const{props:p}=t,g=hw(t.parent)||{},v=[],w=new Set;let k={},T=1/0;for(let I=0;I<jA;I++){const F=PA[I],z=n[F],j=p[F]!==void 0?p[F]:g[F],Y=$l(j),W=F===d?z.isActive:null;W===!1&&(T=I);let X=j===g[F]&&j!==p[F]&&Y;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),z.protectedKeys={...k},!z.isActive&&W===null||!j&&!z.prevProp||Ph(j)||typeof j=="boolean")continue;const R=NA(z.prevProp,j);let b=R||F===d&&z.isActive&&!X&&Y||I>T&&Y,P=!1;const M=Array.isArray(j)?j:[j];let L=M.reduce(o(F),{});W===!1&&(L={});const{prevResolvedValues:$={}}=z,D={...$,...L},Pe=Ee=>{b=!0,w.has(Ee)&&(P=!0,w.delete(Ee)),z.needsAnimating[Ee]=!0;const ie=t.getValue(Ee);ie&&(ie.liveStyle=!1)};for(const Ee in D){const ie=L[Ee],fe=$[Ee];if(k.hasOwnProperty(Ee))continue;let ae=!1;wm(ie)&&wm(fe)?ae=!dw(ie,fe):ae=ie!==fe,ae?ie!=null?Pe(Ee):w.add(Ee):ie!==void 0&&w.has(Ee)?Pe(Ee):z.protectedKeys[Ee]=!0}z.prevProp=j,z.prevResolvedValues=L,z.isActive&&(k={...k,...L}),i&&t.blockInitialAnimation&&(b=!1);const We=X&&R;b&&(!We||P)&&v.push(...M.map(Ee=>{const ie={type:F};if(typeof Ee=="string"&&i&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ae=Jo(fe,Ee);if(fe.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};ie.delay=N_(fe.enteringChildren,t,U)}}return{animation:Ee,options:ie}}))}if(w.size){const I={};if(typeof p.initial!="boolean"){const F=Jo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(I.transition=F.transition)}w.forEach(F=>{const z=t.getBaseTarget(F),j=t.getValue(F);j&&(j.liveStyle=!0),I[F]=z??null}),v.push({animation:I})}let A=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(v):Promise.resolve()}function m(d,p){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var k;return(k=w.animationState)==null?void 0:k.setActive(d,p)}),n[d].isActive=p;const g=u(d);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:u,setActive:m,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Iv()}}}function NA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dw(e,t):!1}function Vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iv(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}function Rv(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){Rv(t.x,e.x),Rv(t.y,e.y)}function Pv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const fw=1e-4,MA=1-fw,LA=1+fw,mw=.01,OA=0-mw,FA=0+mw;function on(t){return t.max-t.min}function BA(t,e,n){return Math.abs(t-e)<=n}function jv(t,e,n,i=.5){t.origin=i,t.originPoint=at(e.min,e.max,t.origin),t.scale=on(n)/on(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MA&&t.scale<=LA||isNaN(t.scale))&&(t.scale=1),(t.translate>=OA&&t.translate<=FA||isNaN(t.translate))&&(t.translate=0)}function jl(t,e,n,i){jv(t.x,e.x,n.x,i?i.originX:void 0),jv(t.y,e.y,n.y,i?i.originY:void 0)}function Vv(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function zA(t,e,n){Vv(t.x,e.x,n.x),Vv(t.y,e.y,n.y)}function Dv(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function ch(t,e,n){Dv(t.x,e.x,n.x),Dv(t.y,e.y,n.y)}function Nv(t,e,n,i,o){return t-=e,t=uh(t,1/n,i),o!==void 0&&(t=uh(t,1/o,i)),t}function UA(t,e=0,n=1,i=.5,o,a=t,u=t){if(kr.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=at(a.min,a.max,i);t===a&&(m-=e),t.min=Nv(t.min,e,n,m,o),t.max=Nv(t.max,e,n,m,o)}function Mv(t,e,[n,i,o],a,u){UA(t,e[n],e[i],e[o],e.scale,a,u)}const $A=["x","scaleX","originX"],WA=["y","scaleY","originY"];function Lv(t,e,n,i){Mv(t.x,e,$A,n?n.x:void 0,i?i.x:void 0),Mv(t.y,e,WA,n?n.y:void 0,i?i.y:void 0)}function Ov(t){return t.translate===0&&t.scale===1}function pw(t){return Ov(t.x)&&Ov(t.y)}function Fv(t,e){return t.min===e.min&&t.max===e.max}function HA(t,e){return Fv(t.x,e.x)&&Fv(t.y,e.y)}function Bv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gw(t,e){return Bv(t.x,e.x)&&Bv(t.y,e.y)}function zv(t){return on(t.x)/on(t.y)}function Uv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Dn(t){return[t("x"),t("y")]}function KA(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:k,skewY:T}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),k&&(i+=`skewX(${k}deg) `),T&&(i+=`skewY(${T}deg) `)}const m=t.x.scale*e.x,d=t.y.scale*e.y;return(m!==1||d!==1)&&(i+=`scale(${m}, ${d})`),i||"none"}const yw=["TopLeft","TopRight","BottomLeft","BottomRight"],qA=yw.length,$v=t=>typeof t=="string"?parseFloat(t):t,Wv=t=>typeof t=="number"||he.test(t);function GA(t,e,n,i,o,a){o?(t.opacity=at(0,n.opacity??1,QA(i)),t.opacityExit=at(e.opacity??1,0,YA(i))):a&&(t.opacity=at(e.opacity??1,n.opacity??1,i));for(let u=0;u<qA;u++){const m=`border${yw[u]}Radius`;let d=Hv(e,m),p=Hv(n,m);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Wv(d)===Wv(p)?(t[m]=Math.max(at($v(d),$v(p),i),0),(kr.test(p)||kr.test(d))&&(t[m]+="%")):t[m]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,i))}function Hv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QA=vw(0,.5,d_),YA=vw(.5,.95,Ln);function vw(t,e,n){return i=>i<t?0:i>e?1:n(Bl(t,e,i))}function XA(t,e,n){const i=en(t)?t:ra(t);return i.start(bp("",i,e,n)),i.animation}function Wl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const JA=(t,e)=>t.depth-e.depth;class ZA{constructor(){this.children=[],this.isDirty=!1}add(e){up(this.children,e),this.isDirty=!0}remove(e){cp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JA),this.isDirty=!1,this.children.forEach(e)}}function eI(t,e){const n=sn.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(qi(i),t(a-e))};return rt.setup(i,!0),()=>qi(i)}function Qc(t){return en(t)?t.get():t}class tI{constructor(){this.members=[]}add(e){up(this.members,e),e.scheduleRender()}remove(e){if(cp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bf=["","X","Y","Z"],nI=1e3;let rI=0;function zf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function xw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=F_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&xw(i)}function _w({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},m=e==null?void 0:e()){this.id=rI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oI),this.nodes.forEach(cI),this.nodes.forEach(hI),this.nodes.forEach(aI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZA)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new fp),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const d=this.eventHandlers.get(u);d&&d.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Y_(u)&&!sA(u),this.instance=u;const{layoutId:m,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||m)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{v=window.innerWidth}),t(u,()=>{const k=window.innerWidth;k!==v&&(v=k,this.root.updateBlockedByResize=!0,g&&g(),g=eI(w,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Gv)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||gI,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=p.getProps(),F=!this.targetLayout||!gw(this.targetLayout,k),z=!v&&w;if(this.options.layoutRoot||this.resumeFrom||z||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...kp(T,"layout"),onPlay:A,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,z)}else v||Gv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:m,layout:d}=this.options;if(m===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uI),this.nodes.forEach(iI),this.nodes.forEach(sI)):this.nodes.forEach(qv),this.clearAllSnapshots();const m=sn.now();zt.delta=Rr(0,1e3/60,m-zt.timestamp),zt.timestamp=m,zt.isProcessing=!0,jf.update.process(zt),jf.preRender.process(zt),jf.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lI),this.sharedNodes.forEach(fI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!pw(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(m||Ds(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let d=this.removeElementScroll(m);return u&&(d=this.removeTransform(d)),yI(d),{animationId:this.root.animationId,measuredBox:m,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Rt();const m=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(vI))){const{scroll:g}=this.root;g&&(Qo(m.x,g.offset.x),Qo(m.y,g.offset.y))}return m}removeElementScroll(u){var d;const m=Rt();if(Jn(m,u),(d=this.scroll)!=null&&d.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Jn(m,u),Qo(m.x,v.offset.x),Qo(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const d=Rt();Jn(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!m&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yo(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&Yo(d,g.latestValues)}return Ds(this.latestValues)&&Yo(d,this.latestValues),d}removeTransform(u){const m=Rt();Jn(m,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ds(p.latestValues))continue;bm(p.latestValues)&&p.updateSnapshot();const g=Rt(),v=p.measurePageBox();Jn(g,v),Lv(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&Lv(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var k;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==m;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=zt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),rw(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bm(this.parent.latestValues)||nw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),ch(this.relativeTargetOrigin,m,d),Jn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const u=this.getLead(),m=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Jn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;gA(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pv(this.prevProjectionDelta.x,this.projectionDelta.x),Pv(this.prevProjectionDelta.y,this.projectionDelta.y)),jl(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Uv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(u,m=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const w=Rt(),k=d?d.source:void 0,T=this.layout?this.layout.source:void 0,A=k!==T,I=this.getStack(),F=!I||I.members.length<=1,z=!!(A&&!F&&this.options.crossfade===!0&&!this.path.some(pI));this.animationProgress=0;let j;this.mixTargetDelta=Y=>{const W=Y/1e3;Qv(v.x,u.x,W),Qv(v.y,u.y,W),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ch(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mI(this.relativeTarget,this.relativeTargetOrigin,w,W),j&&HA(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Rt()),Jn(j,this.relativeTarget)),A&&(this.animationValues=g,GA(g,p,this.latestValues,W,z,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var m,d,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Yc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ra(0)),this.currentAnimation=XA(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:d,layout:p,latestValues:g}=u;if(!(!m||!d||!p)){if(this!==u&&this.layout&&p&&ww(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Rt();const v=on(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const w=on(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+w}Jn(m,d),Yo(m,g),jl(this.projectionDeltaWithTransform,this.layoutCorrected,m,g)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new tI),this.sharedNodes.get(u).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var m;const{layoutId:u}=this.options;return u?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:u}=this.options;return u?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(m=!0),!m)return;const p={};d.z&&zf("z",u,p,this.animationValues);for(let g=0;g<Bf.length;g++)zf(`rotate${Bf[g]}`,u,p,this.animationValues),zf(`skew${Bf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Qc(m==null?void 0:m.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Qc(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=KA(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),u.transform=v;const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in Am){if(g[T]===void 0)continue;const{correct:A,applyTo:I,isCSSVariable:F}=Am[T],z=v==="none"?g[T]:A(g[T],p);if(I){const j=I.length;for(let Y=0;Y<j;Y++)u[I[Y]]=z}else F?this.options.visualElement.renderState.vars[T]=z:u[T]=z}this.options.layoutId&&(u.pointerEvents=p===this?Qc(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(Kv),this.root.sharedNodes.clear()}}}function iI(t){t.updateLayout()}function sI(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?Dn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],k=on(w);w.min=i[v].min,w.max=w.min+k}):ww(a,e.layoutBox,i)&&Dn(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],k=on(i[v]);w.max=w.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+k)});const m=Go();jl(m,i,e.layoutBox);const d=Go();u?jl(d,t.applyTransform(o,!0),e.measuredBox):jl(d,i,e.layoutBox);const p=!pw(m);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:k}=v;if(w&&k){const T=Rt();ch(T,e.layoutBox,w.layoutBox);const A=Rt();ch(A,i,k.layoutBox),gw(T,A)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function oI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lI(t){t.clearSnapshot()}function Kv(t){t.clearMeasurements()}function qv(t){t.isLayoutDirty=!1}function uI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cI(t){t.resolveTargetDelta()}function hI(t){t.calcProjection()}function dI(t){t.resetSkewAndRotation()}function fI(t){t.removeLeadSnapshot()}function Qv(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Yv(t,e,n,i){t.min=at(e.min,n.min,i),t.max=at(e.max,n.max,i)}function mI(t,e,n,i){Yv(t.x,e.x,n.x,i),Yv(t.y,e.y,n.y,i)}function pI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gI={duration:.45,ease:[.4,0,.1,1]},Xv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jv=Xv("applewebkit/")&&!Xv("chrome/")?Math.round:Ln;function Zv(t){t.min=Jv(t.min),t.max=Jv(t.max)}function yI(t){Zv(t.x),Zv(t.y)}function ww(t,e,n){return t==="position"||t==="preserve-aspect"&&!BA(zv(e),zv(n),.2)}function vI(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xI=_w({attachResizeListener:(t,e)=>Wl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uf={current:void 0},Ew=_w({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uf.current){const t=new xI({});t.mount(window),t.setOptions({layoutScroll:!0}),Uf.current=t}return Uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tw=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _I(t=!0){const e=N.useContext(lp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=N.useId();N.useEffect(()=>{if(t)return o(a)},[t]);const u=N.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const Sw=N.createContext({strict:!1}),e1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let t1=!1;function wI(){if(t1)return;const t={};for(const e in e1)t[e]={isEnabled:n=>e1[e].some(i=>!!n[i])};Z_(t),t1=!0}function kw(){return wI(),dA()}function EI(t){const e=kw();for(const n in t)e[n]={...e[n],...t[n]};Z_(e)}const TI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TI.has(t)}let bw=t=>!hh(t);function SI(t){typeof t=="function"&&(bw=e=>e.startsWith("on")?!hh(e):t(e))}try{SI(require("@emotion/is-prop-valid").default)}catch{}function kI(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(bw(o)||n===!0&&hh(o)||!e&&!hh(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Vh=N.createContext({});function bI(t,e){if(jh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(i)?i:void 0}}return t.inherit!==!1?e:{}}function CI(t){const{initial:e,animate:n}=bI(t,N.useContext(Vh));return N.useMemo(()=>({initial:e,animate:n}),[n1(e),n1(n)])}function n1(t){return Array.isArray(t)?t.join(" "):t}const Mp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cw(t,e,n){for(const i in e)!en(e[i])&&!ow(i,n)&&(t[i]=e[i])}function AI({transformTemplate:t},e){return N.useMemo(()=>{const n=Mp();return Dp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function II(t,e){const n=t.style||{},i={};return Cw(i,n,t),Object.assign(i,AI(t,e)),i}function RI(t,e){const n={},i=II(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Aw=()=>({...Mp(),attrs:{}});function PI(t,e,n,i){const o=N.useMemo(()=>{const a=Aw();return aw(a,e,uw(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Cw(a,t.style,t),o.style={...a,...o.style}}return o}const jI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lp(t){return typeof t!="string"||t.includes("-")?!1:!!(jI.indexOf(t)>-1||/[A-Z]/u.test(t))}function VI(t,e,n,{latestValues:i},o,a=!1,u){const d=(u??Lp(t)?PI:RI)(e,i,o,t),p=kI(e,typeof t=="string",a),g=t!==N.Fragment?{...p,...d,ref:n}:{},{children:v}=e,w=N.useMemo(()=>en(v)?v.get():v,[v]);return N.createElement(t,{...g,children:w})}function DI({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:NI(n,i,o,t),renderState:e()}}function NI(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=Qc(a[w]);let{initial:u,animate:m}=t;const d=jh(t),p=J_(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?m:u;if(v&&typeof v!="boolean"&&!Ph(v)){const w=Array.isArray(v)?v:[v];for(let k=0;k<w.length;k++){const T=Cp(t,w[k]);if(T){const{transitionEnd:A,transition:I,...F}=T;for(const z in F){let j=F[z];if(Array.isArray(j)){const Y=g?j.length-1:0;j=j[Y]}j!==null&&(o[z]=j)}for(const z in A)o[z]=A[z]}}}return o}const Iw=t=>(e,n)=>{const i=N.useContext(Vh),o=N.useContext(lp),a=()=>DI(t,e,i,o);return n?a():Gk(a)},MI=Iw({scrapeMotionValuesFromProps:Np,createRenderState:Mp}),LI=Iw({scrapeMotionValuesFromProps:cw,createRenderState:Aw}),OI=Symbol.for("motionComponentSymbol");function FI(t,e,n){const i=N.useRef(n);N.useInsertionEffect(()=>{i.current=n});const o=N.useRef(null);return N.useCallback(a=>{var m;a&&((m=t.onMount)==null||m.call(t,a)),e&&(a?e.mount(a):e.unmount());const u=i.current;if(typeof u=="function")if(a){const d=u(a);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(a);else u&&(u.current=a)},[e])}const Rw=N.createContext({});function kl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BI(t,e,n,i,o,a){var I,F;const{visualElement:u}=N.useContext(Vh),m=N.useContext(Sw),d=N.useContext(lp),p=N.useContext(Tw).reducedMotion,g=N.useRef(null);i=i||m.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,isSVG:a}));const v=g.current,w=N.useContext(Rw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&zI(g.current,n,o,w);const k=N.useRef(!1);N.useInsertionEffect(()=>{v&&k.current&&v.update(n,d)});const T=n[O_],A=N.useRef(!!T&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,T))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,T)));return Qk(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,T)}),A.current=!1),v.enteringChildren=void 0)}),v}function zI(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:m,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Pw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||m&&kl(m),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:p})}function Pw(t){if(t)return t.options.allowProjection!==!1?t.projection:Pw(t.parent)}function $f(t,{forwardMotionProps:e=!1,type:n}={},i,o){i&&EI(i);const a=n?n==="svg":Lp(t),u=a?LI:MI;function m(p,g){let v;const w={...N.useContext(Tw),...p,layoutId:UI(p)},{isStatic:k}=w,T=CI(p),A=u(p,k);if(!k&&t_){$I();const I=WI(w);v=I.MeasureLayout,T.visualElement=BI(t,A,w,o,I.ProjectionNode,a)}return f.jsxs(Vh.Provider,{value:T,children:[v&&T.visualElement?f.jsx(v,{visualElement:T.visualElement,...w}):null,VI(t,p,FI(A,T.visualElement,g),A,k,e,a)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=N.forwardRef(m);return d[OI]=t,d}function UI({layoutId:t}){const e=N.useContext(e_).id;return e&&t!==void 0?e+"-"+t:t}function $I(t,e){N.useContext(Sw).strict}function WI(t){const e=kw(),{drag:n,layout:i}=e;if(!n&&!i)return{};const o={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function HI(t,e){if(typeof Proxy>"u")return $f;const n=new Map,i=(a,u)=>$f(a,u,t,e),o=(a,u)=>i(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?i:(n.has(u)||n.set(u,$f(u,void 0,t,e)),n.get(u))})}const KI=(t,e)=>e.isSVG??Lp(t)?new IA(e):new TA(e,{allowProjection:t!==N.Fragment});class qI extends ts{constructor(e){super(e),e.animationState||(e.animationState=DA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ph(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let GI=0;class QI extends ts{constructor(){super(...arguments),this.id=GI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const YI={animation:{Feature:qI},exit:{Feature:QI}};function hu(t){return{point:{x:t.pageX,y:t.pageY}}}const XI=t=>e=>Pp(e)&&t(e,hu(e));function Vl(t,e,n,i){return Wl(t,e,XI(n),i)}const jw=({current:t})=>t?t.ownerDocument.defaultView:null,r1=(t,e)=>Math.abs(t-e);function JI(t,e){const n=r1(t.x,e.x),i=r1(t.y,e.y);return Math.sqrt(n**2+i**2)}const i1=new Set(["auto","scroll"]);class Vw{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=k=>{this.handleScroll(k.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Hf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=JI(k.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!A)return;const{point:I}=k,{timestamp:F}=zt;this.history.push({...I,timestamp:F});const{onStart:z,onMove:j}=this.handlers;T||(z&&z(this.lastMoveEvent,k),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,k)},this.handlePointerMove=(k,T)=>{this.lastMoveEvent=k,this.lastMoveEventInfo=Wf(T,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(k,T)=>{this.end();const{onEnd:A,onSessionEnd:I,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Hf(k.type==="pointercancel"?this.lastMoveEventInfo:Wf(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(k,z),I&&I(k,z)},!Pp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=hu(e),p=Wf(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=zt;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Hf(p,this.history)),this.removeListeners=lu(Vl(this.contextWindow,"pointermove",this.handlePointerMove),Vl(this.contextWindow,"pointerup",this.handlePointerUp),Vl(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(i1.has(i.overflowX)||i1.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:o.x-n.x,y:o.y-n.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,o),rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qi(this.updatePoint)}}function Wf(t,e){return e?{point:e(t.point)}:t}function s1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hf({point:t},e){return{point:t,delta:s1(t,Dw(e)),offset:s1(t,ZI(e)),velocity:eR(e,.1)}}function ZI(t){return t[0]}function Dw(t){return t[t.length-1]}function eR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Dw(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Zr(e)));)n--;if(!i)return{x:0,y:0};const a=Mn(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function tR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?at(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?at(n,t,i.max):Math.min(t,n)),t}function o1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nR(t,{top:e,left:n,bottom:i,right:o}){return{x:o1(t.x,n,o),y:o1(t.y,e,i)}}function a1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function rR(t,e){return{x:a1(t.x,e.x),y:a1(t.y,e.y)}}function iR(t,e){let n=.5;const i=on(t),o=on(e);return o>i?n=Bl(e.min,e.max-i,t.min):i>o&&(n=Bl(t.min,t.max-o,e.min)),Rr(0,1,n)}function sR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Im=.35;function oR(t=Im){return t===!1?t=0:t===!0&&(t=Im),{x:l1(t,"left","right"),y:l1(t,"top","bottom")}}function l1(t,e,n){return{min:u1(t,e),max:u1(t,n)}}function u1(t,e){return typeof t=="number"?t:t[e]||0}const aR=new WeakMap;class lR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=v=>{n?(this.stopAnimation(),this.snapToCursor(hu(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:k,dragPropagation:T,onDragStart:A}=this.getProps();if(k&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eA(k),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(F=>{let z=this.getAxisMotionValue(F).get()||0;if(kr.test(z)){const{projection:j}=this.visualElement;if(j&&j.layout){const Y=j.layout.layoutBox[F];Y&&(z=on(Y)*(parseFloat(z)/100))}}this.originPoint[F]=z}),A&&rt.postRender(()=>A(v,w)),Em(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},m=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:k,dragDirectionLock:T,onDirectionLock:A,onDrag:I}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:F}=w;if(T&&this.currentDirection===null){this.currentDirection=uR(F),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,F),this.updateAxis("y",w.point,F),this.visualElement.render(),I&&I(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Dn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Vw(e,{onSessionStart:a,onStart:u,onMove:m,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:jw(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&rt.postRender(()=>m(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Fc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=tR(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&kl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=nR(i.layoutBox,e):this.constraints=!1,this.elastic=oR(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=sR(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kl(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=yA(i,o.root,this.visualElement.getTransformPagePoint());let u=rR(o.layout.layoutBox,a);if(n){const m=n(mA(u));this.hasMutatedConstraints=!!m,m&&(u=tw(m))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),d=this.constraints||{},p=Dn(g=>{if(!Fc(g,n,this.currentDirection))return;let v=d&&d[g]||{};u&&(v={min:0,max:0});const w=o?200:1e6,k=o?40:1e7,T={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(m)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Em(this.visualElement,e),i.start(bp(e,i,0,n,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:i}=this.getProps();if(!Fc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[n],d=a.get()||0;a.set(e[n]-at(u,m,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!kl(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const d=m.get();o[u]=iR({min:d,max:d},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Fc(u,e,null))return;const m=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];m.set(at(d,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;aR.set(this.visualElement,this);const e=this.visualElement.current,n=Vl(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&!Q_(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();kl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),rt.read(i);const u=Wl(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Im,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:m}}}function Fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cR extends ts{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new lR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class hR extends ts{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new Vw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:c1(e),onStart:c1(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&rt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Kf=!1;class dR extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),Kf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,{projection:u}=i;return u&&(u.isPresent=a,Kf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||rt.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Kf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Nw(t){const[e,n]=_I(),i=N.useContext(e_);return f.jsx(dR,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(Rw),isPresent:e,safeToRemove:n})}const fR={pan:{Feature:hR},drag:{Feature:cR,ProjectionNode:Ew,MeasureLayout:Nw}};function h1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&rt.postRender(()=>a(e,hu(e)))}class mR extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=tA(e,(n,i)=>(h1(this.node,i,"Start"),o=>h1(this.node,o,"End"))))}unmount(){}}class pR extends ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lu(Wl(this.node.current,"focus",()=>this.onFocus()),Wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&rt.postRender(()=>a(e,hu(e)))}class gR extends ts{mount(){const{current:e}=this.node;e&&(this.unmount=iA(e,(n,i)=>(d1(this.node,i,"Start"),(o,{success:a})=>d1(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rm=new WeakMap,qf=new WeakMap,yR=t=>{const e=Rm.get(t.target);e&&e(t)},vR=t=>{t.forEach(yR)};function xR({root:t,...e}){const n=t||document;qf.has(n)||qf.set(n,{});const i=qf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(vR,{root:t,...e})),i[o]}function _R(t,e,n){const i=xR(e);return Rm.set(t,n),i.observe(t),()=>{Rm.delete(t),i.unobserve(t)}}const wR={some:0,all:1};class ER extends ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:wR[o]},m=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(d)};return _R(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(TR(e,n))&&this.startObserver()}unmount(){}}function TR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SR={inView:{Feature:ER},tap:{Feature:gR},focus:{Feature:pR},hover:{Feature:mR}},kR={layout:{ProjectionNode:Ew,MeasureLayout:Nw}},bR={...YI,...SR,...fR,...kR},Ve=HI(bR,KI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),f1=t=>{const e=AR(t);return e.charAt(0).toUpperCase()+e.slice(1)},Mw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),IR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...m},d)=>N.createElement("svg",{ref:d,...RR,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Mw("lucide",o),...!a&&!IR(m)&&{"aria-hidden":"true"},...m},[...u.map(([p,g])=>N.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=N.forwardRef(({className:i,...o},a)=>N.createElement(PR,{ref:a,iconNode:e,className:Mw(`lucide-${CR(f1(t))}`,`lucide-${t}`,i),...o}));return n.displayName=f1(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Dh=ke("arrow-right-left",jR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ns=ke("award",VR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Op=ke("banknote",DR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Lw=ke("briefcase",NR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LR=ke("calendar",MR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ow=ke("chart-column",OR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hl=ke("check",FR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fw=ke("circle-alert",BR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nh=ke("circle-check-big",zR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$R=ke("circle-x",UR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dh=ke("clock",WR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],KR=ke("coins",HR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bw=ke("compass",qR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],QR=ke("copy",GR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sr=ke("crown",YR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],JR=ke("download",XR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],m1=ke("fish",ZR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tP=ke("gift",eP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rP=ke("house",nP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sP=ke("layout-dashboard",iP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],aP=ke("lightbulb",oP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zw=ke("loader-circle",lP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xc=ke("map-pin",uP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],hP=ke("megaphone",cP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],p1=ke("package",dP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Uw=ke("palette",fP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g1=ke("plus",mP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],gP=ke("printer",pP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Bs=ke("qr-code",yP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xP=ke("refresh-cw",vP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wP=ke("save",_P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fh=ke("send",EP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],$w=ke("shopping-bag",TP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kP=ke("sparkles",SP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CP=ke("square-check-big",bP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],IP=ke("square",AP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ii=ke("star",RP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Us=ke("store",PP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],an=ke("target",jP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],DP=ke("toggle-left",VP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],MP=ke("toggle-right",NP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fp=ke("trending-up",LP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],FP=ke("trophy",OP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],du=ke("users",BP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ww=ke("utensils-crossed",zP);function $s(){const t=ui(),[e,n]=N.useState(!1),i=[{to:"/",label:"Home"},{to:"/about",label:"How It Works"},{to:"/benefits",label:"Benefits"},{to:"/businesses",label:"For Businesses"}],o=a=>t.pathname===a;return f.jsxs("header",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:0,zIndex:100},children:[f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem",display:"flex",alignItems:"center",justifyContent:"space-between",height:"70px"},children:[f.jsxs(ve,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[f.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-gold)",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem"},children:"K"}),f.jsxs("div",{children:[f.jsx("div",{style:{fontFamily:"var(--font-display)",fontWeight:"600",color:"var(--kb-navy)",fontSize:"1.1rem",lineHeight:1.1},children:"Kinderbucks"}),f.jsx("div",{style:{fontSize:"0.65rem",color:"var(--kb-gray-500)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Village Currency"})]})]}),f.jsx("nav",{style:{display:"flex",alignItems:"center",gap:"2rem"},className:"desktop-nav",children:i.map(a=>f.jsx(ve,{to:a.to,style:{color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-500)",fontWeight:o(a.to)?"600":"500",fontSize:"0.95rem",transition:"color 0.2s",borderBottom:o(a.to)?"2px solid var(--kb-gold)":"2px solid transparent",paddingBottom:"4px"},children:a.label},a.to))}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},className:"desktop-nav",children:[f.jsx(ve,{to:"/account",className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"My Account"}),f.jsx(ve,{to:"/exchange",className:"btn btn-gold",style:{padding:"0.5rem 1rem",fontSize:"0.9rem"},children:"Get Kinderbucks"})]}),f.jsx("button",{onClick:()=>n(!e),className:"mobile-menu-btn",style:{display:"none",background:"none",border:"none",padding:"0.5rem",cursor:"pointer"},children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e?f.jsx("path",{d:"M6 6l12 12M6 18L18 6"}):f.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})})]}),e&&f.jsxs("div",{className:"mobile-menu",style:{background:"var(--kb-white)",borderTop:"1px solid var(--kb-gray-200)",padding:"1rem"},children:[i.map(a=>f.jsx(ve,{to:a.to,onClick:()=>n(!1),style:{display:"block",padding:"0.75rem 0",color:o(a.to)?"var(--kb-navy)":"var(--kb-gray-700)",fontWeight:o(a.to)?"600":"400",borderBottom:"1px solid var(--kb-gray-100)"},children:a.label},a.to)),f.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:[f.jsx(ve,{to:"/account",onClick:()=>n(!1),className:"btn btn-secondary",style:{flex:1},children:"My Account"}),f.jsx(ve,{to:"/exchange",onClick:()=>n(!1),className:"btn btn-gold",style:{flex:1},children:"Get Kinderbucks"})]})]}),f.jsx("style",{children:`
        @media (max-width: 768px) {
          .desktop-nav {
            display: none !important;
          }
          .mobile-menu-btn {
            display: block !important;
          }
        }
      `})]})}function Ws(){return f.jsxs("footer",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"3rem 1rem 2rem",marginTop:"auto"},children:[f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem"},children:[f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[f.jsx("div",{style:{width:"36px",height:"36px",background:"var(--kb-gold)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-navy)",fontFamily:"var(--font-display)",fontWeight:"700"},children:"K"}),f.jsx("span",{style:{fontFamily:"var(--font-display)",fontWeight:"600",fontSize:"1.1rem"},children:"Kinderbucks"})]}),f.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.6},children:"Village of Kinderhook's local currency program. Supporting local businesses, strengthening community."}),f.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem",marginTop:"1rem"},children:"Est. 2026"})]}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Quick Links"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[f.jsx(ve,{to:"/about",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"How It Works"}),f.jsx(ve,{to:"/benefits",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Member Benefits"}),f.jsx(ve,{to:"/exchange",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Get Kinderbucks"}),f.jsx(ve,{to:"/businesses",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"For Businesses"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"For Members"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[f.jsx(ve,{to:"/account",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"My Account"}),f.jsx(ve,{to:"/profile",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Kinderhooker Profile"}),f.jsx(ve,{to:"/scan/KB-0001",style:{color:"var(--kb-gray-300)",fontSize:"0.9rem"},children:"Verify Currency"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"var(--kb-gold)",marginBottom:"1rem",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Contact"}),f.jsxs("p",{style:{color:"var(--kb-gray-300)",fontSize:"0.9rem",lineHeight:1.8},children:["Village of Kinderhook",f.jsx("br",{}),"Columbia County, NY"]})]})]}),f.jsxs("div",{style:{maxWidth:"1200px",margin:"2rem auto 0",paddingTop:"2rem",borderTop:"1px solid var(--kb-navy-light)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[f.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:" 2026 Kinderbucks. A Harmonic Systems project."}),f.jsx("div",{style:{display:"flex",gap:"1.5rem"},children:f.jsx(ve,{to:"/admin/dashboard",style:{color:"var(--kb-gray-500)",fontSize:"0.8rem"},children:"Admin"})})]})]})}function UP(){return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-navy) 0%, var(--kb-navy-light) 100%)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("div",{style:{display:"inline-block",background:"rgba(201, 162, 39, 0.2)",color:"var(--kb-gold)",padding:"0.5rem 1rem",borderRadius:"100px",fontSize:"0.85rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Village of Kinderhook  Est. 2026"}),f.jsxs("h1",{style:{fontFamily:"var(--font-display)",fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",marginBottom:"1.5rem",lineHeight:1.2},children:["Strengthen Our Village,",f.jsx("br",{}),f.jsx("span",{style:{color:"var(--kb-gold)"},children:"One Kinderbuck at a Time"})]}),f.jsx("p",{style:{fontSize:"1.2rem",color:"var(--kb-gray-300)",marginBottom:"2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:"A local currency program that keeps money circulating in Kinderhook, rewards loyal customers, and strengthens our community economy."}),f.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(ve,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem",fontSize:"1.1rem"},children:"Get Kinderbucks"}),f.jsx(ve,{to:"/about",className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.1rem",borderColor:"var(--kb-white)",color:"var(--kb-white)"},children:"Learn How It Works"})]})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"How Kinderbucks Works"}),f.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Simple steps to start supporting local"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem"},children:[{step:"1",title:"Exchange",description:"Convert USD to Kinderbucks at participating locations or online. Members get bonus rates!",Icon:Dh},{step:"2",title:"Spend Local",description:"Use Kinderbucks at any of our 19+ participating village businesses.",Icon:Us},{step:"3",title:"Check In",description:"Scan QR codes when you visit to build your Kinderhooker status and unlock rewards.",Icon:Bs},{step:"4",title:"Earn More",description:"Higher tiers mean better exchange rates. Village Patrons get 25% bonus!",Icon:Fp}].map((t,e)=>f.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:f.jsx(t.Icon,{size:28,color:"var(--kb-gold)",strokeWidth:1.5})}),f.jsxs("div",{style:{color:"var(--kb-gold)",fontSize:"0.8rem",fontWeight:"600",marginBottom:"0.25rem"},children:["STEP ",t.step]}),f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),f.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.95rem"},children:t.description})]},e))})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[f.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Become a Kinderhooker"}),f.jsx("p",{style:{color:"var(--kb-gray-500)",maxWidth:"600px",margin:"0 auto"},children:"Visit local businesses to level up your membership and unlock better exchange rates"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem"},children:[{name:"Curious",businesses:"1+",bonus:"10%",color:"#888888",Icon:an},{name:"Hooked",businesses:"5+",bonus:"15%",color:"#2e7d32",Icon:ii},{name:"Line & Sinker",businesses:"10+",bonus:"20%",color:"#1565c0",Icon:ns},{name:"Village Patron",businesses:"15+",bonus:"25%",color:"#c9a227",Icon:sr,featured:!0}].map((t,e)=>f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{delay:e*.1},viewport:{once:!0},className:"card",style:{textAlign:"center",border:t.featured?"2px solid var(--kb-gold)":void 0,position:"relative",overflow:"hidden"},children:[t.featured&&f.jsx("div",{style:{position:"absolute",top:"10px",right:"-30px",background:"var(--kb-gold)",color:"var(--kb-navy)",padding:"0.25rem 2rem",fontSize:"0.7rem",fontWeight:"600",transform:"rotate(45deg)"},children:"BEST"}),f.jsx("div",{style:{width:"50px",height:"50px",background:`${t.color}15`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem"},children:f.jsx(t.Icon,{size:24,color:t.color,strokeWidth:1.5})}),f.jsx("h3",{style:{color:t.color,marginBottom:"0.5rem"},children:t.name}),f.jsxs("div",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"1rem"},children:[t.businesses," businesses visited"]}),f.jsxs("div",{style:{background:`${t.color}15`,borderRadius:"8px",padding:"1rem"},children:[f.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:t.color},children:t.bonus}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"Exchange Bonus"})]})]},e))}),f.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:f.jsx(ve,{to:"/profile",className:"btn btn-primary",children:"View My Progress"})})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"Participating Businesses"}),f.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"Support these local Kinderhook establishments"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:["The Aviary","Morningbird Cafe","Saisonnier","Broad Street Bagel","Brooklyn Pizzeria","Isola Wine Bar","OK Pantry","Kinderhook Books","Samascott's","The School Gallery","Old Dutch Inn","Muse Aesthetics"].map((t,e)=>f.jsx("div",{style:{background:"var(--kb-white)",borderRadius:"8px",padding:"1rem",textAlign:"center",fontSize:"0.9rem",color:"var(--kb-gray-700)",border:"1px solid var(--kb-gray-200)"},children:t},e))}),f.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:f.jsx(ve,{to:"/businesses",className:"btn btn-secondary",children:"View All 19 Businesses "})})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",textAlign:"center"},children:f.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[f.jsx("h2",{style:{marginBottom:"1rem"},children:"Ready to Support Local?"}),f.jsx("p",{style:{opacity:.9,marginBottom:"2rem"},children:"Join the Kinderbucks program today and start earning rewards while strengthening our village economy."}),f.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:f.jsx(ve,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Get Your First Kinderbucks"})})]})}),f.jsx(Ws,{})]})}function $P(){return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h1",{style:{marginBottom:"1rem"},children:"How Kinderbucks Works"}),f.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem"},children:"A simple system designed to keep money local and reward community participation"})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"What is Kinderbucks?"}),f.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[f.jsxs("p",{style:{marginBottom:"1rem"},children:[f.jsx("strong",{children:"Kinderbucks"})," is a local currency program for the Village of Kinderhook, NY. It's real money  physical bills with QR codes for verification  that can only be spent at participating local businesses."]}),f.jsx("p",{style:{marginBottom:"1rem"},children:"When you exchange US dollars for Kinderbucks, you're making a commitment to spend locally. In return, you receive bonus value through our OK Membership program, turning $10 into $11, $12, or even $12.50 in local spending power."}),f.jsx("p",{children:"Every Kinderbuck spent stays in the village, circulating between businesses and residents, strengthening our local economy with each transaction."})]})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"The Exchange Process"}),f.jsx("div",{style:{display:"grid",gap:"2rem",maxWidth:"700px",margin:"0 auto"},children:[{step:1,title:"Visit an Exchange Point",description:"Stop by any participating business or our central exchange location with US dollars."},{step:2,title:"Show Your Membership",description:"Scan your profile QR code or provide your phone number to apply your tier bonus."},{step:3,title:"Receive Your Kinderbucks",description:"Get physical Kinderbuck bills in $1, $5, $10, and $20 denominations with your bonus applied."},{step:4,title:"Spend Locally",description:"Use your Kinderbucks at any of our 19+ participating businesses."}].map((t,e)=>f.jsxs(Ve.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:e*.1},viewport:{once:!0},style:{display:"flex",gap:"1.5rem",alignItems:"flex-start"},children:[f.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",color:"var(--kb-gold)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem",flexShrink:0},children:t.step}),f.jsxs("div",{children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.title}),f.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.description})]})]},e))})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Verification & Security"}),f.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[f.jsx("p",{style:{marginBottom:"1rem"},children:"Every Kinderbuck bill has a unique QR code that links to our verification system. When scanned, it confirms:"}),f.jsxs("ul",{style:{marginLeft:"1.5rem",marginBottom:"1.5rem"},children:[f.jsx("li",{style:{marginBottom:"0.5rem"},children:"The bill's authenticity"}),f.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its denomination"}),f.jsx("li",{style:{marginBottom:"0.5rem"},children:"Its current status (active, redeemed, etc.)"}),f.jsx("li",{children:"How many times it's been verified"})]}),f.jsx("p",{children:"This prevents counterfeiting and gives businesses confidence when accepting Kinderbucks."})]}),f.jsxs("div",{className:"card",style:{marginTop:"2rem",textAlign:"center"},children:[f.jsx("p",{style:{marginBottom:"1rem",color:"var(--kb-gray-600)"},children:"Try verifying a Kinderbuck:"}),f.jsx(ve,{to:"/scan/KB-0001",className:"btn btn-primary",children:"Verify KB-0001"})]})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("div",{className:"badge badge-gold",style:{marginBottom:"1rem"},children:"OK Membership"}),f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"The Kinderhooker Program"}),f.jsxs("div",{style:{color:"var(--kb-gray-700)",lineHeight:1.8},children:[f.jsxs("p",{style:{marginBottom:"1rem"},children:[f.jsx("strong",{children:"OK Membership"})," rewards customers who actively support local businesses. The more businesses you visit, the higher your tier  and the better your exchange rate."]}),f.jsxs("p",{style:{marginBottom:"1rem"},children:['Each participating business has a QR code. Scan it when you visit to record a "check-in." Your tier is based on how many ',f.jsx("em",{children:"unique"})," businesses you've visited, encouraging exploration of the entire village."]}),f.jsx("p",{children:`There's no cost to join. Simply start checking in at businesses, and you'll automatically become a "Kinderhooker" with access to bonus exchange rates.`})]}),f.jsxs("div",{style:{marginTop:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[f.jsx(ve,{to:"/benefits",className:"btn btn-primary",children:"View All Benefits"}),f.jsx(ve,{to:"/profile",className:"btn btn-secondary",children:"Check My Status"})]})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem"},children:"Frequently Asked Questions"}),[{q:"Is Kinderbucks real money?",a:"Kinderbucks are a local complementary currency. They have value within our participating business network but cannot be deposited in banks or used outside Kinderhook."},{q:"Can I convert Kinderbucks back to USD?",a:"Kinderbucks are designed to circulate locally. While businesses can redeem them, individual customers are encouraged to spend them at participating businesses."},{q:"What if a business closes?",a:"Kinderbucks remain valid at all other participating businesses. The program maintains reserves to ensure stability."},{q:"How do businesses benefit?",a:"Businesses receive customers committed to spending locally, gain exposure through our directory, and become part of a community-strengthening initiative."},{q:"Is there a fee to exchange?",a:"No fees. You receive full value plus your membership bonus when exchanging USD for Kinderbucks."}].map((t,e)=>f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:t.q}),f.jsx("p",{style:{color:"var(--kb-gray-600)"},children:t.a})]},e))]})}),f.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-navy)",color:"var(--kb-white)",textAlign:"center"},children:[f.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to get started?"}),f.jsx(ve,{to:"/exchange",className:"btn btn-gold",children:"Get Your Kinderbucks"})]}),f.jsx(Ws,{})]})}const br={curious:{name:"Curious",threshold:1,bonus:.1,color:"#888888",bgColor:"#f0f0f0",emoji:""},hooked:{name:"Hooked",threshold:5,bonus:.15,color:"#2e7d32",bgColor:"#e8f5e9",emoji:""},lineAndSinker:{name:"Line & Sinker",threshold:10,bonus:.2,color:"#1565c0",bgColor:"#e3f2fd",emoji:""},patron:{name:"Village Patron",threshold:15,bonus:.25,color:"#c9a227",bgColor:"#fff8e1",emoji:""}};function Pm(t){return t>=15?"patron":t>=10?"lineAndSinker":t>=5?"hooked":t>=1?"curious":null}function WP(t){const e=["curious","hooked","lineAndSinker","patron"],n=e.indexOf(t);return n<e.length-1?e[n+1]:null}function Bp(t){const e=Pm(t),n=WP(e);if(!n)return{progress:100,remaining:0,nextTier:null};const i=br[n],o=e?br[e].threshold:0,a=(t-o)/(i.threshold-o)*100;return{progress:Math.min(100,Math.max(0,a)),remaining:i.threshold-t,nextTier:i}}function HP(){const t=[{Icon:KR,title:"Bonus Exchange Rates",description:"Get up to 25% extra when converting USD to Kinderbucks. A $100 exchange becomes $125 in local spending power.",highlight:"Up to 25% bonus"},{Icon:Us,title:"Exclusive Local Deals",description:"Participating businesses offer special discounts and promotions exclusively for Kinderhooker members.",highlight:"Member-only offers"},{Icon:ii,title:"Priority Access",description:"Higher-tier members get early access to limited events, seasonal specials, and new business openings.",highlight:"First in line"},{Icon:tP,title:"Seasonal Bonuses",description:"Extra rewards during holidays and special village events. Double check-in points, bonus exchanges, and more.",highlight:"Special events"},{Icon:Ow,title:"Impact Tracking",description:"See exactly how your spending supports local businesses and contributes to the village economy.",highlight:"Track your impact"},{Icon:du,title:"Community Recognition",description:"Village Patrons are recognized in our annual report and invited to exclusive community appreciation events.",highlight:"Be celebrated"}];return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-gold-dark) 0%, var(--kb-gold) 100%)",color:"var(--kb-navy)",padding:"4rem 1rem",textAlign:"center"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("div",{className:"badge badge-navy",style:{marginBottom:"1rem"},children:"OK Membership"}),f.jsx("h1",{style:{marginBottom:"1rem"},children:"Member Benefits & Rewards"}),f.jsx("p",{style:{fontSize:"1.1rem",opacity:.9},children:"The more you support local, the more you earn. It pays to be a Kinderhooker."})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Membership Tiers"}),f.jsx("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:"Visit more businesses to unlock better rewards"}),f.jsx("div",{style:{overflowX:"auto"},children:f.jsxs("table",{style:{minWidth:"700px"},children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{style:{width:"25%"},children:"Tier"}),f.jsx("th",{style:{width:"20%"},children:"Requirement"}),f.jsx("th",{style:{width:"20%"},children:"Exchange Bonus"}),f.jsx("th",{style:{width:"35%"},children:"Perks"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(an,{size:18,color:"#888"}),f.jsx("span",{style:{fontWeight:"600",color:"#888"},children:"Curious"})]})}),f.jsx("td",{children:"1+ businesses"}),f.jsx("td",{children:f.jsx("span",{style:{color:"#888",fontWeight:"600"},children:"10%"})}),f.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Basic exchange bonus, check-in tracking"})]}),f.jsxs("tr",{children:[f.jsx("td",{children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(ii,{size:18,color:"#2e7d32"}),f.jsx("span",{style:{fontWeight:"600",color:"#2e7d32"},children:"Hooked"})]})}),f.jsx("td",{children:"5+ businesses"}),f.jsx("td",{children:f.jsx("span",{style:{color:"#2e7d32",fontWeight:"600"},children:"15%"})}),f.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Seasonal bonus events, member deals"})]}),f.jsxs("tr",{children:[f.jsx("td",{children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(ns,{size:18,color:"#1565c0"}),f.jsx("span",{style:{fontWeight:"600",color:"#1565c0"},children:"Line & Sinker"})]})}),f.jsx("td",{children:"10+ businesses"}),f.jsx("td",{children:f.jsx("span",{style:{color:"#1565c0",fontWeight:"600"},children:"20%"})}),f.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"Priority access, exclusive events"})]}),f.jsxs("tr",{style:{background:"rgba(201, 162, 39, 0.1)"},children:[f.jsx("td",{children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(sr,{size:18,color:"#c9a227"}),f.jsx("span",{style:{fontWeight:"600",color:"#c9a227"},children:"Village Patron"})]})}),f.jsx("td",{children:"15+ businesses"}),f.jsx("td",{children:f.jsx("span",{style:{color:"#c9a227",fontWeight:"600"},children:"25%"})}),f.jsx("td",{style:{fontSize:"0.9rem",color:"var(--kb-gray-600)"},children:"All perks + community recognition + VIP events"})]})]})]})}),f.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:f.jsx(ve,{to:"/profile",className:"btn btn-primary",children:"Check My Progress"})})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"All Member Benefits"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:t.map((e,n)=>f.jsx(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},viewport:{once:!0},className:"card",children:f.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[f.jsx("div",{style:{width:"50px",height:"50px",background:"var(--kb-navy)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsx(e.Icon,{size:24,color:"var(--kb-gold)",strokeWidth:1.5})}),f.jsxs("div",{children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem",fontSize:"1.1rem"},children:e.title}),f.jsx("span",{className:"badge badge-gold",style:{marginBottom:"0.5rem"},children:e.highlight}),f.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",marginTop:"0.5rem"},children:e.description})]})]})},n))})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:"See Your Savings"}),f.jsx("p",{style:{color:"var(--kb-gray-500)",marginBottom:"2rem"},children:"Example: Exchange $100 USD"}),f.jsx("div",{className:"card",style:{padding:"2rem"},children:f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[{tier:"Curious",bonus:10,color:"#888"},{tier:"Hooked",bonus:15,color:"#2e7d32"},{tier:"Line & Sinker",bonus:20,color:"#1565c0"},{tier:"Village Patron",bonus:25,color:"#c9a227"}].map((e,n)=>f.jsxs("div",{style:{padding:"1rem",borderRadius:"8px",background:`${e.color}10`,border:`1px solid ${e.color}30`},children:[f.jsx("div",{style:{fontSize:"0.85rem",color:e.color,fontWeight:"600"},children:e.tier}),f.jsxs("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:e.color},children:["$",100+e.bonus]}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"in Kinderbucks"})]},n))})}),f.jsx("div",{style:{marginTop:"2rem"},children:f.jsx(ve,{to:"/exchange",className:"btn btn-gold",style:{padding:"1rem 2rem"},children:"Start Exchanging"})})]})}),f.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-green)",color:"var(--kb-white)",textAlign:"center"},children:[f.jsx("h3",{style:{marginBottom:"1rem"},children:"Start earning rewards today"}),f.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Visit a participating business and scan their QR code to begin"}),f.jsx(ve,{to:"/businesses",className:"btn btn-gold",children:"Find Businesses Near You"})]}),f.jsx(Ws,{})]})}const KP=()=>{};var y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],m=t[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,m=u?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=a>>2,v=(a&3)<<4|m>>4;let w=(m&15)<<2|p>>6,k=p&63;d||(k=64,u||(w=64)),i.push(n[g],n[v],n[w],n[k])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||m==null||p==null||v==null)throw new GP;const w=a<<2|m>>4;if(i.push(w),p!==64){const k=m<<4&240|p>>2;if(i.push(k),v!==64){const T=p<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QP=function(t){const e=Hw(t);return Kw.encodeByteArray(e,!0)},mh=function(t){return QP(t).replace(/\./g,"")},YP=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=()=>XP().__FIREBASE_DEFAULTS__,ZP=()=>{if(typeof process>"u"||typeof y1>"u")return;const t=y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YP(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return KP()||JP()||ZP()||e5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},t5=t=>{var e,n;return(n=(e=zp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},n5=t=>{const e=t5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},qw=()=>{var t;return(t=zp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mh(JSON.stringify(n)),mh(JSON.stringify(u)),""].join(".")}const Dl={};function o5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function a5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v1=!1;function l5(t,e){if(typeof window>"u"||typeof document>"u"||!Up(window.location.host)||Dl[t]===e||Dl[t]||v1)return;Dl[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=o5().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{v1=!0,u()},w}function g(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=a5(i),k=n("text"),T=document.getElementById(k)||document.createElement("span"),A=n("learnmore"),I=document.getElementById(A)||document.createElement("a"),F=n("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;m(j),g(I,A);const Y=p();d(z,F),j.append(z,T,I,Y),document.body.appendChild(j)}a?(T.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c5(){var e;const t=(e=zp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h5(){return!c5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d5(){try{return typeof indexedDB=="object"}catch{return!1}}function f5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="FirebaseError";class pa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=m5,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gw.prototype.create)}}class Gw{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?p5(a,i):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new pa(o,m,i)}}function p5(t,e){return t.replace(g5,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const g5=/\{\$([^}]+)}/g;function Kl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(x1(a)&&x1(u)){if(!Kl(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function x1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class ql{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new r5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x5(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(a);i===m&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:v5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v5(t){return t===Ns?void 0:t}function x5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const w5={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},E5=Be.INFO,T5={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},S5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=T5[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qw{constructor(e){this.name=e,this._logLevel=E5,this._logHandler=S5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const k5=(t,e)=>e.some(n=>t instanceof n);let _1,w1;function b5(){return _1||(_1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C5(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,jm=new WeakMap,Xw=new WeakMap,Gf=new WeakMap,$p=new WeakMap;function A5(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n($i(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function I5(t){if(jm.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});jm.set(t,e)}let Vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R5(t){Vm=t(Vm)}function P5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qf(this),e,...n);return Xw.set(i,e.sort?e.sort():[e]),$i(i)}:C5().includes(t)?function(...e){return t.apply(Qf(this),e),$i(Yw.get(this))}:function(...e){return $i(t.apply(Qf(this),e))}}function j5(t){return typeof t=="function"?P5(t):(t instanceof IDBTransaction&&I5(t),k5(t,b5())?new Proxy(t,Vm):t)}function $i(t){if(t instanceof IDBRequest)return A5(t);if(Gf.has(t))return Gf.get(t);const e=j5(t);return e!==t&&(Gf.set(t,e),$p.set(e,t)),e}const Qf=t=>$p.get(t);function V5(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),m=$i(u);return i&&u.addEventListener("upgradeneeded",d=>{i($i(u.result),d.oldVersion,d.newVersion,$i(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const D5=["get","getKey","getAll","getAllKeys","count"],N5=["put","add","delete","clear"],Yf=new Map;function E1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=N5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||D5.includes(n)))return;const a=async function(u,...m){const d=this.transaction(u,o?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&d.done]))[0]};return Yf.set(e,a),a}R5(t=>({...t,get:(e,n,i)=>E1(e,n)||t.get(e,n,i),has:(e,n)=>!!E1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function L5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",T1="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Qw("@firebase/app"),O5="@firebase/app-compat",F5="@firebase/analytics-compat",B5="@firebase/analytics",z5="@firebase/app-check-compat",U5="@firebase/app-check",$5="@firebase/auth",W5="@firebase/auth-compat",H5="@firebase/database",K5="@firebase/data-connect",q5="@firebase/database-compat",G5="@firebase/functions",Q5="@firebase/functions-compat",Y5="@firebase/installations",X5="@firebase/installations-compat",J5="@firebase/messaging",Z5="@firebase/messaging-compat",ej="@firebase/performance",tj="@firebase/performance-compat",nj="@firebase/remote-config",rj="@firebase/remote-config-compat",ij="@firebase/storage",sj="@firebase/storage-compat",oj="@firebase/firestore",aj="@firebase/ai",lj="@firebase/firestore-compat",uj="firebase",cj="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",hj={[Dm]:"fire-core",[O5]:"fire-core-compat",[B5]:"fire-analytics",[F5]:"fire-analytics-compat",[U5]:"fire-app-check",[z5]:"fire-app-check-compat",[$5]:"fire-auth",[W5]:"fire-auth-compat",[H5]:"fire-rtdb",[K5]:"fire-data-connect",[q5]:"fire-rtdb-compat",[G5]:"fire-fn",[Q5]:"fire-fn-compat",[Y5]:"fire-iid",[X5]:"fire-iid-compat",[J5]:"fire-fcm",[Z5]:"fire-fcm-compat",[ej]:"fire-perf",[tj]:"fire-perf-compat",[nj]:"fire-rc",[rj]:"fire-rc-compat",[ij]:"fire-gcs",[sj]:"fire-gcs-compat",[oj]:"fire-fst",[lj]:"fire-fst-compat",[aj]:"fire-vertex","fire-js":"fire-js",[uj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,dj=new Map,Mm=new Map;function S1(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gh(t){const e=t.name;if(Mm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(const n of ph.values())S1(n,t);for(const n of dj.values())S1(n,t);return!0}function fj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mj(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Gw("app","Firebase",pj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=cj;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Nm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(n||(n=qw()),!n)throw Wi.create("no-options");const a=ph.get(o);if(a){if(Kl(n,a.options)&&Kl(i,a.config))return a;throw Wi.create("duplicate-app",{appName:o})}const u=new _5(o);for(const d of Mm.values())u.addComponent(d);const m=new gj(n,i,u);return ph.set(o,m),m}function vj(t=Nm){const e=ph.get(t);if(!e&&t===Nm&&qw())return Jw();if(!e)throw Wi.create("no-app",{appName:t});return e}function Zo(t,e,n){let i=hj[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(u.join(" "));return}gh(new ql(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="firebase-heartbeat-database",_j=1,Gl="firebase-heartbeat-store";let Xf=null;function Zw(){return Xf||(Xf=V5(xj,_j,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Xf}async function wj(t){try{const n=(await Zw()).transaction(Gl),i=await n.objectStore(Gl).get(eE(t));return await n.done,i}catch(e){if(e instanceof pa)oi.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function k1(t,e){try{const i=(await Zw()).transaction(Gl,"readwrite");await i.objectStore(Gl).put(e,eE(t)),await i.done}catch(n){if(n instanceof pa)oi.warn(n.message);else{const i=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function eE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1024,Tj=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Tj){const u=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b1(),{heartbeatsToSend:i,unsentEntries:o}=kj(this._heartbeatsCache.heartbeats),a=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return oi.warn(n),""}}}function b1(){return new Date().toISOString().substring(0,10)}function kj(t,e=Ej){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),C1(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),C1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d5()?f5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C1(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function Cj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){gh(new ql("platform-logger",e=>new M5(e),"PRIVATE")),gh(new ql("heartbeat",e=>new Sj(e),"PRIVATE")),Zo(Dm,T1,t),Zo(Dm,T1,"esm2020"),Zo("fire-js","")}Aj("");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,tE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function P(){}P.prototype=b.prototype,R.F=b.prototype,R.prototype=new P,R.prototype.constructor=R,R.D=function(M,L,$){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return b.prototype[L].apply(M,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,P){P||(P=0);const M=Array(16);if(typeof b=="string")for(var L=0;L<16;++L)M[L]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(L=0;L<16;++L)M[L]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=R.g[0],P=R.g[1],L=R.g[2];let $=R.g[3],D;D=b+($^P&(L^$))+M[0]+3614090360&4294967295,b=P+(D<<7&4294967295|D>>>25),D=$+(L^b&(P^L))+M[1]+3905402710&4294967295,$=b+(D<<12&4294967295|D>>>20),D=L+(P^$&(b^P))+M[2]+606105819&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(b^L&($^b))+M[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=b+($^P&(L^$))+M[4]+4118548399&4294967295,b=P+(D<<7&4294967295|D>>>25),D=$+(L^b&(P^L))+M[5]+1200080426&4294967295,$=b+(D<<12&4294967295|D>>>20),D=L+(P^$&(b^P))+M[6]+2821735955&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(b^L&($^b))+M[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=b+($^P&(L^$))+M[8]+1770035416&4294967295,b=P+(D<<7&4294967295|D>>>25),D=$+(L^b&(P^L))+M[9]+2336552879&4294967295,$=b+(D<<12&4294967295|D>>>20),D=L+(P^$&(b^P))+M[10]+4294925233&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(b^L&($^b))+M[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=b+($^P&(L^$))+M[12]+1804603682&4294967295,b=P+(D<<7&4294967295|D>>>25),D=$+(L^b&(P^L))+M[13]+4254626195&4294967295,$=b+(D<<12&4294967295|D>>>20),D=L+(P^$&(b^P))+M[14]+2792965006&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(b^L&($^b))+M[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=b+(L^$&(P^L))+M[1]+4129170786&4294967295,b=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(b^P))+M[6]+3225465664&4294967295,$=b+(D<<9&4294967295|D>>>23),D=L+(b^P&($^b))+M[11]+643717713&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^b&(L^$))+M[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=b+(L^$&(P^L))+M[5]+3593408605&4294967295,b=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(b^P))+M[10]+38016083&4294967295,$=b+(D<<9&4294967295|D>>>23),D=L+(b^P&($^b))+M[15]+3634488961&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^b&(L^$))+M[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=b+(L^$&(P^L))+M[9]+568446438&4294967295,b=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(b^P))+M[14]+3275163606&4294967295,$=b+(D<<9&4294967295|D>>>23),D=L+(b^P&($^b))+M[3]+4107603335&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^b&(L^$))+M[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=b+(L^$&(P^L))+M[13]+2850285829&4294967295,b=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(b^P))+M[2]+4243563512&4294967295,$=b+(D<<9&4294967295|D>>>23),D=L+(b^P&($^b))+M[7]+1735328473&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^b&(L^$))+M[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=b+(P^L^$)+M[5]+4294588738&4294967295,b=P+(D<<4&4294967295|D>>>28),D=$+(b^P^L)+M[8]+2272392833&4294967295,$=b+(D<<11&4294967295|D>>>21),D=L+($^b^P)+M[11]+1839030562&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^b)+M[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=b+(P^L^$)+M[1]+2763975236&4294967295,b=P+(D<<4&4294967295|D>>>28),D=$+(b^P^L)+M[4]+1272893353&4294967295,$=b+(D<<11&4294967295|D>>>21),D=L+($^b^P)+M[7]+4139469664&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^b)+M[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=b+(P^L^$)+M[13]+681279174&4294967295,b=P+(D<<4&4294967295|D>>>28),D=$+(b^P^L)+M[0]+3936430074&4294967295,$=b+(D<<11&4294967295|D>>>21),D=L+($^b^P)+M[3]+3572445317&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^b)+M[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=b+(P^L^$)+M[9]+3654602809&4294967295,b=P+(D<<4&4294967295|D>>>28),D=$+(b^P^L)+M[12]+3873151461&4294967295,$=b+(D<<11&4294967295|D>>>21),D=L+($^b^P)+M[15]+530742520&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^b)+M[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=b+(L^(P|~$))+M[0]+4096336452&4294967295,b=P+(D<<6&4294967295|D>>>26),D=$+(P^(b|~L))+M[7]+1126891415&4294967295,$=b+(D<<10&4294967295|D>>>22),D=L+(b^($|~P))+M[14]+2878612391&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~b))+M[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=b+(L^(P|~$))+M[12]+1700485571&4294967295,b=P+(D<<6&4294967295|D>>>26),D=$+(P^(b|~L))+M[3]+2399980690&4294967295,$=b+(D<<10&4294967295|D>>>22),D=L+(b^($|~P))+M[10]+4293915773&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~b))+M[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=b+(L^(P|~$))+M[8]+1873313359&4294967295,b=P+(D<<6&4294967295|D>>>26),D=$+(P^(b|~L))+M[15]+4264355552&4294967295,$=b+(D<<10&4294967295|D>>>22),D=L+(b^($|~P))+M[6]+2734768916&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~b))+M[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=b+(L^(P|~$))+M[4]+4149444226&4294967295,b=P+(D<<6&4294967295|D>>>26),D=$+(P^(b|~L))+M[11]+3174756917&4294967295,$=b+(D<<10&4294967295|D>>>22),D=L+(b^($|~P))+M[2]+718787259&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~b))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+$&4294967295}i.prototype.v=function(R,b){b===void 0&&(b=R.length);const P=b-this.blockSize,M=this.C;let L=this.h,$=0;for(;$<b;){if(L==0)for(;$<=P;)o(this,R,$),$+=this.blockSize;if(typeof R=="string"){for(;$<b;)if(M[L++]=R.charCodeAt($++),L==this.blockSize){o(this,M),L=0;break}}else for(;$<b;)if(M[L++]=R[$++],L==this.blockSize){o(this,M),L=0;break}}this.h=L,this.o+=b},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var P=R.length-8;P<R.length;++P)R[P]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,P=0;P<4;++P)for(let M=0;M<32;M+=8)R[b++]=this.g[P]>>>M&255;return R};function a(R,b){var P=m;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=b(R)}function u(R,b){this.h=b;const P=[];let M=!0;for(let L=R.length-1;L>=0;L--){const $=R[L]|0;M&&$==b||(P[L]=$,M=!1)}this.g=P}var m={};function d(R){return-128<=R&&R<128?a(R,function(b){return new u([b|0],b<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return I(p(-R));const b=[];let P=1;for(let M=0;R>=P;M++)b[M]=R/P|0,P*=4294967296;return new u(b,0)}function g(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return I(g(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(b,8));let M=v;for(let $=0;$<R.length;$+=8){var L=Math.min(8,R.length-$);const D=parseInt(R.substring($,$+L),b);L<8?(L=p(Math.pow(b,L)),M=M.j(L).add(p(D))):(M=M.j(P),M=M.add(p(D)))}return M}var v=d(0),w=d(1),k=d(16777216);t=u.prototype,t.m=function(){if(A(this))return-I(this).m();let R=0,b=1;for(let P=0;P<this.g.length;P++){const M=this.i(P);R+=(M>=0?M:4294967296+M)*b,b*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(A(this))return"-"+I(this).toString(R);const b=p(Math.pow(R,6));var P=this;let M="";for(;;){const L=Y(P,b).g;P=F(P,L.j(b));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(R);if(P=L,T(P))return $+M;for(;$.length<6;)$="0"+$;M=$+M}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=F(this,R),A(R)?-1:T(R)?0:1};function I(R){const b=R.g.length,P=[];for(let M=0;M<b;M++)P[M]=~R.g[M];return new u(P,~R.h).add(w)}t.abs=function(){return A(this)?I(this):this},t.add=function(R){const b=Math.max(this.g.length,R.g.length),P=[];let M=0;for(let L=0;L<=b;L++){let $=M+(this.i(L)&65535)+(R.i(L)&65535),D=($>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);M=D>>>16,$&=65535,D&=65535,P[L]=D<<16|$}return new u(P,P[P.length-1]&-2147483648?-1:0)};function F(R,b){return R.add(I(b))}t.j=function(R){if(T(this)||T(R))return v;if(A(this))return A(R)?I(this).j(I(R)):I(I(this).j(R));if(A(R))return I(this.j(I(R)));if(this.l(k)<0&&R.l(k)<0)return p(this.m()*R.m());const b=this.g.length+R.g.length,P=[];for(var M=0;M<2*b;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(let L=0;L<R.g.length;L++){const $=this.i(M)>>>16,D=this.i(M)&65535,Pe=R.i(L)>>>16,We=R.i(L)&65535;P[2*M+2*L]+=D*We,z(P,2*M+2*L),P[2*M+2*L+1]+=$*We,z(P,2*M+2*L+1),P[2*M+2*L+1]+=D*Pe,z(P,2*M+2*L+1),P[2*M+2*L+2]+=$*Pe,z(P,2*M+2*L+2)}for(R=0;R<b;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=b;R<2*b;R++)P[R]=0;return new u(P,0)};function z(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function j(R,b){this.g=R,this.h=b}function Y(R,b){if(T(b))throw Error("division by zero");if(T(R))return new j(v,v);if(A(R))return b=Y(I(R),b),new j(I(b.g),I(b.h));if(A(b))return b=Y(R,I(b)),new j(I(b.g),b.h);if(R.g.length>30){if(A(R)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var P=w,M=b;M.l(R)<=0;)P=W(P),M=W(M);var L=X(P,1),$=X(M,1);for(M=X(M,2),P=X(P,2);!T(M);){var D=$.add(M);D.l(R)<=0&&(L=L.add(P),$=D),M=X(M,1),P=X(P,1)}return b=F(R,L.j(b)),new j(L,b)}for(L=v;R.l(b)>=0;){for(P=Math.max(1,Math.floor(R.m()/b.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),$=p(P),D=$.j(b);A(D)||D.l(R)>0;)P-=M,$=p(P),D=$.j(b);T($)&&($=w),L=L.add($),R=F(R,D)}return new j(L,R)}t.B=function(R){return Y(this,R).h},t.and=function(R){const b=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<b;M++)P[M]=this.i(M)&R.i(M);return new u(P,this.h&R.h)},t.or=function(R){const b=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<b;M++)P[M]=this.i(M)|R.i(M);return new u(P,this.h|R.h)},t.xor=function(R){const b=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<b;M++)P[M]=this.i(M)^R.i(M);return new u(P,this.h^R.h)};function W(R){const b=R.g.length+1,P=[];for(let M=0;M<b;M++)P[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(P,R.h)}function X(R,b){const P=b>>5;b%=32;const M=R.g.length-P,L=[];for(let $=0;$<M;$++)L[$]=b>0?R.i($+P)>>>b|R.i($+P+1)<<32-b:R.i($+P);return new u(L,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,tE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Hi=u}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,bl,rE,Jc,Lm,iE,sE,oE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function o(c,_){if(_)e:{var E=i;c=c.split(".");for(var C=0;C<c.length-1;C++){var K=c[C];if(!(K in E))break e;E=E[K]}c=c[c.length-1],C=E[c],_=_(C),_!=C&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&E.push([C,_[C]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function d(c,_,E){return c.call.apply(c.bind,arguments)}function p(c,_,E){return p=d,p.apply(null,arguments)}function g(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function v(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(C,K,Q){for(var oe=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)oe[Ae-2]=arguments[Ae];return _.prototype[K].apply(C,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const _=c.length;if(_>0){const E=Array(_);for(let C=0;C<_;C++)E[C]=c[C];return E}return[]}function T(c,_){for(let C=1;C<arguments.length;C++){const K=arguments[C];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=c.length||0;const Q=K.length||0;c.length=E+Q;for(let oe=0;oe<Q;oe++)c[E+oe]=K[oe]}else c.push(K)}}class A{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(c){u.setTimeout(()=>{throw c},0)}function F(){var c=R;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,E){const C=j.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var j=new A(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,X=!1,R=new z,b=()=>{const c=Promise.resolve(void 0);W=()=>{c.then(P)}};function P(){for(var c;c=F();){try{c.h.call(c.g)}catch(E){I(E)}var _=j;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}X=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Pe(c,_){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}v(Pe,L),Pe.prototype.init=function(c,_){const E=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),_t=0;function Ee(c,_,E,C,K){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=K,this.key=++_t,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,_,E){for(const C in c)_.call(E,c[C],C,c)}function ae(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function U(c){const _={};for(const E in c)_[E]=c[E];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(c,_){let E,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(E in C)c[E]=C[E];for(let Q=0;Q<ee.length;Q++)E=ee[Q],Object.prototype.hasOwnProperty.call(C,E)&&(c[E]=C[E])}}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,_,E,C,K){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const oe=Ne(c,_,C,K);return oe>-1?(_=c[oe],E||(_.fa=!1)):(_=new Ee(_,this.src,Q,!!C,K),_.fa=E,c.push(_)),_};function De(c,_){const E=_.type;if(E in c.g){var C=c.g[E],K=Array.prototype.indexOf.call(C,_,void 0),Q;(Q=K>=0)&&Array.prototype.splice.call(C,K,1),Q&&(ie(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,_,E,C){for(let K=0;K<c.length;++K){const Q=c[K];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==C)return K}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),ze={};function Qe(c,_,E,C,K){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)Qe(c,_[Q],E,C,K);return null}return E=Ca(E),c&&c[We]?c.J(_,E,m(C)?!!C.capture:!1,K):tn(c,_,E,!1,C,K)}function tn(c,_,E,C,K,Q){if(!_)throw Error("Invalid event type");const oe=m(K)?!!K.capture:!!K;let Ae=no(c);if(Ae||(c[Ke]=Ae=new Ce(c)),E=Ae.add(_,E,C,oe,Q),E.proxy)return E;if(C=eo(),E.proxy=C,C.src=c,C.listener=E,c.addEventListener)$||(K=oe),K===void 0&&(K=!1),c.addEventListener(_.toString(),C,K);else if(c.attachEvent)c.attachEvent(to(_.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function eo(){function c(E){return _.call(c.src,c.listener,E)}const _=_u;return c}function ba(c,_,E,C,K){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)ba(c,_[Q],E,C,K);else C=m(C)?!!C.capture:!!C,E=Ca(E),c&&c[We]?(c=c.i,Q=String(_).toString(),Q in c.g&&(_=c.g[Q],E=Ne(_,E,C,K),E>-1&&(ie(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[Q],c.h--)))):c&&(c=no(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ne(_,E,C,K)),(E=c>-1?_[c]:null)&&ci(E))}function ci(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[We])De(_.i,c);else{var E=c.type,C=c.proxy;_.removeEventListener?_.removeEventListener(E,C,c.capture):_.detachEvent?_.detachEvent(to(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=no(_))?(De(E,c),E.h==0&&(E.src=null,_[Ke]=null)):ie(c)}}}function to(c){return c in ze?ze[c]:ze[c]="on"+c}function _u(c,_){if(c.da)c=!0;else{_=new Pe(_,this);const E=c.listener,C=c.ha||c.src;c.fa&&ci(c),c=E.call(C,_)}return c}function no(c){return c=c[Ke],c instanceof Ce?c:null}var os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ca(c){return typeof c=="function"?c:(c[os]||(c[os]=function(_){return c.handleEvent(_)}),c[os])}function wt(){M.call(this),this.i=new Ce(this),this.M=this,this.G=null}v(wt,M),wt.prototype[We]=!0,wt.prototype.removeEventListener=function(c,_,E,C){ba(this,c,_,E,C)};function pt(c,_){var E,C=c.G;if(C)for(E=[];C;C=C.G)E.push(C);if(c=c.M,C=_.type||_,typeof _=="string")_=new L(_,c);else if(_ instanceof L)_.target=_.target||c;else{var K=_;_=new L(C,c),be(_,K)}K=!0;let Q,oe;if(E)for(oe=E.length-1;oe>=0;oe--)Q=_.g=E[oe],K=Un(Q,C,!0,_)&&K;if(Q=_.g=c,K=Un(Q,C,!0,_)&&K,K=Un(Q,C,!1,_)&&K,E)for(oe=0;oe<E.length;oe++)Q=_.g=E[oe],K=Un(Q,C,!1,_)&&K}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let C=0;C<E.length;C++)ie(E[C]);delete c.g[_],c.h--}}this.G=null},wt.prototype.J=function(c,_,E,C){return this.i.add(String(c),_,!1,E,C)},wt.prototype.K=function(c,_,E,C){return this.i.add(String(c),_,!0,E,C)};function Un(c,_,E,C){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let Q=0;Q<_.length;++Q){const oe=_[Q];if(oe&&!oe.da&&oe.capture==E){const Ae=oe.listener,gt=oe.ha||oe.src;oe.fa&&De(c.i,oe),K=Ae.call(gt,C)!==!1&&K}}return K&&!C.defaultPrevented}function Aa(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Ia(c){c.g=Aa(()=>{c.g=null,c.i&&(c.i=!1,Ia(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class wu extends M{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(c){M.call(this),this.h=c,this.g={}}v(hi,M);var Ra=[];function ro(c){fe(c.g,function(_,E){this.g.hasOwnProperty(E)&&ci(_)},c),c.g={}}hi.prototype.N=function(){hi.Z.N.call(this),ro(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=u.JSON.stringify,Eu=u.JSON.parse,as=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function fi(){}function Tu(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function io(){L.call(this,"d")}v(io,L);function Pa(){L.call(this,"c")}v(Pa,L);var $n={},so=null;function pi(){return so=so||new wt}$n.Ia="serverreachability";function oo(c){L.call(this,$n.Ia,c)}v(oo,L);function Dr(c){const _=pi();pt(_,new oo(_))}$n.STAT_EVENT="statevent";function Nr(c,_){L.call(this,$n.STAT_EVENT,c),this.stat=_}v(Nr,L);function ht(c){const _=pi();pt(_,new Nr(_,c))}$n.Ja="timingevent";function ja(c,_){L.call(this,$n.Ja,c),this.size=_}v(ja,L);function gi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function yi(){this.g=!0}yi.prototype.ua=function(){this.g=!1};function Su(c,_,E,C,K,Q){c.info(function(){if(c.g)if(Q){var oe="",Ae=Q.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var gt=Ae[Ge].split("=");if(gt.length>1){const Et=gt[0];gt=gt[1];const wn=Et.split("_");oe=wn.length>=2&&wn[1]=="type"?oe+(Et+"="+gt+"&"):oe+(Et+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+_+`
`+E+`
`+oe})}function ku(c,_,E,C,K,Q,oe){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+_+`
`+E+`
`+Q+" "+oe})}function or(c,_,E,C){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+ls(c,E)+(C?" "+C:"")})}function bu(c,_){c.info(function(){return"TIMEOUT: "+_})}yi.prototype.info=function(){};function ls(c,_){if(!c.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let oe=1;oe<C.length;oe++)C[oe]=""}}}}return di(Q)}catch{return _}}var vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cu;function Mr(){}v(Mr,fi),Mr.prototype.g=function(){return new XMLHttpRequest},Cu=new Mr;function ar(c){return encodeURIComponent(String(c))}function ao(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function bn(c,_,E,C){this.j=c,this.i=_,this.l=E,this.S=C||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Au}function Au(){this.i=null,this.g="",this.h=!1}var Iu={},Va={};function Wn(c,_,E){c.M=1,c.A=Or(Cn(_)),c.u=E,c.R=!0,Da(c,null)}function Da(c,_){c.F=Date.now(),us(c),c.B=Cn(c.A);var E=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),Wa(E.i,"t",C),c.C=0,E=c.j.L,c.h=new Au,c.g=Fu(c.j,E?_:null,!c.u),c.P>0&&(c.O=new wu(p(c.Y,c,c.g),c.P)),_=c.V,E=c.g,C=c.ba;var K="readystatechange";Array.isArray(K)||(K&&(Ra[0]=K.toString()),K=Ra);for(let Q=0;Q<K.length;Q++){const oe=Qe(E,K[Q],C||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Dr(),Su(c.i,c.v,c.B,c.l,c.S,c.u)}bn.prototype.ba=function(c){c=c.target;const _=this.O;_&&mr(c)==3?_.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=mr(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Lu(this.g)))){this.K||Ae!=4||gt==7||(gt==8||Ge<=0?Dr(3):Dr(2)),lo(this);var _=this.g.ca();this.X=_;var E=Ru(this);if(this.o=_==200,ku(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var Q=C;break t}}Q=null}if(c=Q)or(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,c);else{this.o=!1,this.m=3,ht(12),Lr(this),cs(this);break e}}if(this.R){c=!0;let Et;for(;!this.K&&this.C<E.length;)if(Et=ju(this,E),Et==Va){Ae==4&&(this.m=4,ht(14),c=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Iu){this.m=4,ht(15),or(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else or(this.i,this.l,Et,null),Ze(this,Et);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)or(this.i,this.l,E,"[Invalid Chunked Response]"),Lr(this),cs(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xs(oe),oe.P=!0,ht(11))}}else or(this.i,this.l,E,null),Ze(this,E);Ae==4&&Lr(this),this.o&&!this.K&&(Ae==4?xo(this.j,this):(this.o=!1,us(this)))}else Ka(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Lr(this),cs(this)}}}catch{}finally{}};function Ru(c){if(!Pu(c))return c.g.la();const _=Lu(c.g);if(_==="")return"";let E="";const C=_.length,K=mr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Lr(c),cs(c),"";c.h.i=new u.TextDecoder}for(let Q=0;Q<C;Q++)c.h.h=!0,E+=c.h.i.decode(_[Q],{stream:!(K&&Q==C-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,_){var E=c.C,C=_.indexOf(`
`,E);return C==-1?Va:(E=Number(_.substring(E,C)),isNaN(E)?Iu:(C+=1,C+E>_.length?Va:(_=_.slice(C,C+E),c.C=C+E,_)))}bn.prototype.cancel=function(){this.K=!0,Lr(this)};function us(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(p(c.aa,c),_)}function lo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bu(this.i,this.B),this.M!=2&&(Dr(),ht(17)),Lr(this),this.m=2,cs(this)):Na(this,this.T-c)};function cs(c){c.j.I==0||c.K||xo(c.j,c)}function Lr(c){lo(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,ro(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ze(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||La(E.h,c))){if(!c.L&&La(E.h,c)&&E.I==3){try{var C=E.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)vo(E),xn(E);else break e;yr(E),ht(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gi(p(E.Va,E),6e3));hs(E.h)<=1&&E.ta&&(E.ta=void 0)}else _n(E,11)}else if((c.L||E.g==c)&&vo(E),!D(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let Ge=K[_];const Et=Ge[0];if(!(Et<=E.K))if(E.K=Et,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const wn=Ge[3];wn!=null&&(E.ka=wn,E.j.info("VER="+E.ka));const $r=Ge[4];$r!=null&&(E.za=$r,E.j.info("SVER="+E.za));const vr=Ge[5];vr!=null&&typeof vr=="number"&&vr>0&&(C=1.5*vr,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const xr=c.g;if(xr){const Eo=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var Q=C.h;Q.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(co(Q,Q.h),Q.h=null))}if(C.G){const Qa=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(C.wa=Qa,He(C.J,C.G,Qa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var oe=c;if(C.na=Ga(C,C.L?C.ba:null,C.W),oe.L){ds(C.h,oe);var Ae=oe,gt=C.O;gt&&(Ae.H=gt),Ae.D&&(lo(Ae),us(Ae)),C.g=oe}else Ht(C);E.i.length>0&&Ur(E)}else Ge[0]!="stop"&&Ge[0]!="close"||_n(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?_n(E,7):go(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}Dr(4)}catch{}}var ed=class{constructor(c,_){this.g=c,this.map=_}};function uo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function La(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function co(c,_){c.g?c.g.add(_):c.h=_}function ds(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}uo.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return k(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yn(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const C=c[E].indexOf("=");let K,Q=null;C>=0?(K=c[E].substring(0,C),Q=c[E].substring(C+1)):K=c[E],_(K,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof lr?(this.l=c.l,fs(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.u),this.h=c.h,_i(this,Ha(c.i)),this.m=c.m):c&&(_=String(c).match(Vu))?(this.l=!1,fs(this,_[1]||"",!0),this.o=ms(_[2]||""),this.g=ms(_[3]||"",!0),ur(this,_[4]),this.h=ms(_[5]||"",!0),_i(this,_[6]||"",!0),this.m=ms(_[7]||"")):(this.l=!1,this.i=new Oe(null,this.l))}lr.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(ps(_,Fa,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ps(_,Fa,!0),"@"),c.push(ar(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ps(E,E.charAt(0)=="/"?gs:Ba,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ps(E,za)),c.join("")},lr.prototype.resolve=function(c){const _=Cn(this);let E=!!c.j;E?fs(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var C=c.h;if(E)ur(_,c.u);else if(E=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=_.h.lastIndexOf("/");K!=-1&&(C=_.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const Q=[];for(let oe=0;oe<K.length;){const Ae=K[oe++];Ae=="."?C&&oe==K.length&&Q.push(""):Ae==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),C&&oe==K.length&&Q.push("")):(Q.push(Ae),C=!0)}C=Q.join("/")}else C=K}return E?_.h=C:E=c.i.toString()!=="",E?_i(_,Ha(c.i)):E=!!c.m,E&&(_.m=c.m),_};function Cn(c){return new lr(c)}function fs(c,_,E){c.j=E?ms(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function _i(c,_,E){_ instanceof Oe?(c.i=_,fo(c.i,c.l)):(E||(_=ps(_,td)),c.i=new Oe(_,c.l))}function He(c,_,E){c.i.set(_,E)}function Or(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ms(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Oa),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Oa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fa=/[#\/\?@]/g,Ba=/[#\?:]/g,gs=/[#\?]/g,td=/[#\?@]/g,za=/#/g;function Oe(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&yn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Oe.prototype,t.add=function(c,_){cr(this),this.i=null,c=hr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Ua(c,_){cr(c),_=hr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ho(c,_){return cr(c),_=hr(c,_),c.g.has(_)}t.forEach=function(c,_){cr(this),this.g.forEach(function(E,C){E.forEach(function(K){c.call(_,K,C,this)},this)},this)};function $a(c,_){cr(c);let E=[];if(typeof _=="string")ho(c,_)&&(E=E.concat(c.g.get(hr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}t.set=function(c,_){return cr(this),this.i=null,c=hr(this,c),ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=$a(this,c),c.length>0?String(c[0]):_):_};function Wa(c,_,E){Ua(c,_),E.length>0&&(c.i=null,c.g.set(hr(c,_),k(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var E=_[C];const K=ar(E);E=$a(this,E);for(let Q=0;Q<E.length;Q++){let oe=K;E[Q]!==""&&(oe+="="+ar(E[Q])),c.push(oe)}}return this.i=c.join("&")};function Ha(c){const _=new Oe;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function hr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function fo(c,_){_&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(E,C){const K=C.toLowerCase();C!=K&&(Ua(this,C),Wa(this,K,E))},c)),c.j=_}function dr(c,_){const E=new yi;if(u.Image){const C=new Image;C.onload=g(Lt,E,"TestLoadImage: loaded",!0,_,C),C.onerror=g(Lt,E,"TestLoadImage: error",!1,_,C),C.onabort=g(Lt,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=g(Lt,E,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else _(!1)}function fr(c,_){const E=new yi,C=new AbortController,K=setTimeout(()=>{C.abort(),Lt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:C.signal}).then(Q=>{clearTimeout(K),Q.ok?Lt(E,"TestPingServer: ok",!0,_):Lt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Lt(E,"TestPingServer: error",!1,_)})}function Lt(c,_,E,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(E)}catch{}}function ys(){this.g=new as}function Fr(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Fr,fi),Fr.prototype.g=function(){return new vn(this.i,this.h)};function vn(c,_){wt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(vn,wt),t=vn.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Hn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Du(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Du(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?wi(this):Hn(this),this.readyState==3&&Du(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,wi(this))},t.Na=function(c){this.g&&(this.response=c,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}t.setRequestHeader=function(c,_){this.A.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nu(c){let _="";return fe(c,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function mo(c,_,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Nu(E),typeof c=="string"?E!=null&&ar(E):He(c,_,E))}function Ye(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ye,wt);var Mu=/^https?$/i,nd=["POST","PUT"];t=Ye.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){Ei(this,Q);return}if(c=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)E.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())E.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),K=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(nd,_,void 0)>=0)||C||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ei(this,Q)}};function Ei(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Ti(c),zr(c)}function Ti(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),zr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},t.Xa=function(){Br(this)};function Br(c){if(c.h&&typeof a<"u"){if(c.v&&mr(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),mr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var C;if(C=Q===0){let oe=String(c.D).match(Vu)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),C=!Mu.test(oe?oe.toLowerCase():"")}E=C}if(E)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var K=mr(c)>2?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.ca()+"]",Ti(c)}}finally{zr(c)}}}}function zr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||pt(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Eu(_)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ka(c){const _={};c=(c.g&&mr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(D(c[C]))continue;var E=ao(c[C]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[K]||[];_[K]=Q,Q.push(E)}ae(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function po(c){this.za=0,this.i=[],this.j=new yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pr("baseRetryDelayMs",5e3,c),this.Za=pr("retryDelaySeedMs",1e4,c),this.Ta=pr("forwardChannelMaxRetries",2,c),this.va=pr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new uo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=po.prototype,t.ka=8,t.I=1,t.connect=function(c,_,E,C){ht(0),this.W=c,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=Ga(this,null,this.W),Ur(this)};function go(c){if(yo(c),c.I==3){var _=c.V++,E=Cn(c.J);if(He(E,"SID",c.M),He(E,"RID",_),He(E,"TYPE","terminate"),gr(c,E),_=new bn(c,c.j,_),_.M=2,_.A=Or(Cn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Fu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),us(_)}_s(c)}function xn(c){c.g&&(xs(c),c.g.cancel(),c.g=null)}function yo(c){xn(c),c.v&&(u.clearTimeout(c.v),c.v=null),vo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Ur(c){if(!Ma(c.h)&&!c.m){c.m=!0;var _=c.Ea;W||b(),X||(W(),X=!0),R.add(_,c),c.D=0}}function Ou(c,_){return hs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(p(c.Ea,c,_),_o(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const K=new bn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=U(Q),be(Q,this.U)):Q=this.U),this.u!==null||this.R||(K.J=Q,Q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=qa(this,K,_),E=Cn(this.J),He(E,"RID",c),He(E,"CVER",22),this.G&&He(E,"X-HTTP-Session-Id",this.G),gr(this,E),Q&&(this.R?_="headers="+ar(Nu(Q))+"&"+_:this.u&&mo(E,this.u,Q)),co(this.h,K),this.Ra&&He(E,"TYPE","init"),this.S?(He(E,"$req",_),He(E,"SID","null"),K.U=!0,Wn(K,E,null)):Wn(K,E,_),this.I=2}}else this.I==3&&(c?vs(this,c):this.i.length==0||Ma(this.h)||vs(this))};function vs(c,_){var E;_?E=_.l:E=c.V++;const C=Cn(c.J);He(C,"SID",c.M),He(C,"RID",E),He(C,"AID",c.K),gr(c,C),c.u&&c.o&&mo(C,c.u,c.o),E=new bn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=qa(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),co(c.h,E),Wn(E,C,_)}function gr(c,_){c.H&&fe(c.H,function(E,C){He(_,C,E)}),c.l&&fe({},function(E,C){He(_,C,E)})}function qa(c,_,E){E=Math.min(c.i.length,E);const C=c.l?p(c.l.Ka,c.l,c):null;e:{var K=c.i;let Ae=-1;for(;;){const gt=["count="+E];Ae==-1?E>0?(Ae=K[0].g,gt.push("ofs="+Ae)):Ae=0:gt.push("ofs="+Ae);let Ge=!0;for(let Et=0;Et<E;Et++){var Q=K[Et].g;const wn=K[Et].map;if(Q-=Ae,Q<0)Ae=Math.max(0,K[Et].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var oe=wn instanceof Map?wn:Object.entries(wn);for(const[$r,vr]of oe){let xr=vr;m(vr)&&(xr=di(vr)),gt.push(Q+$r+"="+encodeURIComponent(xr))}}catch($r){throw gt.push(Q+"type="+encodeURIComponent("_badmap")),$r}}catch{C&&C(wn)}}if(Ge){oe=gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),_.G=c,oe}function Ht(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;W||b(),X||(W(),X=!0),R.add(_,c),c.A=0}}function yr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(p(c.Da,c),_o(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Si(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),xn(this),Si(this))};function xs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Si(c){c.g=new bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Cn(c.na);He(_,"RID","rpc"),He(_,"SID",c.M),He(_,"AID",c.K),He(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(_,"TO",c.ia),He(_,"TYPE","xmlhttp"),gr(c,_),c.u&&c.o&&mo(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Or(Cn(_)),E.u=null,E.R=!0,Da(E,c)}t.Va=function(){this.C!=null&&(this.C=null,xn(this),yr(this),ht(19))};function vo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function xo(c,_){var E=null;if(c.g==_){vo(c),xs(c),c.g=null;var C=2}else if(La(c.h,_))E=_.G,ds(c.h,_),C=1;else return;if(c.I!=0){if(_.o)if(C==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=c.D;C=pi(),pt(C,new ja(C,E)),Ur(c)}else Ht(c);else if(K=_.m,K==3||K==0&&_.X>0||!(C==1&&Ou(c,_)||C==2&&yr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),K){case 1:_n(c,5);break;case 4:_n(c,10);break;case 3:_n(c,6);break;default:_n(c,2)}}}function _o(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function _n(c,_){if(c.j.info("Error code "+_),_==2){var E=p(c.bb,c),C=c.Ua;const K=!C;C=new lr(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fs(C,"https"),Or(C),K?dr(C.toString(),E):fr(C.toString(),E)}else ht(2);c.I=0,c.l&&c.l.pa(_),_s(c),yo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function _s(c){if(c.I=0,c.ja=[],c.l){const _=gn(c.h);(_.length!=0||c.i.length!=0)&&(T(c.ja,_),T(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ga(c,_,E){var C=E instanceof lr?Cn(E):new lr(E);if(C.g!="")_&&(C.g=_+"."+C.g),ur(C,C.u);else{var K=u.location;C=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const Q=new lr(null);C&&fs(Q,C),_&&(Q.g=_),K&&ur(Q,K),E&&(Q.h=E),C=Q}return E=c.G,_=c.wa,E&&_&&He(C,E,_),He(C,"VER",c.ka),gr(c,C),C}function Fu(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Ye(new Fr({ab:E})):new Ye(c.ma),_.Fa(c.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}t=Bu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wo(){}wo.prototype.g=function(c,_){return new Ot(c,_)};function Ot(c,_){wt.call(this),this.g=new po(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!D(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new ki(this)}v(Ot,wt),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){go(this.g)},Ot.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=di(c),c=E);_.i.push(new ed(_.Ya++,c)),_.I==3&&Ur(_)},Ot.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,Ot.Z.N.call(this)};function zu(c){io.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}v(zu,io);function Uu(){Pa.call(this),this.status=1}v(Uu,Pa);function ki(c){this.g=c}v(ki,Bu),ki.prototype.ra=function(){pt(this.g,"a")},ki.prototype.qa=function(c){pt(this.g,new zu(c))},ki.prototype.pa=function(c){pt(this.g,new Uu)},ki.prototype.oa=function(){pt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,oE=function(){return new wo},sE=function(){return pi()},iE=$n,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Jc=vi,xi.COMPLETE="complete",rE=xi,Tu.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",wt.prototype.listen=wt.prototype.J,bl=Tu,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,nE=Ye}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.8.0";function Ij(t){ga=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Qw("@firebase/firestore");function $o(){return Hs.logLevel}function ce(t,...e){if(Hs.logLevel<=Be.DEBUG){const n=e.map(Wp);Hs.debug(`Firestore (${ga}): ${t}`,...n)}}function ai(t,...e){if(Hs.logLevel<=Be.ERROR){const n=e.map(Wp);Hs.error(`Firestore (${ga}): ${t}`,...n)}}function ia(t,...e){if(Hs.logLevel<=Be.WARN){const n=e.map(Wp);Hs.warn(`Firestore (${ga}): ${t}`,...n)}}function Wp(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,aE(t,i,n)}function aE(t,e,n){let i=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ai(i),new Error(i)}function qe(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||aE(e,o,i)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class Pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jj{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let a=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ei,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await o(this.currentUser)}))},m=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>m(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ei)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new lE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class Vj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Dj{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Vj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mj(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Mj(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Om(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return Jf(o)===Jf(a)?Me(o,a):Jf(o)?1:-1}return Me(t.length,e.length)}const Lj=55296,Oj=57343;function Jf(t){const e=t.charCodeAt(0);return e>=Lj&&e<=Oj}function sa(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__name__";class Sr{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=Sr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Me(e.length,n.length)}static compareSegments(e,n){const i=Sr.isNumericId(e),o=Sr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class Je extends Sr{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const Fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Sr{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return Fj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R1}static keyField(){return new $t([R1])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(i+=m,o++):(a(),o++)}if(a(),u)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bj(t,e,n,i){if(e===!0&&i===!0)throw new le(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P1(t){if(!ye.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j1(t){if(ye.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(t);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zj(t,e){if(e<=0)throw new le(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function fu(t,e){if(!cE(t))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,D1=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*D1);return new nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V1)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D1}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Ct("string",nt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new nt(0,0))}static max(){return new Se(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function Uj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new Qi(o,ye.empty(),e)}function $j(t){return new Qi(t.readTime,t.key,Ql)}class Qi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qi(Se.min(),ye.empty(),Ql)}static max(){return new Qi(Se.max(),ye.empty(),Ql)}}function Wj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Hj)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,i)=>{n(e)}))}static reject(e){return new Z(((n,i)=>{i(e)}))}static waitFor(e){return new Z(((n,i)=>{let o=0,a=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++a,u&&a===o&&n()}),(d=>i(d)))})),u=!0,a===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const i of e)n=n.next((o=>o?Z.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,a)=>{i.push(n.call(this,o,a))})),this.waitFor(i)}static mapArray(e,n){return new Z(((i,o)=>{const a=e.length,u=new Array(a);let m=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next((g=>{u[p]=g,++m,m===a&&i(u)}),(g=>o(g)))}}))}static doWhile(e,n){return new Z(((i,o)=>{const a=()=>{e()===!0?n().next((()=>{a()}),o):i()};a()}))}}function qj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function Oh(t){return t==null}function yh(t){return t===0&&1/t==-1/0}function Gj(t){return typeof t=="number"&&Number.isInteger(t)&&!yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="";function Qj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=N1(e)),e=Yj(t.get(n),e);return N1(e)}function Yj(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case hE:n+="";break;default:n+=a}}return n}function N1(t){return t+hE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Ut.RED,this.left=o??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Ut(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new kn([])}unionWith(e){let n=new jt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fE("Invalid base64 string: "+a):a}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=Xj.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="server_timestamp",pE="__type__",gE="__previous_value__",yE="__local_write_time__";function qp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pE])==null?void 0:i.stringValue)===mE}function Fh(t){const e=t.mapValue.fields[gE];return qp(e)?Fh(e):e}function Yl(t){const e=Yi(t.mapValue.fields[yE].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,i,o,a,u,m,d,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=v}}const vh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}function Zj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__type__",eV="__max__",Uc={mapValue:{}},xE="__vector__",xh="value";function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qp(t)?4:nV(t)?9007199254740991:tV(t)?10:11:we(28295,{value:t})}function jr(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Yi(o.timestampValue),m=Yi(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,a){return Xi(o.bytesValue).isEqual(Xi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,a){return vt(o.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(a.geoPointValue.longitude)})(t,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return vt(o.integerValue)===vt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=vt(o.doubleValue),m=vt(a.doubleValue);return u===m?yh(u)===yh(m):isNaN(u)&&isNaN(m)}return!1})(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},m=a.mapValue.fields||{};if(M1(u)!==M1(m))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(m[d]===void 0||!jr(u[d],m[d])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function Jl(t,e){return(t.values||[]).find((n=>jr(n,e)))!==void 0}function oa(t,e){if(t===e)return 0;const n=Ji(t),i=Ji(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const m=vt(a.integerValue||a.doubleValue),d=vt(u.integerValue||u.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1})(t,e);case 3:return O1(t.timestampValue,e.timestampValue);case 4:return O1(Yl(t),Yl(e));case 5:return Om(t.stringValue,e.stringValue);case 6:return(function(a,u){const m=Xi(a),d=Xi(u);return m.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const m=a.split("/"),d=u.split("/");for(let p=0;p<m.length&&p<d.length;p++){const g=Me(m[p],d[p]);if(g!==0)return g}return Me(m.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const m=Me(vt(a.latitude),vt(u.latitude));return m!==0?m:Me(vt(a.longitude),vt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var w,k,T,A;const m=a.fields||{},d=u.fields||{},p=(w=m[xh])==null?void 0:w.arrayValue,g=(k=d[xh])==null?void 0:k.arrayValue,v=Me(((T=p==null?void 0:p.values)==null?void 0:T.length)||0,((A=g==null?void 0:g.values)==null?void 0:A.length)||0);return v!==0?v:F1(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Uc.mapValue&&u===Uc.mapValue)return 0;if(a===Uc.mapValue)return 1;if(u===Uc.mapValue)return-1;const m=a.fields||{},d=Object.keys(m),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=Om(d[v],g[v]);if(w!==0)return w;const k=oa(m[d[v]],p[g[v]]);if(k!==0)return k}return Me(d.length,g.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function O1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Yi(t),i=Yi(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function F1(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=oa(n[o],i[o]);if(a)return a}return Me(n.length,i.length)}function aa(t){return Fm(t)}function Fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Yi(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Fm(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Fm(n.fields[u])}`;return o+"}"})(t.mapValue):we(61005,{value:t})}function Zc(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(t);return e?16+Zc(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Zc(a)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return rs(i.fields,((a,u)=>{o+=a.length+Zc(u)})),o})(t.mapValue);default:throw we(13486,{value:t})}}function B1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Gp(t){return!!t&&"arrayValue"in t}function z1(t){return!!t&&"nullValue"in t}function U1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function tV(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vE])==null?void 0:i.stringValue)===xE}function Nl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Nl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return{...t}}function nV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=$t.emptyPath(),i={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=m.popLast()}u?i[m.lastSegment()]=Nl(u):o.push(m.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){rs(n,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new pn(Nl(this.value))}}function _E(t){const e=[];return rs(t.fields,((n,i)=>{const o=new $t([n]);if(eh(i)){const a=_E(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,i,o,a,u,m){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,i,o){return new Zt(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function $1(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),n.key):i=oa(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function W1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class bt extends wE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new sV(e,n,i):n==="array-contains"?new lV(e,i):n==="in"?new uV(e,i):n==="not-in"?new cV(e,i):n==="array-contains-any"?new hV(e,i):new bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new oV(e,i):new aV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oa(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends wE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new rr(e,n)}matches(e){return EE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(t){return t.op==="and"}function TE(t){return iV(t)&&EE(t)}function iV(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function zm(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(TE(t))return t.filters.map((e=>zm(e))).join(",");{const e=t.filters.map((n=>zm(n))).join(",");return`${t.op}(${e})`}}function SE(t,e){return t instanceof bt?(function(i,o){return o instanceof bt&&i.op===o.op&&i.field.isEqual(o.field)&&jr(i.value,o.value)})(t,e):t instanceof rr?(function(i,o){return o instanceof rr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,m)=>a&&SE(u,o.filters[m])),!0):!1})(t,e):void we(19439)}function kE(t){return t instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`})(t):t instanceof rr?(function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"})(t):"Filter"}class sV extends bt{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class oV extends bt{constructor(e,n){super(e,"in",n),this.keys=bE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aV extends bt{constructor(e,n){super(e,"not-in",n),this.keys=bE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>ye.fromName(i.referenceValue)))}class lV extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&Jl(n.arrayValue,this.value)}}class uV extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class cV extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class hV extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Jl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n=null,i=[],o=[],a=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=m,this.Te=null}}function H1(t,e=null,n=[],i=[],o=null,a=null,u=null){return new dV(t,e,n,i,o,a,u)}function Qp(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>zm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>aa(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>aa(i))).join(",")),e.Te=n}return e.Te}function Yp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W1(t.startAt,e.startAt)&&W1(t.endAt,e.endAt)}function Um(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n=null,i=[],o=[],a=null,u="F",m=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=m,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fV(t,e,n,i,o,a,u,m){return new xa(t,e,n,i,o,a,u,m)}function Xp(t){return new xa(t)}function K1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mV(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function CE(t){return t.collectionGroup!==null}function Ml(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new jt($t.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Zl(a,i))})),n.has($t.keyField().canonicalString())||e.Ie.push(new Zl($t.keyField(),i))}return e.Ie}function Cr(t){const e=Ie(t);return e.Ee||(e.Ee=pV(e,Ml(t))),e.Ee}function pV(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Zl(o.field,a)}));const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $m(t,e){const n=t.filters.concat([e]);return new xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gV(t,e){const n=t.explicitOrderBy.concat([e]);return new xa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function wh(t,e,n){return new xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return Yp(Cr(t),Cr(e))&&t.limitType===e.limitType}function AE(t){return`${Qp(Cr(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>kE(o))).join(", ")}]`),Oh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>aa(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>aa(o))).join(",")),`Target(${i})`})(Cr(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ye.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,o){for(const a of Ml(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,m,d){const p=$1(u,m,d);return u.inclusive?p<=0:p<0})(i.startAt,Ml(i),o)||i.endAt&&!(function(u,m,d){const p=$1(u,m,d);return u.inclusive?p>=0:p>0})(i.endAt,Ml(i),o))})(t,e)}function yV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IE(t){return(e,n)=>{let i=!1;for(const o of Ml(t)){const a=vV(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function vV(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,u,m){const d=u.data.field(a),p=m.data.field(a);return d!==null&&p!==null?oa(d,p):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,((n,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new ct(ye.comparator);function li(){return xV}const RE=new ct(ye.comparator);function Cl(...t){let e=RE;for(const n of t)e=e.insert(n.key,n);return e}function PE(t){let e=RE;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Os(){return Ll()}function jE(){return Ll()}function Ll(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _V=new ct(ye.comparator),wV=new jt(ye.comparator);function Le(...t){let e=wV;for(const n of t)e=e.add(n);return e}const EV=new jt(Me);function TV(){return EV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function VE(t){return{integerValue:""+t}}function DE(t,e){return Gj(e)?VE(e):Jp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function SV(t,e,n){return t instanceof eu?(function(o,a){const u={fields:{[pE]:{stringValue:mE},[yE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qp(a)&&(a=Fh(a)),a&&(u.fields[gE]=a),{mapValue:u}})(n,e):t instanceof la?ME(t,e):t instanceof tu?LE(t,e):(function(o,a){const u=NE(o,a),m=q1(u)+q1(o.Ae);return Bm(u)&&Bm(o.Ae)?VE(m):Jp(o.serializer,m)})(t,e)}function kV(t,e,n){return t instanceof la?ME(t,e):t instanceof tu?LE(t,e):n}function NE(t,e){return t instanceof nu?(function(i){return Bm(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class eu extends Uh{}class la extends Uh{constructor(e){super(),this.elements=e}}function ME(t,e){const n=OE(e);for(const i of t.elements)n.some((o=>jr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class tu extends Uh{constructor(e){super(),this.elements=e}}function LE(t,e){let n=OE(e);for(const i of t.elements)n=n.filter((o=>!jr(o,i)));return{arrayValue:{values:n}}}class nu extends Uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q1(t){return vt(t.integerValue||t.doubleValue)}function OE(t){return Gp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.field=e,this.transform=n}}function bV(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof la&&o instanceof la||i instanceof tu&&o instanceof tu?sa(i.elements,o.elements,jr):i instanceof nu&&o instanceof nu?jr(i.Ae,o.Ae):i instanceof eu&&o instanceof eu})(t.transform,e.transform)}class CV{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $h{}function FE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zE(t.key,er.none()):new mu(t.key,t.data,er.none());{const n=t.data,i=pn.empty();let o=new jt($t.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new is(t.key,i,new kn(o.toArray()),er.none())}}function AV(t,e,n){t instanceof mu?(function(o,a,u){const m=o.value.clone(),d=Q1(o.fieldTransforms,a,u.transformResults);m.setAll(d),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):t instanceof is?(function(o,a,u){if(!th(o.precondition,a))return void a.convertToUnknownDocument(u.version);const m=Q1(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(BE(o)),d.setAll(m),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Ol(t,e,n,i){return t instanceof mu?(function(a,u,m,d){if(!th(a.precondition,u))return m;const p=a.value.clone(),g=Y1(a.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof is?(function(a,u,m,d){if(!th(a.precondition,u))return m;const p=Y1(a.fieldTransforms,d,u),g=u.data;return g.setAll(BE(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),m===null?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(a,u,m){return th(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(t,e,n)}function IV(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=NE(i.transform,o||null);a!=null&&(n===null&&(n=pn.empty()),n.set(i.field,a))}return n||null}function G1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&sa(i,o,((a,u)=>bV(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends $h{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends $h{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Q1(t,e,n){const i=new Map;qe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,m=e.data.field(a.field);i.set(a.field,kV(u,m,n[o]))}return i}function Y1(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,SV(a,u,e))}return i}class zE extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RV extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&AV(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ol(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ol(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=jE();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let m=this.applyToLocalView(u,a.mutatedFields);m=n.has(o.key)?null:m;const d=FE(u,m);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,((n,i)=>G1(n,i)))&&sa(this.baseMutations,e.baseMutations,((n,i)=>G1(n,i)))}}class eg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return _V})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new eg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Fe;function DV(t){switch(t){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function UE(t){if(t===void 0)return ai("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:t})}}(Fe=St||(St={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new Hi([4294967295,4294967295],0);function X1(t){const e=NV().encode(t),n=new tE;return n.update(e),new Uint8Array(n.digest())}function J1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hi([n,i],0),new Hi([o,a],0)]}class tg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(i<0)throw new Al(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Hi.fromNumber(i)));return o.compare(MV)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=X1(e),[i,o]=J1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new tg(a,o,n);return i.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=X1(e),[i,o]=J1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Wh(Se.min(),o,new ct(Me),li(),Le())}}class pu{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new pu(i,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class $E{constructor(e,n){this.targetId=e,this.Ce=n}}class WE{constructor(e,n,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Z1{constructor(){this.ve=0,this.Fe=ex(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),i=Le();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:a})}})),new pu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=ex()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LV{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.He=$c(),this.Je=$c(),this.Ze=new ct(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Um(a))if(i===0){const u=new ye(a.path);this.et(n,u,Zt.newNoDocument(u,Se.min()))}else qe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const m=this.ut(e),d=m?this.ct(m,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,m;try{u=Xi(i).toUint8Array()}catch(d){if(d instanceof fE)return ia("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new tg(u,o,a)}catch(d){return ia(d instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(m)||(this.et(n,a,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const m=this.ot(u);if(m){if(a.current&&Um(m.target)){const d=new ye(m.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Zt.newNoDocument(d,e))}a.Be&&(n.set(u,a.ke()),a.Ke())}}));let i=Le();this.Je.forEach(((a,u)=>{let m=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Wh(e,n,this.Ze,this.je,i);return this.je=li(),this.He=$c(),this.Je=$c(),this.Ze=new ct(Me),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Z1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ct(ye.comparator)}function ex(){return new ct(ye.comparator)}const OV={asc:"ASCENDING",desc:"DESCENDING"},FV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BV={and:"AND",or:"OR"};class zV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(t,e){return t.useProto3Json||Oh(e)?e:{value:e}}function Eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UV(t,e){return Eh(t,e.toTimestamp())}function Ar(t){return qe(!!t,49232),Se.fromTimestamp((function(n){const i=Yi(n);return new nt(i.seconds,i.nanos)})(t))}function ng(t,e){return Hm(t,e).canonicalString()}function Hm(t,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KE(t){const e=Je.fromString(t);return qe(XE(e),10190,{key:e.toString()}),e}function Km(t,e){return ng(t.databaseId,e.path)}function Zf(t,e){const n=KE(e);if(n.get(1)!==t.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(GE(n))}function qE(t,e){return ng(t.databaseId,e)}function $V(t){const e=KE(t);return e.length===4?Je.emptyPath():GE(e)}function qm(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GE(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tx(t,e,n){return{name:Km(t,e),fields:n.value.mapValue.fields}}function WV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(qe(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(p){const g=p.code===void 0?J.UNKNOWN:UE(p.code);return new le(g,p.message||"")})(u);n=new WE(i,o,a,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zf(t,i.document.name),a=Ar(i.document.updateTime),u=i.document.createTime?Ar(i.document.createTime):Se.min(),m=new pn({mapValue:{fields:i.document.fields}}),d=Zt.newFoundDocument(o,a,u,m),p=i.targetIds||[],g=i.removedTargetIds||[];n=new nh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zf(t,i.document),a=i.readTime?Ar(i.readTime):Se.min(),u=Zt.newNoDocument(o,a),m=i.removedTargetIds||[];n=new nh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zf(t,i.document),a=i.removedTargetIds||[];n=new nh([],a,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new VV(o,a),m=i.targetId;n=new $E(m,u)}}return n}function HV(t,e){let n;if(e instanceof mu)n={update:tx(t,e.key,e.value)};else if(e instanceof zE)n={delete:Km(t,e.key)};else if(e instanceof is)n={update:tx(t,e.key,e.data),updateMask:eD(e.fieldMask)};else{if(!(e instanceof RV))return we(16599,{dt:e.type});n={verify:Km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const m=u.transform;if(m instanceof eu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof la)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nu)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:UV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)})(t,e.precondition)),n}function KV(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(o,a){let u=o.updateTime?Ar(o.updateTime):Ar(a);return u.isEqual(Se.min())&&(u=Ar(a)),new CV(u,o.transformResults||[])})(n,e)))):[]}function qV(t,e){return{documents:[qE(t,e.path)]}}function GV(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qE(t,o);const a=(function(p){if(p.length!==0)return YE(rr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Ho(w.field),direction:XV(w.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Wm(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function QV(t){let e=$V(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){qe(i===1,65062);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const w=QE(v);return w instanceof rr&&TE(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(T){return new Zl(Ko(T.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(v){let w;return w=typeof v=="object"?v.value:v,Oh(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,k=v.values||[];return new _h(k,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,k=v.values||[];return new _h(k,w)})(n.endAt)),fV(e,o,u,a,m,"F",d,p)}function YV(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ko(n.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ko(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(n.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(n.unaryFilter.field);return bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return bt.create(Ko(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return rr.create(n.compositeFilter.filters.map((i=>QE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function XV(t){return OV[t]}function JV(t){return FV[t]}function ZV(t){return BV[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Ko(t){return $t.fromServerFormat(t.fieldPath)}function YE(t){return t instanceof bt?(function(n){if(n.op==="=="){if(U1(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(z1(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U1(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(z1(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:JV(n.op),value:n.value}}})(t):t instanceof rr?(function(n){const i=n.getFilters().map((o=>YE(o)));return i.length===1?i[0]:{compositeFilter:{op:ZV(n.op),filters:i}}})(t):we(54877,{filter:t})}function eD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function JE(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,i,o,a=Se.min(),u=Se.min(),m=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.yt=e}}function nD(t){const e=QV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.Sn=new iD}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Qi.min())}updateCollectionGroup(e,n,i){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new jt(Je.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new jt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(ZE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ua(0)}static ar(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="LruGarbageCollector",sD=1048576;function ix([t,e],[n,i]){const o=Me(t,n);return o===0?Me(e,i):o}class oD{constructor(e){this.Pr=e,this.buffer=new jt(ix),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ix(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(rx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?ce(rx,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Ar(3e5)}))}}class lD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Lh.ce);const i=new oD(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,a,u,m,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(i=v,m=Date.now(),this.removeTargets(e,i,n)))).next((v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),$o()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${a} targets in `+(d-m)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v}))))}}function uD(t,e){return new lD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Ol(i.mutation,o,kn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Le()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Le()){const o=Os();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((a=>{let u=Cl();return a.forEach(((m,d)=>{u=u.insert(m,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Os();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Le())))}populateOverlays(e,n,i){const o=[];return i.forEach((a=>{n.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,i,o){let a=li();const u=Ll(),m=(function(){return Ll()})();return n.forEach(((d,p)=>{const g=i.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof is)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ol(g.mutation,p,g.mutation.getFieldMask(),nt.now())):u.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>u.set(p,g))),n.forEach(((p,g)=>m.set(p,new hD(g,u.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=Ll();let o=new ct(((u,m)=>u-m)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=i.get(d)||kn.empty();g=m.applyToLocalView(p,g),i.set(d,g);const v=(o.get(m.batchId)||Le()).add(d);o=o.insert(m.batchId,v)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),p=d.key,g=d.value,v=jE();g.forEach((w=>{if(!a.has(w)){const k=FE(n.get(w),i.get(w));k!==null&&v.set(w,k),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Z.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return mV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Z.resolve(Os());let m=Ql,d=a;return u.next((p=>Z.forEach(p,((g,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,Le()))).next((g=>({batchId:m,changes:PE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((i=>{let o=Cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=Cl();return this.indexManager.getCollectionParents(e,a).next((m=>Z.forEach(m,(d=>{const p=(function(v,w){return new xa(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((g=>{g.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o)))).next((u=>{a.forEach(((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))}));let m=Cl();return u.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&Ol(g.mutation,p,kn.empty(),nt.now()),zh(n,p)&&(m=m.insert(d,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:Ar(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.overlays=new ct(ye.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Os();return Z.forEach(n,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,a)=>{this.bt(e,n,a)})),Z.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),Z.resolve()}getOverlaysForCollection(e,n,i){const o=Os(),a=n.length+1,u=new ye(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const d=m.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ct(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=a.get(p.largestBatchId);g===null&&(g=Os(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const m=Os(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>m.set(p,g))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new jV(n,i));let a=this.Lr.get(n);a===void 0&&(a=Le(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.kr=new jt(Mt.Kr),this.qr=new jt(Mt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Mt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Mt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ye(new Je([])),i=new Mt(n,e),o=new Mt(n,e+1),a=[];return this.qr.forEachInRange([i,o],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new Je([])),i=new Mt(n,e),o=new Mt(n,e+1);let a=Le();return this.qr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Mt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Mt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PV(a,n,i,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new Mt(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Kp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,o],(u=>{const m=this.Zr(u.Hr);a.push(m)})),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new jt(Me);return n.forEach((o=>{const a=new Mt(o,0),u=new Mt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(m=>{i=i.add(m.Hr)}))})),Z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;ye.isDocumentKey(a)||(a=a.child(""));const u=new Mt(new ye(a),0);let m=new jt(Me);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(m=m.add(d.Hr)),!0)}),u),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Z.forEach(n.mutations,(o=>{const a=new Mt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Mt(n,0),o=this.Jr.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.ti=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Z.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let i=li();return n.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Zt.newInvalidDocument(o))})),Z.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=li();const u=n.path,m=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Wj($j(g),i)<=0||(o.has(g.key)||zh(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,i,o){we(9500)}ni(e,n){return Z.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new vD(this)}getSize(e){return Z.resolve(this.size)}}class vD extends cD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.persistence=e,this.ri=new Js((n=>Qp(n)),Yp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=ua._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(a).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return Z.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),Z.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return Z.resolve(i)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this._i={},this.overlays={},this.ai=new Lh(0),this.ui=!1,this.ui=!0,this.ci=new pD,this.referenceDelegate=e(this),this.li=new xD(this),this.indexManager=new rD,this.remoteDocumentCache=(function(o){return new yD(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new tD(n),this.Pi=new fD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new gD(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,n){return Z.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class _D extends Kj{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new ig(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),Z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(i=>{const o=ye.fromPath(i);return this.mi(e,o).next((a=>{a||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.fi=new Js((i=>Qj(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=uD(this,n)}static Vi(e,n){return new Th(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((a=>a?Z.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(i++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}wr(e,n,i){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Le(),o=Le();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new sg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return h5()?8:qj(u5())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.gs(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,n,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new wD;return this.ys(e,n,u).next((m=>{if(a.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>a.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?($o()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):($o()<=Be.DEBUG&&ce("QueryEngine","Query:",Wo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?($o()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):Z.resolve())}gs(e,n){if(K1(n))return Z.resolve(null);let i=Cr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wh(n,null,"F"),i=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Le(...a);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.bs(n,m);return this.Ss(n,p,u,d.readTime)?this.gs(e,wh(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,i,o){return K1(n)||o.isEqual(Se.min())?Z.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(n,a);return this.Ss(n,u,i,o)?Z.resolve(null):($o()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wo(n)),this.Ds(e,u,n,Uj(o,Ql)).next((m=>m)))}))}bs(e,n){let i=new jt(IE(e));return n.forEach(((o,a)=>{zh(e,a)&&(i=i.add(a))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,n,i){return $o()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.fs.getDocumentsMatchingQuery(e,n,Qi.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",TD=3e8;class SD{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Me),this.Fs=new Js((a=>Qp(a)),Yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function kD(t,e,n,i){return new SD(t,e,n,i)}async function tT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],m=[];let d=Le();for(const p of o){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){m.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:m})))}))}))}function bD(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,d,p,g){const v=p.batch,w=v.keys();let k=Z.resolve();return w.forEach((T=>{k=k.next((()=>g.getEntry(d,T))).next((A=>{const I=p.docVersions.get(T);qe(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(d,v)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let d=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(d=d.add(m.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function nT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function CD(t,e){const n=Ie(t),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((g,v)=>{const w=o.get(v);if(!w)return;m.push(n.li.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,v))));let k=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?k=k.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(g.resumeToken,i)),o=o.insert(v,k),(function(A,I,F){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=TD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,k,g)&&m.push(n.li.updateTargetData(a,k))}));let d=li(),p=Le();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),m.push(AD(a,u,e.documentUpdates).next((g=>{d=g.Bs,p=g.Ls}))),!i.isEqual(Se.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((v=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));m.push(g)}return Z.waitFor(m).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(n.vs=o,a)))}function AD(t,e,n){let i=Le(),o=Le();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let u=li();return n.forEach(((m,d)=>{const p=a.get(m);d.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(m,d.readTime),u=u.insert(m,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(m,d)):ce(og,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",d.version)})),{Bs:u,Ls:o}}))}function ID(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function RD(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((a=>a?(o=a,Z.resolve(o)):n.li.allocateTargetId(i).next((u=>(o=new Ui(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Gm(t,e,n){const i=Ie(t),o=i.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!va(u))throw u;ce(og,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function sx(t,e,n){const i=Ie(t);let o=Se.min(),a=Le();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,g){const v=Ie(d),w=v.Fs.get(g);return w!==void 0?Z.resolve(v.vs.get(w)):v.li.getTargetData(p,g)})(i,u,Cr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,m.targetId).next((d=>{a=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:Le()))).next((m=>(PD(i,yV(e),m),{documents:m,ks:a})))))}function PD(t,e,n){let i=t.Ms.get(e)||Se.min();n.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.Ms.set(e,i)}class ox{constructor(){this.activeTargetIds=TV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jD{constructor(){this.vo=new ox,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ox,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="ConnectivityMonitor";class lx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(ax,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(ax,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Qm(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ND{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===vh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,a){const u=Qm(),m=this.Qo(e,n.toUriEncodedString());ce(em,`Sending RPC '${e}' ${u}:`,m,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,o,a);const{host:p}=new URL(m),g=Up(p);return this.zo(e,m,d,i,g).then((v=>(ce(em,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ia(em,`RPC '${e}' ${u} failed with error: `,v,"url: ",m,"request:",i),v}))}jo(e,n,i,o,a,u){return this.Wo(e,n,i,o,a)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}Qo(e,n){const i=DD[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection",Tl=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ea extends ND{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ea.c_){const e=sE();Tl(e,iE.STAT_EVENT,(n=>{n.stat===Lm.PROXY?ce(Yt,"STAT_EVENT: detected buffering proxy"):n.stat===Lm.NOPROXY&&ce(Yt,"STAT_EVENT: detected no buffering proxy")})),ea.c_=!0}}zo(e,n,i,o,a){const u=Qm();return new Promise(((m,d)=>{const p=new nE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const v=p.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),m(v);break;case Jc.TIMEOUT:ce(Yt,`RPC '${e}' ${u} timed out`),d(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=p.getStatus();if(ce(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const T=k==null?void 0:k.error;if(T&&T.status&&T.message){const A=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(T.status);d(new le(A,T.message))}else d(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Yt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);ce(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,i,15)}))}T_(e,n,i){const o=Qm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(m.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const p=a.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const g=u.createWebChannel(p,m);this.I_(g);let v=!1,w=!1;const k=new MD({Ho:T=>{w?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(v||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),g.open(),v=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,T),g.send(T))},Jo:()=>g.close()});return Tl(g,bl.EventType.OPEN,(()=>{w||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Tl(g,bl.EventType.CLOSE,(()=>{w||(w=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(g))})),Tl(g,bl.EventType.ERROR,(T=>{w||(w=!0,ia(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),k.o_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Tl(g,bl.EventType.MESSAGE,(T=>{var A;if(!w){const I=T.data[0];qe(!!I,16349);const F=I,z=(F==null?void 0:F.error)||((A=F[0])==null?void 0:A.error);if(z){ce(Yt,`RPC '${e}' stream ${o} received error:`,z);const j=z.status;let Y=(function(R){const b=St[R];if(b!==void 0)return UE(b)})(j),W=z.message;Y===void 0&&(Y=J.INTERNAL,W="Unknown error status: "+j+" with message "+z.message),w=!0,k.o_(new le(Y,W)),g.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,I),k.__(I)}})),ea.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){return new ea(t)}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new zV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea.c_=!1;class rT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="PersistentStream";class iT{constructor(e,n,i,o,a,u,m,d){this.Ci=e,this.b_=i,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(ux,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(ux,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OD extends iT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WV(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Ar(u.readTime):Se.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=qm(this.serializer),n.addTarget=(function(a,u){let m;const d=u.target;if(m=Um(d)?{documents:qV(a,d)}:{query:GV(a,d).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=HE(a,u.resumeToken);const p=Wm(a,u.expectedCount);p!==null&&(m.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){m.readTime=Eh(a,u.snapshotVersion.toTimestamp());const p=Wm(a,u.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const i=YV(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.K_(n)}}class FD extends iT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KV(e.writeResults,e.commitTime),i=Ar(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=qm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>HV(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class zD extends BD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Hm(n,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(J.UNKNOWN,a.toString())}))}jo(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Hm(n,i),o,u,m,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function UD(t,e,n,i){return new zD(t,e,n,i)}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class WD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Zs(this)&&(ce(Ks,"Restarting streams for network reachability change."),await(async function(d){const p=Ie(d);p.Ea.add(4),await gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Kh(p)})(this))}))})),this.Va=new $D(i,o)}}async function Kh(t){if(Zs(t))for(const e of t.Ra)await e(!0)}async function gu(t){for(const e of t.Ra)await e(!1)}function sT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):_a(n).O_()&&lg(n,e))}function ag(t,e){const n=Ie(t),i=_a(n);n.Ia.delete(e),i.O_()&&oT(n,e),n.Ia.size===0&&(i.O_()?i.L_():Zs(n)&&n.Va.set("Unknown"))}function lg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).Z_(e)}function oT(t,e){t.da.$e(e),_a(t).X_(e)}function ug(t){t.da=new LV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.Va.ua()}function cg(t){return Zs(t)&&!_a(t).x_()&&t.Ia.size>0}function Zs(t){return Ie(t).Ea.size===0}function aT(t){t.da=void 0}async function HD(t){t.Va.set("Online")}async function KD(t){t.Ia.forEach(((e,n)=>{lg(t,e)}))}async function qD(t,e){aT(t),cg(t)?(t.Va.ha(e),ug(t)):t.Va.set("Unknown")}async function GD(t,e,n){if(t.Va.set("Online"),e instanceof WE&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const m of a.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(t,e)}catch(i){ce(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sh(t,i)}else if(e instanceof nh?t.da.Xe(e):e instanceof $E?t.da.st(e):t.da.tt(e),!n.isEqual(Se.min()))try{const i=await nT(t.localStore);n.compareTo(i)>=0&&await(function(a,u){const m=a.da.Tt(u);return m.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(d.resumeToken,u))}})),m.targetMismatches.forEach(((d,p)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),oT(a,d);const v=new Ui(g.target,d,p,g.sequenceNumber);lg(a,v)})),a.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(i){ce(Ks,"Failed to raise snapshot:",i),await Sh(t,i)}}async function Sh(t,e,n){if(!va(e))throw e;t.Ea.add(1),await gu(t),t.Va.set("Offline"),n||(n=()=>nT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Ks,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kh(t)}))}function lT(t,e){return e().catch((n=>Sh(t,n,e)))}async function qh(t){const e=Ie(t),n=Zi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;QD(e);)try{const o=await ID(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,YD(e,o)}catch(o){await Sh(e,o)}uT(e)&&cT(e)}function QD(t){return Zs(t)&&t.Ta.length<10}function YD(t,e){t.Ta.push(e);const n=Zi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function uT(t){return Zs(t)&&!Zi(t).x_()&&t.Ta.length>0}function cT(t){Zi(t).start()}async function XD(t){Zi(t).ra()}async function JD(t){const e=Zi(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZD(t,e,n){const i=t.Ta.shift(),o=eg.from(i,e,n);await lT(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await qh(t)}async function e4(t,e){e&&Zi(t).Y_&&await(async function(i,o){if((function(u){return DV(u)&&u!==J.ABORTED})(o.code)){const a=i.Ta.shift();Zi(i).B_(),await lT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await qh(i)}})(t,e),uT(t)&&cT(t)}async function cx(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ce(Ks,"RemoteStore received new credentials");const i=Zs(n);n.Ea.add(3),await gu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function t4(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await gu(n),n.Va.set("Unknown"))}function _a(t){return t.ma||(t.ma=(function(n,i,o){const a=Ie(n);return a.sa(),new OD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:HD.bind(null,t),Yo:KD.bind(null,t),t_:qD.bind(null,t),J_:GD.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),cg(t)?ug(t):t.Va.set("Unknown")):(await t.ma.stop(),aT(t))}))),t.ma}function Zi(t){return t.fa||(t.fa=(function(n,i,o){const a=Ie(n);return a.sa(),new FD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XD.bind(null,t),t_:e4.bind(null,t),ta:JD.bind(null,t),na:ZD.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await qh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Ks,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,m=new hg(e,n,u,o,a);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(ai("AsyncQueue",`${e}: ${t}`),va(t))return new le(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Cl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ca{constructor(e,n,i,o,a,u,m,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new ca(e,n,ta.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class r4{constructor(){this.queries=dx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ie(n),a=o.queries;o.queries=dx(),a.forEach(((u,m)=>{for(const d of m.ba)d.onError(i)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function dx(){return new Js((t=>AE(t)),Bh)}async function hT(t,e){const n=Ie(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Sa()&&e.Da()&&(i=2):(a=new n4,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=dg(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fg(n)}async function dT(t,e){const n=Ie(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function i4(t,e){const n=Ie(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const m of u.ba)m.Fa(o)&&(i=!0);u.wa=o}}i&&fg(n)}function s4(t,e,n){const i=Ie(t),o=i.queries.get(e);if(o)for(const a of o.ba)a.onError(n);i.queries.delete(e)}function fg(t){t.Ca.forEach((e=>{e.next()}))}var Ym,fx;(fx=Ym||(Ym={})).Ma="default",fx.Cache="cache";class fT{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class o4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=IE(e),this.tu=new ta(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new hx,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,v)=>{const w=o.get(g),k=zh(this.query,v)?v:null,T=!!w&&this.mutatedKeys.has(w.key),A=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let I=!1;w&&k?w.data.isEqual(k.data)?T!==A&&(i.track({type:3,doc:k}),I=!0):this.su(w,k)||(i.track({type:2,doc:k}),I=!0,(d&&this.eu(k,d)>0||p&&this.eu(k,p)<0)&&(m=!0)):!w&&k?(i.track({type:0,doc:k}),I=!0):w&&!k&&(i.track({type:1,doc:w}),I=!0,(d||p)&&(m=!0)),I&&(k?(u=u.add(k),a=A?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Ss:m,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(k,T){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:I})}};return A(k)-A(T)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),o=o??!1;const m=n&&!o?this._u():[],d=this.Ya.size===0&&this.current&&!o?1:0,p=d!==this.Xa;return this.Xa=d,u.length!==0||p?{snapshot:new ca(this.query,e.tu,a,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new pT(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new mT(i))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class a4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class l4{constructor(e){this.key=e,this.hu=!1}}class u4{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Js((m=>AE(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ye.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=ua.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c4(t,e,n=!0){const i=wT(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await gT(i,e,n,!0),o}async function h4(t,e){const n=wT(t);await gT(n,e,!0,!1)}async function gT(t,e,n,i){const o=await RD(t.localStore,Cr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let m;return i&&(m=await d4(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&sT(t.remoteStore,o),m}async function d4(t,e,n,i,o){t.pu=(v,w,k)=>(async function(A,I,F,z){let j=I.view.ru(F);j.Ss&&(j=await sx(A.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,j))));const Y=z&&z.targetChanges.get(I.targetId),W=z&&z.targetMismatches.get(I.targetId)!=null,X=I.view.applyChanges(j,A.isPrimaryClient,Y,W);return px(A,I.targetId,X.au),X.snapshot})(t,v,w,k);const a=await sx(t.localStore,e,!0),u=new o4(e,a.ks),m=u.ru(a.documents),d=pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(m,t.isPrimaryClient,d);px(t,n,p.au);const g=new a4(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function f4(t,e,n){const i=Ie(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!Bh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ag(i.remoteStore,o.targetId),Xm(i,o.targetId)})).catch(ya)):(Xm(i,o.targetId),await Gm(i.localStore,o.targetId,!0))}async function m4(t,e){const n=Ie(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ag(n.remoteStore,i.targetId))}async function p4(t,e,n){const i=E4(t);try{const o=await(function(u,m){const d=Ie(u),p=nt.now(),g=m.reduce(((k,T)=>k.add(T.key)),Le());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let T=li(),A=Le();return d.xs.getEntries(k,g).next((I=>{T=I,T.forEach(((F,z)=>{z.isValidDocument()||(A=A.add(F))}))})).next((()=>d.localDocuments.getOverlayedDocuments(k,T))).next((I=>{v=I;const F=[];for(const z of m){const j=IV(z,v.get(z.key).overlayedDocument);j!=null&&F.push(new is(z.key,j,_E(j.value.mapValue),er.exists(!0)))}return d.mutationQueue.addMutationBatch(k,p,F,m)})).next((I=>{w=I;const F=I.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(k,I.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:PE(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,m,d){let p=u.du[u.currentUser.toKey()];p||(p=new ct(Me)),p=p.insert(m,d),u.du[u.currentUser.toKey()]=p})(i,o.batchId,n),await yu(i,o.changes),await qh(i.remoteStore)}catch(o){const a=dg(o,"Failed to persist write");n.reject(a)}}async function yT(t,e){const n=Ie(t);try{const i=await CD(n.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=n.Au.get(a);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?qe(u.hu,14607):o.removedDocuments.size>0&&(qe(u.hu,42227),u.hu=!1))})),await yu(n,i,e)}catch(i){await ya(i)}}function mx(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((a,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const d=Ie(u);d.onlineState=m;let p=!1;d.queries.forEach(((g,v)=>{for(const w of v.ba)w.va(m)&&(p=!0)})),p&&fg(d)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function g4(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new ct(ye.comparator);u=u.insert(a,Zt.newNoDocument(a,Se.min()));const m=Le().add(a),d=new Wh(Se.min(),new Map,new ct(Me),u,m);await yT(i,d),i.Ru=i.Ru.remove(a),i.Au.delete(e),pg(i)}else await Gm(i.localStore,e,!1).then((()=>Xm(i,e,n))).catch(ya)}async function y4(t,e){const n=Ie(t),i=e.batch.batchId;try{const o=await bD(n.localStore,e);xT(n,i,null),vT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await yu(n,o)}catch(o){await ya(o)}}async function v4(t,e,n){const i=Ie(t);try{const o=await(function(u,m){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,m).next((v=>(qe(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,m))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(i.localStore,e);xT(i,e,n),vT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await yu(i,o)}catch(o){await ya(o)}}function vT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function xT(t,e,n){const i=Ie(t);let o=i.du[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||_T(t,i)}))}function _T(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ag(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),pg(t))}function px(t,e,n){for(const i of n)i instanceof mT?(t.Vu.addReference(i.key,e),x4(t,i)):i instanceof pT?(ce(mg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||_T(t,i.key)):we(19791,{wu:i})}function x4(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ce(mg,"New document in limbo: "+n),t.Eu.add(i),pg(t))}function pg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Je.fromString(e)),i=t.fu.next();t.Au.set(i,new l4(n)),t.Ru=t.Ru.insert(n,i),sT(t.remoteStore,new Ui(Cr(Xp(n.path)),i,"TargetPurposeLimboResolution",Lh.ce))}}async function yu(t,e,n){const i=Ie(t),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,d)=>{u.push(i.pu(d,e,n).then((p=>{var g;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){o.push(p);const v=sg.Es(d.targetId,p);a.push(v)}})))})),await Promise.all(u),i.Pu.J_(o),await(async function(d,p){const g=Ie(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Z.forEach(p,(w=>Z.forEach(w.Ts,(k=>g.persistence.referenceDelegate.addReference(v,w.targetId,k))).next((()=>Z.forEach(w.Is,(k=>g.persistence.referenceDelegate.removeReference(v,w.targetId,k)))))))))}catch(v){if(!va(v))throw v;ce(og,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const k=g.vs.get(w),T=k.snapshotVersion,A=k.withLastLimboFreeSnapshotVersion(T);g.vs=g.vs.insert(w,A)}}})(i.localStore,a))}async function _4(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ce(mg,"User change. New user:",e.toKey());const i=await tT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((m=>{m.forEach((d=>{d.reject(new le(J.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yu(n,i.Ns)}}function w4(t,e){const n=Ie(t),i=n.Au.get(e);if(i&&i.hu)return Le().add(i.key);{let o=Le();const a=n.Iu.get(e);if(!a)return o;for(const u of a){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function wT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.J_=i4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function E4(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kD(this.persistence,new ED,e.initialUser,this.serializer)}Cu(e){return new eT(ig.Vi,this.serializer)}Du(e){return new jD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class T4 extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new aD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new eT((i=>Th.Vi(i,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r4})()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),i=LD(e.databaseInfo);return UD(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,a,u,m){return new WD(i,o,a,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mx(this.syncEngine,n,0)),(function(){return lx.v()?new lx:new VD})())}createSyncEngine(e,n){return(function(o,a,u,m,d,p,g){const v=new u4(o,a,u,m,d,p);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const a=Ie(o);ce(Ks,"RemoteStore shutting down."),a.Ea.add(5),await gu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class S4{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ce(es,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ce(es,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function nm(t,e){t.asyncQueue.verifyOperationInProgress(),ce(es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await tT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k4(t);ce(es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>cx(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>cx(e.remoteStore,o))),t._onlineComponents=e}async function k4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(es,"Using user provided OfflineComponentProvider");try{await nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await nm(t,new kh)}}else ce(es,"Using default OfflineComponentProvider"),await nm(t,new T4(void 0));return t._offlineComponents}async function TT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(es,"Using user provided OnlineComponentProvider"),await gx(t,t._uninitializedComponentsProvider._online)):(ce(es,"Using default OnlineComponentProvider"),await gx(t,new Jm))),t._onlineComponents}function b4(t){return TT(t).then((e=>e.syncEngine))}async function ST(t){const e=await TT(t),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=f4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),n}function C4(t,e,n={}){const i=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,m,d,p){const g=new ET({next:w=>{g.Nu(),u.enqueueAndForget((()=>dT(a,v)));const k=w.docs.has(m);!k&&w.fromCache?p.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&d&&d.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new fT(Xp(m.path),g,{includeMetadataChanges:!0,Ka:!0});return hT(a,v)})(await ST(t),t.asyncQueue,e,n,i))),i.promise}function A4(t,e,n={}){const i=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,m,d,p){const g=new ET({next:w=>{g.Nu(),u.enqueueAndForget((()=>dT(a,v))),w.fromCache&&d.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new fT(m,g,{includeMetadataChanges:!0,Ka:!0});return hT(a,v)})(await ST(t),t.asyncQueue,e,n,i))),i.promise}function I4(t,e){const n=new ei;return t.asyncQueue.enqueueAndForget((async()=>p4(await b4(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="ComponentProvider",yx=new Map;function P4(t,e,n,i,o){return new Jj(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,kT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firestore.googleapis.com",vx=!0;class xx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=vx}else this.host=e.host,this.ssl=e.ssl??vx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sD)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Rj;switch(i.type){case"firstParty":return new Dj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=yx.get(n);i&&(ce(R4,"Removing Datastore"),yx.delete(n),i.terminate())})(this),Promise.resolve()}}function j4(t,e,n,i={}){var p;t=Pr(t,Gh);const o=Up(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(i5(`https://${m}`),l5("Firestore",!0)),a.host!==bT&&a.host!==m&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:m,ssl:o,emulatorOptions:i};if(!Kl(d,u)&&(t._setSettings(d),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Jt.MOCK_USER;else{g=s5(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jt(w)}t._authCredentials=new Pj(new lE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(fu(n,xt._jsonSchema))return new xt(e,i||null,new ye(Je.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ct("string",xt._jsonSchemaVersion),referencePath:Ct("string")};class Ki extends ss{constructor(e,n,i){super(e,n,Xp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function On(t,e,...n){if(t=si(t),uE("collection","path",e),t instanceof Gh){const i=Je.fromString(e,...n);return j1(i),new Ki(t,null,i)}{if(!(t instanceof xt||t instanceof Ki))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return j1(i),new Ki(t.firestore,null,i)}}function zn(t,e,...n){if(t=si(t),arguments.length===1&&(e=Hp.newId()),uE("doc","path",e),t instanceof Gh){const i=Je.fromString(e,...n);return P1(i),new xt(t,null,new ye(i))}{if(!(t instanceof xt||t instanceof Ki))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return P1(i),new xt(t.firestore,t instanceof Ki?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="AsyncQueue";class wx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const i=tm();i&&ce(_x,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;ce(_x,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",Ex(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Ex(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ex(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wa extends Gh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new wx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wx(e),this._firestoreClient=void 0,await e}}}function V4(t,e){const n=typeof t=="object"?t:vj(),i=typeof t=="string"?t:vh,o=fj(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=n5("firestore");a&&j4(o,...a)}return o}function gg(t){if(t._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D4(t),t._firestoreClient}function D4(t){var i,o,a,u;const e=t._freezeSettings(),n=P4(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(o=t._app)==null?void 0:o.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Wt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ct("string",Nn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:Ct("string",Ir._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new tr(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:Ct("string",tr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=/^__.*__$/;class M4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class CT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:t})}}class Qh{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AT(this.dataSource)&&N4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hh(e)}createContext(e,n,i,o=!1){return new Qh({dataSource:e,methodName:n,targetDoc:i,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new L4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IT(t,e,n,i,o,a={}){const u=t.createContext(a.merge||a.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",u,i);const m=RT(i,u);let d,p;if(a.merge)d=new kn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const w=qs(e,v,n);if(!u.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VT(g,w)||g.push(w)}d=new kn(g),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new M4(new pn(m),d,p)}class Xh extends Ea{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function O4(t,e,n){return new Qh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vg extends Ea{_toFieldTransform(e){return new Zp(e.path,new eu)}isEqual(e){return e instanceof vg}}class xg extends Ea{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=O4(this,e,!0),i=this.Ac.map((a=>Ta(a,n))),o=new la(i);return new Zp(e.path,o)}isEqual(e){return e instanceof xg&&Kl(this.Ac,e.Ac)}}class _g extends Ea{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new nu(e.serializer,DE(e.serializer,this.Vc));return new Zp(e.path,n)}isEqual(e){return e instanceof _g&&this.Vc===e.Vc}}function F4(t,e,n,i){const o=t.createContext(1,e,n);wg("Data must be an object, but it was:",o,i);const a=[],u=pn.empty();rs(i,((d,p)=>{const g=jT(e,d,n);p=si(p);const v=o.childContextForFieldPath(g);if(p instanceof Xh)a.push(g);else{const w=Ta(p,v);w!=null&&(a.push(g),u.set(g,w))}}));const m=new kn(a);return new CT(u,m,o.fieldTransforms)}function B4(t,e,n,i,o,a){const u=t.createContext(1,e,n),m=[qs(e,i,n)],d=[o];if(a.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)m.push(qs(e,a[w])),d.push(a[w+1]);const p=[],g=pn.empty();for(let w=m.length-1;w>=0;--w)if(!VT(p,m[w])){const k=m[w];let T=d[w];T=si(T);const A=u.childContextForFieldPath(k);if(T instanceof Xh)p.push(k);else{const I=Ta(T,A);I!=null&&(p.push(k),g.set(k,I))}}const v=new kn(p);return new CT(g,v,u.fieldTransforms)}function z4(t,e,n,i=!1){return Ta(n,t.createContext(i?4:3,e))}function Ta(t,e){if(PT(t=si(t)))return wg("Unsupported field value:",e,t),RT(t,e);if(t instanceof Ea)return(function(i,o){if(!AT(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const m of i){let d=Ta(m,o.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}})(t,e)}return(function(i,o){if((i=si(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=nt.fromDate(i);return{timestampValue:Eh(o.serializer,a)}}if(i instanceof nt){const a=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,a)}}if(i instanceof Ir)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:HE(o.serializer,i._byteString)};if(i instanceof xt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ng(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof tr)return(function(u,m){const d=u instanceof tr?u.toArray():u;return{mapValue:{fields:{[vE]:{stringValue:xE},[xh]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw m.createError("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(i,o);if(JE(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mh(i)}`)})(t,e)}function RT(t,e){const n={};return dE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,((i,o)=>{const a=Ta(o,e.childContextForField(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function PT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Ir||t instanceof Nn||t instanceof xt||t instanceof Ea||t instanceof tr||JE(t))}function wg(t,e,n){if(!PT(n)||!cE(n)){const i=Mh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function qs(t,e,n){if((e=si(e))instanceof yg)return e._internalPath;if(typeof e=="string")return jT(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const U4=new RegExp("[~\\*/\\[\\]]");function jT(t,e,n){if(e.search(U4)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new le(J.INVALID_ARGUMENT,m+t+d)}function VT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return rs(e,((o,a)=>{i[o]=this.convertValue(a,n)})),i}convertVectorValue(e){var i,o,a;const n=(a=(o=(i=e.fields)==null?void 0:i[xh].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>vt(u.doubleValue)));return new tr(n)}convertGeoPoint(e){return new Ir(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Je.fromString(e);qe(XE(i),9688,{name:e});const o=new Xl(i.get(1),i.get(3)),a=new ye(i.popFirst(5));return o.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends $4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function nr(){return new vg("serverTimestamp")}function W4(...t){return new xg("arrayUnion",t)}function Eg(t){return new _g("increment",t)}const Tx="@firebase/firestore",Sx="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(qs("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H4 extends NT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Sg extends Tg{}function Gs(t,e,...n){let i=[];e instanceof Tg&&i.push(e),i=i.concat(n),(function(a){const u=a.filter((d=>d instanceof kg)).length,m=a.filter((d=>d instanceof Jh)).length;if(u>1||u>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class Jh extends Sg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Jh(e,n,i)}_apply(e){const n=this._parse(e);return LT(e._query,n),new ss(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=Yh(e.firestore);return(function(a,u,m,d,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bx(v,g);const T=[];for(const A of v)T.push(kx(d,a,A));w={arrayValue:{values:T}}}else w=kx(d,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bx(v,g),w=z4(m,u,v,g==="in"||g==="not-in");return bt.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ch(t,e,n){const i=e,o=qs("where",t);return Jh._create(o,i,n)}class kg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,a){let u=o;const m=a.getFlattenedFilters();for(const d of m)LT(u,d),u=$m(u,d)})(e._query,n),new ss(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends Sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=(function(o,a,u){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(a,u)})(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,gV(e._query,n))}}function Qs(t,e="asc"){const n=e,i=qs("orderBy",t);return bg._create(i,n)}class Cg extends Sg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Cg(e,n,i)}_apply(e){return new ss(e.firestore,e.converter,wh(e._query,this._limit,this._limitType))}}function MT(t){return zj("limit",t),Cg._create("limit",t,"F")}function kx(t,e,n){if(typeof(n=si(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Je.fromString(n));if(!ye.isDocumentKey(i))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return B1(t,new ye(i))}if(n instanceof xt)return B1(t,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function bx(t,e){if(!Array.isArray(t)||t.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LT(t,e){const n=(function(o,a){for(const u of o)for(const m of u.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OT(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends NT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(qs("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Ct("string",zs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class rh extends zs{data(e={}){return super.data(e)}}class na{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new rh(this._firestore,this._userDataWriter,i.key,i,new Il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const d=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>a||m.type!==3)).map((m=>{const d=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return m.type!==0&&(p=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),g=u.indexOf(m.doc.key)),{type:q4(m.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Ct("string",na._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){t=Pr(t,xt);const e=Pr(t.firestore,wa),n=gg(e);return C4(n,t._key).then((i=>G4(e,t,i)))}function ti(t){t=Pr(t,ss);const e=Pr(t.firestore,wa),n=gg(e),i=new DT(e);return K4(t._query),A4(n,t._query).then((o=>new na(e,i,t,o)))}function Ag(t,e,n){t=Pr(t,xt);const i=Pr(t.firestore,wa),o=OT(t.converter,e),a=Yh(i);return Rg(i,[IT(a,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,er.none())])}function Sa(t,e,n,...i){t=Pr(t,xt);const o=Pr(t.firestore,wa),a=Yh(o);let u;return u=typeof(e=si(e))=="string"||e instanceof yg?B4(a,"updateDoc",t._key,e,n,i):F4(a,"updateDoc",t._key,e),Rg(o,[u.toMutation(t._key,er.exists(!0))])}function Ig(t,e){const n=Pr(t.firestore,wa),i=zn(t),o=OT(t.converter,e),a=Yh(t.firestore);return Rg(n,[IT(a,"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then((()=>i))}function Rg(t,e){const n=gg(t);return I4(n,e)}function G4(t,e,n){const i=n.docs.get(e._key),o=new DT(t);return new zs(t,o,e._key,i,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Ij(yj),gh(new ql("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),m=new wa(new jj(i.getProvider("auth-internal")),new Nj(u,i.getProvider("app-check-internal")),Zj(u,o),u);return a={useFetchStreams:n,...a},m._setSettings(a),m}),"PUBLIC").setMultipleInstances(!0)),Zo(Tx,Sx,e),Zo(Tx,Sx,"esm2020")})();var Q4="firebase",Y4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(Q4,Y4,"app");const X4={apiKey:"AIzaSyCf4uRHqqZtYR3ZvlbHF9w59qGuEjlXcW4",authDomain:"kinderbucks-e3e8c.firebaseapp.com",projectId:"kinderbucks-e3e8c",storageBucket:"kinderbucks-e3e8c.firebasestorage.app",messagingSenderId:"18326874439",appId:"1:18326874439:web:ad902e6a1c794b2b3c4462",measurementId:"G-3JMD9HSMC3"},J4=Jw(X4),ut=V4(J4),vu="businesses";async function Z4(t){const e=zn(ut,vu,t),n=await Zh(e);return n.exists()?{code:n.id,...n.data()}:null}async function ka(){const t=Gs(On(ut,vu),Qs("name"));return(await ti(t)).docs.map(n=>({code:n.id,...n.data()}))}async function Cx(t,e,n){await Ag(zn(ut,vu,t),{code:t,name:e,category:n,isActive:!0,checkinCount:0,createdAt:nr()})}async function eN(t){const e=zn(ut,vu,t);await Sa(e,{checkinCount:Eg(1)})}async function tN(t,e){const n=zn(ut,vu,t);await Sa(n,{isActive:e})}const rm={food:{label:"Food & Drink",Icon:Ww,color:"#e74c3c"},retail:{label:"Retail",Icon:$w,color:"#9b59b6"},services:{label:"Services",Icon:Lw,color:"#3498db"},arts:{label:"Arts & Culture",Icon:Uw,color:"#1abc9c"}};function nN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState("all");N.useEffect(()=>{async function d(){const p=await ka();e(p.filter(g=>g.isActive)),i(!1)}d()},[]);const u=o==="all"?t:t.filter(d=>d.category===o),m={total:t.length,food:t.filter(d=>d.category==="food").length,retail:t.filter(d=>d.category==="retail").length};return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"4rem 1rem",textAlign:"center"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h1",{style:{marginBottom:"1rem"},children:"For Local Businesses"}),f.jsx("p",{style:{color:"var(--kb-gray-300)",fontSize:"1.1rem",marginBottom:"2rem"},children:"Join the Kinderbucks network and connect with customers committed to shopping local"}),f.jsx(ve,{to:"/admin/businesses",className:"btn btn-gold",children:"Register Your Business"})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"Why Accept Kinderbucks?"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"2rem"},children:[{Icon:du,title:"Committed Customers",description:"Kinderbucks holders have already decided to spend locally. They're not comparison shopping online."},{Icon:xP,title:"Money Stays Local",description:"Unlike credit cards that send fees elsewhere, Kinderbucks keep circulating in our village economy."},{Icon:hP,title:"Free Marketing",description:"Get listed in our business directory, featured on our homepage, and promoted to all members."},{Icon:FP,title:"Community Standing",description:"Show customers you're invested in Kinderhook's future. Participating businesses are community leaders."},{Icon:Op,title:"Easy Redemption",description:"Redeem Kinderbucks for USD at any time through our simple merchant portal. No waiting."},{Icon:Ow,title:"Customer Insights",description:"Access check-in data and understand your customers' behavior across the village."}].map((d,p)=>f.jsxs(Ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:p*.1},viewport:{once:!0},className:"card",style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:f.jsx(d.Icon,{size:28,color:"var(--kb-gold)",strokeWidth:1.5})}),f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem"},children:d.title}),f.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:d.description})]},p))})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-cream)"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"2rem",textAlign:"center"},children:"How It Works"}),f.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:[{step:1,title:"Register",desc:"Sign up as a participating business. It's free to join."},{step:2,title:"Get Your QR Code",desc:"We'll provide a unique check-in QR code for your location."},{step:3,title:"Display It",desc:"Put the QR code at your counter or entrance for customers to scan."},{step:4,title:"Accept Kinderbucks",desc:"Take Kinderbucks as payment, just like cash. Same denominations."},{step:5,title:"Redeem Anytime",desc:"Exchange accumulated Kinderbucks back to USD when you need."}].map((d,p)=>f.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",background:"var(--kb-white)",padding:"1.5rem",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[f.jsx("div",{style:{width:"40px",height:"40px",background:"var(--kb-gold)",color:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",flexShrink:0},children:d.step}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"0.25rem"},children:d.title}),f.jsx("p",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem",margin:0},children:d.desc})]})]},p))})]})}),f.jsx("section",{style:{padding:"4rem 1rem",background:"var(--kb-white)"},children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[f.jsx("h2",{style:{color:"var(--kb-navy)",marginBottom:"0.5rem",textAlign:"center"},children:"Participating Businesses"}),f.jsxs("p",{style:{color:"var(--kb-gray-500)",textAlign:"center",marginBottom:"2rem"},children:[m.total," businesses currently accepting Kinderbucks"]}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"2rem",flexWrap:"wrap"},children:[f.jsxs("button",{onClick:()=>a("all"),className:o==="all"?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:["All (",m.total,")"]}),Object.entries(rm).map(([d,p])=>f.jsxs("button",{onClick:()=>a(d),className:o===d?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(p.Icon,{size:16})," ",p.label]},d))]}),n?f.jsx("p",{style:{textAlign:"center"},children:"Loading businesses..."}):u.length===0?f.jsxs("p",{style:{textAlign:"center",color:"var(--kb-gray-500)"},children:["No businesses found. ",f.jsx(ve,{to:"/admin/businesses",children:"Add some!"})]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:u.map((d,p)=>{const g=rm[d.category]||rm.services;return f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:p*.03},className:"card",style:{padding:"1.25rem"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[f.jsx("div",{style:{width:"40px",height:"40px",background:`${g.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(g.Icon,{size:20,color:g.color,strokeWidth:1.5})}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"var(--kb-navy)",margin:0,fontSize:"1rem"},children:d.name}),f.jsx("span",{style:{fontSize:"0.8rem",color:g.color},children:g.label})]})]}),d.checkinCount>0&&f.jsxs("div",{style:{marginTop:"0.75rem",fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:[d.checkinCount," check-ins"]})]},d.code)})})]})}),f.jsxs("section",{style:{padding:"3rem 1rem",background:"var(--kb-gold)",color:"var(--kb-navy)",textAlign:"center"},children:[f.jsx("h3",{style:{marginBottom:"1rem"},children:"Ready to join the network?"}),f.jsx("p",{style:{opacity:.9,marginBottom:"1.5rem"},children:"Registration is free. Start accepting Kinderbucks today."}),f.jsx(ve,{to:"/admin/businesses",className:"btn btn-primary",children:"Register Your Business"})]}),f.jsx(Ws,{})]})}const FT="members";function ru(){let t=localStorage.getItem("kinderhooker_visitor_id");return t||(t="anon_"+Math.random().toString(36).substring(2,15),localStorage.setItem("kinderhooker_visitor_id",t)),t}async function iu(t){const e=zn(ut,FT,t),n=await Zh(e);return n.exists()?{visitorId:n.id,...n.data()}:null}async function rN(t,e){const n=zn(ut,FT,t),i=await Zh(n);if(i.exists()){const o=i.data(),a=o.businessesVisited||[],u=!a.includes(e),m=u?a.length+1:a.length,d=Pm(m),p=d!==o.tier;return await Sa(n,{businessesVisited:W4(e),totalCheckins:Eg(1),tier:d,lastCheckin:nr()}),{isNewBusiness:u,tierChanged:p,oldTier:o.tier,newTier:d,businessesVisited:u?[...a,e]:a,totalCheckins:(o.totalCheckins||0)+1}}else{const o=Pm(1);return await Ag(n,{visitorId:t,tier:o,businessesVisited:[e],totalCheckins:1,createdAt:nr(),lastCheckin:nr(),email:null}),{isNewBusiness:!0,tierChanged:!0,oldTier:null,newTier:o,businessesVisited:[e],totalCheckins:1}}}const iN={curious:an,hooked:ii,lineAndSinker:ns,patron:sr};function sN(){const[t,e]=N.useState(null),[n,i]=N.useState(!0),[o,a]=N.useState(20),[u,m]=N.useState(!1),[d,p]=N.useState(!1);N.useEffect(()=>{async function F(){const z=ru(),j=await iu(z);e(j),i(!1)}F()},[]);const g=(t==null?void 0:t.tier)||"curious",v=br[g]||br.curious,w=t?v.bonus:.1,k=o*w,T=o+k,A=async()=>{m(!0);try{await Ig(On(ut,"exchanges"),{visitorId:ru(),usdAmount:o,bonusRate:w,bonusAmount:k,kinderbucksAmount:T,tier:g,status:"pending",createdAt:nr()}),p(!0)}catch(F){console.error("Exchange error:",F),alert("Error submitting exchange request")}m(!1)},I=[10,20,50,100];return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"linear-gradient(135deg, var(--kb-green) 0%, var(--kb-green-light) 100%)",color:"var(--kb-white)",padding:"3rem 1rem",textAlign:"center"},children:f.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[f.jsx("h1",{style:{marginBottom:"0.5rem"},children:"Get Kinderbucks"}),f.jsx("p",{style:{opacity:.9},children:"Exchange USD for local currency with bonus value"})]})}),f.jsx("section",{style:{padding:"3rem 1rem",background:"var(--kb-cream)",flex:1},children:f.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:d?f.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card",style:{textAlign:"center",padding:"3rem 2rem"},children:[f.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),f.jsx("h2",{style:{color:"var(--kb-green)",marginBottom:"1rem"},children:"Exchange Requested!"}),f.jsxs("p",{style:{color:"var(--kb-gray-600)",marginBottom:"1.5rem"},children:["Your exchange request for ",f.jsxs("strong",{children:["$",o," USD"]})," "," ",f.jsxs("strong",{children:["$",T.toFixed(2)," Kinderbucks"]})," has been submitted."]}),f.jsx("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"2rem"},children:"Visit any exchange point to complete your transaction and receive your Kinderbucks."}),f.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[f.jsx("button",{onClick:()=>p(!1),className:"btn btn-primary",children:"Exchange More"}),f.jsx(ve,{to:"/account",className:"btn btn-secondary",children:"View Account"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Your Tier"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(()=>{const F=iN[g]||an;return f.jsx(F,{size:28,color:v.color,strokeWidth:1.5})})(),f.jsx("span",{style:{fontWeight:"600",color:v.color,fontSize:"1.2rem"},children:v.name})]})]}),f.jsxs("div",{style:{textAlign:"right"},children:[f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)",marginBottom:"0.25rem"},children:"Bonus Rate"}),f.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:v.color},children:[Math.round(w*100),"%"]})]})]}),!t&&f.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--kb-gray-50)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--kb-gray-600)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(aP,{size:16,color:"var(--kb-gold)"})," ",f.jsx(ve,{to:"/profile",style:{color:"var(--kb-navy)"},children:"Visit businesses"})," to increase your tier and get better rates!"]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Exchange Calculator"}),f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("label",{children:"Amount (USD)"}),f.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:I.map(F=>f.jsxs("button",{onClick:()=>a(F),className:o===F?"btn btn-primary":"btn btn-secondary",style:{flex:1,padding:"0.5rem"},children:["$",F]},F))}),f.jsx("input",{type:"number",value:o,onChange:F=>a(Math.max(1,Number(F.target.value))),min:"1",style:{width:"100%"}})]}),f.jsxs("div",{style:{background:"var(--kb-gray-50)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[f.jsx("span",{style:{color:"var(--kb-gray-600)"},children:"USD Amount"}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",o.toFixed(2)]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.75rem"},children:[f.jsxs("span",{style:{color:"var(--kb-gray-600)"},children:[v.name," Bonus (",Math.round(w*100),"%)"]}),f.jsxs("span",{style:{fontWeight:"600",color:"var(--kb-green)"},children:["+$",k.toFixed(2)]})]}),f.jsx("div",{className:"divider",style:{margin:"0.75rem 0"}}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("span",{style:{color:"var(--kb-navy)",fontWeight:"600"},children:"You Receive"}),f.jsxs("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.8rem",fontWeight:"700",color:"var(--kb-gold-dark)"},children:["$",T.toFixed(2)]})]}),f.jsx("div",{style:{textAlign:"right",fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Kinderbucks"})]}),f.jsx("button",{onClick:A,disabled:u,className:"btn btn-gold",style:{width:"100%",padding:"1rem",fontSize:"1.1rem"},children:u?"Processing...":`Exchange $${o} for $${T.toFixed(2)} Kinderbucks`}),f.jsx("p",{style:{textAlign:"center",fontSize:"0.85rem",color:"var(--kb-gray-500)",marginTop:"1rem"},children:"Complete your exchange at any participating business or exchange point"})]}),f.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[f.jsx("h4",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange Locations"}),f.jsxs("div",{style:{color:"var(--kb-gray-600)",fontSize:"0.95rem"},children:[f.jsxs("p",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Xc,{size:16,color:"var(--kb-green)"})," ",f.jsx("strong",{children:"OK Pantry"})," - 2 Hudson Street"]}),f.jsxs("p",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Xc,{size:16,color:"var(--kb-green)"})," ",f.jsx("strong",{children:"Community Bank NA"})," - 19 Broad Street"]}),f.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Xc,{size:16,color:"var(--kb-green)"})," ",f.jsx("strong",{children:"Village Hall"})," - During events"]})]})]})]})})}),f.jsx(Ws,{})]})}const Ax={curious:an,hooked:ii,lineAndSinker:ns,patron:sr};function oN(){var F,z;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState([]),[u,m]=N.useState(!0),[d,p]=N.useState("overview");if(N.useEffect(()=>{async function j(){const Y=ru(),W=await iu(Y),X=await ka();try{const R=Gs(On(ut,"exchanges"),Ch("visitorId","==",Y),Qs("createdAt","desc")),b=await ti(R);a(b.docs.map(P=>({id:P.id,...P.data()})))}catch(R){console.error("Error loading exchanges:",R)}e(W),i(X),m(!1)}j()},[]),u)return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("div",{className:"page page-center",style:{flex:1},children:f.jsx("div",{style:{fontSize:"2rem"},children:"Loading..."})}),f.jsx(Ws,{})]});const g=(t==null?void 0:t.tier)||null,v=g?br[g]:null,w=((F=t==null?void 0:t.businessesVisited)==null?void 0:F.length)||0,k=Bp(w),T=((z=t==null?void 0:t.businessesVisited)==null?void 0:z.map(j=>{const Y=n.find(W=>W.code===j);return Y?Y.name:j}))||[],A=n.filter(j=>{var Y;return j.isActive&&!((Y=t==null?void 0:t.businessesVisited)!=null&&Y.includes(j.code))}),I=o.reduce((j,Y)=>j+(Y.kinderbucksAmount||0),0);return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[f.jsx($s,{}),f.jsx("section",{style:{background:"var(--kb-navy)",color:"var(--kb-white)",padding:"2rem 1rem"},children:f.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[f.jsx("div",{style:{width:"80px",height:"80px",background:v?v.color:"var(--kb-gray-500)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(()=>{const j=g&&Ax[g]?Ax[g]:an;return f.jsx(j,{size:40,color:"white",strokeWidth:1.5})})()}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gray-300)",marginBottom:"0.25rem"},children:"OK Membership"}),f.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:v?v.name:"New Member"}),f.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gold)"},children:v?`${Math.round(v.bonus*100)}% Exchange Bonus`:"Start exploring to earn rewards"})]}),f.jsx(ve,{to:"/exchange",className:"btn btn-gold",children:"Get Kinderbucks"})]})})}),f.jsx("div",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",position:"sticky",top:"70px",zIndex:50},children:f.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",display:"flex",gap:"2rem",padding:"0 1rem"},children:["overview","progress","history"].map(j=>f.jsx("button",{onClick:()=>p(j),style:{background:"none",border:"none",padding:"1rem 0",fontSize:"0.95rem",fontWeight:d===j?"600":"400",color:d===j?"var(--kb-navy)":"var(--kb-gray-500)",borderBottom:d===j?"2px solid var(--kb-gold)":"2px solid transparent",cursor:"pointer",textTransform:"capitalize"},children:j},j))})}),f.jsx("section",{style:{padding:"2rem 1rem",background:"var(--kb-cream)",flex:1},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[d==="overview"&&f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[f.jsxs("div",{className:"card",style:{textAlign:"center"},children:[f.jsx("div",{className:"stat-value",children:w}),f.jsx("div",{className:"stat-label",children:"Businesses Visited"})]}),f.jsxs("div",{className:"card",style:{textAlign:"center"},children:[f.jsx("div",{className:"stat-value",children:(t==null?void 0:t.totalCheckins)||0}),f.jsx("div",{className:"stat-label",children:"Total Check-ins"})]}),f.jsxs("div",{className:"card",style:{textAlign:"center"},children:[f.jsxs("div",{className:"stat-value",style:{color:"var(--kb-gold)"},children:["$",I.toFixed(0)]}),f.jsx("div",{className:"stat-label",children:"Kinderbucks Exchanged"})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Quick Actions"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem"},children:[f.jsxs(ve,{to:"/exchange",className:"btn btn-gold",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(Op,{size:18})," Exchange"]}),f.jsxs(ve,{to:"/businesses",className:"btn btn-secondary",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(Us,{size:18})," Find Businesses"]}),f.jsxs(ve,{to:"/benefits",className:"btn btn-secondary",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(kP,{size:18})," View Benefits"]})]})]})]}),d==="progress"&&f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:[v&&f.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Tier Progress"}),k.nextTier?f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{marginBottom:"0.5rem"},children:[f.jsx("span",{style:{color:v.color,fontWeight:"600"},children:v.name}),f.jsx("span",{style:{color:"var(--kb-gray-400)",margin:"0 0.5rem"},children:""}),f.jsx("span",{style:{color:k.nextTier.color,fontWeight:"600"},children:k.nextTier.name})]}),f.jsx("div",{className:"progress-bar",style:{height:"12px",marginBottom:"0.5rem"},children:f.jsx("div",{className:"progress-bar-fill",style:{width:`${k.progress}%`,background:v.color}})}),f.jsxs("p",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem"},children:[k.remaining," more business",k.remaining!==1?"es":""," to reach ",k.nextTier.name]})]}):f.jsxs("p",{style:{color:"var(--kb-gold)",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(sr,{size:20})," Maximum tier reached! You're a Village Patron!"]})]}),f.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Hl,{size:20,color:"var(--kb-green)"})," Businesses Visited (",T.length,")"]}),T.length>0?f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:T.map((j,Y)=>f.jsxs("span",{style:{background:"#d4edda",color:"var(--kb-green)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[f.jsx(Hl,{size:14})," ",j]},Y))}):f.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"No businesses visited yet"})]}),A.length>0&&f.jsxs("div",{className:"card",children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Bw,{size:20,color:"var(--kb-navy)"})," Still to Explore (",A.length,")"]}),f.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[A.slice(0,12).map(j=>f.jsx("span",{style:{background:"var(--kb-gray-100)",color:"var(--kb-gray-600)",padding:"0.4rem 0.75rem",borderRadius:"100px",fontSize:"0.85rem"},children:j.name},j.code)),A.length>12&&f.jsxs("span",{style:{color:"var(--kb-gray-500)",padding:"0.4rem"},children:["+",A.length-12," more"]})]})]})]}),d==="history"&&f.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},children:f.jsxs("div",{className:"card",children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Exchange History"}),o.length>0?f.jsx("div",{children:o.map((j,Y)=>{var W,X,R,b;return f.jsxs("div",{style:{padding:"1rem 0",borderBottom:Y<o.length-1?"1px solid var(--kb-gray-100)":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsxs("div",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",j.usdAmount,"  $",(W=j.kinderbucksAmount)==null?void 0:W.toFixed(2)," KB"]}),f.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:[((b=(R=(X=j.createdAt)==null?void 0:X.toDate)==null?void 0:R.call(X))==null?void 0:b.toLocaleDateString())||"Pending","  ",Math.round(j.bonusRate*100),"% bonus"]})]}),f.jsx("span",{className:"badge",style:{background:j.status==="completed"?"#d4edda":"#fff3cd",color:j.status==="completed"?"var(--kb-green)":"#856404"},children:j.status})]},j.id)})}):f.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--kb-gray-500)"},children:[f.jsx("p",{style:{marginBottom:"1rem"},children:"No exchanges yet"}),f.jsx(ve,{to:"/exchange",className:"btn btn-gold",children:"Make Your First Exchange"})]})]})})]})}),f.jsx(Ws,{})]})}const aN={curious:an,hooked:ii,lineAndSinker:ns,patron:sr};function lN(){var w,k;const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,a]=N.useState(!0);if(N.useEffect(()=>{async function T(){const A=ru(),I=await iu(A),F=await ka();e(I),i(F),a(!1)}T()},[]),o)return f.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:f.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:f.jsx(zw,{size:48,color:"var(--kb-navy)"})})});if(!t)return f.jsx("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[f.jsx("div",{style:{width:"80px",height:"80px",background:"var(--kb-navy)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:f.jsx(m1,{size:40,color:"var(--kb-gold)"})}),f.jsx("h1",{style:{color:"#1a5f2a",marginBottom:"1rem"},children:"Kinderhooker"}),f.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Start exploring local businesses to build your profile!"}),f.jsx("p",{style:{color:"#888",fontSize:"0.9rem",marginBottom:"1.5rem"},children:"Scan a QR code at any participating business to check in and earn rewards."}),f.jsx(ve,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Find Businesses"})]})});const u=t.tier||"curious",m=br[u],d=((w=t.businessesVisited)==null?void 0:w.length)||0,p=Bp(d),g=((k=t.businessesVisited)==null?void 0:k.map(T=>{const A=n.find(I=>I.code===T);return A?A.name:T}))||[],v=n.filter(T=>{var A;return T.isActive&&!((A=t.businessesVisited)!=null&&A.includes(T.code))});return f.jsx("div",{className:"page",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:f.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[f.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:"2rem"},children:f.jsxs("h1",{style:{color:"#1a5f2a",fontSize:"1.5rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(m1,{size:24})," KINDERHOOKER PROFILE"]})}),f.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${m.color} 0%, ${m.color}dd 100%)`,borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[f.jsx("div",{style:{marginBottom:"0.5rem"},children:(()=>{const T=aN[u]||an;return f.jsx(T,{size:48,color:"white",strokeWidth:1.5})})()}),f.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:"0.25rem"},children:m.name}),f.jsxs("div",{style:{opacity:.9,fontSize:"0.9rem"},children:[Math.round(m.bonus*100),"% Kinderbuck Match Bonus"]})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[f.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:["You've supported ",d," local business",d!==1?"es":"","!"]}),p.nextTier&&f.jsxs(f.Fragment,{children:[f.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginBottom:"0.5rem"},children:["Progress to ",f.jsx("strong",{style:{color:p.nextTier.color},children:p.nextTier.name}),":"]}),f.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"24px",overflow:"hidden",marginBottom:"0.5rem"},children:f.jsxs(Ve.div,{initial:{width:0},animate:{width:`${p.progress}%`},transition:{delay:.5,duration:.8},style:{background:`linear-gradient(90deg, ${m.color}, ${p.nextTier.color})`,height:"100%",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:[d,"/",p.nextTier.threshold]})}),f.jsxs("p",{style:{color:"#888",fontSize:"0.85rem",textAlign:"center"},children:[p.remaining," more business",p.remaining!==1?"es":""," to go!"]})]}),!p.nextTier&&f.jsxs("p",{style:{color:"#c9a227",fontWeight:"bold",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(sr,{size:20})," Maximum tier reached! You're a true Village Patron!"]})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[f.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Hl,{size:20,color:"var(--kb-green)"})," Businesses Visited"]}),g.length>0?f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:g.map((T,A)=>f.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+A*.05},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#e8f5e9",borderRadius:"8px"},children:[f.jsx(Hl,{size:16,color:"#2e7d32"}),f.jsx("span",{style:{color:"#2c3e50"},children:T})]},A))}):f.jsx("p",{style:{color:"#888"},children:"No businesses visited yet"})]}),v.length>0&&f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{background:"white",borderRadius:"16px",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[f.jsxs("h3",{style:{color:"#2c3e50",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Bw,{size:20,color:"var(--kb-navy)"})," Still to Explore"]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:v.map((T,A)=>f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"#f5f5f5",borderRadius:"8px"},children:[f.jsx("span",{style:{color:"#888"},children:""}),f.jsx("span",{style:{color:"#5a6c7d"},children:T.name})]},T.code))})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{textAlign:"center",color:"#888",marginBottom:"1.5rem"},children:["Total check-ins: ",t.totalCheckins||0]}),f.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:f.jsx(ve,{to:"/",className:"btn",style:{background:"#1a5f2a"},children:"Home"})})]})})}const xu="kinderbucks",uN="scans";async function cN(t){const e=zn(ut,xu,t),n=await Zh(e);return n.exists()?{serial:n.id,...n.data()}:null}async function BT(){const t=Gs(On(ut,xu),Qs("serial"));return(await ti(t)).docs.map(n=>({serial:n.id,...n.data()}))}async function hN(t,e){const n=t.map(i=>Ag(zn(ut,xu,i),{serial:i,denomination:e,status:"draft",scanCount:0,createdAt:nr()}));await Promise.all(n)}async function dN(t,e,n=null){const i=zn(ut,xu,t),o={status:e,issuedAt:nr(),...n&&{issuedTo:n}};await Sa(i,o)}async function fN(t){const e=zn(ut,xu,t);await Sa(e,{scanCount:Eg(1),lastScanned:nr(),status:"active"}),await Ig(On(ut,uN),{serial:t,scannedAt:nr(),userAgent:navigator.userAgent||null})}function zT(){const[t,e]=N.useState([]);return N.useEffect(()=>{const n=["#2d5a27","#c9a227","#4a7c43","#d4af37","#5c4033"],i=Array.from({length:50},(o,a)=>({id:a,x:Math.random()*100,color:n[Math.floor(Math.random()*n.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:8+Math.random()*8}));e(i)},[]),f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",overflow:"hidden",zIndex:100},children:t.map(n=>f.jsx(Ve.div,{initial:{y:-20,x:`${n.x}vw`,opacity:1,rotate:0},animate:{y:"110vh",rotate:360*(Math.random()>.5?1:-1),opacity:[1,1,0]},transition:{duration:n.duration,delay:n.delay,ease:"linear"},style:{position:"absolute",width:n.size,height:n.size,background:n.color,borderRadius:Math.random()>.5?"50%":"2px"}},n.id))})}const Ix={1:{bg:"#d4edda",text:"#155724"},5:{bg:"#cce5ff",text:"#004085"},10:{bg:"#e2d5e7",text:"#4a235a"},20:{bg:"#fff3cd",text:"#856404"}};function mN({kinderbuck:t}){const e=Ix[t.denomination]||Ix[5];return f.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"card",style:{textAlign:"center",maxWidth:"400px",background:e.bg},children:[f.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[f.jsxs("h1",{style:{color:e.text,fontSize:"3rem",marginBottom:"0.5rem"},children:["$",t.denomination]}),f.jsx("p",{style:{fontFamily:"monospace",fontSize:"1.5rem",color:e.text},children:t.serial})]}),f.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{marginTop:"1.5rem"},children:f.jsx("div",{style:{display:"inline-block",padding:"0.5rem 1rem",background:"rgba(255,255,255,0.7)",borderRadius:"20px",color:"var(--kb-green)",fontWeight:"bold"},children:"VERIFIED AUTHENTIC"})}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{marginTop:"1.5rem",fontSize:"0.9rem",opacity:.8},children:[f.jsxs("p",{children:["Status: ",f.jsx("strong",{children:t.status})]}),t.issuedAt&&f.jsxs("p",{children:["Issued: ",new Date(t.issuedAt.seconds*1e3).toLocaleDateString()]}),f.jsxs("p",{children:["Scans: ",t.scanCount||1]})]}),f.jsx(Ve.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,type:"spring"},style:{marginTop:"1.5rem"},children:f.jsx("iframe",{src:"https://giphy.com/embed/B1txHfofr9y08bDB8b",width:"200",height:"200",frameBorder:"0",style:{borderRadius:"12px",pointerEvents:"none"},allowFullScreen:!0})})]})}function pN(){const{serial:t}=Kx(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null);return N.useEffect(()=>{async function m(){try{const d=await cN(t);d?(n(d),await fN(t)):u("not_found")}catch(d){console.error("Verification error:",d),u("error")}finally{o(!1)}}m()},[t]),i?f.jsxs("div",{className:"page page-center",children:[f.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{fontSize:"3rem"},children:"$"}),f.jsxs("p",{style:{marginTop:"1rem"},children:["Verifying ",t,"..."]})]}):a==="not_found"?f.jsxs("div",{className:"page page-center",children:[f.jsx("h1",{style:{color:"#c0392b"},children:"Not Found"}),f.jsxs("p",{children:["Serial ",f.jsx("strong",{children:t})," is not a valid Kinderbuck."]})]}):a?f.jsxs("div",{className:"page page-center",children:[f.jsx("h1",{style:{color:"#c0392b"},children:"Error"}),f.jsx("p",{children:"Something went wrong verifying this Kinderbuck."})]}):f.jsxs("div",{className:"page page-center",children:[f.jsx(zT,{}),f.jsx(mN,{kinderbuck:e})]})}const UT="checkins",gN=3600*1e3;async function yN(t,e){var m;const n=new Date(Date.now()-gN),i=Gs(On(ut,UT),Ch("visitorId","==",t),Ch("businessCode","==",e),Qs("timestamp","desc"),MT(1)),o=await ti(i);return o.empty?!1:(((m=o.docs[0].data().timestamp)==null?void 0:m.toDate())||new Date(0))>n}async function vN(t,e,n){await Ig(On(ut,UT),{visitorId:t,businessCode:e,timestamp:nr(),kinderbucksMatched:!1,boostApplied:0,memberTier:n||"curious"})}const Rx={curious:an,hooked:ii,lineAndSinker:ns,patron:sr};function xN(){var F;const{businessCode:t}=Kx(),[e,n]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null),[m,d]=N.useState(null),[p,g]=N.useState(!1),[v,w]=N.useState(!1);if(N.useEffect(()=>{async function z(){try{const j=await Z4(t);if(!j){u("not_found"),o(!1);return}if(!j.isActive){u("inactive"),o(!1);return}n(j);const Y=ru();if(await yN(Y,t)){g(!0);const P=await iu(Y);P&&d({tierChanged:!1,newTier:P.tier,businessesVisited:P.businessesVisited||[],totalCheckins:P.totalCheckins||0,isNewBusiness:!1}),o(!1);return}const X=await iu(Y),R=(X==null?void 0:X.tier)||null,b=await rN(Y,t);await vN(Y,t,b.newTier),await eN(t),d(b),b.tierChanged&&b.newTier&&w(!0),o(!1)}catch(j){console.error("Check-in error:",j),u("error"),o(!1)}}z()},[t]),i)return f.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[f.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:f.jsx(zw,{size:48,color:"var(--kb-navy)"})}),f.jsx("p",{style:{marginTop:"1rem",color:"#5a6c7d"},children:"Checking in..."})]});if(a==="not_found")return f.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[f.jsx("h1",{style:{color:"#c0392b"},children:"Business Not Found"}),f.jsx("p",{style:{color:"#5a6c7d"},children:"This check-in code doesn't match any participating business."}),f.jsx(ve,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a==="inactive")return f.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[f.jsx("h1",{style:{color:"#e67e22"},children:"Business Not Active"}),f.jsx("p",{style:{color:"#5a6c7d"},children:"This business is not currently participating in Kinderhooker."}),f.jsx(ve,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});if(a)return f.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh"},children:[f.jsx("h1",{style:{color:"#c0392b"},children:"Something went wrong"}),f.jsx("p",{style:{color:"#5a6c7d"},children:"Please try scanning again."}),f.jsx(ve,{to:"/",className:"btn",style:{marginTop:"1rem"},children:"Go Home"})]});const k=(m==null?void 0:m.newTier)||"curious",T=br[k],A=((F=m==null?void 0:m.businessesVisited)==null?void 0:F.length)||0,I=Bp(A);return f.jsxs("div",{className:"page page-center",style:{background:"#faf8f3",minHeight:"100vh",padding:"2rem"},children:[v&&f.jsx(zT,{}),f.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},style:{background:"white",borderRadius:"20px",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[p?f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{width:"60px",height:"60px",background:"var(--kb-gray-100)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:f.jsx(dh,{size:32,color:"var(--kb-gray-500)"})}),f.jsx("h2",{style:{color:"#5a6c7d",marginBottom:"0.5rem"},children:"Already Checked In!"}),f.jsxs("p",{style:{color:"#888",marginBottom:"1.5rem"},children:["You visited ",f.jsx("strong",{children:e.name})," recently.",f.jsx("br",{}),"Come back in an hour for another check-in!"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs(Ve.div,{initial:{y:-20},animate:{y:0},transition:{delay:.2},children:[f.jsx("div",{style:{width:"50px",height:"50px",background:"#d4edda",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem"},children:f.jsx(Hl,{size:28,color:"var(--kb-green)"})}),f.jsxs("h2",{style:{color:"#1a5f2a",marginBottom:"0.5rem"},children:["Welcome to ",e.name,"!"]}),f.jsx("p",{style:{color:"#5a6c7d",marginBottom:"1.5rem"},children:"Check-in recorded!"})]}),(m==null?void 0:m.tierChanged)&&(m==null?void 0:m.newTier)&&f.jsxs(Ve.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},style:{background:T.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem"},children:(()=>{const z=Rx[k]||an;return f.jsx(z,{size:32,color:T.color,strokeWidth:1.5})})()}),f.jsx("div",{style:{color:T.color,fontWeight:"bold",fontSize:"1.2rem"},children:m.oldTier?"NEW TIER UNLOCKED!":"WELCOME, KINDERHOOKER!"}),f.jsx("div",{style:{color:T.color,fontSize:"1.5rem",fontWeight:"bold"},children:T.name})]})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{background:T.bgColor,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem"},children:(()=>{const z=Rx[k]||an;return f.jsx(z,{size:40,color:T.color,strokeWidth:1.5})})()}),f.jsx("div",{style:{color:T.color,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:T.name}),f.jsxs("div",{style:{color:"#5a6c7d",fontSize:"0.9rem",marginTop:"0.5rem"},children:[Math.round(T.bonus*100),"% Kinderbuck Match Bonus"]})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[f.jsxs("p",{style:{color:"#2c3e50",marginBottom:"0.5rem"},children:["You've visited ",f.jsx("strong",{children:A})," business",A!==1?"es":""]}),I.nextTier&&f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{background:"#e0e0e0",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"0.5rem"},children:f.jsx(Ve.div,{initial:{width:0},animate:{width:`${I.progress}%`},transition:{delay:.7,duration:.5},style:{background:`linear-gradient(90deg, ${T.color}, ${I.nextTier.color})`,height:"100%",borderRadius:"10px"}})}),f.jsxs("p",{style:{color:"#5a6c7d",fontSize:"0.85rem"},children:[I.remaining," more to reach ",f.jsx("strong",{style:{color:I.nextTier.color},children:I.nextTier.name}),"!"]})]}),!I.nextTier&&f.jsxs("p",{style:{color:"#c9a227",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(sr,{size:20})," Maximum tier reached! You're a true Village Patron!"]})]}),f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(ve,{to:"/profile",className:"btn",style:{background:"#1a5f2a"},children:"View My Profile"}),f.jsx(ve,{to:"/",className:"btn btn-secondary",children:"Home"})]})]})]})}function ir({children:t,title:e}){const n=ui(),i=[{to:"/admin/dashboard",label:"Dashboard",Icon:sP},{to:"/admin/exchanges",label:"Exchanges",Icon:Dh},{to:"/admin/members",label:"Members",Icon:du},{to:"/admin/generate",label:"Generate QR",Icon:Bs},{to:"/admin/issue",label:"Issue Currency",Icon:fh},{to:"/admin/businesses",label:"Businesses",Icon:Us}],o=a=>n.pathname===a;return f.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[f.jsxs("aside",{style:{width:"260px",background:"var(--kb-navy)",color:"var(--kb-white)",display:"flex",flexDirection:"column",position:"fixed",top:0,left:0,bottom:0,zIndex:100},children:[f.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:f.jsxs(ve,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.75rem",textDecoration:"none"},children:[f.jsx("div",{style:{width:"40px",height:"40px",background:"var(--kb-gold)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--kb-navy)",fontFamily:"var(--font-display)",fontWeight:"700",fontSize:"1.2rem"},children:"K"}),f.jsxs("div",{children:[f.jsx("div",{style:{fontFamily:"var(--font-display)",fontWeight:"600",color:"var(--kb-white)",fontSize:"1.1rem"},children:"Kinderbucks"}),f.jsx("div",{style:{fontSize:"0.7rem",color:"var(--kb-gold)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Admin Portal"})]})]})}),f.jsx("nav",{style:{flex:1,padding:"1rem 0",overflowY:"auto"},children:i.map(a=>f.jsxs(ve,{to:a.to,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1.5rem",color:o(a.to)?"var(--kb-gold)":"var(--kb-gray-300)",background:o(a.to)?"rgba(201, 162, 39, 0.1)":"transparent",borderLeft:o(a.to)?"3px solid var(--kb-gold)":"3px solid transparent",textDecoration:"none",fontSize:"0.95rem",fontWeight:o(a.to)?"600":"400",transition:"all 0.2s"},children:[f.jsx(a.Icon,{size:20,strokeWidth:1.5}),a.label]},a.to))}),f.jsx("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:f.jsxs(ve,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 0",color:"var(--kb-gray-400)",textDecoration:"none",fontSize:"0.9rem"},children:[f.jsx(rP,{size:18}),"Back to Site"]})})]}),f.jsxs("main",{style:{flex:1,marginLeft:"260px",background:"var(--kb-cream)",minHeight:"100vh"},children:[f.jsx("header",{style:{background:"var(--kb-white)",borderBottom:"1px solid var(--kb-gray-200)",padding:"1.25rem 2rem",position:"sticky",top:0,zIndex:50},children:f.jsx("h1",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",color:"var(--kb-navy)",margin:0},children:e})}),f.jsx("div",{style:{padding:"2rem"},children:t})]}),f.jsx("style",{children:`
        @media (max-width: 768px) {
          aside {
            width: 100% !important;
            position: relative !important;
            display: none;
          }
          main {
            margin-left: 0 !important;
          }
        }
      `})]})}function _N(){const[t,e]=N.useState({totalCurrency:0,inCirculation:0,circulationValue:0,pendingExchanges:0,pendingValue:0,totalMembers:0,activeBusinesses:0,totalCheckins:0}),[n,i]=N.useState([]),[o,a]=N.useState({}),[u,m]=N.useState(!0);N.useEffect(()=>{async function p(){try{const g=await BT(),v=g.filter(R=>R.status==="issued"||R.status==="active"),w={};v.forEach(R=>{const b=R.denomination||0;w[b]=(w[b]||0)+1}),a(w);const k=await ka(),T=k.filter(R=>R.isActive),A=k.reduce((R,b)=>R+(b.checkinCount||0),0),I=Gs(On(ut,"exchanges"),Ch("status","==","pending"),Qs("createdAt","desc")),z=(await ti(I)).docs.map(R=>({id:R.id,...R.data()})),j=z.reduce((R,b)=>R+(b.kinderbucksAmount||0),0),Y=Gs(On(ut,"exchanges"),Qs("createdAt","desc"),MT(5)),W=await ti(Y);i(W.docs.map(R=>({id:R.id,...R.data()})));const X=await ti(On(ut,"members"));e({totalCurrency:g.length,inCirculation:v.length,circulationValue:v.reduce((R,b)=>R+(b.denomination||0),0),pendingExchanges:z.length,pendingValue:j,totalMembers:X.size,activeBusinesses:T.length,totalCheckins:A}),m(!1)}catch(g){console.error("Error loading dashboard data:",g),m(!1)}}p()},[]);const d=({icon:p,label:g,value:v,subtext:w,color:k,to:T})=>f.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:g}),f.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"2rem",fontWeight:"700",color:k||"var(--kb-navy)"},children:v}),w&&f.jsx("div",{style:{color:"var(--kb-gray-500)",fontSize:"0.85rem",marginTop:"0.25rem"},children:w})]}),f.jsx("div",{style:{width:"48px",height:"48px",background:`${k||"var(--kb-navy)"}15`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(p,{size:24,color:k||"var(--kb-navy)"})})]}),T&&f.jsx(ve,{to:T,style:{display:"block",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--kb-gray-100)",color:"var(--kb-navy)",fontSize:"0.85rem",fontWeight:"500"},children:"View Details "})]});return u?f.jsx(ir,{title:"Dashboard",children:f.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:f.jsx("div",{style:{color:"var(--kb-gray-500)"},children:"Loading dashboard..."})})}):f.jsxs(ir,{title:"Dashboard",children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[f.jsx(d,{icon:Op,label:"In Circulation",value:`$${t.circulationValue.toLocaleString()}`,subtext:`${t.inCirculation} bills issued`,color:"var(--kb-green)"}),f.jsx(d,{icon:dh,label:"Pending Exchanges",value:t.pendingExchanges,subtext:`$${t.pendingValue.toFixed(2)} value`,color:t.pendingExchanges>0?"#e67e22":"var(--kb-gray-400)",to:"/admin/exchanges"}),f.jsx(d,{icon:du,label:"OK Members",value:t.totalMembers,subtext:`${t.totalCheckins} total check-ins`,color:"var(--kb-navy)",to:"/admin/members"}),f.jsx(d,{icon:Us,label:"Active Businesses",value:t.activeBusinesses,color:"var(--kb-gold-dark)",to:"/admin/businesses"})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[f.jsxs("div",{className:"card",children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[f.jsx("h3",{style:{color:"var(--kb-navy)",margin:0},children:"Recent Exchanges"}),f.jsx(ve,{to:"/admin/exchanges",style:{fontSize:"0.85rem",color:"var(--kb-navy)"},children:"View All "})]}),n.length===0?f.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"No exchanges yet"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:n.map(p=>{var g,v,w,k;return f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:"var(--kb-gray-50)",borderRadius:"8px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.status==="completed"?f.jsx(Nh,{size:18,color:"var(--kb-green)"}):p.status==="pending"?f.jsx(dh,{size:18,color:"#e67e22"}):f.jsx(Fw,{size:18,color:"var(--kb-gray-400)"}),f.jsxs("div",{children:[f.jsxs("div",{style:{fontWeight:"500",color:"var(--kb-navy)"},children:["$",p.usdAmount,"  $",(g=p.kinderbucksAmount)==null?void 0:g.toFixed(2)," KB"]}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:((k=(w=(v=p.createdAt)==null?void 0:v.toDate)==null?void 0:w.call(v))==null?void 0:k.toLocaleDateString())||"Pending"})]})]}),f.jsx("span",{className:"badge",style:{background:p.status==="completed"?"#d4edda":p.status==="pending"?"#fff3cd":"#f8f9fa",color:p.status==="completed"?"var(--kb-green)":p.status==="pending"?"#856404":"var(--kb-gray-600)"},children:p.status})]},p.id)})})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem"},children:"Circulation by Denomination"}),Object.keys(o).length===0?f.jsx("p",{style:{color:"var(--kb-gray-500)"},children:"No currency in circulation yet"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[1,5,10,20].map(p=>{const g=o[p]||0,v=Math.max(...Object.values(o),1),w=g/v*100,k={1:"#27ae60",5:"#3498db",10:"#9b59b6",20:"#c9a227"};return f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[f.jsxs("span",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",p]}),f.jsxs("span",{style:{color:"var(--kb-gray-500)"},children:[g," bills ($",g*p,")"]})]}),f.jsx("div",{style:{height:"8px",background:"var(--kb-gray-100)",borderRadius:"4px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${w}%`,height:"100%",background:k[p],borderRadius:"4px",transition:"width 0.5s ease"}})})]},p)})})]})]}),f.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[f.jsx("h3",{style:{color:"var(--kb-navy)",marginBottom:"1rem"},children:"Quick Actions"}),f.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[f.jsxs(ve,{to:"/admin/generate",className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Bs,{size:18})," Generate QR Codes"]}),f.jsxs(ve,{to:"/admin/issue",className:"btn btn-secondary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(fh,{size:18})," Issue Currency"]}),f.jsxs(ve,{to:"/admin/exchanges",className:"btn btn-gold",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Dh,{size:18})," Process Exchanges"]})]})]})]})}var wN=Object.defineProperty,Ah=Object.getOwnPropertySymbols,$T=Object.prototype.hasOwnProperty,WT=Object.prototype.propertyIsEnumerable,Px=(t,e,n)=>e in t?wN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zm=(t,e)=>{for(var n in e||(e={}))$T.call(e,n)&&Px(t,n,e[n]);if(Ah)for(var n of Ah(e))WT.call(e,n)&&Px(t,n,e[n]);return t},ep=(t,e)=>{var n={};for(var i in t)$T.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Ah)for(var i of Ah(t))e.indexOf(i)<0&&WT.call(t,i)&&(n[i]=t[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ys;(t=>{const e=class je{constructor(d,p,g,v){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<je.MIN_VERSION||d>je.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let w=[];for(let T=0;T<this.size;T++)w.push(!1);for(let T=0;T<this.size;T++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(g);if(this.drawCodewords(k),v==-1){let T=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const I=this.getPenaltyScore();I<T&&(v=A,T=I),this.applyMask(A)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(d,p){const g=t.QrSegment.makeSegments(d);return je.encodeSegments(g,p)}static encodeBinary(d,p){const g=t.QrSegment.makeBytes(d);return je.encodeSegments([g],p)}static encodeSegments(d,p,g=1,v=40,w=-1,k=!0){if(!(je.MIN_VERSION<=g&&g<=v&&v<=je.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let T,A;for(T=g;;T++){const j=je.getNumDataCodewords(T,p)*8,Y=u.getTotalBits(d,T);if(Y<=j){A=Y;break}if(T>=v)throw new RangeError("Data too long")}for(const j of[je.Ecc.MEDIUM,je.Ecc.QUARTILE,je.Ecc.HIGH])k&&A<=je.getNumDataCodewords(T,j)*8&&(p=j);let I=[];for(const j of d){n(j.mode.modeBits,4,I),n(j.numChars,j.mode.numCharCountBits(T),I);for(const Y of j.getData())I.push(Y)}o(I.length==A);const F=je.getNumDataCodewords(T,p)*8;o(I.length<=F),n(0,Math.min(4,F-I.length),I),n(0,(8-I.length%8)%8,I),o(I.length%8==0);for(let j=236;I.length<F;j^=253)n(j,8,I);let z=[];for(;z.length*8<I.length;)z.push(0);return I.forEach((j,Y)=>z[Y>>>3]|=j<<7-(Y&7)),new je(T,p,z,w)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let g=0;g<p;g++)for(let v=0;v<p;v++)g==0&&v==0||g==0&&v==p-1||g==p-1&&v==0||this.drawAlignmentPattern(d[g],d[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let g=p;for(let w=0;w<10;w++)g=g<<1^(g>>>9)*1335;const v=(p<<10|g)^21522;o(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(v,w));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let g=0;g<12;g++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;o(p>>>18==0);for(let g=0;g<18;g++){const v=i(p,g),w=this.size-11+g%3,k=Math.floor(g/3);this.setFunctionModule(w,k,v),this.setFunctionModule(k,w,v)}}drawFinderPattern(d,p){for(let g=-4;g<=4;g++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(g)),k=d+v,T=p+g;0<=k&&k<this.size&&0<=T&&T<this.size&&this.setFunctionModule(k,T,w!=2&&w!=4)}}drawAlignmentPattern(d,p){for(let g=-2;g<=2;g++)for(let v=-2;v<=2;v++)this.setFunctionModule(d+v,p+g,Math.max(Math.abs(v),Math.abs(g))!=1)}setFunctionModule(d,p,g){this.modules[p][d]=g,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,g=this.errorCorrectionLevel;if(d.length!=je.getNumDataCodewords(p,g))throw new RangeError("Invalid argument");const v=je.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p],w=je.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p],k=Math.floor(je.getNumRawDataModules(p)/8),T=v-k%v,A=Math.floor(k/v);let I=[];const F=je.reedSolomonComputeDivisor(w);for(let j=0,Y=0;j<v;j++){let W=d.slice(Y,Y+A-w+(j<T?0:1));Y+=W.length;const X=je.reedSolomonComputeRemainder(W,F);j<T&&W.push(0),I.push(W.concat(X))}let z=[];for(let j=0;j<I[0].length;j++)I.forEach((Y,W)=>{(j!=A-w||W>=T)&&z.push(Y[j])});return o(z.length==k),z}drawCodewords(d){if(d.length!=Math.floor(je.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const k=g-w,A=(g+1&2)==0?this.size-1-v:v;!this.isFunction[A][k]&&p<d.length*8&&(this.modules[A][k]=i(d[p>>>3],7-(p&7)),p++)}}o(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let g=0;g<this.size;g++){let v;switch(d){case 0:v=(g+p)%2==0;break;case 1:v=p%2==0;break;case 2:v=g%3==0;break;case 3:v=(g+p)%3==0;break;case 4:v=(Math.floor(g/3)+Math.floor(p/2))%2==0;break;case 5:v=g*p%2+g*p%3==0;break;case 6:v=(g*p%2+g*p%3)%2==0;break;case 7:v=((g+p)%2+g*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][g]&&v&&(this.modules[p][g]=!this.modules[p][g])}}getPenaltyScore(){let d=0;for(let w=0;w<this.size;w++){let k=!1,T=0,A=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[w][I]==k?(T++,T==5?d+=je.PENALTY_N1:T>5&&d++):(this.finderPenaltyAddHistory(T,A),k||(d+=this.finderPenaltyCountPatterns(A)*je.PENALTY_N3),k=this.modules[w][I],T=1);d+=this.finderPenaltyTerminateAndCount(k,T,A)*je.PENALTY_N3}for(let w=0;w<this.size;w++){let k=!1,T=0,A=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][w]==k?(T++,T==5?d+=je.PENALTY_N1:T>5&&d++):(this.finderPenaltyAddHistory(T,A),k||(d+=this.finderPenaltyCountPatterns(A)*je.PENALTY_N3),k=this.modules[I][w],T=1);d+=this.finderPenaltyTerminateAndCount(k,T,A)*je.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let k=0;k<this.size-1;k++){const T=this.modules[w][k];T==this.modules[w][k+1]&&T==this.modules[w+1][k]&&T==this.modules[w+1][k+1]&&(d+=je.PENALTY_N2)}let p=0;for(const w of this.modules)p=w.reduce((k,T)=>k+(T?1:0),p);const g=this.size*this.size,v=Math.ceil(Math.abs(p*20-g*10)/g)-1;return o(0<=v&&v<=9),d+=v*je.PENALTY_N4,o(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let g=[6];for(let v=this.size-7;g.length<d;v-=p)g.splice(1,0,v);return g}}static getNumRawDataModules(d){if(d<je.MIN_VERSION||d>je.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const g=Math.floor(d/7)+2;p-=(25*g-10)*g-55,d>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(je.getNumRawDataModules(d)/8)-je.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*je.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let v=0;v<d-1;v++)p.push(0);p.push(1);let g=1;for(let v=0;v<d;v++){for(let w=0;w<p.length;w++)p[w]=je.reedSolomonMultiply(p[w],g),w+1<p.length&&(p[w]^=p[w+1]);g=je.reedSolomonMultiply(g,2)}return p}static reedSolomonComputeRemainder(d,p){let g=p.map(v=>0);for(const v of d){const w=v^g.shift();g.push(0),p.forEach((k,T)=>g[T]^=je.reedSolomonMultiply(k,w))}return g}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let g=0;for(let v=7;v>=0;v--)g=g<<1^(g>>>7)*285,g^=(p>>>v&1)*d;return o(g>>>8==0),g}finderPenaltyCountPatterns(d){const p=d[1];o(p<=this.size*3);const g=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(g&&d[0]>=p*4&&d[6]>=p?1:0)+(g&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,g){return d&&(this.finderPenaltyAddHistory(p,g),p=0),p+=this.size,this.finderPenaltyAddHistory(p,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(m,d,p){if(d<0||d>31||m>>>d)throw new RangeError("Value out of range");for(let g=d-1;g>=0;g--)p.push(m>>>g&1)}function i(m,d){return(m>>>d&1)!=0}function o(m){if(!m)throw new Error("Assertion error")}const a=class ft{constructor(d,p,g){if(this.mode=d,this.numChars=p,this.bitData=g,p<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(d){let p=[];for(const g of d)n(g,8,p);return new ft(ft.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!ft.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let g=0;g<d.length;){const v=Math.min(d.length-g,3);n(parseInt(d.substring(g,g+v),10),v*3+1,p),g+=v}return new ft(ft.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!ft.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],g;for(g=0;g+2<=d.length;g+=2){let v=ft.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g))*45;v+=ft.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g+1)),n(v,11,p)}return g<d.length&&n(ft.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g)),6,p),new ft(ft.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:ft.isNumeric(d)?[ft.makeNumeric(d)]:ft.isAlphanumeric(d)?[ft.makeAlphanumeric(d)]:[ft.makeBytes(ft.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,p);else if(d<16384)n(2,2,p),n(d,14,p);else if(d<1e6)n(6,3,p),n(d,21,p);else throw new RangeError("ECI assignment value out of range");return new ft(ft.Mode.ECI,0,p)}static isNumeric(d){return ft.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return ft.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let g=0;for(const v of d){const w=v.mode.numCharCountBits(p);if(v.numChars>=1<<w)return 1/0;g+=4+w+v.bitData.length}return g}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let g=0;g<d.length;g++)d.charAt(g)!="%"?p.push(d.charCodeAt(g)):(p.push(parseInt(d.substring(g+1,g+3),16)),g+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(Ys||(Ys={}));(t=>{(e=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ys||(Ys={}));(t=>{(e=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ys||(Ys={}));var Xo=Ys;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var EN={L:Xo.QrCode.Ecc.LOW,M:Xo.QrCode.Ecc.MEDIUM,Q:Xo.QrCode.Ecc.QUARTILE,H:Xo.QrCode.Ecc.HIGH},HT=128,KT="L",qT="#FFFFFF",GT="#000000",QT=!1,YT=1,TN=4,SN=0,kN=.1;function XT(t,e=0){const n=[];return t.forEach(function(i,o){let a=null;i.forEach(function(u,m){if(!u&&a!==null){n.push(`M${a+e} ${o+e}h${m-a}v1H${a+e}z`),a=null;return}if(m===i.length-1){if(!u)return;a===null?n.push(`M${m+e},${o+e} h1v1H${m+e}z`):n.push(`M${a+e},${o+e} h${m+1-a}v1H${a+e}z`);return}u&&a===null&&(a=m)})}),n.join("")}function JT(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((o,a)=>a<e.x||a>=e.x+e.w?o:!1))}function bN(t,e,n,i){if(i==null)return null;const o=t.length+n*2,a=Math.floor(e*kN),u=o/e,m=(i.width||a)*u,d=(i.height||a)*u,p=i.x==null?t.length/2-m/2:i.x*u,g=i.y==null?t.length/2-d/2:i.y*u,v=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let T=Math.floor(p),A=Math.floor(g),I=Math.ceil(m+p-T),F=Math.ceil(d+g-A);w={x:T,y:A,w:I,h:F}}const k=i.crossOrigin;return{x:p,y:g,h:d,w:m,excavation:w,opacity:v,crossOrigin:k}}function CN(t,e){return e!=null?Math.max(Math.floor(e),0):t?TN:SN}function ZT({value:t,level:e,minVersion:n,includeMargin:i,marginSize:o,imageSettings:a,size:u,boostLevel:m}){let d=Pt.useMemo(()=>{const T=(Array.isArray(t)?t:[t]).reduce((A,I)=>(A.push(...Xo.QrSegment.makeSegments(I)),A),[]);return Xo.QrCode.encodeSegments(T,EN[e],n,void 0,void 0,m)},[t,e,n,m]);const{cells:p,margin:g,numCells:v,calculatedImageSettings:w}=Pt.useMemo(()=>{let k=d.getModules();const T=CN(i,o),A=k.length+T*2,I=bN(k,u,T,a);return{cells:k,margin:T,numCells:A,calculatedImageSettings:I}},[d,u,a,i,o]);return{qrcode:d,margin:g,cells:p,numCells:v,calculatedImageSettings:w}}var AN=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),IN=Pt.forwardRef(function(e,n){const i=e,{value:o,size:a=HT,level:u=KT,bgColor:m=qT,fgColor:d=GT,includeMargin:p=QT,minVersion:g=YT,boostLevel:v,marginSize:w,imageSettings:k}=i,A=ep(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:I}=A,F=ep(A,["style"]),z=k==null?void 0:k.src,j=Pt.useRef(null),Y=Pt.useRef(null),W=Pt.useCallback(Pe=>{j.current=Pe,typeof n=="function"?n(Pe):n&&(n.current=Pe)},[n]),[X,R]=Pt.useState(!1),{margin:b,cells:P,numCells:M,calculatedImageSettings:L}=ZT({value:o,level:u,minVersion:g,boostLevel:v,includeMargin:p,marginSize:w,imageSettings:k,size:a});Pt.useEffect(()=>{if(j.current!=null){const Pe=j.current,We=Pe.getContext("2d");if(!We)return;let _t=P;const Ee=Y.current,ie=L!=null&&Ee!==null&&Ee.complete&&Ee.naturalHeight!==0&&Ee.naturalWidth!==0;ie&&L.excavation!=null&&(_t=JT(P,L.excavation));const fe=window.devicePixelRatio||1;Pe.height=Pe.width=a*fe;const ae=a/M*fe;We.scale(ae,ae),We.fillStyle=m,We.fillRect(0,0,M,M),We.fillStyle=d,AN?We.fill(new Path2D(XT(_t,b))):P.forEach(function(U,ee){U.forEach(function(be,Ce){be&&We.fillRect(Ce+b,ee+b,1,1)})}),L&&(We.globalAlpha=L.opacity),ie&&We.drawImage(Ee,L.x+b,L.y+b,L.w,L.h)}}),Pt.useEffect(()=>{R(!1)},[z]);const $=Zm({height:a,width:a},I);let D=null;return z!=null&&(D=Pt.createElement("img",{src:z,key:z,style:{display:"none"},onLoad:()=>{R(!0)},ref:Y,crossOrigin:L==null?void 0:L.crossOrigin})),Pt.createElement(Pt.Fragment,null,Pt.createElement("canvas",Zm({style:$,height:a,width:a,ref:W,role:"img"},F)),D)});IN.displayName="QRCodeCanvas";var tp=Pt.forwardRef(function(e,n){const i=e,{value:o,size:a=HT,level:u=KT,bgColor:m=qT,fgColor:d=GT,includeMargin:p=QT,minVersion:g=YT,boostLevel:v,title:w,marginSize:k,imageSettings:T}=i,A=ep(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:I,cells:F,numCells:z,calculatedImageSettings:j}=ZT({value:o,level:u,minVersion:g,boostLevel:v,includeMargin:p,marginSize:k,imageSettings:T,size:a});let Y=F,W=null;T!=null&&j!=null&&(j.excavation!=null&&(Y=JT(F,j.excavation)),W=Pt.createElement("image",{href:T.src,height:j.h,width:j.w,x:j.x+I,y:j.y+I,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const X=XT(Y,I);return Pt.createElement("svg",Zm({height:a,width:a,viewBox:`0 0 ${z} ${z}`,ref:n,role:"img"},A),!!w&&Pt.createElement("title",null,w),Pt.createElement("path",{fill:m,d:`M0,0 h${z}v${z}H0z`,shapeRendering:"crispEdges"}),Pt.createElement("path",{fill:d,d:X,shapeRendering:"crispEdges"}),W)});tp.displayName="QRCodeSVG";const jx={1:{color:"#2d5a27",gradient:["#3d7a37","#2d5a27"],label:"ONE",accent:"#90c695"},5:{color:"#1e3a5f",gradient:["#2e5a8f","#1e3a5f"],label:"FIVE",accent:"#7ba3cc"},10:{color:"#5c2d5c",gradient:["#7c4d7c","#5c2d5c"],label:"TEN",accent:"#b89db8"},20:{color:"#8b6914",gradient:["#c9a227","#8b6914"],label:"TWENTY",accent:"#e8d48a"}};function eS({value:t,size:e=128,denomination:n=5,showFrame:i=!0}){const o=jx[n]||jx[5],a=e+48,u=16;return i?f.jsx("div",{style:{width:a,background:`linear-gradient(135deg, ${o.gradient[0]} 0%, ${o.gradient[1]} 100%)`,borderRadius:u,padding:"3px",display:"inline-block",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:f.jsxs("div",{style:{background:"linear-gradient(135deg, #fefefe 0%, #f5f5f0 100%)",borderRadius:u-2,padding:"8px",position:"relative"},children:[f.jsx("div",{style:{textAlign:"center",marginBottom:"6px",fontFamily:'"Georgia", serif',fontSize:"10px",fontWeight:"bold",color:o.color,letterSpacing:"3px",textTransform:"uppercase"},children:"KINDERBUCKS"}),f.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"8px",border:`2px solid ${o.accent}`,position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:"4px",left:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"2px 0 0 0"}}),f.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",width:"12px",height:"12px",borderTop:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 2px 0 0"}}),f.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderLeft:`2px solid ${o.color}`,borderRadius:"0 0 0 2px"}}),f.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",width:"12px",height:"12px",borderBottom:`2px solid ${o.color}`,borderRight:`2px solid ${o.color}`,borderRadius:"0 0 2px 0"}}),f.jsx(tp,{value:t,size:e,level:"H",fgColor:o.color,style:{display:"block"},imageSettings:{src:`data:image/svg+xml,${encodeURIComponent(`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${o.color}">
                  <circle cx="12" cy="12" r="11" fill="white" stroke="${o.color}" stroke-width="1.5"/>
                  <text x="12" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="${o.color}" font-family="Georgia">K</text>
                </svg>
              `)}`,height:e*.2,width:e*.2,excavate:!0}})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"6px",padding:"0 4px"},children:[f.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]}),f.jsx("span",{style:{fontFamily:'"Georgia", serif',fontSize:"9px",color:o.color,letterSpacing:"1px",opacity:.8},children:o.label}),f.jsxs("span",{style:{fontFamily:'"Georgia", serif',fontSize:"14px",fontWeight:"bold",color:o.color},children:["$",n]})]})]})}):f.jsx(tp,{value:t,size:e,level:"M",fgColor:o.color,style:{display:"block"}})}function RN(){const[t,e]=N.useState({start:1,end:100}),[n,i]=N.useState(5),[o,a]=N.useState([]),[u,m]=N.useState(!1),[d,p]=N.useState(!1),g=()=>{const T=[];for(let A=t.start;A<=t.end;A++)T.push(`KB-${String(A).padStart(4,"0")}`);a(T),p(!1)},v=async()=>{m(!0);try{await hN(o,n),p(!0)}catch(T){console.error("Error saving:",T),alert("Error saving to database")}m(!1)},w="https://harmonicsystems.github.io/kinderbucks/#/scan/",k={1:{bg:"rgba(39, 174, 96, 0.1)",text:"var(--kb-green)"},5:{bg:"rgba(52, 152, 219, 0.1)",text:"#3498db"},10:{bg:"rgba(155, 89, 182, 0.1)",text:"#9b59b6"},20:{bg:"rgba(201, 162, 39, 0.1)",text:"var(--kb-gold-dark)"}};return f.jsxs(ir,{title:"Generate QR Codes",children:[f.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Bs,{size:20})," Generation Settings"]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Start Number"}),f.jsx("input",{type:"number",value:t.start,onChange:T=>e(A=>({...A,start:Number(T.target.value)})),min:1,max:9999,style:{width:"100%"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"End Number"}),f.jsx("input",{type:"number",value:t.end,onChange:T=>e(A=>({...A,end:Number(T.target.value)})),min:1,max:9999,style:{width:"100%"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Denomination"}),f.jsxs("select",{value:n,onChange:T=>i(Number(T.target.value)),style:{width:"100%"},children:[f.jsx("option",{value:1,children:"$1"}),f.jsx("option",{value:5,children:"$5"}),f.jsx("option",{value:10,children:"$10"}),f.jsx("option",{value:20,children:"$20"})]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[f.jsxs("button",{className:"btn btn-primary",onClick:g,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Bs,{size:18})," Generate ",t.end-t.start+1," Codes"]}),f.jsxs("div",{style:{padding:"0.75rem 1rem",background:k[n].bg,borderRadius:"8px",color:k[n].text,fontWeight:"600"},children:["Total Value: $",(t.end-t.start+1)*n]})]})]}),o.length>0&&f.jsxs("div",{className:"card",children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[f.jsxs("div",{children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",margin:0},children:["Generated: ",o.length," Kinderbucks"]}),f.jsxs("p",{style:{color:"var(--kb-gray-500)",margin:"0.25rem 0 0",fontSize:"0.9rem"},children:["$",n," denomination  Total value: $",o.length*n]})]}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[d?f.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--kb-green)",fontWeight:"600"},children:[f.jsx(Nh,{size:18})," Saved!"]}):f.jsxs("button",{className:"btn btn-gold",onClick:v,disabled:u,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(wP,{size:18}),u?"Saving...":"Save to Database"]}),f.jsxs("button",{className:"btn btn-secondary",onClick:()=>window.print(),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(gP,{size:18})," Print"]})]})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"1.5rem"},children:o.slice(0,50).map(T=>f.jsxs("div",{style:{background:"var(--kb-white)",border:"1px solid var(--kb-gray-200)",borderRadius:"12px",padding:"1rem",textAlign:"center"},children:[f.jsx(eS,{value:`${w}${T}`,size:140,denomination:n}),f.jsx("p",{style:{fontFamily:"monospace",marginTop:"0.75rem",fontSize:"0.9rem",color:"var(--kb-navy)",fontWeight:"600"},children:T})]},T))}),o.length>50&&f.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--kb-gray-50)",borderRadius:"8px",textAlign:"center",color:"var(--kb-gray-600)"},children:["Showing 50 of ",o.length," codes. All will be saved and printable."]})]}),o.length===0&&f.jsxs("div",{className:"card",style:{textAlign:"center",padding:"4rem 2rem"},children:[f.jsx(Bs,{size:64,color:"var(--kb-gray-300)",style:{marginBottom:"1rem"}}),f.jsx("h3",{style:{color:"var(--kb-gray-500)",marginBottom:"0.5rem"},children:"No codes generated yet"}),f.jsx("p",{style:{color:"var(--kb-gray-400)"},children:"Set your range and denomination above, then click Generate."})]})]})}function PN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState([]),[u,m]=N.useState(""),[d,p]=N.useState(!1),[g,v]=N.useState(0),w=async()=>{const R=await BT();e(R.filter(b=>b.status==="draft"||b.status==="issued")),i(!1)};N.useEffect(()=>{w()},[]);const k=R=>{a(b=>b.includes(R)?b.filter(P=>P!==R):[...b,R])},T=()=>{const R=F.map(b=>b.serial);a(R)},A=()=>{a([])},I=async()=>{if(o.length!==0){p(!0);try{for(const R of o)await dN(R,"issued",u);v(o.length),a([]),m(""),await w(),setTimeout(()=>v(0),3e3)}catch(R){console.error("Error issuing:",R),alert("Error issuing Kinderbucks")}p(!1)}},F=t.filter(R=>R.status==="draft"),z=t.filter(R=>R.status==="issued"),j=o.reduce((R,b)=>{const P=t.find(M=>M.serial===b);return R+((P==null?void 0:P.denomination)||0)},0),W=(R=>{const b={1:[],5:[],10:[],20:[]};return R.forEach(P=>{const M=P.denomination||5;b[M]&&b[M].push(P)}),b})(F),X={1:"#27ae60",5:"#3498db",10:"#9b59b6",20:"#c9a227"};return n?f.jsx(ir,{title:"Issue Currency",children:f.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:f.jsx("div",{style:{color:"var(--kb-gray-500)"},children:"Loading..."})})}):f.jsxs(ir,{title:"Issue Currency",children:[g>0&&f.jsxs("div",{style:{position:"fixed",top:"100px",right:"2rem",background:"var(--kb-green)",color:"white",padding:"1rem 1.5rem",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3},children:[f.jsx(Nh,{size:20}),f.jsxs("span",{children:["Issued ",g," Kinderbucks successfully!"]})]}),f.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(fh,{size:20})," Issue to Circulation"]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"1.5rem",alignItems:"end"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Recipient (optional)"}),f.jsx("input",{type:"text",value:u,onChange:R=>m(R.target.value),placeholder:"Business name or exchange point",style:{width:"100%"}})]}),f.jsxs("button",{className:"btn btn-gold",onClick:I,disabled:o.length===0||d,style:{display:"flex",alignItems:"center",gap:"0.5rem",height:"42px"},children:[f.jsx(fh,{size:18}),d?"Issuing...":`Issue ${o.length} Selected`]})]}),o.length>0&&f.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"var(--kb-gold)",borderRadius:"8px",color:"var(--kb-navy)",fontWeight:"500"},children:["Selected: ",o.length," bills  Total value: $",j]})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-gray-500)"},children:F.length}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Available (Draft)"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-green)"},children:z.length}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Already Issued"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-navy)"},children:o.length}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Selected"})]})]}),f.jsxs("div",{className:"card",children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(p1,{size:20})," Available to Issue (",F.length,")"]}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[f.jsx("button",{className:"btn btn-secondary",onClick:T,style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem"},children:"Select All"}),f.jsx("button",{className:"btn btn-secondary",onClick:A,style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem"},children:"Clear"})]})]}),F.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--kb-gray-500)"},children:[f.jsx(p1,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),f.jsx("p",{children:"No draft Kinderbucks available."}),f.jsx("p",{style:{fontSize:"0.9rem"},children:"Generate some QR codes first."})]}):f.jsx("div",{children:[1,5,10,20].map(R=>{const b=W[R];return b.length===0?null:f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[f.jsxs("div",{style:{width:"24px",height:"24px",background:X[R],borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"600"},children:["$",R]}),f.jsxs("span",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",R," Bills (",b.length,")"]}),f.jsx("button",{onClick:()=>{const P=b.map(L=>L.serial),M=P.every(L=>o.includes(L));a(M?L=>L.filter($=>!P.includes($)):L=>[...new Set([...L,...P])])},style:{background:"none",border:"none",color:X[R],cursor:"pointer",fontSize:"0.85rem"},children:b.every(P=>o.includes(P.serial))?"Deselect all":"Select all"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"0.5rem"},children:b.map(P=>{const M=o.includes(P.serial);return f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.6rem 0.75rem",background:M?`${X[R]}15`:"var(--kb-gray-50)",borderRadius:"6px",cursor:"pointer",border:M?`2px solid ${X[R]}`:"2px solid transparent",transition:"all 0.15s"},children:[M?f.jsx(CP,{size:18,color:X[R]}):f.jsx(IP,{size:18,color:"var(--kb-gray-400)"}),f.jsx("input",{type:"checkbox",checked:M,onChange:()=>k(P.serial),style:{display:"none"}}),f.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:M?X[R]:"var(--kb-gray-600)",fontWeight:M?"600":"400"},children:P.serial})]},P.serial)})})]},R)})})]})]})}const jN=[{code:"AVIARY",name:"The Aviary",category:"food"},{code:"MORNINGBIRD",name:"Morningbird Cafe",category:"food"},{code:"SAISONNIER",name:"Saisonnier",category:"food"},{code:"BROADST-BAGEL",name:"Broad Street Bagel Co.",category:"food"},{code:"BROOKLYN-PIZZA",name:"The Brooklyn Pizzeria",category:"food"},{code:"ISOLA",name:"Isola Wine Bar",category:"food"},{code:"HAMRAHS",name:"Hamrah's Lebanese Foods",category:"food"},{code:"OK-PANTRY",name:"OK Pantry",category:"retail"},{code:"BOTTLE-SHOP",name:"Kinderhook Bottle Shop",category:"retail"},{code:"BOOKS",name:"Kinderhook Books",category:"retail"},{code:"SAMASCOTTS",name:"Samascott's Garden Market",category:"retail"},{code:"SCHOOL-GALLERY",name:"The School | Jack Shainman Gallery",category:"arts"},{code:"SEPTEMBER",name:"September Gallery",category:"arts"},{code:"OLD-DUTCH",name:"Old Dutch Inn",category:"services"},{code:"MUSE",name:"Muse Aesthetics",category:"services"},{code:"PILATES",name:"Julia Jayne Pilates",category:"services"},{code:"HISTORICAL",name:"Columbia County Historical Society",category:"arts"}],im={food:{label:"Food & Drink",Icon:Ww,color:"#e74c3c"},retail:{label:"Retail",Icon:$w,color:"#9b59b6"},services:{label:"Services",Icon:Lw,color:"#3498db"},arts:{label:"Arts & Culture",Icon:Uw,color:"#1abc9c"}};function VN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState({code:"",name:"",category:"food"}),[u,m]=N.useState(!1),[d,p]=N.useState(null),[g,v]=N.useState(!1),[w,k]=N.useState(null),T=async()=>{const W=await ka();e(W),i(!1)};N.useEffect(()=>{T()},[]);const A=async W=>{if(W.preventDefault(),!(!o.code||!o.name)){m(!0);try{await Cx(o.code.toUpperCase(),o.name,o.category),a({code:"",name:"",category:"food"}),await T()}catch(X){console.error("Error creating business:",X),alert("Error creating business")}m(!1)}},I=async(W,X)=>{await tN(W,!X),await T()},F=async()=>{if(confirm("This will add all Kinderhook businesses. Continue?")){v(!0);try{for(const W of jN)t.find(R=>R.code===W.code)||await Cx(W.code,W.name,W.category);await T(),alert("Businesses seeded successfully!")}catch(W){console.error("Error seeding:",W),alert("Error seeding businesses")}v(!1)}},z=W=>{navigator.clipboard.writeText(W),k(W),setTimeout(()=>k(null),2e3)},j="https://harmonicsystems.github.io/kinderbucks/#/checkin/",Y={total:t.length,active:t.filter(W=>W.isActive).length,totalCheckins:t.reduce((W,X)=>W+(X.checkinCount||0),0)};return n?f.jsx(ir,{title:"Business Directory",children:f.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:f.jsx("div",{style:{color:"var(--kb-gray-500)"},children:"Loading..."})})}):f.jsxs(ir,{title:"Business Directory",children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-navy)"},children:Y.total}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Total Businesses"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-green)"},children:Y.active}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Active"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-gold-dark)"},children:Y.totalCheckins}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Total Check-ins"})]})]}),f.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(g1,{size:20})," Add Business"]}),f.jsxs("form",{onSubmit:A,children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Code"}),f.jsx("input",{type:"text",value:o.code,onChange:W=>a(X=>({...X,code:W.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"")})),placeholder:"CAFE-01",style:{width:"100%",fontFamily:"monospace"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Name"}),f.jsx("input",{type:"text",value:o.name,onChange:W=>a(X=>({...X,name:W.target.value})),placeholder:"Village Caf",style:{width:"100%"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontWeight:"500"},children:"Category"}),f.jsx("select",{value:o.category,onChange:W=>a(X=>({...X,category:W.target.value})),style:{width:"100%"},children:Object.entries(im).map(([W,X])=>f.jsx("option",{value:W,children:X.label},W))})]})]}),f.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[f.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:u||!o.code||!o.name,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(g1,{size:18})," ",u?"Adding...":"Add Business"]}),f.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:F,disabled:g,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(JR,{size:18})," ",g?"Seeding...":"Seed Kinderhook Businesses"]})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsxs("h3",{style:{color:"var(--kb-navy)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(Us,{size:20})," Participating Businesses (",t.length,")"]}),t.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--kb-gray-500)"},children:[f.jsx(Us,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),f.jsx("p",{children:"No businesses yet. Add one above or seed the Kinderhook businesses."})]}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:t.map(W=>{const X=im[W.category]||im.services,R=X.Icon,b=`${j}${W.code}`;return f.jsxs("div",{style:{background:W.isActive?"var(--kb-white)":"var(--kb-gray-50)",border:`1px solid ${W.isActive,"var(--kb-gray-200)"}`,borderRadius:"12px",padding:"1.25rem",opacity:W.isActive?1:.7},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("div",{style:{width:"48px",height:"48px",background:`${X.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(R,{size:24,color:X.color})}),f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:"600",color:W.isActive?"var(--kb-navy)":"var(--kb-gray-500)",fontSize:"1.1rem"},children:W.name}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.25rem"},children:[f.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:W.code}),f.jsx("span",{style:{fontSize:"0.85rem",color:X.color},children:X.label})]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[f.jsxs("div",{style:{textAlign:"center"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"var(--kb-green)",fontWeight:"600"},children:[f.jsx(Fp,{size:16}),W.checkinCount||0]}),f.jsx("div",{style:{fontSize:"0.75rem",color:"var(--kb-gray-500)"},children:"check-ins"})]}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[f.jsx("button",{onClick:()=>p(d===W.code?null:W.code),className:"btn btn-secondary",style:{padding:"0.5rem 0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:f.jsx(Bs,{size:16})}),f.jsxs("button",{onClick:()=>I(W.code,W.isActive),className:"btn",style:{padding:"0.5rem 0.75rem",background:W.isActive?"#e74c3c":"var(--kb-green)",color:"white",display:"flex",alignItems:"center",gap:"0.25rem"},children:[W.isActive?f.jsx(MP,{size:16}):f.jsx(DP,{size:16}),W.isActive?"Deactivate":"Activate"]})]})]})]}),d===W.code&&f.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--kb-gray-200)",display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[f.jsx("div",{style:{textAlign:"center"},children:f.jsx(eS,{value:b,size:150,denomination:5,showFrame:!1})}),f.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--kb-gray-600)",fontSize:"0.85rem"},children:"Check-in URL"}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[f.jsx("input",{type:"text",value:b,readOnly:!0,style:{flex:1,fontFamily:"monospace",fontSize:"0.85rem"}}),f.jsxs("button",{onClick:()=>z(b),className:"btn btn-secondary",style:{padding:"0.5rem 0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[f.jsx(QR,{size:16}),w===b?"Copied!":"Copy"]})]}),f.jsx("p",{style:{marginTop:"0.75rem",fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Print this QR code and display it at the counter for customers to scan when they visit."})]})]})]},W.code)})})]})]})}const DN={curious:an,hooked:ii,lineAndSinker:ns,patron:sr};function NN(){const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,a]=N.useState("all"),[u,m]=N.useState(null),d=async()=>{try{const T=Gs(On(ut,"exchanges"),Qs("createdAt","desc")),A=await ti(T);e(A.docs.map(I=>({id:I.id,...I.data()}))),i(!1)}catch(T){console.error("Error loading exchanges:",T),i(!1)}};N.useEffect(()=>{d()},[]);const p=async(T,A)=>{m(T);try{await Sa(zn(ut,"exchanges",T),{status:A,processedAt:nr()}),await d()}catch(I){console.error("Error updating exchange:",I),alert("Error updating exchange status")}m(null)},g=o==="all"?t:t.filter(T=>T.status===o),v={total:t.length,pending:t.filter(T=>T.status==="pending").length,completed:t.filter(T=>T.status==="completed").length,cancelled:t.filter(T=>T.status==="cancelled").length,totalValue:t.filter(T=>T.status==="completed").reduce((T,A)=>T+(A.kinderbucksAmount||0),0)},w=T=>{switch(T){case"completed":return f.jsx(Nh,{size:18,color:"var(--kb-green)"});case"pending":return f.jsx(dh,{size:18,color:"#e67e22"});case"cancelled":return f.jsx($R,{size:18,color:"#e74c3c"});default:return f.jsx(Fw,{size:18,color:"var(--kb-gray-400)"})}},k=T=>{switch(T){case"completed":return{background:"#d4edda",color:"var(--kb-green)"};case"pending":return{background:"#fff3cd",color:"#856404"};case"cancelled":return{background:"#f8d7da",color:"#721c24"};default:return{background:"#f8f9fa",color:"var(--kb-gray-600)"}}};return n?f.jsx(ir,{title:"Exchange Management",children:f.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:f.jsx("div",{style:{color:"var(--kb-gray-500)"},children:"Loading exchanges..."})})}):f.jsxs(ir,{title:"Exchange Management",children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"#e67e22"},children:v.pending}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Pending"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-green)"},children:v.completed}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Completed"})]}),f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsxs("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-gold-dark)"},children:["$",v.totalValue.toFixed(0)]}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Total Exchanged"})]})]}),f.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[{value:"all",label:`All (${v.total})`},{value:"pending",label:`Pending (${v.pending})`},{value:"completed",label:`Completed (${v.completed})`},{value:"cancelled",label:`Cancelled (${v.cancelled})`}].map(T=>f.jsx("button",{onClick:()=>a(T.value),className:o===T.value?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:T.label},T.value))}),f.jsx("div",{className:"card",children:g.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--kb-gray-500)"},children:[f.jsx(Dh,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),f.jsxs("p",{children:["No ",o!=="all"?o:""," exchanges found"]})]}):f.jsxs("div",{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 150px",gap:"1rem",padding:"0.75rem 1rem",borderBottom:"2px solid var(--kb-navy)",fontWeight:"600",color:"var(--kb-navy)",fontSize:"0.85rem"},children:[f.jsx("div",{children:"Date"}),f.jsx("div",{children:"Amount"}),f.jsx("div",{children:"Tier & Bonus"}),f.jsx("div",{children:"Status"}),f.jsx("div",{children:"Actions"})]}),g.map(T=>{var I,F,z,j,Y,W,X;const A=DN[T.tier]||an;return f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 150px",gap:"1rem",padding:"1rem",borderBottom:"1px solid var(--kb-gray-100)",alignItems:"center",background:T.status==="pending"?"rgba(230, 126, 34, 0.05)":"transparent"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:"500",color:"var(--kb-navy)"},children:((z=(F=(I=T.createdAt)==null?void 0:I.toDate)==null?void 0:F.call(I))==null?void 0:z.toLocaleDateString())||"Unknown"}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:((W=(Y=(j=T.createdAt)==null?void 0:j.toDate)==null?void 0:Y.call(j))==null?void 0:W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||""})]}),f.jsxs("div",{children:[f.jsxs("div",{style:{fontWeight:"600",color:"var(--kb-navy)"},children:["$",T.usdAmount," USD"]}),f.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--kb-gold-dark)"},children:[" $",(X=T.kinderbucksAmount)==null?void 0:X.toFixed(2)," KB"]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx(A,{size:18,color:"var(--kb-gray-500)"}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"0.9rem",color:"var(--kb-gray-700)",textTransform:"capitalize"},children:T.tier||"curious"}),f.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--kb-green)"},children:["+",Math.round((T.bonusRate||.1)*100),"% bonus"]})]})]}),f.jsx("div",{children:f.jsxs("span",{className:"badge",style:{...k(T.status),display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[w(T.status),T.status]})}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[T.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>p(T.id,"completed"),disabled:u===T.id,className:"btn btn-primary",style:{padding:"0.4rem 0.75rem",fontSize:"0.8rem"},children:u===T.id?"...":"Approve"}),f.jsx("button",{onClick:()=>p(T.id,"cancelled"),disabled:u===T.id,className:"btn btn-secondary",style:{padding:"0.4rem 0.75rem",fontSize:"0.8rem"},children:"Cancel"})]}),T.status==="completed"&&f.jsx("span",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Processed"}),T.status==="cancelled"&&f.jsx("button",{onClick:()=>p(T.id,"pending"),disabled:u===T.id,className:"btn btn-secondary",style:{padding:"0.4rem 0.75rem",fontSize:"0.8rem"},children:"Reopen"})]})]},T.id)})]})})]})}const sm={curious:an,hooked:ii,lineAndSinker:ns,patron:sr},om={curious:"#888888",hooked:"#2e7d32",lineAndSinker:"#1565c0",patron:"#c9a227"};function MN(){const[t,e]=N.useState([]),[n,i]=N.useState([]),[o,a]=N.useState(!0),[u,m]=N.useState("checkins"),[d,p]=N.useState("all");N.useEffect(()=>{async function T(){try{const I=(await ti(On(ut,"members"))).docs.map(z=>({id:z.id,...z.data()})),F=await ka();e(I),i(F),a(!1)}catch(A){console.error("Error loading members:",A),a(!1)}}T()},[]);const g=T=>{const A=n.find(I=>I.code===T);return A?A.name:T},v=[...t].sort((T,A)=>{var I,F,z,j,Y,W;switch(u){case"checkins":return(A.totalCheckins||0)-(T.totalCheckins||0);case"businesses":return(((I=A.businessesVisited)==null?void 0:I.length)||0)-(((F=T.businessesVisited)==null?void 0:F.length)||0);case"recent":const X=((j=(z=T.lastCheckin)==null?void 0:z.toDate)==null?void 0:j.call(z))||new Date(0);return(((W=(Y=A.lastCheckin)==null?void 0:Y.toDate)==null?void 0:W.call(Y))||new Date(0))-X;default:return 0}}),w=d==="all"?v:v.filter(T=>T.tier===d),k={total:t.length,curious:t.filter(T=>T.tier==="curious").length,hooked:t.filter(T=>T.tier==="hooked").length,lineAndSinker:t.filter(T=>T.tier==="lineAndSinker").length,patron:t.filter(T=>T.tier==="patron").length,totalCheckins:t.reduce((T,A)=>T+(A.totalCheckins||0),0)};return o?f.jsx(ir,{title:"Member Management",children:f.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:f.jsx("div",{style:{color:"var(--kb-gray-500)"},children:"Loading members..."})})}):f.jsxs(ir,{title:"Member Management",children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(130px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--kb-navy)"},children:k.total}),f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--kb-gray-500)"},children:"Total Members"})]}),Object.entries(sm).map(([T,A])=>{var I;return f.jsxs("div",{className:"card",style:{padding:"1rem",textAlign:"center"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[f.jsx(A,{size:20,color:om[T]}),f.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:om[T]},children:k[T]})]}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)",textTransform:"capitalize"},children:((I=br[T])==null?void 0:I.name)||T})]},T)})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[f.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>p("all"),className:d==="all"?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:"All"}),Object.entries(sm).map(([T,A])=>f.jsx("button",{onClick:()=>p(T),className:d===T?"btn btn-primary":"btn btn-secondary",style:{padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:f.jsx(A,{size:16})},T))]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsx("span",{style:{color:"var(--kb-gray-500)",fontSize:"0.9rem"},children:"Sort by:"}),f.jsxs("select",{value:u,onChange:T=>m(T.target.value),style:{padding:"0.5rem"},children:[f.jsx("option",{value:"checkins",children:"Most Check-ins"}),f.jsx("option",{value:"businesses",children:"Most Businesses"}),f.jsx("option",{value:"recent",children:"Recent Activity"})]})]})]}),f.jsx("div",{className:"card",children:w.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--kb-gray-500)"},children:[f.jsx(du,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),f.jsx("p",{children:"No members found"})]}):f.jsxs("div",{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 2fr",gap:"1rem",padding:"0.75rem 1rem",borderBottom:"2px solid var(--kb-navy)",fontWeight:"600",color:"var(--kb-navy)",fontSize:"0.85rem"},children:[f.jsx("div",{children:"Member"}),f.jsx("div",{children:"Tier"}),f.jsx("div",{children:"Activity"}),f.jsx("div",{children:"Businesses Visited"})]}),w.map(T=>{var j,Y,W,X,R;const A=sm[T.tier]||an,I=om[T.tier]||"#888",F=br[T.tier]||br.curious,z=((j=T.businessesVisited)==null?void 0:j.length)||0;return f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 2fr",gap:"1rem",padding:"1rem",borderBottom:"1px solid var(--kb-gray-100)",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsxs("div",{style:{fontFamily:"monospace",fontSize:"0.85rem",color:"var(--kb-gray-500)",wordBreak:"break-all"},children:[T.id.substring(0,16),"..."]}),T.lastCheckin&&f.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-400)",display:"flex",alignItems:"center",gap:"0.25rem",marginTop:"0.25rem"},children:[f.jsx(LR,{size:12}),"Last: ",((X=(W=(Y=T.lastCheckin)==null?void 0:Y.toDate)==null?void 0:W.call(Y))==null?void 0:X.toLocaleDateString())||"Unknown"]})]}),f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:I,fontWeight:"600"},children:[f.jsx(A,{size:20}),F.name]}),f.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:[Math.round(F.bonus*100),"% bonus"]})]}),f.jsxs("div",{children:[f.jsxs("div",{style:{fontWeight:"600",color:"var(--kb-navy)",display:"flex",alignItems:"center",gap:"0.25rem"},children:[f.jsx(Fp,{size:16}),T.totalCheckins||0]}),f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--kb-gray-500)"},children:"check-ins"})]}),f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",marginBottom:"0.5rem",color:"var(--kb-gray-600)"},children:[f.jsx(Xc,{size:14}),f.jsx("span",{style:{fontWeight:"500"},children:z}),f.jsx("span",{style:{fontSize:"0.85rem"},children:"businesses"})]}),((R=T.businessesVisited)==null?void 0:R.length)>0&&f.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:[T.businessesVisited.slice(0,3).map(b=>f.jsx("span",{style:{fontSize:"0.75rem",padding:"0.15rem 0.5rem",background:"var(--kb-gray-100)",borderRadius:"4px",color:"var(--kb-gray-600)"},children:g(b)},b)),T.businessesVisited.length>3&&f.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--kb-gray-400)"},children:["+",T.businessesVisited.length-3," more"]})]})]})]},T.id)})]})}),f.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--kb-gray-50)",borderRadius:"8px",textAlign:"center",color:"var(--kb-gray-600)",fontSize:"0.9rem"},children:["Total of ",f.jsx("strong",{children:k.totalCheckins})," check-ins across ",f.jsx("strong",{children:k.total})," members"]})]})}function LN(){return f.jsx(Ok,{children:f.jsxs(mk,{children:[f.jsx(Xt,{path:"/",element:f.jsx(UP,{})}),f.jsx(Xt,{path:"/about",element:f.jsx($P,{})}),f.jsx(Xt,{path:"/benefits",element:f.jsx(HP,{})}),f.jsx(Xt,{path:"/businesses",element:f.jsx(nN,{})}),f.jsx(Xt,{path:"/exchange",element:f.jsx(sN,{})}),f.jsx(Xt,{path:"/account",element:f.jsx(oN,{})}),f.jsx(Xt,{path:"/profile",element:f.jsx(lN,{})}),f.jsx(Xt,{path:"/scan/:serial",element:f.jsx(pN,{})}),f.jsx(Xt,{path:"/checkin/:businessCode",element:f.jsx(xN,{})}),f.jsx(Xt,{path:"/admin/dashboard",element:f.jsx(_N,{})}),f.jsx(Xt,{path:"/admin/exchanges",element:f.jsx(NN,{})}),f.jsx(Xt,{path:"/admin/members",element:f.jsx(MN,{})}),f.jsx(Xt,{path:"/admin/generate",element:f.jsx(RN,{})}),f.jsx(Xt,{path:"/admin/issue",element:f.jsx(PN,{})}),f.jsx(Xt,{path:"/admin/businesses",element:f.jsx(VN,{})})]})})}g2.createRoot(document.getElementById("root")).render(f.jsx(N.StrictMode,{children:f.jsx(LN,{})}));
